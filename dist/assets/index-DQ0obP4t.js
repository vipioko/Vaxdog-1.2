var bN=t=>{throw TypeError(t)};var V0=(t,e,n)=>e.has(t)||bN("Cannot "+n);var V=(t,e,n)=>(V0(t,e,"read from private field"),n?n.call(t):e.get(t)),Ie=(t,e,n)=>e.has(t)?bN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ye=(t,e,n,r)=>(V0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Je=(t,e,n)=>(V0(t,e,"access private method"),n);var ap=(t,e,n,r)=>({set _(s){ye(t,e,s,n)},get _(){return V(t,e,r)}});function w$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function gP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vP={exports:{}},Zv={},yP={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ff=Symbol.for("react.element"),_$=Symbol.for("react.portal"),b$=Symbol.for("react.fragment"),C$=Symbol.for("react.strict_mode"),S$=Symbol.for("react.profiler"),E$=Symbol.for("react.provider"),N$=Symbol.for("react.context"),T$=Symbol.for("react.forward_ref"),R$=Symbol.for("react.suspense"),j$=Symbol.for("react.memo"),I$=Symbol.for("react.lazy"),CN=Symbol.iterator;function P$(t){return t===null||typeof t!="object"?null:(t=CN&&t[CN]||t["@@iterator"],typeof t=="function"?t:null)}var xP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wP=Object.assign,_P={};function nd(t,e,n){this.props=t,this.context=e,this.refs=_P,this.updater=n||xP}nd.prototype.isReactComponent={};nd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bP(){}bP.prototype=nd.prototype;function Zb(t,e,n){this.props=t,this.context=e,this.refs=_P,this.updater=n||xP}var Jb=Zb.prototype=new bP;Jb.constructor=Zb;wP(Jb,nd.prototype);Jb.isPureReactComponent=!0;var SN=Array.isArray,CP=Object.prototype.hasOwnProperty,e1={current:null},SP={key:!0,ref:!0,__self:!0,__source:!0};function EP(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)CP.call(e,r)&&!SP.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Ff,type:t,key:i,ref:o,props:s,_owner:e1.current}}function k$(t,e){return{$$typeof:Ff,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function t1(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ff}function A$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var EN=/\/+/g;function $0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?A$(""+t.key):e.toString(36)}function Xp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ff:case _$:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+$0(o,0):r,SN(s)?(n="",t!=null&&(n=t.replace(EN,"$&/")+"/"),Xp(s,e,n,"",function(u){return u})):s!=null&&(t1(s)&&(s=k$(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(EN,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",SN(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+$0(i,l);o+=Xp(i,e,n,c,s)}else if(c=P$(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+$0(i,l++),o+=Xp(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function lp(t,e,n){if(t==null)return t;var r=[],s=0;return Xp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function D$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yr={current:null},Zp={transition:null},M$={ReactCurrentDispatcher:yr,ReactCurrentBatchConfig:Zp,ReactCurrentOwner:e1};function NP(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:lp,forEach:function(t,e,n){lp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return lp(t,function(){e++}),e},toArray:function(t){return lp(t,function(e){return e})||[]},only:function(t){if(!t1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=nd;lt.Fragment=b$;lt.Profiler=S$;lt.PureComponent=Zb;lt.StrictMode=C$;lt.Suspense=R$;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M$;lt.act=NP;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wP({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=e1.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)CP.call(e,c)&&!SP.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Ff,type:t.type,key:s,ref:i,props:r,_owner:o}};lt.createContext=function(t){return t={$$typeof:N$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:E$,_context:t},t.Consumer=t};lt.createElement=EP;lt.createFactory=function(t){var e=EP.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:T$,render:t}};lt.isValidElement=t1;lt.lazy=function(t){return{$$typeof:I$,_payload:{_status:-1,_result:t},_init:D$}};lt.memo=function(t,e){return{$$typeof:j$,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Zp.transition;Zp.transition={};try{t()}finally{Zp.transition=e}};lt.unstable_act=NP;lt.useCallback=function(t,e){return yr.current.useCallback(t,e)};lt.useContext=function(t){return yr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return yr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return yr.current.useEffect(t,e)};lt.useId=function(){return yr.current.useId()};lt.useImperativeHandle=function(t,e,n){return yr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return yr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return yr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return yr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return yr.current.useReducer(t,e,n)};lt.useRef=function(t){return yr.current.useRef(t)};lt.useState=function(t){return yr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return yr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return yr.current.useTransition()};lt.version="18.3.1";yP.exports=lt;var p=yP.exports;const Z=gP(p),n1=w$({__proto__:null,default:Z},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O$=p,F$=Symbol.for("react.element"),L$=Symbol.for("react.fragment"),V$=Object.prototype.hasOwnProperty,$$=O$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,U$={key:!0,ref:!0,__self:!0,__source:!0};function TP(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)V$.call(e,r)&&!U$.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:F$,type:t,key:i,ref:o,props:s,_owner:$$.current}}Zv.Fragment=L$;Zv.jsx=TP;Zv.jsxs=TP;vP.exports=Zv;var a=vP.exports,RP={exports:{}},ts={},jP={exports:{}},IP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,U){var re=M.length;M.push(U);e:for(;0<re;){var W=re-1>>>1,F=M[W];if(0<s(F,U))M[W]=U,M[re]=F,re=W;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var U=M[0],re=M.pop();if(re!==U){M[0]=re;e:for(var W=0,F=M.length,Q=F>>>1;W<Q;){var pe=2*(W+1)-1,he=M[pe],me=pe+1,le=M[me];if(0>s(he,re))me<F&&0>s(le,he)?(M[W]=le,M[me]=re,W=me):(M[W]=he,M[pe]=re,W=pe);else if(me<F&&0>s(le,re))M[W]=le,M[me]=re,W=me;else break e}}return U}function s(M,U){var re=M.sortIndex-U.sortIndex;return re!==0?re:M.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(M){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=M)r(u),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(u)}}function T(M){if(v=!1,b(M),!y)if(n(c)!==null)y=!0,q(I);else{var U=n(u);U!==null&&H(T,U.startTime-M)}}function I(M,U){y=!1,v&&(v=!1,_(S),S=-1),g=!0;var re=f;try{for(b(U),h=n(c);h!==null&&(!(h.expirationTime>U)||M&&!k());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var F=W(h.expirationTime<=U);U=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(c)&&r(c),b(U)}else r(c);h=n(c)}if(h!==null)var Q=!0;else{var pe=n(u);pe!==null&&H(T,pe.startTime-U),Q=!1}return Q}finally{h=null,f=re,g=!1}}var O=!1,j=null,S=-1,N=5,P=-1;function k(){return!(t.unstable_now()-P<N)}function D(){if(j!==null){var M=t.unstable_now();P=M;var U=!0;try{U=j(!0,M)}finally{U?R():(O=!1,j=null)}}else O=!1}var R;if(typeof w=="function")R=function(){w(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=D,R=function(){G.postMessage(null)}}else R=function(){x(D,0)};function q(M){j=M,O||(O=!0,R())}function H(M,U){S=x(function(){M(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,q(I))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var re=f;f=U;try{return M()}finally{f=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,U){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var re=f;f=M;try{return U()}finally{f=re}},t.unstable_scheduleCallback=function(M,U,re){var W=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?W+re:W):re=W,M){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=re+F,M={id:d++,callback:U,priorityLevel:M,startTime:re,expirationTime:F,sortIndex:-1},re>W?(M.sortIndex=re,e(u,M),n(c)===null&&M===n(u)&&(v?(_(S),S=-1):v=!0,H(T,re-W))):(M.sortIndex=F,e(c,M),y||g||(y=!0,q(I))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var U=f;return function(){var re=f;f=U;try{return M.apply(this,arguments)}finally{f=re}}}})(IP);jP.exports=IP;var B$=jP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$=p,Jr=B$;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PP=new Set,qh={};function ic(t,e){Ru(t,e),Ru(t+"Capture",e)}function Ru(t,e){for(qh[t]=e,t=0;t<e.length;t++)PP.add(e[t])}var eo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xw=Object.prototype.hasOwnProperty,H$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,NN={},TN={};function W$(t){return xw.call(TN,t)?!0:xw.call(NN,t)?!1:H$.test(t)?TN[t]=!0:(NN[t]=!0,!1)}function q$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function G$(t,e,n,r){if(e===null||typeof e>"u"||q$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xr(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fn[t]=new xr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fn[e]=new xr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fn[t]=new xr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fn[t]=new xr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fn[t]=new xr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fn[t]=new xr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fn[t]=new xr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fn[t]=new xr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fn[t]=new xr(t,5,!1,t.toLowerCase(),null,!1,!1)});var r1=/[\-:]([a-z])/g;function s1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(r1,s1);Fn[e]=new xr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(r1,s1);Fn[e]=new xr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(r1,s1);Fn[e]=new xr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fn[t]=new xr(t,1,!1,t.toLowerCase(),null,!1,!1)});Fn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fn[t]=new xr(t,1,!1,t.toLowerCase(),null,!0,!0)});function i1(t,e,n,r){var s=Fn.hasOwnProperty(e)?Fn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(G$(e,n,s,r)&&(n=null),r||s===null?W$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var go=z$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cp=Symbol.for("react.element"),Oc=Symbol.for("react.portal"),Fc=Symbol.for("react.fragment"),o1=Symbol.for("react.strict_mode"),ww=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),AP=Symbol.for("react.context"),a1=Symbol.for("react.forward_ref"),_w=Symbol.for("react.suspense"),bw=Symbol.for("react.suspense_list"),l1=Symbol.for("react.memo"),Mo=Symbol.for("react.lazy"),DP=Symbol.for("react.offscreen"),RN=Symbol.iterator;function $d(t){return t===null||typeof t!="object"?null:(t=RN&&t[RN]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Object.assign,U0;function rh(t){if(U0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);U0=e&&e[1]||""}return`
`+U0+t}var B0=!1;function z0(t,e){if(!t||B0)return"";B0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{B0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rh(t):""}function K$(t){switch(t.tag){case 5:return rh(t.type);case 16:return rh("Lazy");case 13:return rh("Suspense");case 19:return rh("SuspenseList");case 0:case 2:case 15:return t=z0(t.type,!1),t;case 11:return t=z0(t.type.render,!1),t;case 1:return t=z0(t.type,!0),t;default:return""}}function Cw(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fc:return"Fragment";case Oc:return"Portal";case ww:return"Profiler";case o1:return"StrictMode";case _w:return"Suspense";case bw:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case AP:return(t.displayName||"Context")+".Consumer";case kP:return(t._context.displayName||"Context")+".Provider";case a1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case l1:return e=t.displayName||null,e!==null?e:Cw(t.type)||"Memo";case Mo:e=t._payload,t=t._init;try{return Cw(t(e))}catch{}}return null}function Y$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cw(e);case 8:return e===o1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Q$(t){var e=MP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function up(t){t._valueTracker||(t._valueTracker=Q$(t))}function OP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Sw(t,e){var n=e.checked;return Yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FP(t,e){e=e.checked,e!=null&&i1(t,"checked",e,!1)}function Ew(t,e){FP(t,e);var n=Ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nw(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nw(t,e.type,Ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function IN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nw(t,e,n){(e!=="number"||Eg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var sh=Array.isArray;function Qc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ea(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tw(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return Yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function PN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(oe(92));if(sh(n)){if(1<n.length)throw Error(oe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ea(n)}}function LP(t,e){var n=Ea(e.value),r=Ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function kN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var dp,$P=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(dp=dp||document.createElement("div"),dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=dp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},X$=["Webkit","ms","Moz","O"];Object.keys(yh).forEach(function(t){X$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yh[e]=yh[t]})});function UP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yh.hasOwnProperty(t)&&yh[t]?(""+e).trim():e+"px"}function BP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=UP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Z$=Yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jw(t,e){if(e){if(Z$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Iw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pw=null;function c1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kw=null,Xc=null,Zc=null;function AN(t){if(t=$f(t)){if(typeof kw!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=ry(e),kw(t.stateNode,t.type,e))}}function zP(t){Xc?Zc?Zc.push(t):Zc=[t]:Xc=t}function HP(){if(Xc){var t=Xc,e=Zc;if(Zc=Xc=null,AN(t),e)for(t=0;t<e.length;t++)AN(e[t])}}function WP(t,e){return t(e)}function qP(){}var H0=!1;function GP(t,e,n){if(H0)return t(e,n);H0=!0;try{return WP(t,e,n)}finally{H0=!1,(Xc!==null||Zc!==null)&&(qP(),HP())}}function Kh(t,e){var n=t.stateNode;if(n===null)return null;var r=ry(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(oe(231,e,typeof n));return n}var Aw=!1;if(eo)try{var Ud={};Object.defineProperty(Ud,"passive",{get:function(){Aw=!0}}),window.addEventListener("test",Ud,Ud),window.removeEventListener("test",Ud,Ud)}catch{Aw=!1}function J$(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var xh=!1,Ng=null,Tg=!1,Dw=null,e6={onError:function(t){xh=!0,Ng=t}};function t6(t,e,n,r,s,i,o,l,c){xh=!1,Ng=null,J$.apply(e6,arguments)}function n6(t,e,n,r,s,i,o,l,c){if(t6.apply(this,arguments),xh){if(xh){var u=Ng;xh=!1,Ng=null}else throw Error(oe(198));Tg||(Tg=!0,Dw=u)}}function oc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function DN(t){if(oc(t)!==t)throw Error(oe(188))}function r6(t){var e=t.alternate;if(!e){if(e=oc(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return DN(s),t;if(i===r)return DN(s),e;i=i.sibling}throw Error(oe(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(oe(189))}}if(n.alternate!==r)throw Error(oe(190))}if(n.tag!==3)throw Error(oe(188));return n.stateNode.current===n?t:e}function YP(t){return t=r6(t),t!==null?QP(t):null}function QP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=QP(t);if(e!==null)return e;t=t.sibling}return null}var XP=Jr.unstable_scheduleCallback,MN=Jr.unstable_cancelCallback,s6=Jr.unstable_shouldYield,i6=Jr.unstable_requestPaint,cn=Jr.unstable_now,o6=Jr.unstable_getCurrentPriorityLevel,u1=Jr.unstable_ImmediatePriority,ZP=Jr.unstable_UserBlockingPriority,Rg=Jr.unstable_NormalPriority,a6=Jr.unstable_LowPriority,JP=Jr.unstable_IdlePriority,Jv=null,mi=null;function l6(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Jv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ms=Math.clz32?Math.clz32:d6,c6=Math.log,u6=Math.LN2;function d6(t){return t>>>=0,t===0?32:31-(c6(t)/u6|0)|0}var hp=64,fp=4194304;function ih(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=ih(l):(i&=o,i!==0&&(r=ih(i)))}else o=n&~s,o!==0?r=ih(o):i!==0&&(r=ih(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ms(e),s=1<<n,r|=t[n],e&=~s;return r}function h6(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function f6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ms(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=h6(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Mw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ek(){var t=hp;return hp<<=1,!(hp&4194240)&&(hp=64),t}function W0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Lf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ms(e),t[e]=n}function m6(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ms(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function d1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ms(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Et=0;function tk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nk,h1,rk,sk,ik,Ow=!1,mp=[],ca=null,ua=null,da=null,Yh=new Map,Qh=new Map,Fo=[],p6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ON(t,e){switch(t){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Yh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qh.delete(e.pointerId)}}function Bd(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$f(e),e!==null&&h1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function g6(t,e,n,r,s){switch(e){case"focusin":return ca=Bd(ca,t,e,n,r,s),!0;case"dragenter":return ua=Bd(ua,t,e,n,r,s),!0;case"mouseover":return da=Bd(da,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Yh.set(i,Bd(Yh.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Qh.set(i,Bd(Qh.get(i)||null,t,e,n,r,s)),!0}return!1}function ok(t){var e=gl(t.target);if(e!==null){var n=oc(e);if(n!==null){if(e=n.tag,e===13){if(e=KP(n),e!==null){t.blockedOn=e,ik(t.priority,function(){rk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Pw=r,n.target.dispatchEvent(r),Pw=null}else return e=$f(n),e!==null&&h1(e),t.blockedOn=n,!1;e.shift()}return!0}function FN(t,e,n){Jp(t)&&n.delete(e)}function v6(){Ow=!1,ca!==null&&Jp(ca)&&(ca=null),ua!==null&&Jp(ua)&&(ua=null),da!==null&&Jp(da)&&(da=null),Yh.forEach(FN),Qh.forEach(FN)}function zd(t,e){t.blockedOn===e&&(t.blockedOn=null,Ow||(Ow=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,v6)))}function Xh(t){function e(s){return zd(s,t)}if(0<mp.length){zd(mp[0],t);for(var n=1;n<mp.length;n++){var r=mp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ca!==null&&zd(ca,t),ua!==null&&zd(ua,t),da!==null&&zd(da,t),Yh.forEach(e),Qh.forEach(e),n=0;n<Fo.length;n++)r=Fo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fo.length&&(n=Fo[0],n.blockedOn===null);)ok(n),n.blockedOn===null&&Fo.shift()}var Jc=go.ReactCurrentBatchConfig,Ig=!0;function y6(t,e,n,r){var s=Et,i=Jc.transition;Jc.transition=null;try{Et=1,f1(t,e,n,r)}finally{Et=s,Jc.transition=i}}function x6(t,e,n,r){var s=Et,i=Jc.transition;Jc.transition=null;try{Et=4,f1(t,e,n,r)}finally{Et=s,Jc.transition=i}}function f1(t,e,n,r){if(Ig){var s=Fw(t,e,n,r);if(s===null)tx(t,e,r,Pg,n),ON(t,r);else if(g6(s,t,e,n,r))r.stopPropagation();else if(ON(t,r),e&4&&-1<p6.indexOf(t)){for(;s!==null;){var i=$f(s);if(i!==null&&nk(i),i=Fw(t,e,n,r),i===null&&tx(t,e,r,Pg,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else tx(t,e,r,null,n)}}var Pg=null;function Fw(t,e,n,r){if(Pg=null,t=c1(r),t=gl(t),t!==null)if(e=oc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Pg=t,null}function ak(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o6()){case u1:return 1;case ZP:return 4;case Rg:case a6:return 16;case JP:return 536870912;default:return 16}default:return 16}}var ea=null,m1=null,eg=null;function lk(){if(eg)return eg;var t,e=m1,n=e.length,r,s="value"in ea?ea.value:ea.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return eg=s.slice(t,1<r?1-r:void 0)}function tg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pp(){return!0}function LN(){return!1}function ns(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?pp:LN,this.isPropagationStopped=LN,this}return Yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pp)},persist:function(){},isPersistent:pp}),e}var rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p1=ns(rd),Vf=Yt({},rd,{view:0,detail:0}),w6=ns(Vf),q0,G0,Hd,ey=Yt({},Vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hd&&(Hd&&t.type==="mousemove"?(q0=t.screenX-Hd.screenX,G0=t.screenY-Hd.screenY):G0=q0=0,Hd=t),q0)},movementY:function(t){return"movementY"in t?t.movementY:G0}}),VN=ns(ey),_6=Yt({},ey,{dataTransfer:0}),b6=ns(_6),C6=Yt({},Vf,{relatedTarget:0}),K0=ns(C6),S6=Yt({},rd,{animationName:0,elapsedTime:0,pseudoElement:0}),E6=ns(S6),N6=Yt({},rd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T6=ns(N6),R6=Yt({},rd,{data:0}),$N=ns(R6),j6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k6(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=P6[t])?!!e[t]:!1}function g1(){return k6}var A6=Yt({},Vf,{key:function(t){if(t.key){var e=j6[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I6[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g1,charCode:function(t){return t.type==="keypress"?tg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),D6=ns(A6),M6=Yt({},ey,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UN=ns(M6),O6=Yt({},Vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g1}),F6=ns(O6),L6=Yt({},rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),V6=ns(L6),$6=Yt({},ey,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),U6=ns($6),B6=[9,13,27,32],v1=eo&&"CompositionEvent"in window,wh=null;eo&&"documentMode"in document&&(wh=document.documentMode);var z6=eo&&"TextEvent"in window&&!wh,ck=eo&&(!v1||wh&&8<wh&&11>=wh),BN=" ",zN=!1;function uk(t,e){switch(t){case"keyup":return B6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lc=!1;function H6(t,e){switch(t){case"compositionend":return dk(e);case"keypress":return e.which!==32?null:(zN=!0,BN);case"textInput":return t=e.data,t===BN&&zN?null:t;default:return null}}function W6(t,e){if(Lc)return t==="compositionend"||!v1&&uk(t,e)?(t=lk(),eg=m1=ea=null,Lc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ck&&e.locale!=="ko"?null:e.data;default:return null}}var q6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q6[t.type]:e==="textarea"}function hk(t,e,n,r){zP(r),e=kg(e,"onChange"),0<e.length&&(n=new p1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _h=null,Zh=null;function G6(t){Ck(t,0)}function ty(t){var e=Uc(t);if(OP(e))return t}function K6(t,e){if(t==="change")return e}var fk=!1;if(eo){var Y0;if(eo){var Q0="oninput"in document;if(!Q0){var WN=document.createElement("div");WN.setAttribute("oninput","return;"),Q0=typeof WN.oninput=="function"}Y0=Q0}else Y0=!1;fk=Y0&&(!document.documentMode||9<document.documentMode)}function qN(){_h&&(_h.detachEvent("onpropertychange",mk),Zh=_h=null)}function mk(t){if(t.propertyName==="value"&&ty(Zh)){var e=[];hk(e,Zh,t,c1(t)),GP(G6,e)}}function Y6(t,e,n){t==="focusin"?(qN(),_h=e,Zh=n,_h.attachEvent("onpropertychange",mk)):t==="focusout"&&qN()}function Q6(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ty(Zh)}function X6(t,e){if(t==="click")return ty(e)}function Z6(t,e){if(t==="input"||t==="change")return ty(e)}function J6(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vs=typeof Object.is=="function"?Object.is:J6;function Jh(t,e){if(Vs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!xw.call(e,s)||!Vs(t[s],e[s]))return!1}return!0}function GN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function KN(t,e){var n=GN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=GN(n)}}function pk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gk(){for(var t=window,e=Eg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eg(t.document)}return e}function y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e9(t){var e=gk(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pk(n.ownerDocument.documentElement,n)){if(r!==null&&y1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=KN(n,i);var o=KN(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t9=eo&&"documentMode"in document&&11>=document.documentMode,Vc=null,Lw=null,bh=null,Vw=!1;function YN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vw||Vc==null||Vc!==Eg(r)||(r=Vc,"selectionStart"in r&&y1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bh&&Jh(bh,r)||(bh=r,r=kg(Lw,"onSelect"),0<r.length&&(e=new p1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vc)))}function gp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $c={animationend:gp("Animation","AnimationEnd"),animationiteration:gp("Animation","AnimationIteration"),animationstart:gp("Animation","AnimationStart"),transitionend:gp("Transition","TransitionEnd")},X0={},vk={};eo&&(vk=document.createElement("div").style,"AnimationEvent"in window||(delete $c.animationend.animation,delete $c.animationiteration.animation,delete $c.animationstart.animation),"TransitionEvent"in window||delete $c.transitionend.transition);function ny(t){if(X0[t])return X0[t];if(!$c[t])return t;var e=$c[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vk)return X0[t]=e[n];return t}var yk=ny("animationend"),xk=ny("animationiteration"),wk=ny("animationstart"),_k=ny("transitionend"),bk=new Map,QN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(t,e){bk.set(t,e),ic(e,[t])}for(var Z0=0;Z0<QN.length;Z0++){var J0=QN[Z0],n9=J0.toLowerCase(),r9=J0[0].toUpperCase()+J0.slice(1);za(n9,"on"+r9)}za(yk,"onAnimationEnd");za(xk,"onAnimationIteration");za(wk,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(_k,"onTransitionEnd");Ru("onMouseEnter",["mouseout","mouseover"]);Ru("onMouseLeave",["mouseout","mouseover"]);Ru("onPointerEnter",["pointerout","pointerover"]);Ru("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s9=new Set("cancel close invalid load scroll toggle".split(" ").concat(oh));function XN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,n6(r,e,void 0,t),t.currentTarget=null}function Ck(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;XN(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;XN(s,l,u),i=c}}}if(Tg)throw t=Dw,Tg=!1,Dw=null,t}function At(t,e){var n=e[Hw];n===void 0&&(n=e[Hw]=new Set);var r=t+"__bubble";n.has(r)||(Sk(e,t,2,!1),n.add(r))}function ex(t,e,n){var r=0;e&&(r|=4),Sk(n,t,r,e)}var vp="_reactListening"+Math.random().toString(36).slice(2);function ef(t){if(!t[vp]){t[vp]=!0,PP.forEach(function(n){n!=="selectionchange"&&(s9.has(n)||ex(n,!1,t),ex(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[vp]||(e[vp]=!0,ex("selectionchange",!1,e))}}function Sk(t,e,n,r){switch(ak(e)){case 1:var s=y6;break;case 4:s=x6;break;default:s=f1}n=s.bind(null,e,n,t),s=void 0,!Aw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function tx(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=gl(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}GP(function(){var u=i,d=c1(n),h=[];e:{var f=bk.get(t);if(f!==void 0){var g=p1,y=t;switch(t){case"keypress":if(tg(n)===0)break e;case"keydown":case"keyup":g=D6;break;case"focusin":y="focus",g=K0;break;case"focusout":y="blur",g=K0;break;case"beforeblur":case"afterblur":g=K0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=VN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=b6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=F6;break;case yk:case xk:case wk:g=E6;break;case _k:g=V6;break;case"scroll":g=w6;break;case"wheel":g=U6;break;case"copy":case"cut":case"paste":g=T6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=UN}var v=(e&4)!==0,x=!v&&t==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var w=u,b;w!==null;){b=w;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,_!==null&&(T=Kh(w,_),T!=null&&v.push(tf(w,T,b)))),x)break;w=w.return}0<v.length&&(f=new g(f,y,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==Pw&&(y=n.relatedTarget||n.fromElement)&&(gl(y)||y[to]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?gl(y):null,y!==null&&(x=oc(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(v=VN,T="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=UN,T="onPointerLeave",_="onPointerEnter",w="pointer"),x=g==null?f:Uc(g),b=y==null?f:Uc(y),f=new v(T,w+"leave",g,n,d),f.target=x,f.relatedTarget=b,T=null,gl(d)===u&&(v=new v(_,w+"enter",y,n,d),v.target=b,v.relatedTarget=x,T=v),x=T,g&&y)t:{for(v=g,_=y,w=0,b=v;b;b=bc(b))w++;for(b=0,T=_;T;T=bc(T))b++;for(;0<w-b;)v=bc(v),w--;for(;0<b-w;)_=bc(_),b--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=bc(v),_=bc(_)}v=null}else v=null;g!==null&&ZN(h,f,g,v,!1),y!==null&&x!==null&&ZN(h,x,y,v,!0)}}e:{if(f=u?Uc(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var I=K6;else if(HN(f))if(fk)I=Z6;else{I=Q6;var O=Y6}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=X6);if(I&&(I=I(t,u))){hk(h,I,n,d);break e}O&&O(t,f,u),t==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Nw(f,"number",f.value)}switch(O=u?Uc(u):window,t){case"focusin":(HN(O)||O.contentEditable==="true")&&(Vc=O,Lw=u,bh=null);break;case"focusout":bh=Lw=Vc=null;break;case"mousedown":Vw=!0;break;case"contextmenu":case"mouseup":case"dragend":Vw=!1,YN(h,n,d);break;case"selectionchange":if(t9)break;case"keydown":case"keyup":YN(h,n,d)}var j;if(v1)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Lc?uk(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ck&&n.locale!=="ko"&&(Lc||S!=="onCompositionStart"?S==="onCompositionEnd"&&Lc&&(j=lk()):(ea=d,m1="value"in ea?ea.value:ea.textContent,Lc=!0)),O=kg(u,S),0<O.length&&(S=new $N(S,t,null,n,d),h.push({event:S,listeners:O}),j?S.data=j:(j=dk(n),j!==null&&(S.data=j)))),(j=z6?H6(t,n):W6(t,n))&&(u=kg(u,"onBeforeInput"),0<u.length&&(d=new $N("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=j))}Ck(h,e)})}function tf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kg(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kh(t,n),i!=null&&r.unshift(tf(t,i,s)),i=Kh(t,e),i!=null&&r.push(tf(t,i,s))),t=t.return}return r}function bc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ZN(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Kh(n,i),c!=null&&o.unshift(tf(n,c,l))):s||(c=Kh(n,i),c!=null&&o.push(tf(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var i9=/\r\n?/g,o9=/\u0000|\uFFFD/g;function JN(t){return(typeof t=="string"?t:""+t).replace(i9,`
`).replace(o9,"")}function yp(t,e,n){if(e=JN(e),JN(t)!==e&&n)throw Error(oe(425))}function Ag(){}var $w=null,Uw=null;function Bw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zw=typeof setTimeout=="function"?setTimeout:void 0,a9=typeof clearTimeout=="function"?clearTimeout:void 0,eT=typeof Promise=="function"?Promise:void 0,l9=typeof queueMicrotask=="function"?queueMicrotask:typeof eT<"u"?function(t){return eT.resolve(null).then(t).catch(c9)}:zw;function c9(t){setTimeout(function(){throw t})}function nx(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xh(e)}function ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var sd=Math.random().toString(36).slice(2),ci="__reactFiber$"+sd,nf="__reactProps$"+sd,to="__reactContainer$"+sd,Hw="__reactEvents$"+sd,u9="__reactListeners$"+sd,d9="__reactHandles$"+sd;function gl(t){var e=t[ci];if(e)return e;for(var n=t.parentNode;n;){if(e=n[to]||n[ci]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tT(t);t!==null;){if(n=t[ci])return n;t=tT(t)}return e}t=n,n=t.parentNode}return null}function $f(t){return t=t[ci]||t[to],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Uc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function ry(t){return t[nf]||null}var Ww=[],Bc=-1;function Ha(t){return{current:t}}function Ft(t){0>Bc||(t.current=Ww[Bc],Ww[Bc]=null,Bc--)}function jt(t,e){Bc++,Ww[Bc]=t.current,t.current=e}var Na={},tr=Ha(Na),Pr=Ha(!1),kl=Na;function ju(t,e){var n=t.type.contextTypes;if(!n)return Na;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kr(t){return t=t.childContextTypes,t!=null}function Dg(){Ft(Pr),Ft(tr)}function nT(t,e,n){if(tr.current!==Na)throw Error(oe(168));jt(tr,e),jt(Pr,n)}function Ek(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(oe(108,Y$(t)||"Unknown",s));return Yt({},n,r)}function Mg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Na,kl=tr.current,jt(tr,t),jt(Pr,Pr.current),!0}function rT(t,e,n){var r=t.stateNode;if(!r)throw Error(oe(169));n?(t=Ek(t,e,kl),r.__reactInternalMemoizedMergedChildContext=t,Ft(Pr),Ft(tr),jt(tr,t)):Ft(Pr),jt(Pr,n)}var zi=null,sy=!1,rx=!1;function Nk(t){zi===null?zi=[t]:zi.push(t)}function h9(t){sy=!0,Nk(t)}function Wa(){if(!rx&&zi!==null){rx=!0;var t=0,e=Et;try{var n=zi;for(Et=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}zi=null,sy=!1}catch(s){throw zi!==null&&(zi=zi.slice(t+1)),XP(u1,Wa),s}finally{Et=e,rx=!1}}return null}var zc=[],Hc=0,Og=null,Fg=0,as=[],ls=0,Al=null,Wi=1,qi="";function ul(t,e){zc[Hc++]=Fg,zc[Hc++]=Og,Og=t,Fg=e}function Tk(t,e,n){as[ls++]=Wi,as[ls++]=qi,as[ls++]=Al,Al=t;var r=Wi;t=qi;var s=32-Ms(r)-1;r&=~(1<<s),n+=1;var i=32-Ms(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Wi=1<<32-Ms(e)+s|n<<s|r,qi=i+t}else Wi=1<<i|n<<s|r,qi=t}function x1(t){t.return!==null&&(ul(t,1),Tk(t,1,0))}function w1(t){for(;t===Og;)Og=zc[--Hc],zc[Hc]=null,Fg=zc[--Hc],zc[Hc]=null;for(;t===Al;)Al=as[--ls],as[ls]=null,qi=as[--ls],as[ls]=null,Wi=as[--ls],as[ls]=null}var Kr=null,Wr=null,$t=!1,Is=null;function Rk(t,e){var n=us(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function sT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kr=t,Wr=ha(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kr=t,Wr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Al!==null?{id:Wi,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=us(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kr=t,Wr=null,!0):!1;default:return!1}}function qw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gw(t){if($t){var e=Wr;if(e){var n=e;if(!sT(t,e)){if(qw(t))throw Error(oe(418));e=ha(n.nextSibling);var r=Kr;e&&sT(t,e)?Rk(r,n):(t.flags=t.flags&-4097|2,$t=!1,Kr=t)}}else{if(qw(t))throw Error(oe(418));t.flags=t.flags&-4097|2,$t=!1,Kr=t}}}function iT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kr=t}function xp(t){if(t!==Kr)return!1;if(!$t)return iT(t),$t=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bw(t.type,t.memoizedProps)),e&&(e=Wr)){if(qw(t))throw jk(),Error(oe(418));for(;e;)Rk(t,e),e=ha(e.nextSibling)}if(iT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wr=ha(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wr=null}}else Wr=Kr?ha(t.stateNode.nextSibling):null;return!0}function jk(){for(var t=Wr;t;)t=ha(t.nextSibling)}function Iu(){Wr=Kr=null,$t=!1}function _1(t){Is===null?Is=[t]:Is.push(t)}var f9=go.ReactCurrentBatchConfig;function Wd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(oe(309));var r=n.stateNode}if(!r)throw Error(oe(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(oe(284));if(!n._owner)throw Error(oe(290,t))}return t}function wp(t,e){throw t=Object.prototype.toString.call(e),Error(oe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oT(t){var e=t._init;return e(t._payload)}function Ik(t){function e(_,w){if(t){var b=_.deletions;b===null?(_.deletions=[w],_.flags|=16):b.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=ga(_,w),_.index=0,_.sibling=null,_}function i(_,w,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<w?(_.flags|=2,w):b):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function l(_,w,b,T){return w===null||w.tag!==6?(w=ux(b,_.mode,T),w.return=_,w):(w=s(w,b),w.return=_,w)}function c(_,w,b,T){var I=b.type;return I===Fc?d(_,w,b.props.children,T,b.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Mo&&oT(I)===w.type)?(T=s(w,b.props),T.ref=Wd(_,w,b),T.return=_,T):(T=lg(b.type,b.key,b.props,null,_.mode,T),T.ref=Wd(_,w,b),T.return=_,T)}function u(_,w,b,T){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=dx(b,_.mode,T),w.return=_,w):(w=s(w,b.children||[]),w.return=_,w)}function d(_,w,b,T,I){return w===null||w.tag!==7?(w=jl(b,_.mode,T,I),w.return=_,w):(w=s(w,b),w.return=_,w)}function h(_,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ux(""+w,_.mode,b),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cp:return b=lg(w.type,w.key,w.props,null,_.mode,b),b.ref=Wd(_,null,w),b.return=_,b;case Oc:return w=dx(w,_.mode,b),w.return=_,w;case Mo:var T=w._init;return h(_,T(w._payload),b)}if(sh(w)||$d(w))return w=jl(w,_.mode,b,null),w.return=_,w;wp(_,w)}return null}function f(_,w,b,T){var I=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return I!==null?null:l(_,w,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cp:return b.key===I?c(_,w,b,T):null;case Oc:return b.key===I?u(_,w,b,T):null;case Mo:return I=b._init,f(_,w,I(b._payload),T)}if(sh(b)||$d(b))return I!==null?null:d(_,w,b,T,null);wp(_,b)}return null}function g(_,w,b,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return _=_.get(b)||null,l(w,_,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case cp:return _=_.get(T.key===null?b:T.key)||null,c(w,_,T,I);case Oc:return _=_.get(T.key===null?b:T.key)||null,u(w,_,T,I);case Mo:var O=T._init;return g(_,w,b,O(T._payload),I)}if(sh(T)||$d(T))return _=_.get(b)||null,d(w,_,T,I,null);wp(w,T)}return null}function y(_,w,b,T){for(var I=null,O=null,j=w,S=w=0,N=null;j!==null&&S<b.length;S++){j.index>S?(N=j,j=null):N=j.sibling;var P=f(_,j,b[S],T);if(P===null){j===null&&(j=N);break}t&&j&&P.alternate===null&&e(_,j),w=i(P,w,S),O===null?I=P:O.sibling=P,O=P,j=N}if(S===b.length)return n(_,j),$t&&ul(_,S),I;if(j===null){for(;S<b.length;S++)j=h(_,b[S],T),j!==null&&(w=i(j,w,S),O===null?I=j:O.sibling=j,O=j);return $t&&ul(_,S),I}for(j=r(_,j);S<b.length;S++)N=g(j,_,S,b[S],T),N!==null&&(t&&N.alternate!==null&&j.delete(N.key===null?S:N.key),w=i(N,w,S),O===null?I=N:O.sibling=N,O=N);return t&&j.forEach(function(k){return e(_,k)}),$t&&ul(_,S),I}function v(_,w,b,T){var I=$d(b);if(typeof I!="function")throw Error(oe(150));if(b=I.call(b),b==null)throw Error(oe(151));for(var O=I=null,j=w,S=w=0,N=null,P=b.next();j!==null&&!P.done;S++,P=b.next()){j.index>S?(N=j,j=null):N=j.sibling;var k=f(_,j,P.value,T);if(k===null){j===null&&(j=N);break}t&&j&&k.alternate===null&&e(_,j),w=i(k,w,S),O===null?I=k:O.sibling=k,O=k,j=N}if(P.done)return n(_,j),$t&&ul(_,S),I;if(j===null){for(;!P.done;S++,P=b.next())P=h(_,P.value,T),P!==null&&(w=i(P,w,S),O===null?I=P:O.sibling=P,O=P);return $t&&ul(_,S),I}for(j=r(_,j);!P.done;S++,P=b.next())P=g(j,_,S,P.value,T),P!==null&&(t&&P.alternate!==null&&j.delete(P.key===null?S:P.key),w=i(P,w,S),O===null?I=P:O.sibling=P,O=P);return t&&j.forEach(function(D){return e(_,D)}),$t&&ul(_,S),I}function x(_,w,b,T){if(typeof b=="object"&&b!==null&&b.type===Fc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case cp:e:{for(var I=b.key,O=w;O!==null;){if(O.key===I){if(I=b.type,I===Fc){if(O.tag===7){n(_,O.sibling),w=s(O,b.props.children),w.return=_,_=w;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Mo&&oT(I)===O.type){n(_,O.sibling),w=s(O,b.props),w.ref=Wd(_,O,b),w.return=_,_=w;break e}n(_,O);break}else e(_,O);O=O.sibling}b.type===Fc?(w=jl(b.props.children,_.mode,T,b.key),w.return=_,_=w):(T=lg(b.type,b.key,b.props,null,_.mode,T),T.ref=Wd(_,w,b),T.return=_,_=T)}return o(_);case Oc:e:{for(O=b.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(_,w.sibling),w=s(w,b.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=dx(b,_.mode,T),w.return=_,_=w}return o(_);case Mo:return O=b._init,x(_,w,O(b._payload),T)}if(sh(b))return y(_,w,b,T);if($d(b))return v(_,w,b,T);wp(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,b),w.return=_,_=w):(n(_,w),w=ux(b,_.mode,T),w.return=_,_=w),o(_)):n(_,w)}return x}var Pu=Ik(!0),Pk=Ik(!1),Lg=Ha(null),Vg=null,Wc=null,b1=null;function C1(){b1=Wc=Vg=null}function S1(t){var e=Lg.current;Ft(Lg),t._currentValue=e}function Kw(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function eu(t,e){Vg=t,b1=Wc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ir=!0),t.firstContext=null)}function vs(t){var e=t._currentValue;if(b1!==t)if(t={context:t,memoizedValue:e,next:null},Wc===null){if(Vg===null)throw Error(oe(308));Wc=t,Vg.dependencies={lanes:0,firstContext:t}}else Wc=Wc.next=t;return e}var vl=null;function E1(t){vl===null?vl=[t]:vl.push(t)}function kk(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,E1(e)):(n.next=s.next,s.next=n),e.interleaved=n,no(t,r)}function no(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function N1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ak(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function fa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,gt&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,no(t,n)}return s=r.interleaved,s===null?(e.next=e,E1(r)):(e.next=s.next,s.next=e),r.interleaved=e,no(t,n)}function ng(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d1(t,n)}}function aT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $g(t,e,n,r){var s=t.updateQueue;Oo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,g=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,v=l;switch(f=e,g=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){h=y.call(g,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(g,h,f):y,f==null)break e;h=Yt({},h,f);break e;case 2:Oo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ml|=o,t.lanes=o,t.memoizedState=h}}function lT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(oe(191,s));s.call(r)}}}var Uf={},pi=Ha(Uf),rf=Ha(Uf),sf=Ha(Uf);function yl(t){if(t===Uf)throw Error(oe(174));return t}function T1(t,e){switch(jt(sf,e),jt(rf,t),jt(pi,Uf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rw(e,t)}Ft(pi),jt(pi,e)}function ku(){Ft(pi),Ft(rf),Ft(sf)}function Dk(t){yl(sf.current);var e=yl(pi.current),n=Rw(e,t.type);e!==n&&(jt(rf,t),jt(pi,n))}function R1(t){rf.current===t&&(Ft(pi),Ft(rf))}var Wt=Ha(0);function Ug(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sx=[];function j1(){for(var t=0;t<sx.length;t++)sx[t]._workInProgressVersionPrimary=null;sx.length=0}var rg=go.ReactCurrentDispatcher,ix=go.ReactCurrentBatchConfig,Dl=0,Kt=null,wn=null,Tn=null,Bg=!1,Ch=!1,of=0,m9=0;function Hn(){throw Error(oe(321))}function I1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vs(t[n],e[n]))return!1;return!0}function P1(t,e,n,r,s,i){if(Dl=i,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rg.current=t===null||t.memoizedState===null?y9:x9,t=n(r,s),Ch){i=0;do{if(Ch=!1,of=0,25<=i)throw Error(oe(301));i+=1,Tn=wn=null,e.updateQueue=null,rg.current=w9,t=n(r,s)}while(Ch)}if(rg.current=zg,e=wn!==null&&wn.next!==null,Dl=0,Tn=wn=Kt=null,Bg=!1,e)throw Error(oe(300));return t}function k1(){var t=of!==0;return of=0,t}function ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?Kt.memoizedState=Tn=t:Tn=Tn.next=t,Tn}function ys(){if(wn===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=wn.next;var e=Tn===null?Kt.memoizedState:Tn.next;if(e!==null)Tn=e,wn=t;else{if(t===null)throw Error(oe(310));wn=t,t={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},Tn===null?Kt.memoizedState=Tn=t:Tn=Tn.next=t}return Tn}function af(t,e){return typeof e=="function"?e(t):e}function ox(t){var e=ys(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=wn,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Dl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Kt.lanes|=d,Ml|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Vs(r,e.memoizedState)||(Ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Kt.lanes|=i,Ml|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ax(t){var e=ys(),n=e.queue;if(n===null)throw Error(oe(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Vs(i,e.memoizedState)||(Ir=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Mk(){}function Ok(t,e){var n=Kt,r=ys(),s=e(),i=!Vs(r.memoizedState,s);if(i&&(r.memoizedState=s,Ir=!0),r=r.queue,A1(Vk.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tn!==null&&Tn.memoizedState.tag&1){if(n.flags|=2048,lf(9,Lk.bind(null,n,r,s,e),void 0,null),Rn===null)throw Error(oe(349));Dl&30||Fk(n,e,s)}return s}function Fk(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lk(t,e,n,r){e.value=n,e.getSnapshot=r,$k(e)&&Uk(t)}function Vk(t,e,n){return n(function(){$k(e)&&Uk(t)})}function $k(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vs(t,n)}catch{return!0}}function Uk(t){var e=no(t,1);e!==null&&Os(e,t,1,-1)}function cT(t){var e=ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:t},e.queue=t,t=t.dispatch=v9.bind(null,Kt,t),[e.memoizedState,t]}function lf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Bk(){return ys().memoizedState}function sg(t,e,n,r){var s=ti();Kt.flags|=t,s.memoizedState=lf(1|e,n,void 0,r===void 0?null:r)}function iy(t,e,n,r){var s=ys();r=r===void 0?null:r;var i=void 0;if(wn!==null){var o=wn.memoizedState;if(i=o.destroy,r!==null&&I1(r,o.deps)){s.memoizedState=lf(e,n,i,r);return}}Kt.flags|=t,s.memoizedState=lf(1|e,n,i,r)}function uT(t,e){return sg(8390656,8,t,e)}function A1(t,e){return iy(2048,8,t,e)}function zk(t,e){return iy(4,2,t,e)}function Hk(t,e){return iy(4,4,t,e)}function Wk(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qk(t,e,n){return n=n!=null?n.concat([t]):null,iy(4,4,Wk.bind(null,e,t),n)}function D1(){}function Gk(t,e){var n=ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Kk(t,e){var n=ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&I1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yk(t,e,n){return Dl&21?(Vs(n,e)||(n=ek(),Kt.lanes|=n,Ml|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ir=!0),t.memoizedState=n)}function p9(t,e){var n=Et;Et=n!==0&&4>n?n:4,t(!0);var r=ix.transition;ix.transition={};try{t(!1),e()}finally{Et=n,ix.transition=r}}function Qk(){return ys().memoizedState}function g9(t,e,n){var r=pa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xk(t))Zk(e,n);else if(n=kk(t,e,n,r),n!==null){var s=dr();Os(n,t,r,s),Jk(n,e,r)}}function v9(t,e,n){var r=pa(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xk(t))Zk(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vs(l,o)){var c=e.interleaved;c===null?(s.next=s,E1(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=kk(t,e,s,r),n!==null&&(s=dr(),Os(n,t,r,s),Jk(n,e,r))}}function Xk(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function Zk(t,e){Ch=Bg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jk(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d1(t,n)}}var zg={readContext:vs,useCallback:Hn,useContext:Hn,useEffect:Hn,useImperativeHandle:Hn,useInsertionEffect:Hn,useLayoutEffect:Hn,useMemo:Hn,useReducer:Hn,useRef:Hn,useState:Hn,useDebugValue:Hn,useDeferredValue:Hn,useTransition:Hn,useMutableSource:Hn,useSyncExternalStore:Hn,useId:Hn,unstable_isNewReconciler:!1},y9={readContext:vs,useCallback:function(t,e){return ti().memoizedState=[t,e===void 0?null:e],t},useContext:vs,useEffect:uT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sg(4194308,4,Wk.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sg(4194308,4,t,e)},useInsertionEffect:function(t,e){return sg(4,2,t,e)},useMemo:function(t,e){var n=ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ti();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g9.bind(null,Kt,t),[r.memoizedState,t]},useRef:function(t){var e=ti();return t={current:t},e.memoizedState=t},useState:cT,useDebugValue:D1,useDeferredValue:function(t){return ti().memoizedState=t},useTransition:function(){var t=cT(!1),e=t[0];return t=p9.bind(null,t[1]),ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Kt,s=ti();if($t){if(n===void 0)throw Error(oe(407));n=n()}else{if(n=e(),Rn===null)throw Error(oe(349));Dl&30||Fk(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uT(Vk.bind(null,r,i,t),[t]),r.flags|=2048,lf(9,Lk.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ti(),e=Rn.identifierPrefix;if($t){var n=qi,r=Wi;n=(r&~(1<<32-Ms(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=of++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=m9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},x9={readContext:vs,useCallback:Gk,useContext:vs,useEffect:A1,useImperativeHandle:qk,useInsertionEffect:zk,useLayoutEffect:Hk,useMemo:Kk,useReducer:ox,useRef:Bk,useState:function(){return ox(af)},useDebugValue:D1,useDeferredValue:function(t){var e=ys();return Yk(e,wn.memoizedState,t)},useTransition:function(){var t=ox(af)[0],e=ys().memoizedState;return[t,e]},useMutableSource:Mk,useSyncExternalStore:Ok,useId:Qk,unstable_isNewReconciler:!1},w9={readContext:vs,useCallback:Gk,useContext:vs,useEffect:A1,useImperativeHandle:qk,useInsertionEffect:zk,useLayoutEffect:Hk,useMemo:Kk,useReducer:ax,useRef:Bk,useState:function(){return ax(af)},useDebugValue:D1,useDeferredValue:function(t){var e=ys();return wn===null?e.memoizedState=t:Yk(e,wn.memoizedState,t)},useTransition:function(){var t=ax(af)[0],e=ys().memoizedState;return[t,e]},useMutableSource:Mk,useSyncExternalStore:Ok,useId:Qk,unstable_isNewReconciler:!1};function Ts(t,e){if(t&&t.defaultProps){e=Yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var oy={isMounted:function(t){return(t=t._reactInternals)?oc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=dr(),s=pa(t),i=Qi(r,s);i.payload=e,n!=null&&(i.callback=n),e=fa(t,i,s),e!==null&&(Os(e,t,s,r),ng(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=dr(),s=pa(t),i=Qi(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fa(t,i,s),e!==null&&(Os(e,t,s,r),ng(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=dr(),r=pa(t),s=Qi(n,r);s.tag=2,e!=null&&(s.callback=e),e=fa(t,s,r),e!==null&&(Os(e,t,r,n),ng(e,t,r))}};function dT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jh(n,r)||!Jh(s,i):!0}function eA(t,e,n){var r=!1,s=Na,i=e.contextType;return typeof i=="object"&&i!==null?i=vs(i):(s=kr(e)?kl:tr.current,r=e.contextTypes,i=(r=r!=null)?ju(t,s):Na),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=oy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function hT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&oy.enqueueReplaceState(e,e.state,null)}function Qw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},N1(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=vs(i):(i=kr(e)?kl:tr.current,s.context=ju(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Yw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&oy.enqueueReplaceState(s,s.state,null),$g(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Au(t,e){try{var n="",r=e;do n+=K$(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function lx(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _9=typeof WeakMap=="function"?WeakMap:Map;function tA(t,e,n){n=Qi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wg||(Wg=!0,a_=r),Xw(t,e)},n}function nA(t,e,n){n=Qi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xw(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xw(t,e),typeof r!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _9;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=M9.bind(null,t,e,n),e.then(t,t))}function mT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pT(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qi(-1,1),e.tag=2,fa(n,e,1))),n.lanes|=1),t)}var b9=go.ReactCurrentOwner,Ir=!1;function lr(t,e,n,r){e.child=t===null?Pk(e,null,n,r):Pu(e,t.child,n,r)}function gT(t,e,n,r,s){n=n.render;var i=e.ref;return eu(e,s),r=P1(t,e,n,r,i,s),n=k1(),t!==null&&!Ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ro(t,e,s)):($t&&n&&x1(e),e.flags|=1,lr(t,e,r,s),e.child)}function vT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!B1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,rA(t,e,i,r,s)):(t=lg(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jh,n(o,r)&&t.ref===e.ref)return ro(t,e,s)}return e.flags|=1,t=ga(i,r),t.ref=e.ref,t.return=e,e.child=t}function rA(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jh(i,r)&&t.ref===e.ref)if(Ir=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ir=!0);else return e.lanes=t.lanes,ro(t,e,s)}return Zw(t,e,n,r,s)}function sA(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Gc,zr),zr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jt(Gc,zr),zr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,jt(Gc,zr),zr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,jt(Gc,zr),zr|=r;return lr(t,e,s,n),e.child}function iA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zw(t,e,n,r,s){var i=kr(n)?kl:tr.current;return i=ju(e,i),eu(e,s),n=P1(t,e,n,r,i,s),r=k1(),t!==null&&!Ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ro(t,e,s)):($t&&r&&x1(e),e.flags|=1,lr(t,e,n,s),e.child)}function yT(t,e,n,r,s){if(kr(n)){var i=!0;Mg(e)}else i=!1;if(eu(e,s),e.stateNode===null)ig(t,e),eA(e,n,r),Qw(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vs(u):(u=kr(n)?kl:tr.current,u=ju(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&hT(e,o,r,u),Oo=!1;var f=e.memoizedState;o.state=f,$g(e,r,o,s),c=e.memoizedState,l!==r||f!==c||Pr.current||Oo?(typeof d=="function"&&(Yw(e,n,d,r),c=e.memoizedState),(l=Oo||dT(e,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ak(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Ts(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=vs(c):(c=kr(n)?kl:tr.current,c=ju(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&hT(e,o,r,c),Oo=!1,f=e.memoizedState,o.state=f,$g(e,r,o,s);var y=e.memoizedState;l!==h||f!==y||Pr.current||Oo?(typeof g=="function"&&(Yw(e,n,g,r),y=e.memoizedState),(u=Oo||dT(e,n,u,r,f,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Jw(t,e,n,r,i,s)}function Jw(t,e,n,r,s,i){iA(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&rT(e,n,!1),ro(t,e,i);r=e.stateNode,b9.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Pu(e,t.child,null,i),e.child=Pu(e,null,l,i)):lr(t,e,l,i),e.memoizedState=r.state,s&&rT(e,n,!0),e.child}function oA(t){var e=t.stateNode;e.pendingContext?nT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&nT(t,e.context,!1),T1(t,e.containerInfo)}function xT(t,e,n,r,s){return Iu(),_1(s),e.flags|=256,lr(t,e,n,r),e.child}var e_={dehydrated:null,treeContext:null,retryLane:0};function t_(t){return{baseLanes:t,cachePool:null,transitions:null}}function aA(t,e,n){var r=e.pendingProps,s=Wt.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),jt(Wt,s&1),t===null)return Gw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=cy(o,r,0,null),t=jl(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=t_(n),e.memoizedState=e_,t):M1(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return C9(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ga(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ga(l,i):(i=jl(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?t_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=e_,r}return i=t.child,t=i.sibling,r=ga(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function M1(t,e){return e=cy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _p(t,e,n,r){return r!==null&&_1(r),Pu(e,t.child,null,n),t=M1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C9(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=lx(Error(oe(422))),_p(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=cy({mode:"visible",children:r.children},s,0,null),i=jl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Pu(e,t.child,null,o),e.child.memoizedState=t_(o),e.memoizedState=e_,i);if(!(e.mode&1))return _p(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(oe(419)),r=lx(i,r,void 0),_p(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ir||l){if(r=Rn,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,no(t,s),Os(r,t,s,-1))}return U1(),r=lx(Error(oe(421))),_p(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=O9.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Wr=ha(s.nextSibling),Kr=e,$t=!0,Is=null,t!==null&&(as[ls++]=Wi,as[ls++]=qi,as[ls++]=Al,Wi=t.id,qi=t.overflow,Al=e),e=M1(e,r.children),e.flags|=4096,e)}function wT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Kw(t.return,e,n)}function cx(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function lA(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(lr(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wT(t,n,e);else if(t.tag===19)wT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ug(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),cx(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ug(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}cx(e,!0,n,null,i);break;case"together":cx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ig(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ro(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ml|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,n=ga(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ga(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function S9(t,e,n){switch(e.tag){case 3:oA(e),Iu();break;case 5:Dk(e);break;case 1:kr(e.type)&&Mg(e);break;case 4:T1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;jt(Lg,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?aA(t,e,n):(jt(Wt,Wt.current&1),t=ro(t,e,n),t!==null?t.sibling:null);jt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lA(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),jt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,sA(t,e,n)}return ro(t,e,n)}var cA,n_,uA,dA;cA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};n_=function(){};uA=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,yl(pi.current);var i=null;switch(n){case"input":s=Sw(t,s),r=Sw(t,r),i=[];break;case"select":s=Yt({},s,{value:void 0}),r=Yt({},r,{value:void 0}),i=[];break;case"textarea":s=Tw(t,s),r=Tw(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ag)}jw(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&At("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};dA=function(t,e,n,r){n!==r&&(e.flags|=4)};function qd(t,e){if(!$t)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function E9(t,e,n){var r=e.pendingProps;switch(w1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(e),null;case 1:return kr(e.type)&&Dg(),Wn(e),null;case 3:return r=e.stateNode,ku(),Ft(Pr),Ft(tr),j1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(xp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Is!==null&&(u_(Is),Is=null))),n_(t,e),Wn(e),null;case 5:R1(e);var s=yl(sf.current);if(n=e.type,t!==null&&e.stateNode!=null)uA(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return Wn(e),null}if(t=yl(pi.current),xp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ci]=e,r[nf]=i,t=(e.mode&1)!==0,n){case"dialog":At("cancel",r),At("close",r);break;case"iframe":case"object":case"embed":At("load",r);break;case"video":case"audio":for(s=0;s<oh.length;s++)At(oh[s],r);break;case"source":At("error",r);break;case"img":case"image":case"link":At("error",r),At("load",r);break;case"details":At("toggle",r);break;case"input":jN(r,i),At("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},At("invalid",r);break;case"textarea":PN(r,i),At("invalid",r)}jw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&yp(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&yp(r.textContent,l,t),s=["children",""+l]):qh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&At("scroll",r)}switch(n){case"input":up(r),IN(r,i,!0);break;case"textarea":up(r),kN(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ag)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ci]=e,t[nf]=r,cA(t,e,!1,!1),e.stateNode=t;e:{switch(o=Iw(n,r),n){case"dialog":At("cancel",t),At("close",t),s=r;break;case"iframe":case"object":case"embed":At("load",t),s=r;break;case"video":case"audio":for(s=0;s<oh.length;s++)At(oh[s],t);s=r;break;case"source":At("error",t),s=r;break;case"img":case"image":case"link":At("error",t),At("load",t),s=r;break;case"details":At("toggle",t),s=r;break;case"input":jN(t,r),s=Sw(t,r),At("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Yt({},r,{value:void 0}),At("invalid",t);break;case"textarea":PN(t,r),s=Tw(t,r),At("invalid",t);break;default:s=r}jw(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?BP(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$P(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gh(t,c):typeof c=="number"&&Gh(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&At("scroll",t):c!=null&&i1(t,i,c,o))}switch(n){case"input":up(t),IN(t,r,!1);break;case"textarea":up(t),kN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ea(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qc(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ag)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wn(e),null;case 6:if(t&&e.stateNode!=null)dA(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));if(n=yl(sf.current),yl(pi.current),xp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ci]=e,(i=r.nodeValue!==n)&&(t=Kr,t!==null))switch(t.tag){case 3:yp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&yp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ci]=e,e.stateNode=r}return Wn(e),null;case 13:if(Ft(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($t&&Wr!==null&&e.mode&1&&!(e.flags&128))jk(),Iu(),e.flags|=98560,i=!1;else if(i=xp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(oe(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(oe(317));i[ci]=e}else Iu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wn(e),i=!1}else Is!==null&&(u_(Is),Is=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?bn===0&&(bn=3):U1())),e.updateQueue!==null&&(e.flags|=4),Wn(e),null);case 4:return ku(),n_(t,e),t===null&&ef(e.stateNode.containerInfo),Wn(e),null;case 10:return S1(e.type._context),Wn(e),null;case 17:return kr(e.type)&&Dg(),Wn(e),null;case 19:if(Ft(Wt),i=e.memoizedState,i===null)return Wn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)qd(i,!1);else{if(bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ug(t),o!==null){for(e.flags|=128,qd(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jt(Wt,Wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&cn()>Du&&(e.flags|=128,r=!0,qd(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ug(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qd(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$t)return Wn(e),null}else 2*cn()-i.renderingStartTime>Du&&n!==1073741824&&(e.flags|=128,r=!0,qd(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=cn(),e.sibling=null,n=Wt.current,jt(Wt,r?n&1|2:n&1),e):(Wn(e),null);case 22:case 23:return $1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zr&1073741824&&(Wn(e),e.subtreeFlags&6&&(e.flags|=8192)):Wn(e),null;case 24:return null;case 25:return null}throw Error(oe(156,e.tag))}function N9(t,e){switch(w1(e),e.tag){case 1:return kr(e.type)&&Dg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ku(),Ft(Pr),Ft(tr),j1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return R1(e),null;case 13:if(Ft(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(oe(340));Iu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Wt),null;case 4:return ku(),null;case 10:return S1(e.type._context),null;case 22:case 23:return $1(),null;case 24:return null;default:return null}}var bp=!1,Xn=!1,T9=typeof WeakSet=="function"?WeakSet:Set,_e=null;function qc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tn(t,e,r)}else n.current=null}function r_(t,e,n){try{n()}catch(r){tn(t,e,r)}}var _T=!1;function R9(t,e){if($w=Ig,t=gk(),y1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uw={focusedElem:t,selectionRange:n},Ig=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ts(e.type,v),x);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(oe(163))}}catch(T){tn(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return y=_T,_T=!1,y}function Sh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&r_(e,n,i)}s=s.next}while(s!==r)}}function ay(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function s_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hA(t){var e=t.alternate;e!==null&&(t.alternate=null,hA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[nf],delete e[Hw],delete e[u9],delete e[d9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fA(t){return t.tag===5||t.tag===3||t.tag===4}function bT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function i_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ag));else if(r!==4&&(t=t.child,t!==null))for(i_(t,e,n),t=t.sibling;t!==null;)i_(t,e,n),t=t.sibling}function o_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(o_(t,e,n),t=t.sibling;t!==null;)o_(t,e,n),t=t.sibling}var An=null,js=!1;function To(t,e,n){for(n=n.child;n!==null;)mA(t,e,n),n=n.sibling}function mA(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Jv,n)}catch{}switch(n.tag){case 5:Xn||qc(n,e);case 6:var r=An,s=js;An=null,To(t,e,n),An=r,js=s,An!==null&&(js?(t=An,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):An.removeChild(n.stateNode));break;case 18:An!==null&&(js?(t=An,n=n.stateNode,t.nodeType===8?nx(t.parentNode,n):t.nodeType===1&&nx(t,n),Xh(t)):nx(An,n.stateNode));break;case 4:r=An,s=js,An=n.stateNode.containerInfo,js=!0,To(t,e,n),An=r,js=s;break;case 0:case 11:case 14:case 15:if(!Xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&r_(n,e,o),s=s.next}while(s!==r)}To(t,e,n);break;case 1:if(!Xn&&(qc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){tn(n,e,l)}To(t,e,n);break;case 21:To(t,e,n);break;case 22:n.mode&1?(Xn=(r=Xn)||n.memoizedState!==null,To(t,e,n),Xn=r):To(t,e,n);break;default:To(t,e,n)}}function CT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T9),e.forEach(function(r){var s=F9.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Es(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:An=l.stateNode,js=!1;break e;case 3:An=l.stateNode.containerInfo,js=!0;break e;case 4:An=l.stateNode.containerInfo,js=!0;break e}l=l.return}if(An===null)throw Error(oe(160));mA(i,o,s),An=null,js=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){tn(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pA(e,t),e=e.sibling}function pA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Es(e,t),ei(t),r&4){try{Sh(3,t,t.return),ay(3,t)}catch(v){tn(t,t.return,v)}try{Sh(5,t,t.return)}catch(v){tn(t,t.return,v)}}break;case 1:Es(e,t),ei(t),r&512&&n!==null&&qc(n,n.return);break;case 5:if(Es(e,t),ei(t),r&512&&n!==null&&qc(n,n.return),t.flags&32){var s=t.stateNode;try{Gh(s,"")}catch(v){tn(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&FP(s,i),Iw(l,o);var u=Iw(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?BP(s,h):d==="dangerouslySetInnerHTML"?$P(s,h):d==="children"?Gh(s,h):i1(s,d,h,u)}switch(l){case"input":Ew(s,i);break;case"textarea":LP(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Qc(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Qc(s,!!i.multiple,i.defaultValue,!0):Qc(s,!!i.multiple,i.multiple?[]:"",!1))}s[nf]=i}catch(v){tn(t,t.return,v)}}break;case 6:if(Es(e,t),ei(t),r&4){if(t.stateNode===null)throw Error(oe(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){tn(t,t.return,v)}}break;case 3:if(Es(e,t),ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xh(e.containerInfo)}catch(v){tn(t,t.return,v)}break;case 4:Es(e,t),ei(t);break;case 13:Es(e,t),ei(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(L1=cn())),r&4&&CT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Xn=(u=Xn)||d,Es(e,t),Xn=u):Es(e,t),ei(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(_e=t,d=t.child;d!==null;){for(h=_e=d;_e!==null;){switch(f=_e,g=f.child,f.tag){case 0:case 11:case 14:case 15:Sh(4,f,f.return);break;case 1:qc(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){tn(r,n,v)}}break;case 5:qc(f,f.return);break;case 22:if(f.memoizedState!==null){ET(h);continue}}g!==null?(g.return=f,_e=g):ET(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=UP("display",o))}catch(v){tn(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){tn(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Es(e,t),ei(t),r&4&&CT(t);break;case 21:break;default:Es(e,t),ei(t)}}function ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fA(n)){var r=n;break e}n=n.return}throw Error(oe(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gh(s,""),r.flags&=-33);var i=bT(t);o_(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=bT(t);i_(t,l,o);break;default:throw Error(oe(161))}}catch(c){tn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function j9(t,e,n){_e=t,gA(t)}function gA(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var s=_e,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||bp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xn;l=bp;var u=Xn;if(bp=o,(Xn=c)&&!u)for(_e=s;_e!==null;)o=_e,c=o.child,o.tag===22&&o.memoizedState!==null?NT(s):c!==null?(c.return=o,_e=c):NT(s);for(;i!==null;)_e=i,gA(i),i=i.sibling;_e=s,bp=l,Xn=u}ST(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,_e=i):ST(t)}}function ST(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Xn||ay(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Xn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ts(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&lT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lT(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xh(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(oe(163))}Xn||e.flags&512&&s_(e)}catch(f){tn(e,e.return,f)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function ET(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function NT(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ay(4,e)}catch(c){tn(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){tn(e,s,c)}}var i=e.return;try{s_(e)}catch(c){tn(e,i,c)}break;case 5:var o=e.return;try{s_(e)}catch(c){tn(e,o,c)}}}catch(c){tn(e,e.return,c)}if(e===t){_e=null;break}var l=e.sibling;if(l!==null){l.return=e.return,_e=l;break}_e=e.return}}var I9=Math.ceil,Hg=go.ReactCurrentDispatcher,O1=go.ReactCurrentOwner,ds=go.ReactCurrentBatchConfig,gt=0,Rn=null,gn=null,On=0,zr=0,Gc=Ha(0),bn=0,cf=null,Ml=0,ly=0,F1=0,Eh=null,Rr=null,L1=0,Du=1/0,Ui=null,Wg=!1,a_=null,ma=null,Cp=!1,ta=null,qg=0,Nh=0,l_=null,og=-1,ag=0;function dr(){return gt&6?cn():og!==-1?og:og=cn()}function pa(t){return t.mode&1?gt&2&&On!==0?On&-On:f9.transition!==null?(ag===0&&(ag=ek()),ag):(t=Et,t!==0||(t=window.event,t=t===void 0?16:ak(t.type)),t):1}function Os(t,e,n,r){if(50<Nh)throw Nh=0,l_=null,Error(oe(185));Lf(t,n,r),(!(gt&2)||t!==Rn)&&(t===Rn&&(!(gt&2)&&(ly|=n),bn===4&&Lo(t,On)),Ar(t,r),n===1&&gt===0&&!(e.mode&1)&&(Du=cn()+500,sy&&Wa()))}function Ar(t,e){var n=t.callbackNode;f6(t,e);var r=jg(t,t===Rn?On:0);if(r===0)n!==null&&MN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&MN(n),e===1)t.tag===0?h9(TT.bind(null,t)):Nk(TT.bind(null,t)),l9(function(){!(gt&6)&&Wa()}),n=null;else{switch(tk(r)){case 1:n=u1;break;case 4:n=ZP;break;case 16:n=Rg;break;case 536870912:n=JP;break;default:n=Rg}n=SA(n,vA.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vA(t,e){if(og=-1,ag=0,gt&6)throw Error(oe(327));var n=t.callbackNode;if(tu()&&t.callbackNode!==n)return null;var r=jg(t,t===Rn?On:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Gg(t,r);else{e=r;var s=gt;gt|=2;var i=xA();(Rn!==t||On!==e)&&(Ui=null,Du=cn()+500,Rl(t,e));do try{A9();break}catch(l){yA(t,l)}while(!0);C1(),Hg.current=i,gt=s,gn!==null?e=0:(Rn=null,On=0,e=bn)}if(e!==0){if(e===2&&(s=Mw(t),s!==0&&(r=s,e=c_(t,s))),e===1)throw n=cf,Rl(t,0),Lo(t,r),Ar(t,cn()),n;if(e===6)Lo(t,r);else{if(s=t.current.alternate,!(r&30)&&!P9(s)&&(e=Gg(t,r),e===2&&(i=Mw(t),i!==0&&(r=i,e=c_(t,i))),e===1))throw n=cf,Rl(t,0),Lo(t,r),Ar(t,cn()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(oe(345));case 2:dl(t,Rr,Ui);break;case 3:if(Lo(t,r),(r&130023424)===r&&(e=L1+500-cn(),10<e)){if(jg(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){dr(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zw(dl.bind(null,t,Rr,Ui),e);break}dl(t,Rr,Ui);break;case 4:if(Lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ms(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=cn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*I9(r/1960))-r,10<r){t.timeoutHandle=zw(dl.bind(null,t,Rr,Ui),r);break}dl(t,Rr,Ui);break;case 5:dl(t,Rr,Ui);break;default:throw Error(oe(329))}}}return Ar(t,cn()),t.callbackNode===n?vA.bind(null,t):null}function c_(t,e){var n=Eh;return t.current.memoizedState.isDehydrated&&(Rl(t,e).flags|=256),t=Gg(t,e),t!==2&&(e=Rr,Rr=n,e!==null&&u_(e)),t}function u_(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function P9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vs(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e){for(e&=~F1,e&=~ly,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ms(e),r=1<<n;t[n]=-1,e&=~r}}function TT(t){if(gt&6)throw Error(oe(327));tu();var e=jg(t,0);if(!(e&1))return Ar(t,cn()),null;var n=Gg(t,e);if(t.tag!==0&&n===2){var r=Mw(t);r!==0&&(e=r,n=c_(t,r))}if(n===1)throw n=cf,Rl(t,0),Lo(t,e),Ar(t,cn()),n;if(n===6)throw Error(oe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dl(t,Rr,Ui),Ar(t,cn()),null}function V1(t,e){var n=gt;gt|=1;try{return t(e)}finally{gt=n,gt===0&&(Du=cn()+500,sy&&Wa())}}function Ol(t){ta!==null&&ta.tag===0&&!(gt&6)&&tu();var e=gt;gt|=1;var n=ds.transition,r=Et;try{if(ds.transition=null,Et=1,t)return t()}finally{Et=r,ds.transition=n,gt=e,!(gt&6)&&Wa()}}function $1(){zr=Gc.current,Ft(Gc)}function Rl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a9(n)),gn!==null)for(n=gn.return;n!==null;){var r=n;switch(w1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Dg();break;case 3:ku(),Ft(Pr),Ft(tr),j1();break;case 5:R1(r);break;case 4:ku();break;case 13:Ft(Wt);break;case 19:Ft(Wt);break;case 10:S1(r.type._context);break;case 22:case 23:$1()}n=n.return}if(Rn=t,gn=t=ga(t.current,null),On=zr=e,bn=0,cf=null,F1=ly=Ml=0,Rr=Eh=null,vl!==null){for(e=0;e<vl.length;e++)if(n=vl[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}vl=null}return t}function yA(t,e){do{var n=gn;try{if(C1(),rg.current=zg,Bg){for(var r=Kt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bg=!1}if(Dl=0,Tn=wn=Kt=null,Ch=!1,of=0,O1.current=null,n===null||n.return===null){bn=1,cf=e,gn=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=On,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=mT(o);if(g!==null){g.flags&=-257,pT(g,o,l,i,e),g.mode&1&&fT(i,u,e),e=g,c=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(c),e.updateQueue=v}else y.add(c);break e}else{if(!(e&1)){fT(i,u,e),U1();break e}c=Error(oe(426))}}else if($t&&l.mode&1){var x=mT(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),pT(x,o,l,i,e),_1(Au(c,l));break e}}i=c=Au(c,l),bn!==4&&(bn=2),Eh===null?Eh=[i]:Eh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=tA(i,c,e);aT(i,_);break e;case 1:l=c;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ma===null||!ma.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var T=nA(i,l,e);aT(i,T);break e}}i=i.return}while(i!==null)}_A(n)}catch(I){e=I,gn===n&&n!==null&&(gn=n=n.return);continue}break}while(!0)}function xA(){var t=Hg.current;return Hg.current=zg,t===null?zg:t}function U1(){(bn===0||bn===3||bn===2)&&(bn=4),Rn===null||!(Ml&268435455)&&!(ly&268435455)||Lo(Rn,On)}function Gg(t,e){var n=gt;gt|=2;var r=xA();(Rn!==t||On!==e)&&(Ui=null,Rl(t,e));do try{k9();break}catch(s){yA(t,s)}while(!0);if(C1(),gt=n,Hg.current=r,gn!==null)throw Error(oe(261));return Rn=null,On=0,bn}function k9(){for(;gn!==null;)wA(gn)}function A9(){for(;gn!==null&&!s6();)wA(gn)}function wA(t){var e=CA(t.alternate,t,zr);t.memoizedProps=t.pendingProps,e===null?_A(t):gn=e,O1.current=null}function _A(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N9(n,e),n!==null){n.flags&=32767,gn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{bn=6,gn=null;return}}else if(n=E9(n,e,zr),n!==null){gn=n;return}if(e=e.sibling,e!==null){gn=e;return}gn=e=t}while(e!==null);bn===0&&(bn=5)}function dl(t,e,n){var r=Et,s=ds.transition;try{ds.transition=null,Et=1,D9(t,e,n,r)}finally{ds.transition=s,Et=r}return null}function D9(t,e,n,r){do tu();while(ta!==null);if(gt&6)throw Error(oe(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(oe(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(m6(t,i),t===Rn&&(gn=Rn=null,On=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cp||(Cp=!0,SA(Rg,function(){return tu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ds.transition,ds.transition=null;var o=Et;Et=1;var l=gt;gt|=4,O1.current=null,R9(t,n),pA(n,t),e9(Uw),Ig=!!$w,Uw=$w=null,t.current=n,j9(n),i6(),gt=l,Et=o,ds.transition=i}else t.current=n;if(Cp&&(Cp=!1,ta=t,qg=s),i=t.pendingLanes,i===0&&(ma=null),l6(n.stateNode),Ar(t,cn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wg)throw Wg=!1,t=a_,a_=null,t;return qg&1&&t.tag!==0&&tu(),i=t.pendingLanes,i&1?t===l_?Nh++:(Nh=0,l_=t):Nh=0,Wa(),null}function tu(){if(ta!==null){var t=tk(qg),e=ds.transition,n=Et;try{if(ds.transition=null,Et=16>t?16:t,ta===null)var r=!1;else{if(t=ta,ta=null,qg=0,gt&6)throw Error(oe(331));var s=gt;for(gt|=4,_e=t.current;_e!==null;){var i=_e,o=i.child;if(_e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(_e=u;_e!==null;){var d=_e;switch(d.tag){case 0:case 11:case 15:Sh(8,d,i)}var h=d.child;if(h!==null)h.return=d,_e=h;else for(;_e!==null;){d=_e;var f=d.sibling,g=d.return;if(hA(d),d===u){_e=null;break}if(f!==null){f.return=g,_e=f;break}_e=g}}}var y=i.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}_e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,_e=o;else e:for(;_e!==null;){if(i=_e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sh(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,_e=_;break e}_e=i.return}}var w=t.current;for(_e=w;_e!==null;){o=_e;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,_e=b;else e:for(o=w;_e!==null;){if(l=_e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ay(9,l)}}catch(I){tn(l,l.return,I)}if(l===o){_e=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,_e=T;break e}_e=l.return}}if(gt=s,Wa(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Jv,t)}catch{}r=!0}return r}finally{Et=n,ds.transition=e}}return!1}function RT(t,e,n){e=Au(n,e),e=tA(t,e,1),t=fa(t,e,1),e=dr(),t!==null&&(Lf(t,1,e),Ar(t,e))}function tn(t,e,n){if(t.tag===3)RT(t,t,n);else for(;e!==null;){if(e.tag===3){RT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ma===null||!ma.has(r))){t=Au(n,t),t=nA(e,t,1),e=fa(e,t,1),t=dr(),e!==null&&(Lf(e,1,t),Ar(e,t));break}}e=e.return}}function M9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=dr(),t.pingedLanes|=t.suspendedLanes&n,Rn===t&&(On&n)===n&&(bn===4||bn===3&&(On&130023424)===On&&500>cn()-L1?Rl(t,0):F1|=n),Ar(t,e)}function bA(t,e){e===0&&(t.mode&1?(e=fp,fp<<=1,!(fp&130023424)&&(fp=4194304)):e=1);var n=dr();t=no(t,e),t!==null&&(Lf(t,e,n),Ar(t,n))}function O9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bA(t,n)}function F9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(oe(314))}r!==null&&r.delete(e),bA(t,n)}var CA;CA=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pr.current)Ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ir=!1,S9(t,e,n);Ir=!!(t.flags&131072)}else Ir=!1,$t&&e.flags&1048576&&Tk(e,Fg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ig(t,e),t=e.pendingProps;var s=ju(e,tr.current);eu(e,n),s=P1(null,e,r,t,s,n);var i=k1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(r)?(i=!0,Mg(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,N1(e),s.updater=oy,e.stateNode=s,s._reactInternals=e,Qw(e,r,t,n),e=Jw(null,e,r,!0,i,n)):(e.tag=0,$t&&i&&x1(e),lr(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ig(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=V9(r),t=Ts(r,t),s){case 0:e=Zw(null,e,r,t,n);break e;case 1:e=yT(null,e,r,t,n);break e;case 11:e=gT(null,e,r,t,n);break e;case 14:e=vT(null,e,r,Ts(r.type,t),n);break e}throw Error(oe(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),Zw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),yT(t,e,r,s,n);case 3:e:{if(oA(e),t===null)throw Error(oe(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Ak(t,e),$g(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Au(Error(oe(423)),e),e=xT(t,e,r,n,s);break e}else if(r!==s){s=Au(Error(oe(424)),e),e=xT(t,e,r,n,s);break e}else for(Wr=ha(e.stateNode.containerInfo.firstChild),Kr=e,$t=!0,Is=null,n=Pk(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Iu(),r===s){e=ro(t,e,n);break e}lr(t,e,r,n)}e=e.child}return e;case 5:return Dk(e),t===null&&Gw(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bw(r,s)?o=null:i!==null&&Bw(r,i)&&(e.flags|=32),iA(t,e),lr(t,e,o,n),e.child;case 6:return t===null&&Gw(e),null;case 13:return aA(t,e,n);case 4:return T1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Pu(e,null,r,n):lr(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),gT(t,e,r,s,n);case 7:return lr(t,e,e.pendingProps,n),e.child;case 8:return lr(t,e,e.pendingProps.children,n),e.child;case 12:return lr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,jt(Lg,r._currentValue),r._currentValue=o,i!==null)if(Vs(i.value,o)){if(i.children===s.children&&!Pr.current){e=ro(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Qi(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Kw(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(oe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Kw(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}lr(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,eu(e,n),s=vs(s),r=r(s),e.flags|=1,lr(t,e,r,n),e.child;case 14:return r=e.type,s=Ts(r,e.pendingProps),s=Ts(r.type,s),vT(t,e,r,s,n);case 15:return rA(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ts(r,s),ig(t,e),e.tag=1,kr(r)?(t=!0,Mg(e)):t=!1,eu(e,n),eA(e,r,s),Qw(e,r,s,n),Jw(null,e,r,!0,t,n);case 19:return lA(t,e,n);case 22:return sA(t,e,n)}throw Error(oe(156,e.tag))};function SA(t,e){return XP(t,e)}function L9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(t,e,n,r){return new L9(t,e,n,r)}function B1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V9(t){if(typeof t=="function")return B1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===a1)return 11;if(t===l1)return 14}return 2}function ga(t,e){var n=t.alternate;return n===null?(n=us(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lg(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")B1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fc:return jl(n.children,s,i,e);case o1:o=8,s|=8;break;case ww:return t=us(12,n,e,s|2),t.elementType=ww,t.lanes=i,t;case _w:return t=us(13,n,e,s),t.elementType=_w,t.lanes=i,t;case bw:return t=us(19,n,e,s),t.elementType=bw,t.lanes=i,t;case DP:return cy(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kP:o=10;break e;case AP:o=9;break e;case a1:o=11;break e;case l1:o=14;break e;case Mo:o=16,r=null;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=us(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function jl(t,e,n,r){return t=us(7,t,r,e),t.lanes=n,t}function cy(t,e,n,r){return t=us(22,t,r,e),t.elementType=DP,t.lanes=n,t.stateNode={isHidden:!1},t}function ux(t,e,n){return t=us(6,t,null,e),t.lanes=n,t}function dx(t,e,n){return e=us(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $9(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W0(0),this.expirationTimes=W0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W0(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function z1(t,e,n,r,s,i,o,l,c){return t=new $9(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=us(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N1(i),t}function U9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EA(t){if(!t)return Na;t=t._reactInternals;e:{if(oc(t)!==t||t.tag!==1)throw Error(oe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(oe(171))}if(t.tag===1){var n=t.type;if(kr(n))return Ek(t,n,e)}return e}function NA(t,e,n,r,s,i,o,l,c){return t=z1(n,r,!0,t,s,i,o,l,c),t.context=EA(null),n=t.current,r=dr(),s=pa(n),i=Qi(r,s),i.callback=e??null,fa(n,i,s),t.current.lanes=s,Lf(t,s,r),Ar(t,r),t}function uy(t,e,n,r){var s=e.current,i=dr(),o=pa(s);return n=EA(n),e.context===null?e.context=n:e.pendingContext=n,e=Qi(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=fa(s,e,o),t!==null&&(Os(t,s,o,i),ng(t,s,o)),o}function Kg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function H1(t,e){jT(t,e),(t=t.alternate)&&jT(t,e)}function B9(){return null}var TA=typeof reportError=="function"?reportError:function(t){console.error(t)};function W1(t){this._internalRoot=t}dy.prototype.render=W1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(oe(409));uy(t,e,null,null)};dy.prototype.unmount=W1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ol(function(){uy(null,t,null,null)}),e[to]=null}};function dy(t){this._internalRoot=t}dy.prototype.unstable_scheduleHydration=function(t){if(t){var e=sk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fo.length&&e!==0&&e<Fo[n].priority;n++);Fo.splice(n,0,t),n===0&&ok(t)}};function q1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IT(){}function z9(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Kg(o);i.call(u)}}var o=NA(e,r,t,0,null,!1,!1,"",IT);return t._reactRootContainer=o,t[to]=o.current,ef(t.nodeType===8?t.parentNode:t),Ol(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Kg(c);l.call(u)}}var c=z1(t,0,!1,null,null,!1,!1,"",IT);return t._reactRootContainer=c,t[to]=c.current,ef(t.nodeType===8?t.parentNode:t),Ol(function(){uy(e,c,n,r)}),c}function fy(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Kg(o);l.call(c)}}uy(e,o,t,s)}else o=z9(n,e,t,s,r);return Kg(o)}nk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ih(e.pendingLanes);n!==0&&(d1(e,n|1),Ar(e,cn()),!(gt&6)&&(Du=cn()+500,Wa()))}break;case 13:Ol(function(){var r=no(t,1);if(r!==null){var s=dr();Os(r,t,1,s)}}),H1(t,1)}};h1=function(t){if(t.tag===13){var e=no(t,134217728);if(e!==null){var n=dr();Os(e,t,134217728,n)}H1(t,134217728)}};rk=function(t){if(t.tag===13){var e=pa(t),n=no(t,e);if(n!==null){var r=dr();Os(n,t,e,r)}H1(t,e)}};sk=function(){return Et};ik=function(t,e){var n=Et;try{return Et=t,e()}finally{Et=n}};kw=function(t,e,n){switch(e){case"input":if(Ew(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=ry(r);if(!s)throw Error(oe(90));OP(r),Ew(r,s)}}}break;case"textarea":LP(t,n);break;case"select":e=n.value,e!=null&&Qc(t,!!n.multiple,e,!1)}};WP=V1;qP=Ol;var H9={usingClientEntryPoint:!1,Events:[$f,Uc,ry,zP,HP,V1]},Gd={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W9={bundleType:Gd.bundleType,version:Gd.version,rendererPackageName:Gd.rendererPackageName,rendererConfig:Gd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:go.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=YP(t),t===null?null:t.stateNode},findFiberByHostInstance:Gd.findFiberByHostInstance||B9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sp.isDisabled&&Sp.supportsFiber)try{Jv=Sp.inject(W9),mi=Sp}catch{}}ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H9;ts.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q1(e))throw Error(oe(200));return U9(t,e,null,n)};ts.createRoot=function(t,e){if(!q1(t))throw Error(oe(299));var n=!1,r="",s=TA;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=z1(t,1,!1,null,null,n,!1,r,s),t[to]=e.current,ef(t.nodeType===8?t.parentNode:t),new W1(e)};ts.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):(t=Object.keys(t).join(","),Error(oe(268,t)));return t=YP(e),t=t===null?null:t.stateNode,t};ts.flushSync=function(t){return Ol(t)};ts.hydrate=function(t,e,n){if(!hy(e))throw Error(oe(200));return fy(null,t,e,!0,n)};ts.hydrateRoot=function(t,e,n){if(!q1(t))throw Error(oe(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=TA;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NA(e,null,t,1,n??null,s,!1,i,o),t[to]=e.current,ef(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dy(e)};ts.render=function(t,e,n){if(!hy(e))throw Error(oe(200));return fy(null,t,e,!1,n)};ts.unmountComponentAtNode=function(t){if(!hy(t))throw Error(oe(40));return t._reactRootContainer?(Ol(function(){fy(null,null,t,!1,function(){t._reactRootContainer=null,t[to]=null})}),!0):!1};ts.unstable_batchedUpdates=V1;ts.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hy(n))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return fy(t,e,n,!1,r)};ts.version="18.3.1-next-f1338f8080-20240426";function RA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RA)}catch(t){console.error(t)}}RA(),RP.exports=ts;var vo=RP.exports;const G1=gP(vo);var jA,PT=vo;jA=PT.createRoot,PT.hydrateRoot;const q9=1,G9=1e6;let hx=0;function K9(){return hx=(hx+1)%Number.MAX_SAFE_INTEGER,hx.toString()}const fx=new Map,kT=t=>{if(fx.has(t))return;const e=setTimeout(()=>{fx.delete(t),Th({type:"REMOVE_TOAST",toastId:t})},G9);fx.set(t,e)},Y9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,q9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?kT(n):t.toasts.forEach(r=>{kT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},cg=[];let ug={toasts:[]};function Th(t){ug=Y9(ug,t),cg.forEach(e=>{e(ug)})}function Q9({...t}){const e=K9(),n=s=>Th({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Th({type:"DISMISS_TOAST",toastId:e});return Th({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function X9(){const[t,e]=p.useState(ug);return p.useEffect(()=>(cg.push(e),()=>{const n=cg.indexOf(e);n>-1&&cg.splice(n,1)}),[t]),{...t,toast:Q9,dismiss:n=>Th({type:"DISMISS_TOAST",toastId:n})}}function ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Z9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function my(...t){return e=>t.forEach(n=>Z9(n,e))}function He(...t){return p.useCallback(my(...t),t)}function J9(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...y}=h,v=(f==null?void 0:f[t][c])||l,x=p.useMemo(()=>y,Object.values(y));return a.jsx(v.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[t][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,eU(s,...e)]}function eU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var wi=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),i=s.find(tU);if(i){const o=i.props.children,l=s.map(c=>c===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return a.jsx(d_,{...r,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return a.jsx(d_,{...r,ref:e,children:n})});wi.displayName="Slot";var d_=p.forwardRef((t,e)=>{const{children:n,...r}=t;if(p.isValidElement(n)){const s=rU(n);return p.cloneElement(n,{...nU(r,n.props),ref:e?my(e,s):s})}return p.Children.count(n)>1?p.Children.only(null):null});d_.displayName="SlotClone";var K1=({children:t})=>a.jsx(a.Fragment,{children:t});function tU(t){return p.isValidElement(t)&&t.type===K1}function nU(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function rU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function py(t){const e=t+"CollectionProvider",[n,r]=J9(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:y,children:v}=g,x=Z.useRef(null),_=Z.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:_,collectionRef:x,children:v})};o.displayName=e;const l=t+"CollectionSlot",c=Z.forwardRef((g,y)=>{const{scope:v,children:x}=g,_=i(l,v),w=He(y,_.collectionRef);return a.jsx(wi,{ref:w,children:x})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Z.forwardRef((g,y)=>{const{scope:v,children:x,..._}=g,w=Z.useRef(null),b=He(y,w),T=i(u,v);return Z.useEffect(()=>(T.itemMap.set(w,{ref:w,..._}),()=>void T.itemMap.delete(w))),a.jsx(wi,{[d]:"",ref:b,children:x})});h.displayName=u;function f(g){const y=i(t+"CollectionConsumer",g);return Z.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((T,I)=>_.indexOf(T.ref.current)-_.indexOf(I.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,r]}function sU(t,e){const n=p.createContext(e),r=i=>{const{children:o,...l}=i,c=p.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function wr(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=h=>{var _;const{scope:f,children:g,...y}=h,v=((_=f==null?void 0:f[t])==null?void 0:_[c])||l,x=p.useMemo(()=>y,Object.values(y));return a.jsx(v.Provider,{value:x,children:g})};u.displayName=i+"Provider";function d(h,f){var v;const g=((v=f==null?void 0:f[t])==null?void 0:v[c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,iU(s,...e)]}function iU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var oU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ce=oU.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...o}=r,l=i?wi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Y1(t,e){t&&vo.flushSync(()=>t.dispatchEvent(e))}function Ut(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function aU(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lU="DismissableLayer",h_="dismissableLayer.update",cU="dismissableLayer.pointerDownOutside",uU="dismissableLayer.focusOutside",AT,IA=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ac=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(IA),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=He(e,j=>h(j)),v=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(x),w=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,T=w>=_,I=hU(j=>{const S=j.target,N=[...u.branches].some(P=>P.contains(S));!T||N||(s==null||s(j),o==null||o(j),j.defaultPrevented||l==null||l())},f),O=fU(j=>{const S=j.target;[...u.branches].some(P=>P.contains(S))||(i==null||i(j),o==null||o(j),j.defaultPrevented||l==null||l())},f);return aU(j=>{w===u.layers.size-1&&(r==null||r(j),!j.defaultPrevented&&l&&(j.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(AT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),DT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=AT)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),DT())},[d,u]),p.useEffect(()=>{const j=()=>g({});return document.addEventListener(h_,j),()=>document.removeEventListener(h_,j)},[]),a.jsx(Ce.div,{...c,ref:y,style:{pointerEvents:b?T?"auto":"none":void 0,...t.style},onFocusCapture:ie(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ie(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ie(t.onPointerDownCapture,I.onPointerDownCapture)})});ac.displayName=lU;var dU="DismissableLayerBranch",PA=p.forwardRef((t,e)=>{const n=p.useContext(IA),r=p.useRef(null),s=He(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Ce.div,{...t,ref:s})});PA.displayName=dU;function hU(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){kA(cU,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fU(t,e=globalThis==null?void 0:globalThis.document){const n=Ut(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&kA(uU,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function DT(){const t=new CustomEvent(h_);document.dispatchEvent(t)}function kA(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Y1(s,i):s.dispatchEvent(i)}var mU=ac,pU=PA,Sn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},gU="Portal",id=p.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=p.useState(!1);Sn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?G1.createPortal(a.jsx(Ce.div,{...r,ref:e}),o):null});id.displayName=gU;function vU(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var En=t=>{const{present:e,children:n}=t,r=yU(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=He(r.ref,xU(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};En.displayName="Presence";function yU(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=vU(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Ep(r.current);i.current=l==="mounted"?u:"none"},[l]),Sn(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,g=Ep(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Sn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const v=Ep(r.current).includes(g.animationName);if(g.target===e&&v&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},f=g=>{g.target===e&&(i.current=Ep(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ep(t){return(t==null?void 0:t.animationName)||"none"}function xU(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $s({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=wU({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=Ut(n),c=p.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else s(u)},[i,t,s,l]);return[o,c]}function wU({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=Ut(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var _U="VisuallyHidden",Bf=p.forwardRef((t,e)=>a.jsx(Ce.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Bf.displayName=_U;var bU=Bf,Q1="ToastProvider",[X1,CU,SU]=py("Toast"),[AA,Mue]=wr("Toast",[SU]),[EU,gy]=AA(Q1),DA=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Q1}\`. Expected non-empty \`string\`.`),a.jsx(X1.Provider,{scope:e,children:a.jsx(EU,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};DA.displayName=Q1;var MA="ToastViewport",NU=["F8"],f_="toast.viewportPause",m_="toast.viewportResume",OA=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=NU,label:s="Notifications ({hotkey})",...i}=t,o=gy(MA,n),l=CU(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=He(e,h,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;p.useEffect(()=>{const x=_=>{var b;r.length!==0&&r.every(T=>_[T]||_.code===T)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),p.useEffect(()=>{const x=c.current,_=h.current;if(y&&x&&_){const w=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(f_);_.dispatchEvent(O),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(m_);_.dispatchEvent(O),o.isClosePausedRef.current=!1}},T=O=>{!x.contains(O.relatedTarget)&&b()},I=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",w),x.addEventListener("focusout",T),x.addEventListener("pointermove",w),x.addEventListener("pointerleave",I),window.addEventListener("blur",w),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",w),x.removeEventListener("focusout",T),x.removeEventListener("pointermove",w),x.removeEventListener("pointerleave",I),window.removeEventListener("blur",w),window.removeEventListener("focus",b)}}},[y,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:x})=>{const w=l().map(b=>{const T=b.ref.current,I=[T,...VU(T)];return x==="forwards"?I:I.reverse()});return(x==="forwards"?w.reverse():w).flat()},[l]);return p.useEffect(()=>{const x=h.current;if(x){const _=w=>{var I,O,j;const b=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!b){const S=document.activeElement,N=w.shiftKey;if(w.target===x&&N){(I=u.current)==null||I.focus();return}const D=v({tabbingDirection:N?"backwards":"forwards"}),R=D.findIndex($=>$===S);mx(D.slice(R+1))?w.preventDefault():N?(O=u.current)==null||O.focus():(j=d.current)==null||j.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[l,v]),a.jsxs(pU,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(p_,{ref:u,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"forwards"});mx(x)}}),a.jsx(X1.Slot,{scope:n,children:a.jsx(Ce.ol,{tabIndex:-1,...i,ref:f})}),y&&a.jsx(p_,{ref:d,onFocusFromOutsideViewport:()=>{const x=v({tabbingDirection:"backwards"});mx(x)}})]})});OA.displayName=MA;var FA="ToastFocusProxy",p_=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=gy(FA,n);return a.jsx(Bf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&r()}})});p_.displayName=FA;var vy="Toast",TU="toast.swipeStart",RU="toast.swipeMove",jU="toast.swipeCancel",IU="toast.swipeEnd",LA=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=$s({prop:r,defaultProp:s,onChange:i});return a.jsx(En,{present:n||l,children:a.jsx(AU,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Ut(t.onPause),onResume:Ut(t.onResume),onSwipeStart:ie(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ie(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ie(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ie(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});LA.displayName=vy;var[PU,kU]=AA(vy,{onClose(){}}),AU=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...y}=t,v=gy(vy,n),[x,_]=p.useState(null),w=He(e,$=>_($)),b=p.useRef(null),T=p.useRef(null),I=s||v.duration,O=p.useRef(0),j=p.useRef(I),S=p.useRef(0),{onToastAdd:N,onToastRemove:P}=v,k=Ut(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=v.viewport)==null||G.focus()),o()}),D=p.useCallback($=>{!$||$===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(k,$))},[k]);p.useEffect(()=>{const $=v.viewport;if($){const G=()=>{D(j.current),u==null||u()},q=()=>{const H=new Date().getTime()-O.current;j.current=j.current-H,window.clearTimeout(S.current),c==null||c()};return $.addEventListener(f_,q),$.addEventListener(m_,G),()=>{$.removeEventListener(f_,q),$.removeEventListener(m_,G)}}},[v.viewport,I,c,u,D]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(I)},[i,I,v.isClosePausedRef,D]),p.useEffect(()=>(N(),()=>P()),[N,P]);const R=p.useMemo(()=>x?WA(x):null,[x]);return v.viewport?a.jsxs(a.Fragment,{children:[R&&a.jsx(DU,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),a.jsx(PU,{scope:n,onClose:k,children:vo.createPortal(a.jsx(X1.ItemSlot,{scope:n,children:a.jsx(mU,{asChild:!0,onEscapeKeyDown:ie(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ie(t.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ie(t.onPointerDown,$=>{$.button===0&&(b.current={x:$.clientX,y:$.clientY})}),onPointerMove:ie(t.onPointerMove,$=>{if(!b.current)return;const G=$.clientX-b.current.x,q=$.clientY-b.current.y,H=!!T.current,M=["left","right"].includes(v.swipeDirection),U=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,re=M?U(0,G):0,W=M?0:U(0,q),F=$.pointerType==="touch"?10:2,Q={x:re,y:W},pe={originalEvent:$,delta:Q};H?(T.current=Q,Np(RU,h,pe,{discrete:!1})):MT(Q,v.swipeDirection,F)?(T.current=Q,Np(TU,d,pe,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(G)>F||Math.abs(q)>F)&&(b.current=null)}),onPointerUp:ie(t.onPointerUp,$=>{const G=T.current,q=$.target;if(q.hasPointerCapture($.pointerId)&&q.releasePointerCapture($.pointerId),T.current=null,b.current=null,G){const H=$.currentTarget,M={originalEvent:$,delta:G};MT(G,v.swipeDirection,v.swipeThreshold)?Np(IU,g,M,{discrete:!0}):Np(jU,f,M,{discrete:!0}),H.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),DU=t=>{const{__scopeToast:e,children:n,...r}=t,s=gy(vy,e),[i,o]=p.useState(!1),[l,c]=p.useState(!1);return FU(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(id,{asChild:!0,children:a.jsx(Bf,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},MU="ToastTitle",VA=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ce.div,{...r,ref:e})});VA.displayName=MU;var OU="ToastDescription",$A=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Ce.div,{...r,ref:e})});$A.displayName=OU;var UA="ToastAction",BA=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(HA,{altText:n,asChild:!0,children:a.jsx(Z1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${UA}\`. Expected non-empty \`string\`.`),null)});BA.displayName=UA;var zA="ToastClose",Z1=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=kU(zA,n);return a.jsx(HA,{asChild:!0,children:a.jsx(Ce.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,s.onClose)})})});Z1.displayName=zA;var HA=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function WA(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),LU(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...WA(r))}}),e}function Np(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?Y1(s,i):s.dispatchEvent(i)}var MT=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function FU(t=()=>{}){const e=Ut(t);Sn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function LU(t){return t.nodeType===t.ELEMENT_NODE}function VU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function mx(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $U=DA,qA=OA,GA=LA,KA=VA,YA=$A,QA=BA,XA=Z1;function ZA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=ZA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JA(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=ZA(t))&&(r&&(r+=" "),r+=e);return r}const OT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,FT=JA,zf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return FT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const f=OT(d)||OT(h);return s[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(y=>{let[v,x]=y;return Array.isArray(x)?x.includes({...i,...l}[v]):{...i,...l}[v]===x})?[...u,h,f]:u},[]);return FT(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...BU,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:e2("lucide",s),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(zU,{ref:i,iconNode:e,className:e2(`lucide-${UU(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=ke("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=ke("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=ke("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=ke("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eC=ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ke("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=ke("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=ke("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=ke("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ke("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ke("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=ke("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ke("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=ke("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ui=ke("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=ke("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ke("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=ke("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=ke("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=ke("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),nC="-",JU=t=>{const e=t8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(nC);return l[0]===""&&l.length!==1&&l.shift(),h2(l,e)||e8(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},h2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?h2(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(nC);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},UT=/^\[(.+)\]$/,e8=t=>{if(UT.test(t)){const e=UT.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},t8=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return r8(Object.entries(t.classGroups),n).forEach(([i,o])=>{y_(o,r,i,e)}),r},y_=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:BT(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(n8(s)){y_(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{y_(o,BT(e,i),n,r)})})},BT=(t,e)=>{let n=t;return e.split(nC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},n8=t=>t.isThemeGetter,r8=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,s8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},f2="!",i8=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let x=0;x<l.length;x++){let _=l[x];if(u===0){if(_===s&&(r||l.slice(x,x+i)===e)){c.push(l.slice(d,x)),d=x+i;continue}if(_==="/"){h=x;continue}}_==="["?u++:_==="]"&&u--}const f=c.length===0?l:l.substring(d),g=f.startsWith(f2),y=g?f.substring(1):f,v=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},o8=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},a8=t=>({cache:s8(t.cacheSize),parseClassName:i8(t),...JU(t)}),l8=/\s+/,c8=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(l8);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let y=!!g,v=r(y?f.substring(0,g):f);if(!v){if(!y){l=u+(l.length>0?" "+l:l);continue}if(v=r(f),!v){l=u+(l.length>0?" "+l:l);continue}y=!1}const x=o8(d).join(":"),_=h?x+f2:x,w=_+v;if(i.includes(w))continue;i.push(w);const b=s(v,y);for(let T=0;T<b.length;++T){const I=b[T];i.push(_+I)}l=u+(l.length>0?" "+l:l)}return l};function u8(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=m2(e))&&(r&&(r+=" "),r+=n);return r}const m2=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=m2(t[r]))&&(n&&(n+=" "),n+=e);return n};function d8(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=a8(u),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=c8(c,n);return s(c,d),d}return function(){return i(u8.apply(null,arguments))}}const kt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},p2=/^\[(?:([a-z-]+):)?(.+)\]$/i,h8=/^\d+\/\d+$/,f8=new Set(["px","full","screen"]),m8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,p8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,g8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,y8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Oi=t=>nu(t)||f8.has(t)||h8.test(t),Ro=t=>ad(t,"length",N8),nu=t=>!!t&&!Number.isNaN(Number(t)),px=t=>ad(t,"number",nu),Kd=t=>!!t&&Number.isInteger(Number(t)),x8=t=>t.endsWith("%")&&nu(t.slice(0,-1)),Ze=t=>p2.test(t),jo=t=>m8.test(t),w8=new Set(["length","size","percentage"]),_8=t=>ad(t,w8,g2),b8=t=>ad(t,"position",g2),C8=new Set(["image","url"]),S8=t=>ad(t,C8,R8),E8=t=>ad(t,"",T8),Yd=()=>!0,ad=(t,e,n)=>{const r=p2.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},N8=t=>p8.test(t)&&!g8.test(t),g2=()=>!1,T8=t=>v8.test(t),R8=t=>y8.test(t),j8=()=>{const t=kt("colors"),e=kt("spacing"),n=kt("blur"),r=kt("brightness"),s=kt("borderColor"),i=kt("borderRadius"),o=kt("borderSpacing"),l=kt("borderWidth"),c=kt("contrast"),u=kt("grayscale"),d=kt("hueRotate"),h=kt("invert"),f=kt("gap"),g=kt("gradientColorStops"),y=kt("gradientColorStopPositions"),v=kt("inset"),x=kt("margin"),_=kt("opacity"),w=kt("padding"),b=kt("saturate"),T=kt("scale"),I=kt("sepia"),O=kt("skew"),j=kt("space"),S=kt("translate"),N=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",Ze,e],D=()=>[Ze,e],R=()=>["",Oi,Ro],$=()=>["auto",nu,Ze],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ze],re=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[nu,Ze];return{cacheSize:500,separator:":",theme:{colors:[Yd],spacing:[Oi,Ro],blur:["none","",jo,Ze],brightness:W(),borderColor:[t],borderRadius:["none","","full",jo,Ze],borderSpacing:D(),borderWidth:R(),contrast:W(),grayscale:U(),hueRotate:W(),invert:U(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[x8,Ro],inset:k(),margin:k(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:U(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",Ze]}],container:["container"],columns:[{columns:[jo]}],"break-after":[{"break-after":re()}],"break-before":[{"break-before":re()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Ze]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,Ze]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ze]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Kd,Ze]}],"grid-cols":[{"grid-cols":[Yd]}],"col-start-end":[{col:["auto",{span:["full",Kd,Ze]},Ze]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Yd]}],"row-start-end":[{row:["auto",{span:[Kd,Ze]},Ze]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ze]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[j]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[j]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ze,e]}],"min-w":[{"min-w":[Ze,e,"min","max","fit"]}],"max-w":[{"max-w":[Ze,e,"none","full","min","max","fit","prose",{screen:[jo]},jo]}],h:[{h:[Ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jo,Ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",px]}],"font-family":[{font:[Yd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ze]}],"line-clamp":[{"line-clamp":["none",nu,px]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Oi,Ze]}],"list-image":[{"list-image":["none",Ze]}],"list-style-type":[{list:["none","disc","decimal",Ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Oi,Ro]}],"underline-offset":[{"underline-offset":["auto",Oi,Ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),b8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",_8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},S8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Oi,Ze]}],"outline-w":[{outline:[Oi,Ro]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Oi,Ro]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jo,E8]}],"shadow-color":[{shadow:[Yd]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",jo,Ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ze]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",Ze]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Kd,Ze]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Oi,Ro,px]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},I8=d8(j8);function te(...t){return I8(JA(t))}const P8=$U,v2=p.forwardRef(({className:t,...e},n)=>a.jsx(qA,{ref:n,className:te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));v2.displayName=qA.displayName;const k8=zf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y2=p.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(GA,{ref:r,className:te(k8({variant:e}),t),...n}));y2.displayName=GA.displayName;const A8=p.forwardRef(({className:t,...e},n)=>a.jsx(QA,{ref:n,className:te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));A8.displayName=QA.displayName;const x2=p.forwardRef(({className:t,...e},n)=>a.jsx(XA,{ref:n,className:te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(cc,{className:"h-4 w-4"})}));x2.displayName=XA.displayName;const w2=p.forwardRef(({className:t,...e},n)=>a.jsx(KA,{ref:n,className:te("text-sm font-semibold",t),...e}));w2.displayName=KA.displayName;const _2=p.forwardRef(({className:t,...e},n)=>a.jsx(YA,{ref:n,className:te("text-sm opacity-90",t),...e}));_2.displayName=YA.displayName;function D8(){const{toasts:t}=X9();return a.jsxs(P8,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(y2,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(w2,{children:n}),r&&a.jsx(_2,{children:r})]}),s,a.jsx(x2,{})]},e)}),a.jsx(v2,{})]})}var zT=["light","dark"],M8="(prefers-color-scheme: dark)",O8=p.createContext(void 0),F8={setTheme:t=>{},themes:[]},L8=()=>{var t;return(t=p.useContext(O8))!=null?t:F8};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?zT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(y,v=!1,x=!0)=>{let _=o?o[y]:y,w=v?y+"|| ''":`'${_}'`,b="";return s&&x&&!v&&zT.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),n==="class"?v||_?b+=`c.add(${w})`:b+="null":_&&(b+=`d[s](n,${w})`),b},g=t?`!function(){${d}${f(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${M8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(i,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(i,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var V8=t=>{switch(t){case"success":return B8;case"info":return H8;case"warning":return z8;case"error":return W8;default:return null}},$8=Array(12).fill(0),U8=({visible:t})=>Z.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Z.createElement("div",{className:"sonner-spinner"},$8.map((e,n)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),B8=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),z8=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),H8=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),W8=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),q8=()=>{let[t,e]=Z.useState(document.hidden);return Z.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},x_=1,G8=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:x_++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(Y8(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||x_++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Br=new G8,K8=(t,e)=>{let n=(e==null?void 0:e.id)||x_++;return Br.addToast({title:t,...e,id:n}),n},Y8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Q8=K8,X8=()=>Br.toasts,ne=Object.assign(Q8,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:X8});function Z8(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Z8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Tp(t){return t.label!==void 0}var J8=3,eB="32px",tB=4e3,nB=356,rB=14,sB=20,iB=200;function oB(...t){return t.filter(Boolean).join(" ")}var aB=t=>{var e,n,r,s,i,o,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:y,setHeights:v,visibleToasts:x,heights:_,index:w,toasts:b,expanded:T,removeToast:I,defaultRichColors:O,closeButton:j,style:S,cancelButtonStyle:N,actionButtonStyle:P,className:k="",descriptionClassName:D="",duration:R,position:$,gap:G,loadingIcon:q,expandByDefault:H,classNames:M,icons:U,closeButtonAriaLabel:re="Close toast",pauseWhenPageIsHidden:W,cn:F}=t,[Q,pe]=Z.useState(!1),[he,me]=Z.useState(!1),[le,Re]=Z.useState(!1),[Ue,Ve]=Z.useState(!1),[nt,rt]=Z.useState(0),[Xt,hn]=Z.useState(0),Vr=Z.useRef(null),$n=Z.useRef(null),Qs=w===0,L=w+1<=x,B=f.type,Y=f.dismissible!==!1,fe=f.className||"",ce=f.descriptionClassName||"",se=Z.useMemo(()=>_.findIndex(Be=>Be.toastId===f.id)||0,[_,f.id]),Se=Z.useMemo(()=>{var Be;return(Be=f.closeButton)!=null?Be:j},[f.closeButton,j]),We=Z.useMemo(()=>f.duration||R||tB,[f.duration,R]),et=Z.useRef(0),Xe=Z.useRef(0),rr=Z.useRef(0),Cs=Z.useRef(null),[ki,ol]=$.split("-"),Xs=Z.useMemo(()=>_.reduce((Be,Nt,_t)=>_t>=se?Be:Be+Nt.height,0),[_,se]),bo=q8(),vc=f.invert||h,Zs=B==="loading";Xe.current=Z.useMemo(()=>se*G+Xs,[se,Xs]),Z.useEffect(()=>{pe(!0)},[]),Z.useLayoutEffect(()=>{if(!Q)return;let Be=$n.current,Nt=Be.style.height;Be.style.height="auto";let _t=Be.getBoundingClientRect().height;Be.style.height=Nt,hn(_t),v(Un=>Un.find(br=>br.toastId===f.id)?Un.map(br=>br.toastId===f.id?{...br,height:_t}:br):[{toastId:f.id,height:_t,position:f.position},...Un])},[Q,f.title,f.description,v,f.id]);let Js=Z.useCallback(()=>{me(!0),rt(Xe.current),v(Be=>Be.filter(Nt=>Nt.toastId!==f.id)),setTimeout(()=>{I(f)},iB)},[f,I,v,Xe]);Z.useEffect(()=>{if(f.promise&&B==="loading"||f.duration===1/0||f.type==="loading")return;let Be,Nt=We;return T||y||W&&bo?(()=>{if(rr.current<et.current){let _t=new Date().getTime()-et.current;Nt=Nt-_t}rr.current=new Date().getTime()})():Nt!==1/0&&(et.current=new Date().getTime(),Be=setTimeout(()=>{var _t;(_t=f.onAutoClose)==null||_t.call(f,f),Js()},Nt)),()=>clearTimeout(Be)},[T,y,H,f,We,Js,f.promise,B,W,bo]),Z.useEffect(()=>{let Be=$n.current;if(Be){let Nt=Be.getBoundingClientRect().height;return hn(Nt),v(_t=>[{toastId:f.id,height:Nt,position:f.position},..._t]),()=>v(_t=>_t.filter(Un=>Un.toastId!==f.id))}},[v,f.id]),Z.useEffect(()=>{f.delete&&Js()},[Js,f.delete]);function N0(){return U!=null&&U.loading?Z.createElement("div",{className:"sonner-loader","data-visible":B==="loading"},U.loading):q?Z.createElement("div",{className:"sonner-loader","data-visible":B==="loading"},q):Z.createElement(U8,{visible:B==="loading"})}return Z.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:$n,className:F(k,fe,M==null?void 0:M.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,M==null?void 0:M.default,M==null?void 0:M[B],(n=f==null?void 0:f.classNames)==null?void 0:n[B]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:O,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":Q,"data-promise":!!f.promise,"data-removed":he,"data-visible":L,"data-y-position":ki,"data-x-position":ol,"data-index":w,"data-front":Qs,"data-swiping":le,"data-dismissible":Y,"data-type":B,"data-invert":vc,"data-swipe-out":Ue,"data-expanded":!!(T||H&&Q),style:{"--index":w,"--toasts-before":w,"--z-index":b.length-w,"--offset":`${he?nt:Xe.current}px`,"--initial-height":H?"auto":`${Xt}px`,...S,...f.style},onPointerDown:Be=>{Zs||!Y||(Vr.current=new Date,rt(Xe.current),Be.target.setPointerCapture(Be.pointerId),Be.target.tagName!=="BUTTON"&&(Re(!0),Cs.current={x:Be.clientX,y:Be.clientY}))},onPointerUp:()=>{var Be,Nt,_t,Un;if(Ue||!Y)return;Cs.current=null;let br=Number(((Be=$n.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Co=new Date().getTime()-((Nt=Vr.current)==null?void 0:Nt.getTime()),Ai=Math.abs(br)/Co;if(Math.abs(br)>=sB||Ai>.11){rt(Xe.current),(_t=f.onDismiss)==null||_t.call(f,f),Js(),Ve(!0);return}(Un=$n.current)==null||Un.style.setProperty("--swipe-amount","0px"),Re(!1)},onPointerMove:Be=>{var Nt;if(!Cs.current||!Y)return;let _t=Be.clientY-Cs.current.y,Un=Be.clientX-Cs.current.x,br=(ki==="top"?Math.min:Math.max)(0,_t),Co=Be.pointerType==="touch"?10:2;Math.abs(br)>Co?(Nt=$n.current)==null||Nt.style.setProperty("--swipe-amount",`${_t}px`):Math.abs(Un)>Co&&(Cs.current=null)}},Se&&!f.jsx?Z.createElement("button",{"aria-label":re,"data-disabled":Zs,"data-close-button":!0,onClick:Zs||!Y?()=>{}:()=>{var Be;Js(),(Be=f.onDismiss)==null||Be.call(f,f)},className:F(M==null?void 0:M.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||Z.isValidElement(f.title)?f.jsx||f.title:Z.createElement(Z.Fragment,null,B||f.icon||f.promise?Z.createElement("div",{"data-icon":"",className:F(M==null?void 0:M.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||N0():null,f.type!=="loading"?f.icon||(U==null?void 0:U[B])||V8(B):null):null,Z.createElement("div",{"data-content":"",className:F(M==null?void 0:M.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},Z.createElement("div",{"data-title":"",className:F(M==null?void 0:M.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?Z.createElement("div",{"data-description":"",className:F(D,ce,M==null?void 0:M.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),Z.isValidElement(f.cancel)?f.cancel:f.cancel&&Tp(f.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:Be=>{var Nt,_t;Tp(f.cancel)&&Y&&((_t=(Nt=f.cancel).onClick)==null||_t.call(Nt,Be),Js())},className:F(M==null?void 0:M.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,Z.isValidElement(f.action)?f.action:f.action&&Tp(f.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:Be=>{var Nt,_t;Tp(f.action)&&(Be.defaultPrevented||((_t=(Nt=f.action).onClick)==null||_t.call(Nt,Be),Js()))},className:F(M==null?void 0:M.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function HT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var lB=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=J8,toastOptions:g,dir:y=HT(),gap:v=rB,loadingIcon:x,icons:_,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b,cn:T=oB}=t,[I,O]=Z.useState([]),j=Z.useMemo(()=>Array.from(new Set([n].concat(I.filter(W=>W.position).map(W=>W.position)))),[I,n]),[S,N]=Z.useState([]),[P,k]=Z.useState(!1),[D,R]=Z.useState(!1),[$,G]=Z.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=Z.useRef(null),H=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=Z.useRef(null),U=Z.useRef(!1),re=Z.useCallback(W=>{var F;(F=I.find(Q=>Q.id===W.id))!=null&&F.delete||Br.dismiss(W.id),O(Q=>Q.filter(({id:pe})=>pe!==W.id))},[I]);return Z.useEffect(()=>Br.subscribe(W=>{if(W.dismiss){O(F=>F.map(Q=>Q.id===W.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{G1.flushSync(()=>{O(F=>{let Q=F.findIndex(pe=>pe.id===W.id);return Q!==-1?[...F.slice(0,Q),{...F[Q],...W},...F.slice(Q+1)]:[W,...F]})})})}),[]),Z.useEffect(()=>{if(c!=="system"){G(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:W})=>{G(W?"dark":"light")})},[c]),Z.useEffect(()=>{I.length<=1&&k(!1)},[I]),Z.useEffect(()=>{let W=F=>{var Q,pe;r.every(he=>F[he]||F.code===he)&&(k(!0),(Q=q.current)==null||Q.focus()),F.code==="Escape"&&(document.activeElement===q.current||(pe=q.current)!=null&&pe.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[r]),Z.useEffect(()=>{if(q.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,U.current=!1)}},[q.current]),I.length?Z.createElement("section",{"aria-label":`${w} ${H}`,tabIndex:-1},j.map((W,F)=>{var Q;let[pe,he]=W.split("-");return Z.createElement("ol",{key:W,dir:y==="auto"?HT():y,tabIndex:-1,ref:q,className:o,"data-sonner-toaster":!0,"data-theme":$,"data-y-position":pe,"data-x-position":he,style:{"--front-toast-height":`${((Q=S[0])==null?void 0:Q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||eB,"--width":`${nB}px`,"--gap":`${v}px`,...h},onBlur:me=>{U.current&&!me.currentTarget.contains(me.relatedTarget)&&(U.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||U.current||(U.current=!0,M.current=me.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||R(!0)},onPointerUp:()=>R(!1)},I.filter(me=>!me.position&&F===0||me.position===W).map((me,le)=>{var Re,Ue;return Z.createElement(aB,{key:me.id,icons:_,index:le,toast:me,defaultRichColors:u,duration:(Re=g==null?void 0:g.duration)!=null?Re:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Ue=g==null?void 0:g.closeButton)!=null?Ue:i,interacting:D,position:W,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:re,toasts:I.filter(Ve=>Ve.position==me.position),heights:S.filter(Ve=>Ve.position==me.position),setHeights:N,expandByDefault:s,gap:v,loadingIcon:x,expanded:P,pauseWhenPageIsHidden:b,cn:T})}))})):null};const cB=({...t})=>{const{theme:e="system"}=L8();return a.jsx(lB,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var uB=n1.useId||(()=>{}),dB=0;function Fs(t){const[e,n]=p.useState(uB());return Sn(()=>{t||n(r=>r??String(dB++))},[t]),t||(e?`radix-${e}`:"")}const hB=["top","right","bottom","left"],Ra=Math.min,Hr=Math.max,Xg=Math.round,Rp=Math.floor,ja=t=>({x:t,y:t}),fB={left:"right",right:"left",bottom:"top",top:"bottom"},mB={start:"end",end:"start"};function w_(t,e,n){return Hr(t,Ra(e,n))}function so(t,e){return typeof t=="function"?t(e):t}function io(t){return t.split("-")[0]}function ld(t){return t.split("-")[1]}function rC(t){return t==="x"?"y":"x"}function sC(t){return t==="y"?"height":"width"}function Ia(t){return["top","bottom"].includes(io(t))?"y":"x"}function iC(t){return rC(Ia(t))}function pB(t,e,n){n===void 0&&(n=!1);const r=ld(t),s=iC(t),i=sC(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Zg(o)),[o,Zg(o)]}function gB(t){const e=Zg(t);return[__(t),e,__(e)]}function __(t){return t.replace(/start|end/g,e=>mB[e])}function vB(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function yB(t,e,n,r){const s=ld(t);let i=vB(io(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(__)))),i}function Zg(t){return t.replace(/left|right|bottom|top/g,e=>fB[e])}function xB(t){return{top:0,right:0,bottom:0,left:0,...t}}function b2(t){return typeof t!="number"?xB(t):{top:t,right:t,bottom:t,left:t}}function Jg(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function WT(t,e,n){let{reference:r,floating:s}=t;const i=Ia(e),o=iC(e),l=sC(o),c=io(e),u=i==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,f=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-s.width,y:h};break;default:g={x:r.x,y:r.y}}switch(ld(e)){case"start":g[o]-=f*(n&&u?-1:1);break;case"end":g[o]+=f*(n&&u?-1:1);break}return g}const wB=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:h}=WT(u,r,c),f=r,g={},y=0;for(let v=0;v<l.length;v++){const{name:x,fn:_}=l[v],{x:w,y:b,data:T,reset:I}=await _({x:d,y:h,initialPlacement:r,placement:f,strategy:s,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=w??d,h=b??h,g={...g,[x]:{...g[x],...T}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(u=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):I.rects),{x:d,y:h}=WT(u,f,c)),v=-1)}return{x:d,y:h,placement:f,strategy:s,middlewareData:g}};async function uf(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=so(e,t),y=b2(g),x=l[f?h==="floating"?"reference":"floating":h],_=Jg(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=h==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},I=Jg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:c}):w);return{top:(_.top-I.top+y.top)/T.y,bottom:(I.bottom-_.bottom+y.bottom)/T.y,left:(_.left-I.left+y.left)/T.x,right:(I.right-_.right+y.right)/T.x}}const _B=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=so(t,e)||{};if(u==null)return{};const h=b2(d),f={x:n,y:r},g=iC(s),y=sC(g),v=await o.getDimensions(u),x=g==="y",_=x?"top":"left",w=x?"bottom":"right",b=x?"clientHeight":"clientWidth",T=i.reference[y]+i.reference[g]-f[g]-i.floating[y],I=f[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let j=O?O[b]:0;(!j||!await(o.isElement==null?void 0:o.isElement(O)))&&(j=l.floating[b]||i.floating[y]);const S=T/2-I/2,N=j/2-v[y]/2-1,P=Ra(h[_],N),k=Ra(h[w],N),D=P,R=j-v[y]-k,$=j/2-v[y]/2+S,G=w_(D,$,R),q=!c.arrow&&ld(s)!=null&&$!==G&&i.reference[y]/2-($<D?P:k)-v[y]/2<0,H=q?$<D?$-D:$-R:0;return{[g]:f[g]+H,data:{[g]:G,centerOffset:$-G-H,...q&&{alignmentOffset:H}},reset:q}}}),bB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=so(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=io(s),w=Ia(l),b=io(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=f||(b||!v?[Zg(l)]:gB(l)),O=y!=="none";!f&&O&&I.push(...yB(l,v,y,T));const j=[l,...I],S=await uf(e,x),N=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&N.push(S[_]),h){const $=pB(s,o,T);N.push(S[$[0]],S[$[1]])}if(P=[...P,{placement:s,overflows:N}],!N.every($=>$<=0)){var k,D;const $=(((k=i.flip)==null?void 0:k.index)||0)+1,G=j[$];if(G)return{data:{index:$,overflows:P},reset:{placement:G}};let q=(D=P.filter(H=>H.overflows[0]<=0).sort((H,M)=>H.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!q)switch(g){case"bestFit":{var R;const H=(R=P.filter(M=>{if(O){const U=Ia(M.placement);return U===w||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,re)=>U+re,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:R[0];H&&(q=H);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}};function qT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GT(t){return hB.some(e=>t[e]>=0)}const CB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=so(t,e);switch(r){case"referenceHidden":{const i=await uf(e,{...s,elementContext:"reference"}),o=qT(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:GT(o)}}}case"escaped":{const i=await uf(e,{...s,altBoundary:!0}),o=qT(i,n.floating);return{data:{escapedOffsets:o,escaped:GT(o)}}}default:return{}}}}};async function SB(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=io(n),l=ld(n),c=Ia(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,h=so(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:f*u}:{x:f*u,y:g*d}}const EB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await SB(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},NB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:x=>{let{x:_,y:w}=x;return{x:_,y:w}}},...c}=so(t,e),u={x:n,y:r},d=await uf(e,c),h=Ia(io(s)),f=rC(h);let g=u[f],y=u[h];if(i){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=g+d[x],b=g-d[_];g=w_(w,g,b)}if(o){const x=h==="y"?"top":"left",_=h==="y"?"bottom":"right",w=y+d[x],b=y-d[_];y=w_(w,y,b)}const v=l.fn({...e,[f]:g,[h]:y});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[f]:i,[h]:o}}}}}},TB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=so(t,e),d={x:n,y:r},h=Ia(s),f=rC(h);let g=d[f],y=d[h];const v=so(l,e),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=f==="y"?"height":"width",T=i.reference[f]-i.floating[b]+x.mainAxis,I=i.reference[f]+i.reference[b]-x.mainAxis;g<T?g=T:g>I&&(g=I)}if(u){var _,w;const b=f==="y"?"width":"height",T=["top","left"].includes(io(s)),I=i.reference[h]-i.floating[b]+(T&&((_=o.offset)==null?void 0:_[h])||0)+(T?0:x.crossAxis),O=i.reference[h]+i.reference[b]+(T?0:((w=o.offset)==null?void 0:w[h])||0)-(T?x.crossAxis:0);y<I?y=I:y>O&&(y=O)}return{[f]:g,[h]:y}}}},RB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=so(t,e),d=await uf(e,u),h=io(s),f=ld(s),g=Ia(s)==="y",{width:y,height:v}=i.floating;let x,_;h==="top"||h==="bottom"?(x=h,_=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=h,x=f==="end"?"top":"bottom");const w=v-d.top-d.bottom,b=y-d.left-d.right,T=Ra(v-d[x],w),I=Ra(y-d[_],b),O=!e.middlewareData.shift;let j=T,S=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(j=w),O&&!f){const P=Hr(d.left,0),k=Hr(d.right,0),D=Hr(d.top,0),R=Hr(d.bottom,0);g?S=y-2*(P!==0||k!==0?P+k:Hr(d.left,d.right)):j=v-2*(D!==0||R!==0?D+R:Hr(d.top,d.bottom))}await c({...e,availableWidth:S,availableHeight:j});const N=await o.getDimensions(l.floating);return y!==N.width||v!==N.height?{reset:{rects:!0}}:{}}}};function wy(){return typeof window<"u"}function cd(t){return C2(t)?(t.nodeName||"").toLowerCase():"#document"}function Yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ni(t){var e;return(e=(C2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function C2(t){return wy()?t instanceof Node||t instanceof Yr(t).Node:!1}function Us(t){return wy()?t instanceof Element||t instanceof Yr(t).Element:!1}function _i(t){return wy()?t instanceof HTMLElement||t instanceof Yr(t).HTMLElement:!1}function KT(t){return!wy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yr(t).ShadowRoot}function Kf(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function jB(t){return["table","td","th"].includes(cd(t))}function _y(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function oC(t){const e=aC(),n=Us(t)?Bs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function IB(t){let e=Pa(t);for(;_i(e)&&!Vu(e);){if(oC(e))return e;if(_y(e))return null;e=Pa(e)}return null}function aC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vu(t){return["html","body","#document"].includes(cd(t))}function Bs(t){return Yr(t).getComputedStyle(t)}function by(t){return Us(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Pa(t){if(cd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KT(t)&&t.host||Ni(t);return KT(e)?e.host:e}function S2(t){const e=Pa(t);return Vu(e)?t.ownerDocument?t.ownerDocument.body:t.body:_i(e)&&Kf(e)?e:S2(e)}function df(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=S2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Yr(s);if(i){const l=b_(o);return e.concat(o,o.visualViewport||[],Kf(s)?s:[],l&&n?df(l):[])}return e.concat(s,df(s,[],n))}function b_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function E2(t){const e=Bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=_i(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Xg(n)!==i||Xg(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function lC(t){return Us(t)?t:t.contextElement}function ru(t){const e=lC(t);if(!_i(e))return ja(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=E2(e);let o=(i?Xg(n.width):n.width)/r,l=(i?Xg(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const PB=ja(0);function N2(t){const e=Yr(t);return!aC()||!e.visualViewport?PB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kB(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yr(t)?!1:e}function Vl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=lC(t);let o=ja(1);e&&(r?Us(r)&&(o=ru(r)):o=ru(t));const l=kB(i,n,r)?N2(i):ja(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const f=Yr(i),g=r&&Us(r)?Yr(r):r;let y=f,v=b_(y);for(;v&&r&&g!==y;){const x=ru(v),_=v.getBoundingClientRect(),w=Bs(v),b=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*x.x,T=_.top+(v.clientTop+parseFloat(w.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,h*=x.y,c+=b,u+=T,y=Yr(v),v=b_(y)}}return Jg({width:d,height:h,x:c,y:u})}function AB(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Ni(r),l=e?_y(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=ja(1);const d=ja(0),h=_i(r);if((h||!h&&!i)&&((cd(r)!=="body"||Kf(o))&&(c=by(r)),_i(r))){const f=Vl(r);u=ru(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function DB(t){return Array.from(t.getClientRects())}function C_(t,e){const n=by(t).scrollLeft;return e?e.left+n:Vl(Ni(t)).left+n}function MB(t){const e=Ni(t),n=by(t),r=t.ownerDocument.body,s=Hr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Hr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+C_(t);const l=-n.scrollTop;return Bs(r).direction==="rtl"&&(o+=Hr(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function OB(t,e){const n=Yr(t),r=Ni(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const u=aC();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function FB(t,e){const n=Vl(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=_i(t)?ru(t):ja(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:l,x:c,y:u}}function YT(t,e,n){let r;if(e==="viewport")r=OB(t,n);else if(e==="document")r=MB(Ni(t));else if(Us(e))r=FB(e,n);else{const s=N2(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Jg(r)}function T2(t,e){const n=Pa(t);return n===e||!Us(n)||Vu(n)?!1:Bs(n).position==="fixed"||T2(n,e)}function LB(t,e){const n=e.get(t);if(n)return n;let r=df(t,[],!1).filter(l=>Us(l)&&cd(l)!=="body"),s=null;const i=Bs(t).position==="fixed";let o=i?Pa(t):t;for(;Us(o)&&!Vu(o);){const l=Bs(o),c=oC(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Kf(o)&&!c&&T2(t,o))?r=r.filter(d=>d!==o):s=l,o=Pa(o)}return e.set(t,r),r}function VB(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?_y(e)?[]:LB(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const h=YT(e,d,s);return u.top=Hr(h.top,u.top),u.right=Ra(h.right,u.right),u.bottom=Ra(h.bottom,u.bottom),u.left=Hr(h.left,u.left),u},YT(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $B(t){const{width:e,height:n}=E2(t);return{width:e,height:n}}function UB(t,e,n){const r=_i(e),s=Ni(e),i=n==="fixed",o=Vl(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=ja(0);if(r||!r&&!i)if((cd(e)!=="body"||Kf(s))&&(l=by(e)),r){const g=Vl(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&(c.x=C_(s));let u=0,d=0;if(s&&!r&&!i){const g=s.getBoundingClientRect();d=g.top+l.scrollTop,u=g.left+l.scrollLeft-C_(s,g)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function gx(t){return Bs(t).position==="static"}function QT(t,e){if(!_i(t)||Bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ni(t)===n&&(n=n.ownerDocument.body),n}function R2(t,e){const n=Yr(t);if(_y(t))return n;if(!_i(t)){let s=Pa(t);for(;s&&!Vu(s);){if(Us(s)&&!gx(s))return s;s=Pa(s)}return n}let r=QT(t,e);for(;r&&jB(r)&&gx(r);)r=QT(r,e);return r&&Vu(r)&&gx(r)&&!oC(r)?n:r||IB(t)||n}const BB=async function(t){const e=this.getOffsetParent||R2,n=this.getDimensions,r=await n(t.floating);return{reference:UB(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function zB(t){return Bs(t).direction==="rtl"}const HB={convertOffsetParentRelativeRectToViewportRelativeRect:AB,getDocumentElement:Ni,getClippingRect:VB,getOffsetParent:R2,getElementRects:BB,getClientRects:DB,getDimensions:$B,getScale:ru,isElement:Us,isRTL:zB};function WB(t,e){let n=null,r;const s=Ni(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const g=Rp(d),y=Rp(s.clientWidth-(u+h)),v=Rp(s.clientHeight-(d+f)),x=Rp(u),w={rootMargin:-g+"px "+-y+"px "+-v+"px "+-x+"px",threshold:Hr(0,Ra(1,c))||1};let b=!0;function T(I){const O=I[0].intersectionRatio;if(O!==c){if(!b)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(T,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(T,w)}n.observe(t)}return o(!0),i}function qB(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=lC(t),d=s||i?[...u?df(u):[],...df(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const h=u&&l?WB(u,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(_=>{let[w]=_;w&&w.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let y,v=c?Vl(t):null;c&&x();function x(){const _=Vl(t);v&&(_.x!==v.x||_.y!==v.y||_.width!==v.width||_.height!==v.height)&&n(),v=_,y=requestAnimationFrame(x)}return n(),()=>{var _;d.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),h==null||h(),(_=g)==null||_.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const GB=EB,KB=NB,YB=bB,QB=RB,XB=CB,XT=_B,ZB=TB,JB=(t,e,n)=>{const r=new Map,s={platform:HB,...n},i={...s.platform,_c:r};return wB(t,e,{...s,platform:i})};var dg=typeof document<"u"?p.useLayoutEffect:p.useEffect;function ev(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ev(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ev(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function j2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function ZT(t,e){const n=j2(t);return Math.round(e*n)/n}function vx(t){const e=p.useRef(t);return dg(()=>{e.current=t}),e}function e7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=p.useState(r);ev(f,r)||g(r);const[y,v]=p.useState(null),[x,_]=p.useState(null),w=p.useCallback(M=>{M!==O.current&&(O.current=M,v(M))},[]),b=p.useCallback(M=>{M!==j.current&&(j.current=M,_(M))},[]),T=i||y,I=o||x,O=p.useRef(null),j=p.useRef(null),S=p.useRef(d),N=c!=null,P=vx(c),k=vx(s),D=vx(u),R=p.useCallback(()=>{if(!O.current||!j.current)return;const M={placement:e,strategy:n,middleware:f};k.current&&(M.platform=k.current),JB(O.current,j.current,M).then(U=>{const re={...U,isPositioned:D.current!==!1};$.current&&!ev(S.current,re)&&(S.current=re,vo.flushSync(()=>{h(re)}))})},[f,e,n,k,D]);dg(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(M=>({...M,isPositioned:!1})))},[u]);const $=p.useRef(!1);dg(()=>($.current=!0,()=>{$.current=!1}),[]),dg(()=>{if(T&&(O.current=T),I&&(j.current=I),T&&I){if(P.current)return P.current(T,I,R);R()}},[T,I,R,P,N]);const G=p.useMemo(()=>({reference:O,floating:j,setReference:w,setFloating:b}),[w,b]),q=p.useMemo(()=>({reference:T,floating:I}),[T,I]),H=p.useMemo(()=>{const M={position:n,left:0,top:0};if(!q.floating)return M;const U=ZT(q.floating,d.x),re=ZT(q.floating,d.y);return l?{...M,transform:"translate("+U+"px, "+re+"px)",...j2(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:re}},[n,l,q.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:R,refs:G,elements:q,floatingStyles:H}),[d,R,G,q,H])}const t7=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XT({element:r.current,padding:s}).fn(n):{}:r?XT({element:r,padding:s}).fn(n):{}}}},n7=(t,e)=>({...GB(t),options:[t,e]}),r7=(t,e)=>({...KB(t),options:[t,e]}),s7=(t,e)=>({...ZB(t),options:[t,e]}),i7=(t,e)=>({...YB(t),options:[t,e]}),o7=(t,e)=>({...QB(t),options:[t,e]}),a7=(t,e)=>({...XB(t),options:[t,e]}),l7=(t,e)=>({...t7(t),options:[t,e]});var c7="Arrow",I2=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Ce.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});I2.displayName=c7;var u7=I2;function d7(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...y}=h,v=(f==null?void 0:f[t][c])||l,x=p.useMemo(()=>y,Object.values(y));return a.jsx(v.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[t][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,h7(s,...e)]}function h7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Cy(t){const[e,n]=p.useState(void 0);return Sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var cC="Popper",[P2,qa]=d7(cC),[f7,k2]=P2(cC),A2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return a.jsx(f7,{scope:e,anchor:r,onAnchorChange:s,children:n})};A2.displayName=cC;var D2="PopperAnchor",M2=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=k2(D2,n),o=p.useRef(null),l=He(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Ce.div,{...s,ref:l})});M2.displayName=D2;var uC="PopperContent",[m7,p7]=P2(uC),O2=p.forwardRef((t,e)=>{var le,Re,Ue,Ve,nt,rt;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:y,...v}=t,x=k2(uC,n),[_,w]=p.useState(null),b=He(e,Xt=>w(Xt)),[T,I]=p.useState(null),O=Cy(T),j=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,N=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],D=k.length>0,R={padding:P,boundary:k.filter(v7),altBoundary:D},{refs:$,floatingStyles:G,placement:q,isPositioned:H,middlewareData:M}=e7({strategy:"fixed",placement:N,whileElementsMounted:(...Xt)=>qB(...Xt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[n7({mainAxis:s+S,alignmentAxis:o}),c&&r7({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?s7():void 0,...R}),c&&i7({...R}),o7({...R,apply:({elements:Xt,rects:hn,availableWidth:Vr,availableHeight:$n})=>{const{width:Qs,height:L}=hn.reference,B=Xt.floating.style;B.setProperty("--radix-popper-available-width",`${Vr}px`),B.setProperty("--radix-popper-available-height",`${$n}px`),B.setProperty("--radix-popper-anchor-width",`${Qs}px`),B.setProperty("--radix-popper-anchor-height",`${L}px`)}}),T&&l7({element:T,padding:l}),y7({arrowWidth:j,arrowHeight:S}),f&&a7({strategy:"referenceHidden",...R})]}),[U,re]=V2(q),W=Ut(y);Sn(()=>{H&&(W==null||W())},[H,W]);const F=(le=M.arrow)==null?void 0:le.x,Q=(Re=M.arrow)==null?void 0:Re.y,pe=((Ue=M.arrow)==null?void 0:Ue.centerOffset)!==0,[he,me]=p.useState();return Sn(()=>{_&&me(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:H?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ve=M.transformOrigin)==null?void 0:Ve.x,(nt=M.transformOrigin)==null?void 0:nt.y].join(" "),...((rt=M.hide)==null?void 0:rt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(m7,{scope:n,placedSide:U,onArrowChange:I,arrowX:F,arrowY:Q,shouldHideArrow:pe,children:a.jsx(Ce.div,{"data-side":U,"data-align":re,...v,ref:b,style:{...v.style,animation:H?void 0:"none"}})})})});O2.displayName=uC;var F2="PopperArrow",g7={top:"bottom",right:"left",bottom:"top",left:"right"},L2=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=p7(F2,r),o=g7[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(u7,{...s,ref:n,style:{...s.style,display:"block"}})})});L2.displayName=F2;function v7(t){return t!==null}var y7=t=>({name:"transformOrigin",options:t,fn(e){var x,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=V2(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let y="",v="";return u==="bottom"?(y=o?h:`${f}px`,v=`${-c}px`):u==="top"?(y=o?h:`${f}px`,v=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,v=o?h:`${g}px`):u==="left"&&(y=`${r.floating.width+c}px`,v=o?h:`${g}px`),{data:{x:y,y:v}}}});function V2(t){const[e,n="center"]=t.split("-");return[e,n]}var dC=A2,Yf=M2,Sy=O2,Ey=L2,[Ny,Fue]=wr("Tooltip",[qa]),hC=qa(),$2="TooltipProvider",x7=700,JT="tooltip.open",[w7,U2]=Ny($2),B2=t=>{const{__scopeTooltip:e,delayDuration:n=x7,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),a.jsx(w7,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:i})};B2.displayName=$2;var z2="Tooltip",[Lue,Ty]=Ny(z2),S_="TooltipTrigger",_7=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Ty(S_,n),i=U2(S_,n),o=hC(n),l=p.useRef(null),c=He(e,l,s.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(Yf,{asChild:!0,...o,children:a.jsx(Ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ie(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:ie(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:ie(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ie(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:ie(t.onBlur,s.onClose),onClick:ie(t.onClick,s.onClose)})})});_7.displayName=S_;var b7="TooltipPortal",[Vue,C7]=Ny(b7,{forceMount:void 0}),$u="TooltipContent",H2=p.forwardRef((t,e)=>{const n=C7($u,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Ty($u,t.__scopeTooltip);return a.jsx(En,{present:r||o.open,children:o.disableHoverableContent?a.jsx(W2,{side:s,...i,ref:e}):a.jsx(S7,{side:s,...i,ref:e})})}),S7=p.forwardRef((t,e)=>{const n=Ty($u,t.__scopeTooltip),r=U2($u,t.__scopeTooltip),s=p.useRef(null),i=He(e,s),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,f=p.useCallback(()=>{l(null),h(!1)},[h]),g=p.useCallback((y,v)=>{const x=y.currentTarget,_={x:y.clientX,y:y.clientY},w=R7(_,x.getBoundingClientRect()),b=j7(_,w),T=I7(v.getBoundingClientRect()),I=k7([...b,...T]);l(I),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const y=x=>g(x,d),v=x=>g(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[c,d,g,f]),p.useEffect(()=>{if(o){const y=v=>{const x=v.target,_={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!P7(_,o);w?f():b&&(f(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,f]),a.jsx(W2,{...t,ref:i})}),[E7,N7]=Ny(z2,{isInside:!1}),W2=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Ty($u,n),u=hC(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(JT,d),()=>document.removeEventListener(JT,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(Sy,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(K1,{children:r}),a.jsx(E7,{scope:n,isInside:!0,children:a.jsx(bU,{id:c.contentId,role:"tooltip",children:s||r})})]})})});H2.displayName=$u;var q2="TooltipArrow",T7=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=hC(n);return N7(q2,n).isInside?null:a.jsx(Ey,{...s,...r,ref:e})});T7.displayName=q2;function R7(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function j7(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function I7(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function P7(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function k7(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),A7(e)}function A7(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var D7=B2,G2=H2;const M7=D7,O7=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(G2,{ref:r,sideOffset:e,className:te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));O7.displayName=G2.displayName;var ud=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$l=typeof window>"u"||"Deno"in globalThis;function is(){}function F7(t,e){return typeof t=="function"?t(e):t}function E_(t){return typeof t=="number"&&t>=0&&t!==1/0}function K2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function su(t,e){return typeof t=="function"?t(e):t}function Ps(t,e){return typeof t=="function"?t(e):t}function eR(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==fC(o,e.options))return!1}else if(!hf(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function tR(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Ul(e.options.mutationKey)!==Ul(i))return!1}else if(!hf(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function fC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ul)(t)}function Ul(t){return JSON.stringify(t,(e,n)=>N_(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function hf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!hf(t[n],e[n])):!1}function Y2(t,e){if(t===e)return t;const n=nR(t)&&nR(e);if(n||N_(t)&&N_(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=Y2(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function tv(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function nR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function N_(t){if(!rR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rR(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rR(t){return Object.prototype.toString.call(t)==="[object Object]"}function L7(t){return new Promise(e=>{setTimeout(e,t)})}function T_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Y2(t,e):e}function V7(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function $7(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var mC=Symbol();function Q2(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===mC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _l,Wo,pu,oP,U7=(oP=class extends ud{constructor(){super();Ie(this,_l);Ie(this,Wo);Ie(this,pu);ye(this,pu,e=>{if(!$l&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,Wo)||this.setEventListener(V(this,pu))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,Wo))==null||e.call(this),ye(this,Wo,void 0))}setEventListener(e){var n;ye(this,pu,e),(n=V(this,Wo))==null||n.call(this),ye(this,Wo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){V(this,_l)!==e&&(ye(this,_l,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof V(this,_l)=="boolean"?V(this,_l):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_l=new WeakMap,Wo=new WeakMap,pu=new WeakMap,oP),pC=new U7,gu,qo,vu,aP,B7=(aP=class extends ud{constructor(){super();Ie(this,gu,!0);Ie(this,qo);Ie(this,vu);ye(this,vu,e=>{if(!$l&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,qo)||this.setEventListener(V(this,vu))}onUnsubscribe(){var e;this.hasListeners()||((e=V(this,qo))==null||e.call(this),ye(this,qo,void 0))}setEventListener(e){var n;ye(this,vu,e),(n=V(this,qo))==null||n.call(this),ye(this,qo,e(this.setOnline.bind(this)))}setOnline(e){V(this,gu)!==e&&(ye(this,gu,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return V(this,gu)}},gu=new WeakMap,qo=new WeakMap,vu=new WeakMap,aP),nv=new B7;function R_(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function z7(t){return Math.min(1e3*2**t,3e4)}function X2(t){return(t??"online")==="online"?nv.isOnline():!0}var Z2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function yx(t){return t instanceof Z2}function J2(t){let e=!1,n=0,r=!1,s;const i=R_(),o=v=>{var x;r||(f(new Z2(v)),(x=t.abort)==null||x.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>pC.isFocused()&&(t.networkMode==="always"||nv.isOnline())&&t.canRun(),d=()=>X2(t.networkMode)&&t.canRun(),h=v=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,v),s==null||s(),i.resolve(v))},f=v=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var x;s=_=>{(r||u())&&v(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),y=()=>{if(r)return;let v;const x=n===0?t.initialPromise:void 0;try{v=x??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(h).catch(_=>{var O;if(r)return;const w=t.retry??($l?0:3),b=t.retryDelay??z7,T=typeof b=="function"?b(n,_):b,I=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!I){f(_);return}n++,(O=t.onFail)==null||O.call(t,n,_),L7(T).then(()=>u()?void 0:g()).then(()=>{e?f(_):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():g().then(y),i)}}function H7(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var _n=H7(),bl,lP,eD=(lP=class{constructor(){Ie(this,bl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),E_(this.gcTime)&&ye(this,bl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??($l?1/0:5*60*1e3))}clearGcTimeout(){V(this,bl)&&(clearTimeout(V(this,bl)),ye(this,bl,void 0))}},bl=new WeakMap,lP),yu,xu,ss,Kn,Af,Cl,Rs,Vi,cP,W7=(cP=class extends eD{constructor(n){super();Ie(this,Rs);Ie(this,yu);Ie(this,xu);Ie(this,ss);Ie(this,Kn);Ie(this,Af);Ie(this,Cl);ye(this,Cl,!1),ye(this,Af,n.defaultOptions),this.setOptions(n.options),this.observers=[],ye(this,ss,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ye(this,yu,q7(this.options)),this.state=n.state??V(this,yu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=V(this,Kn))==null?void 0:n.promise}setOptions(n){this.options={...V(this,Af),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,ss).remove(this)}setData(n,r){const s=T_(this.state.data,n,this.options);return Je(this,Rs,Vi).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Je(this,Rs,Vi).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=V(this,Kn))==null?void 0:s.promise;return(i=V(this,Kn))==null||i.cancel(n),r?r.then(is).catch(is):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,yu))}isActive(){return this.observers.some(n=>Ps(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===mC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!K2(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,Kn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=V(this,Kn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),V(this,ss).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(V(this,Kn)&&(V(this,Cl)?V(this,Kn).cancel({revert:!0}):V(this,Kn).cancelRetry()),this.scheduleGc()),V(this,ss).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,Rs,Vi).call(this,{type:"invalidate"})}fetch(n,r){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,Kn))return V(this,Kn).continueRetry(),V(this,Kn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ye(this,Cl,!0),s.signal)})},o=()=>{const f=Q2(this.options,r),g={queryKey:this.queryKey,meta:this.meta};return i(g),ye(this,Cl,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(u=this.options.behavior)==null||u.onFetch(l,this),ye(this,xu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Je(this,Rs,Vi).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var g,y,v,x;yx(f)&&f.silent||Je(this,Rs,Vi).call(this,{type:"error",error:f}),yx(f)||((y=(g=V(this,ss).config).onError)==null||y.call(g,f,this),(x=(v=V(this,ss).config).onSettled)==null||x.call(v,this.state.data,f,this)),this.scheduleGc()};return ye(this,Kn,J2({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:f=>{var g,y,v,x;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(_){c(_);return}(y=(g=V(this,ss).config).onSuccess)==null||y.call(g,f,this),(x=(v=V(this,ss).config).onSettled)==null||x.call(v,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,g)=>{Je(this,Rs,Vi).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{Je(this,Rs,Vi).call(this,{type:"pause"})},onContinue:()=>{Je(this,Rs,Vi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),V(this,Kn).start()}},yu=new WeakMap,xu=new WeakMap,ss=new WeakMap,Kn=new WeakMap,Af=new WeakMap,Cl=new WeakMap,Rs=new WeakSet,Vi=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...tD(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return yx(i)&&i.revert&&V(this,xu)?{...V(this,xu),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),_n.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),V(this,ss).notify({query:this,type:"updated",action:n})})},cP);function tD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:X2(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function q7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ri,uP,G7=(uP=class extends ud{constructor(e={}){super();Ie(this,ri);this.config=e,ye(this,ri,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??fC(s,n);let o=this.get(i);return o||(o=new W7({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){V(this,ri).has(e.queryHash)||(V(this,ri).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=V(this,ri).get(e.queryHash);n&&(e.destroy(),n===e&&V(this,ri).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return V(this,ri).get(e)}getAll(){return[...V(this,ri).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eR(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>eR(e,r)):n}notify(e){_n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){_n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){_n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ri=new WeakMap,uP),si,or,Sl,ii,ko,dP,K7=(dP=class extends eD{constructor(n){super();Ie(this,ii);Ie(this,si);Ie(this,or);Ie(this,Sl);this.mutationId=n.mutationId,ye(this,or,n.mutationCache),ye(this,si,[]),this.state=n.state||nD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){V(this,si).includes(n)||(V(this,si).push(n),this.clearGcTimeout(),V(this,or).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ye(this,si,V(this,si).filter(r=>r!==n)),this.scheduleGc(),V(this,or).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){V(this,si).length||(this.state.status==="pending"?this.scheduleGc():V(this,or).remove(this))}continue(){var n;return((n=V(this,Sl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,l,c,u,d,h,f,g,y,v,x,_,w,b,T,I,O,j,S;ye(this,Sl,J2({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,P)=>{Je(this,ii,ko).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{Je(this,ii,ko).call(this,{type:"pause"})},onContinue:()=>{Je(this,ii,ko).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,or).canRun(this)}));const r=this.state.status==="pending",s=!V(this,Sl).canStart();try{if(!r){Je(this,ii,ko).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=V(this,or).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));P!==this.state.context&&Je(this,ii,ko).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const N=await V(this,Sl).start();return await((d=(u=V(this,or).config).onSuccess)==null?void 0:d.call(u,N,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,N,n,this.state.context)),await((y=(g=V(this,or).config).onSettled)==null?void 0:y.call(g,N,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,N,null,n,this.state.context)),Je(this,ii,ko).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(_=V(this,or).config).onError)==null?void 0:w.call(_,N,n,this.state.context,this)),await((T=(b=this.options).onError)==null?void 0:T.call(b,N,n,this.state.context)),await((O=(I=V(this,or).config).onSettled)==null?void 0:O.call(I,void 0,N,this.state.variables,this.state.context,this)),await((S=(j=this.options).onSettled)==null?void 0:S.call(j,void 0,N,n,this.state.context)),N}finally{Je(this,ii,ko).call(this,{type:"error",error:N})}}finally{V(this,or).runNext(this)}}},si=new WeakMap,or=new WeakMap,Sl=new WeakMap,ii=new WeakSet,ko=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),_n.batch(()=>{V(this,si).forEach(s=>{s.onMutationUpdate(n)}),V(this,or).notify({mutation:this,type:"updated",action:n})})},dP);function nD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ur,Df,hP,Y7=(hP=class extends ud{constructor(e={}){super();Ie(this,Ur);Ie(this,Df);this.config=e,ye(this,Ur,new Map),ye(this,Df,Date.now())}build(e,n,r){const s=new K7({mutationCache:this,mutationId:++ap(this,Df)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=jp(e),r=V(this,Ur).get(n)??[];r.push(e),V(this,Ur).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=jp(e);if(V(this,Ur).has(n)){const s=(r=V(this,Ur).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?V(this,Ur).delete(n):V(this,Ur).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=V(this,Ur).get(jp(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=V(this,Ur).get(jp(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){_n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...V(this,Ur).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tR(n,r))}findAll(e={}){return this.getAll().filter(n=>tR(e,n))}notify(e){_n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return _n.batch(()=>Promise.all(e.map(n=>n.continue().catch(is))))}},Ur=new WeakMap,Df=new WeakMap,hP);function jp(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function sR(t){return{onFetch:(e,n)=>{var d,h,f,g,y;const r=e.options,s=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=Q2(e.options,e.fetchOptions),w=async(b,T,I)=>{if(v)return Promise.reject();if(T==null&&b.pages.length)return Promise.resolve(b);const O={queryKey:e.queryKey,pageParam:T,direction:I?"backward":"forward",meta:e.options.meta};x(O);const j=await _(O),{maxPages:S}=e.options,N=I?$7:V7;return{pages:N(b.pages,j,S),pageParams:N(b.pageParams,T,S)}};if(s&&i.length){const b=s==="backward",T=b?Q7:iR,I={pages:i,pageParams:o},O=T(r,I);l=await w(I,O,b)}else{const b=t??i.length;do{const T=c===0?o[0]??r.initialPageParam:iR(r,l);if(c>0&&T==null)break;l=await w(l,T),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function iR(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Q7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Jt,Go,Ko,wu,_u,Yo,bu,Cu,fP,X7=(fP=class{constructor(t={}){Ie(this,Jt);Ie(this,Go);Ie(this,Ko);Ie(this,wu);Ie(this,_u);Ie(this,Yo);Ie(this,bu);Ie(this,Cu);ye(this,Jt,t.queryCache||new G7),ye(this,Go,t.mutationCache||new Y7),ye(this,Ko,t.defaultOptions||{}),ye(this,wu,new Map),ye(this,_u,new Map),ye(this,Yo,0)}mount(){ap(this,Yo)._++,V(this,Yo)===1&&(ye(this,bu,pC.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Jt).onFocus())})),ye(this,Cu,nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),V(this,Jt).onOnline())})))}unmount(){var t,e;ap(this,Yo)._--,V(this,Yo)===0&&((t=V(this,bu))==null||t.call(this),ye(this,bu,void 0),(e=V(this,Cu))==null||e.call(this),ye(this,Cu,void 0))}isFetching(t){return V(this,Jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return V(this,Go).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Jt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=V(this,Jt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(su(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return V(this,Jt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=V(this,Jt).get(r.queryHash),i=s==null?void 0:s.state.data,o=F7(e,i);if(o!==void 0)return V(this,Jt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return _n.batch(()=>V(this,Jt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=V(this,Jt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=V(this,Jt);_n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=V(this,Jt),r={type:"active",...t};return _n.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=_n.batch(()=>V(this,Jt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(is).catch(is)}invalidateQueries(t={},e={}){return _n.batch(()=>{if(V(this,Jt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=_n.batch(()=>V(this,Jt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(is)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(is)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=V(this,Jt).build(this,e);return n.isStaleByTime(su(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(is).catch(is)}fetchInfiniteQuery(t){return t.behavior=sR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(is).catch(is)}ensureInfiniteQueryData(t){return t.behavior=sR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nv.isOnline()?V(this,Go).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Jt)}getMutationCache(){return V(this,Go)}getDefaultOptions(){return V(this,Ko)}setDefaultOptions(t){ye(this,Ko,t)}setQueryDefaults(t,e){V(this,wu).set(Ul(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...V(this,wu).values()];let n={};return e.forEach(r=>{hf(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){V(this,_u).set(Ul(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...V(this,_u).values()];let n={};return e.forEach(r=>{hf(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...V(this,Ko).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===mC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...V(this,Ko).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){V(this,Jt).clear(),V(this,Go).clear()}},Jt=new WeakMap,Go=new WeakMap,Ko=new WeakMap,wu=new WeakMap,_u=new WeakMap,Yo=new WeakMap,bu=new WeakMap,Cu=new WeakMap,fP),Sr,dt,Mf,ar,El,Su,Qo,oi,Of,Eu,Nu,Nl,Tl,Xo,Tu,xt,ah,j_,I_,P_,k_,A_,D_,M_,rD,mP,Z7=(mP=class extends ud{constructor(e,n){super();Ie(this,xt);Ie(this,Sr);Ie(this,dt);Ie(this,Mf);Ie(this,ar);Ie(this,El);Ie(this,Su);Ie(this,Qo);Ie(this,oi);Ie(this,Of);Ie(this,Eu);Ie(this,Nu);Ie(this,Nl);Ie(this,Tl);Ie(this,Xo);Ie(this,Tu,new Set);this.options=n,ye(this,Sr,e),ye(this,oi,null),ye(this,Qo,R_()),this.options.experimental_prefetchInRender||V(this,Qo).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,dt).addObserver(this),oR(V(this,dt),this.options)?Je(this,xt,ah).call(this):this.updateResult(),Je(this,xt,k_).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return O_(V(this,dt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return O_(V(this,dt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Je(this,xt,A_).call(this),Je(this,xt,D_).call(this),V(this,dt).removeObserver(this)}setOptions(e,n){const r=this.options,s=V(this,dt);if(this.options=V(this,Sr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ps(this.options.enabled,V(this,dt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Je(this,xt,M_).call(this),V(this,dt).setOptions(this.options),r._defaulted&&!tv(this.options,r)&&V(this,Sr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,dt),observer:this});const i=this.hasListeners();i&&aR(V(this,dt),s,this.options,r)&&Je(this,xt,ah).call(this),this.updateResult(n),i&&(V(this,dt)!==s||Ps(this.options.enabled,V(this,dt))!==Ps(r.enabled,V(this,dt))||su(this.options.staleTime,V(this,dt))!==su(r.staleTime,V(this,dt)))&&Je(this,xt,j_).call(this);const o=Je(this,xt,I_).call(this);i&&(V(this,dt)!==s||Ps(this.options.enabled,V(this,dt))!==Ps(r.enabled,V(this,dt))||o!==V(this,Xo))&&Je(this,xt,P_).call(this,o)}getOptimisticResult(e){const n=V(this,Sr).getQueryCache().build(V(this,Sr),e),r=this.createResult(n,e);return ez(this,r)&&(ye(this,ar,r),ye(this,Su,this.options),ye(this,El,V(this,dt).state)),r}getCurrentResult(){return V(this,ar)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){V(this,Tu).add(e)}getCurrentQuery(){return V(this,dt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=V(this,Sr).defaultQueryOptions(e),r=V(this,Sr).getQueryCache().build(V(this,Sr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return Je(this,xt,ah).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,ar)))}createResult(e,n){var S;const r=V(this,dt),s=this.options,i=V(this,ar),o=V(this,El),l=V(this,Su),u=e!==r?e.state:V(this,Mf),{state:d}=e;let h={...d},f=!1,g;if(n._optimisticResults){const N=this.hasListeners(),P=!N&&oR(e,n),k=N&&aR(e,r,n,s);(P||k)&&(h={...h,...tD(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:x}=h;if(n.select&&h.data!==void 0)if(i&&h.data===(o==null?void 0:o.data)&&n.select===V(this,Of))g=V(this,Eu);else try{ye(this,Of,n.select),g=n.select(h.data),g=T_(i==null?void 0:i.data,g,n),ye(this,Eu,g),ye(this,oi,null)}catch(N){ye(this,oi,N)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let N;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))N=i.data;else if(N=typeof n.placeholderData=="function"?n.placeholderData((S=V(this,Nu))==null?void 0:S.state.data,V(this,Nu)):n.placeholderData,n.select&&N!==void 0)try{N=n.select(N),ye(this,oi,null)}catch(P){ye(this,oi,P)}N!==void 0&&(x="success",g=T_(i==null?void 0:i.data,N,n),f=!0)}V(this,oi)&&(y=V(this,oi),g=V(this,Eu),v=Date.now(),x="error");const _=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",T=w&&_,I=g!==void 0,j={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:b&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&I,isStale:gC(e,n),refetch:this.refetch,promise:V(this,Qo)};if(this.options.experimental_prefetchInRender){const N=D=>{j.status==="error"?D.reject(j.error):j.data!==void 0&&D.resolve(j.data)},P=()=>{const D=ye(this,Qo,j.promise=R_());N(D)},k=V(this,Qo);switch(k.status){case"pending":e.queryHash===r.queryHash&&N(k);break;case"fulfilled":(j.status==="error"||j.data!==k.value)&&P();break;case"rejected":(j.status!=="error"||j.error!==k.reason)&&P();break}}return j}updateResult(e){const n=V(this,ar),r=this.createResult(V(this,dt),this.options);if(ye(this,El,V(this,dt).state),ye(this,Su,this.options),V(this,El).data!==void 0&&ye(this,Nu,V(this,dt)),tv(r,n))return;ye(this,ar,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!V(this,Tu).size)return!0;const c=new Set(l??V(this,Tu));return this.options.throwOnError&&c.add("error"),Object.keys(V(this,ar)).some(u=>{const d=u;return V(this,ar)[d]!==n[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Je(this,xt,rD).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Je(this,xt,k_).call(this)}},Sr=new WeakMap,dt=new WeakMap,Mf=new WeakMap,ar=new WeakMap,El=new WeakMap,Su=new WeakMap,Qo=new WeakMap,oi=new WeakMap,Of=new WeakMap,Eu=new WeakMap,Nu=new WeakMap,Nl=new WeakMap,Tl=new WeakMap,Xo=new WeakMap,Tu=new WeakMap,xt=new WeakSet,ah=function(e){Je(this,xt,M_).call(this);let n=V(this,dt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(is)),n},j_=function(){Je(this,xt,A_).call(this);const e=su(this.options.staleTime,V(this,dt));if($l||V(this,ar).isStale||!E_(e))return;const r=K2(V(this,ar).dataUpdatedAt,e)+1;ye(this,Nl,setTimeout(()=>{V(this,ar).isStale||this.updateResult()},r))},I_=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,dt)):this.options.refetchInterval)??!1},P_=function(e){Je(this,xt,D_).call(this),ye(this,Xo,e),!($l||Ps(this.options.enabled,V(this,dt))===!1||!E_(V(this,Xo))||V(this,Xo)===0)&&ye(this,Tl,setInterval(()=>{(this.options.refetchIntervalInBackground||pC.isFocused())&&Je(this,xt,ah).call(this)},V(this,Xo)))},k_=function(){Je(this,xt,j_).call(this),Je(this,xt,P_).call(this,Je(this,xt,I_).call(this))},A_=function(){V(this,Nl)&&(clearTimeout(V(this,Nl)),ye(this,Nl,void 0))},D_=function(){V(this,Tl)&&(clearInterval(V(this,Tl)),ye(this,Tl,void 0))},M_=function(){const e=V(this,Sr).getQueryCache().build(V(this,Sr),this.options);if(e===V(this,dt))return;const n=V(this,dt);ye(this,dt,e),ye(this,Mf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},rD=function(e){_n.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(V(this,ar))}),V(this,Sr).getQueryCache().notify({query:V(this,dt),type:"observerResultsUpdated"})})},mP);function J7(t,e){return Ps(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function oR(t,e){return J7(t,e)||t.state.data!==void 0&&O_(t,e,e.refetchOnMount)}function O_(t,e,n){if(Ps(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gC(t,e)}return!1}function aR(t,e,n,r){return(t!==e||Ps(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gC(t,n)}function gC(t,e){return Ps(e.enabled,t)!==!1&&t.isStaleByTime(su(e.staleTime,t))}function ez(t,e){return!tv(t.getCurrentResult(),e)}var Zo,Jo,Er,Hi,Ji,hg,F_,pP,tz=(pP=class extends ud{constructor(n,r){super();Ie(this,Ji);Ie(this,Zo);Ie(this,Jo);Ie(this,Er);Ie(this,Hi);ye(this,Zo,n),this.setOptions(r),this.bindMethods(),Je(this,Ji,hg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=V(this,Zo).defaultMutationOptions(n),tv(this.options,r)||V(this,Zo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Er),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ul(r.mutationKey)!==Ul(this.options.mutationKey)?this.reset():((s=V(this,Er))==null?void 0:s.state.status)==="pending"&&V(this,Er).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=V(this,Er))==null||n.removeObserver(this)}onMutationUpdate(n){Je(this,Ji,hg).call(this),Je(this,Ji,F_).call(this,n)}getCurrentResult(){return V(this,Jo)}reset(){var n;(n=V(this,Er))==null||n.removeObserver(this),ye(this,Er,void 0),Je(this,Ji,hg).call(this),Je(this,Ji,F_).call(this)}mutate(n,r){var s;return ye(this,Hi,r),(s=V(this,Er))==null||s.removeObserver(this),ye(this,Er,V(this,Zo).getMutationCache().build(V(this,Zo),this.options)),V(this,Er).addObserver(this),V(this,Er).execute(n)}},Zo=new WeakMap,Jo=new WeakMap,Er=new WeakMap,Hi=new WeakMap,Ji=new WeakSet,hg=function(){var r;const n=((r=V(this,Er))==null?void 0:r.state)??nD();ye(this,Jo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},F_=function(n){_n.batch(()=>{var r,s,i,o,l,c,u,d;if(V(this,Hi)&&this.hasListeners()){const h=V(this,Jo).variables,f=V(this,Jo).context;(n==null?void 0:n.type)==="success"?((s=(r=V(this,Hi)).onSuccess)==null||s.call(r,n.data,h,f),(o=(i=V(this,Hi)).onSettled)==null||o.call(i,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=V(this,Hi)).onError)==null||c.call(l,n.error,h,f),(d=(u=V(this,Hi)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(V(this,Jo))})})},pP),sD=p.createContext(void 0),Or=t=>{const e=p.useContext(sD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},nz=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(sD.Provider,{value:t,children:e})),iD=p.createContext(!1),rz=()=>p.useContext(iD);iD.Provider;function sz(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var iz=p.createContext(sz()),oz=()=>p.useContext(iz);function oD(t,e){return typeof t=="function"?t(...e):!!t}function aD(){}var az=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},lz=t=>{p.useEffect(()=>{t.clearReset()},[t])},cz=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&oD(n,[t.error,r]),uz=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},dz=(t,e)=>t.isLoading&&t.isFetching&&!e,hz=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lR=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function fz(t,e,n){var d,h,f,g,y;const r=Or(),s=rz(),i=oz(),o=r.defaultQueryOptions(t);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",uz(o),az(o,i),lz(i);const l=!r.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(r,o)),u=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(v=>{const x=s?()=>{}:c.subscribe(_n.batchCalls(v));return c.updateResult(),x},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),hz(o,u))throw lR(o,c,i);if(cz({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((g=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,u),o.experimental_prefetchInRender&&!$l&&dz(u,s)){const v=l?lR(o,c,i):(y=r.getQueryCache().get(o.queryHash))==null?void 0:y.promise;v==null||v.catch(aD).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Gs(t,e){return fz(t,Z7)}function Gt(t,e){const n=Or(),[r]=p.useState(()=>new tz(n,t));p.useEffect(()=>{r.setOptions(t)},[r,t]);const s=p.useSyncExternalStore(p.useCallback(o=>r.subscribe(_n.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=p.useCallback((o,l)=>{r.mutate(o,l).catch(aD)},[r]);if(s.error&&oD(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ff.apply(this,arguments)}var na;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(na||(na={}));const cR="popstate";function mz(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return L_("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:rv(s)}return gz(e,n,null,t)}function un(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pz(){return Math.random().toString(36).substr(2,8)}function uR(t,e){return{usr:t.state,key:t.key,idx:e}}function L_(t,e,n,r){return n===void 0&&(n=null),ff({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dd(e):e,{state:n,key:e&&e.key||r||pz()})}function rv(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function gz(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=na.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ff({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=na.Pop;let x=d(),_=x==null?null:x-u;u=x,c&&c({action:l,location:v.location,delta:_})}function f(x,_){l=na.Push;let w=L_(v.location,x,_);u=d()+1;let b=uR(w,u),T=v.createHref(w);try{o.pushState(b,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(T)}i&&c&&c({action:l,location:v.location,delta:1})}function g(x,_){l=na.Replace;let w=L_(v.location,x,_);u=d();let b=uR(w,u),T=v.createHref(w);o.replaceState(b,"",T),i&&c&&c({action:l,location:v.location,delta:0})}function y(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof x=="string"?x:rv(x);return w=w.replace(/ $/,"%20"),un(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let v={get action(){return l},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cR,h),c=x,()=>{s.removeEventListener(cR,h),c=null}},createHref(x){return e(s,x)},createURL:y,encodeLocation(x){let _=y(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(x){return o.go(x)}};return v}var dR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dR||(dR={}));function vz(t,e,n){return n===void 0&&(n="/"),yz(t,e,n,!1)}function yz(t,e,n,r){let s=typeof e=="string"?dd(e):e,i=vC(s.pathname||"/",n);if(i==null)return null;let o=cD(t);xz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Iz(i);l=Rz(o[c],u,r)}return l}function cD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(un(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=va([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(un(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),cD(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:Nz(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of uD(i.path))s(i,o,c)}),e}function uD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=uD(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function xz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Tz(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wz=/^:[\w-]+$/,_z=3,bz=2,Cz=1,Sz=10,Ez=-2,hR=t=>t==="*";function Nz(t,e){let n=t.split("/"),r=n.length;return n.some(hR)&&(r+=Ez),e&&(r+=bz),n.filter(s=>!hR(s)).reduce((s,i)=>s+(wz.test(i)?_z:i===""?Cz:Sz),r)}function Tz(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Rz(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=fR({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=fR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:va([i,h.pathname]),pathnameBase:Dz(va([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=va([i,h.pathnameBase]))}return o}function fR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jz(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let v=l[h]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function jz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Iz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Pz(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?dd(t):t;return{pathname:n?n.startsWith("/")?n:kz(n,e):e,search:Mz(r),hash:Oz(s)}}function kz(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xx(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Az(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yC(t,e){let n=Az(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xC(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=dd(t):(s=ff({},t),un(!s.pathname||!s.pathname.includes("?"),xx("?","pathname","search",s)),un(!s.pathname||!s.pathname.includes("#"),xx("#","pathname","hash",s)),un(!s.search||!s.search.includes("#"),xx("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=Pz(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const va=t=>t.join("/").replace(/\/\/+/g,"/"),Dz=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mz=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Oz=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Fz(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dD=["post","put","patch","delete"];new Set(dD);const Lz=["get",...dD];new Set(Lz);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}const wC=p.createContext(null),Vz=p.createContext(null),Ga=p.createContext(null),Ry=p.createContext(null),Ti=p.createContext({outlet:null,matches:[],isDataRoute:!1}),hD=p.createContext(null);function $z(t,e){let{relative:n}=e===void 0?{}:e;hd()||un(!1);let{basename:r,navigator:s}=p.useContext(Ga),{hash:i,pathname:o,search:l}=mD(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:va([r,o])),s.createHref({pathname:c,search:l,hash:i})}function hd(){return p.useContext(Ry)!=null}function yo(){return hd()||un(!1),p.useContext(Ry).location}function fD(t){p.useContext(Ga).static||p.useLayoutEffect(t)}function Fr(){let{isDataRoute:t}=p.useContext(Ti);return t?nH():Uz()}function Uz(){hd()||un(!1);let t=p.useContext(wC),{basename:e,future:n,navigator:r}=p.useContext(Ga),{matches:s}=p.useContext(Ti),{pathname:i}=yo(),o=JSON.stringify(yC(s,n.v7_relativeSplatPath)),l=p.useRef(!1);return fD(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=xC(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:va([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}const Bz=p.createContext(null);function zz(t){let e=p.useContext(Ti).outlet;return e&&p.createElement(Bz.Provider,{value:t},e)}function Hz(){let{matches:t}=p.useContext(Ti),e=t[t.length-1];return e?e.params:{}}function mD(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(Ga),{matches:s}=p.useContext(Ti),{pathname:i}=yo(),o=JSON.stringify(yC(s,r.v7_relativeSplatPath));return p.useMemo(()=>xC(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Wz(t,e){return qz(t,e)}function qz(t,e,n,r){hd()||un(!1);let{navigator:s}=p.useContext(Ga),{matches:i}=p.useContext(Ti),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=yo(),d;if(e){var h;let x=typeof e=="string"?dd(e):e;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||un(!1),d=x}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=vz(t,{pathname:g}),v=Xz(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:va([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:va([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&v?p.createElement(Ry.Provider,{value:{location:mf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:na.Pop}},v):v}function Gz(){let t=tH(),e=Fz(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const Kz=p.createElement(Gz,null);class Yz extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Ti.Provider,{value:this.props.routeContext},p.createElement(hD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qz(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(wC);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ti.Provider,{value:e},r)}function Xz(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||un(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,y=!1,v=null,x=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||Kz,c&&(u<0&&f===0?(y=!0,x=null):u===f&&(y=!0,x=h.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),w=()=>{let b;return g?b=v:y?b=x:h.route.Component?b=p.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=d,p.createElement(Qz,{match:h,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:b})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(Yz,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var pD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(pD||{}),sv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sv||{});function Zz(t){let e=p.useContext(wC);return e||un(!1),e}function Jz(t){let e=p.useContext(Vz);return e||un(!1),e}function eH(t){let e=p.useContext(Ti);return e||un(!1),e}function gD(t){let e=eH(),n=e.matches[e.matches.length-1];return n.route.id||un(!1),n.route.id}function tH(){var t;let e=p.useContext(hD),n=Jz(sv.UseRouteError),r=gD(sv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function nH(){let{router:t}=Zz(pD.UseNavigateStable),e=gD(sv.UseNavigateStable),n=p.useRef(!1);return fD(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mf({fromRouteId:e},i)))},[t,e])}function Ip(t){let{to:e,replace:n,state:r,relative:s}=t;hd()||un(!1);let{future:i,static:o}=p.useContext(Ga),{matches:l}=p.useContext(Ti),{pathname:c}=yo(),u=Fr(),d=xC(e,yC(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function vD(t){return zz(t.context)}function yn(t){un(!1)}function rH(t){let{basename:e="/",children:n=null,location:r,navigationType:s=na.Pop,navigator:i,static:o=!1,future:l}=t;hd()&&un(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:mf({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=dd(r));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:y="default"}=r,v=p.useMemo(()=>{let x=vC(d,c);return x==null?null:{location:{pathname:x,search:h,hash:f,state:g,key:y},navigationType:s}},[c,d,h,f,g,y,s]);return v==null?null:p.createElement(Ga.Provider,{value:u},p.createElement(Ry.Provider,{children:n,value:v}))}function sH(t){let{children:e,location:n}=t;return Wz(V_(e),n)}new Promise(()=>{});function V_(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,V_(r.props.children,i));return}r.type!==yn&&un(!1),!r.props.index||!r.props.children||un(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=V_(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$_.apply(this,arguments)}function iH(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function oH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aH(t,e){return t.button===0&&(!e||e==="_self")&&!oH(t)}const lH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cH="6";try{window.__reactRouterVersion=cH}catch{}const uH="startTransition",mR=n1[uH];function dH(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=mz({window:s,v5Compat:!0}));let o=i.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=p.useCallback(h=>{u&&mR?mR(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(rH,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const hH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mH=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=iH(e,lH),{basename:g}=p.useContext(Ga),y,v=!1;if(typeof u=="string"&&fH.test(u)&&(y=u,hH))try{let b=new URL(window.location.href),T=u.startsWith("//")?new URL(b.protocol+u):new URL(u),I=vC(T.pathname,g);T.origin===b.origin&&I!=null?u=I+T.search+T.hash:v=!0}catch{}let x=$z(u,{relative:s}),_=pH(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function w(b){r&&r(b),b.defaultPrevented||_(b)}return p.createElement("a",$_({},f,{href:y||x,onClick:v||i?r:w,ref:n,target:c}))});var pR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(pR||(pR={}));var gR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gR||(gR={}));function pH(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Fr(),u=yo(),d=mD(t,{relative:o});return p.useCallback(h=>{if(aH(h,n)){h.preventDefault();let f=r!==void 0?r:rv(u)===rv(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}const pf=zf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?wi:"button";return a.jsx(o,{className:te(pf({variant:e,size:n,className:t})),ref:i,...s})});ee.displayName="Button";const Fe=p.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:te("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Fe.displayName="Input";const gH=()=>{};var vR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},vH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},xD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(f=64)),r.push(n[d],n[h],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||h==null)throw new yH;const f=i<<2|l>>4;if(r.push(f),u!==64){const g=l<<4&240|u>>2;if(r.push(g),h!==64){const y=u<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xH=function(t){const e=yD(t);return xD.encodeByteArray(e,!0)},iv=function(t){return xH(t).replace(/\./g,"")},wD=function(t){try{return xD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=()=>wH().__FIREBASE_DEFAULTS__,bH=()=>{if(typeof process>"u"||typeof vR>"u")return;const t=vR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wD(t[1]);return e&&JSON.parse(e)},jy=()=>{try{return gH()||_H()||bH()||CH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},_D=t=>{var e,n;return(n=(e=jy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bD=t=>{const e=_D(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CD=()=>{var t;return(t=jy())===null||t===void 0?void 0:t.config},SD=t=>{var e;return(e=jy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){return t.endsWith(".cloudworkstations.dev")}async function _C(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[iv(JSON.stringify(n)),iv(JSON.stringify(o)),""].join(".")}const jh={};function EH(){const t={prod:[],emulator:[]};for(const e of Object.keys(jh))jh[e]?t.emulator.push(e):t.prod.push(e);return t}function NH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yR=!1;function bC(t,e){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||jh[t]===e||jh[t]||yR)return;jh[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=EH().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{yR=!0,o()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=NH(r),g=n("text"),y=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),x=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const b=f.element;l(b),d(x,v);const T=u();c(w,_),b.append(w,y,x,T),document.body.appendChild(b)}i?(y.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function RH(){var t;const e=(t=jy())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kH(){const t=nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AH(){return!RH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DH(){try{return typeof indexedDB=="object"}catch{return!1}}function MH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="FirebaseError";class Ri extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OH,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qf.prototype.create)}}class Qf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?FH(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Ri(s,l,r)}}function FH(t,e){return t.replace(LH,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const LH=/\{\$([^}]+)}/g;function VH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xR(i)&&xR(o)){if(!Bl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $H(t,e){const n=new UH(t,e);return n.subscribe.bind(n)}class UH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BH(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=wx),s.error===void 0&&(s.error=wx),s.complete===void 0&&(s.complete=wx);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wx(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class ka{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WH(e))try{this.getOrInitializeService({instanceIdentifier:hl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hl){return this.instances.has(e)}getOptions(e=hl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:HH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hl){return this.component?this.component.multipleInstances?e:hl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HH(t){return t===hl?void 0:t}function WH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ct||(ct={}));const GH={debug:ct.DEBUG,verbose:ct.VERBOSE,info:ct.INFO,warn:ct.WARN,error:ct.ERROR,silent:ct.SILENT},KH=ct.INFO,YH={[ct.DEBUG]:"log",[ct.VERBOSE]:"log",[ct.INFO]:"info",[ct.WARN]:"warn",[ct.ERROR]:"error"},QH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YH[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class CC{constructor(e){this.name=e,this._logLevel=KH,this._logHandler=QH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ct.DEBUG,...e),this._logHandler(this,ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ct.VERBOSE,...e),this._logHandler(this,ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ct.INFO,...e),this._logHandler(this,ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ct.WARN,...e),this._logHandler(this,ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ct.ERROR,...e),this._logHandler(this,ct.ERROR,...e)}}const XH=(t,e)=>e.some(n=>t instanceof n);let wR,_R;function ZH(){return wR||(wR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JH(){return _R||(_R=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ND=new WeakMap,U_=new WeakMap,TD=new WeakMap,_x=new WeakMap,SC=new WeakMap;function eW(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ya(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ND.set(n,t)}).catch(()=>{}),SC.set(e,t),e}function tW(t){if(U_.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});U_.set(t,e)}let B_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return U_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||TD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ya(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nW(t){B_=t(B_)}function rW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(bx(this),e,...n);return TD.set(r,e.sort?e.sort():[e]),ya(r)}:JH().includes(t)?function(...e){return t.apply(bx(this),e),ya(ND.get(this))}:function(...e){return ya(t.apply(bx(this),e))}}function sW(t){return typeof t=="function"?rW(t):(t instanceof IDBTransaction&&tW(t),XH(t,ZH())?new Proxy(t,B_):t)}function ya(t){if(t instanceof IDBRequest)return eW(t);if(_x.has(t))return _x.get(t);const e=sW(t);return e!==t&&(_x.set(t,e),SC.set(e,t)),e}const bx=t=>SC.get(t);function iW(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=ya(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ya(o.result),c.oldVersion,c.newVersion,ya(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const oW=["get","getKey","getAll","getAllKeys","count"],aW=["put","add","delete","clear"],Cx=new Map;function bR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cx.get(e))return Cx.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=aW.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||oW.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return Cx.set(e,i),i}nW(t=>({...t,get:(e,n,r)=>bR(e,n)||t.get(e,n,r),has:(e,n)=>!!bR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cW(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function cW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const z_="@firebase/app",CR="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new CC("@firebase/app"),uW="@firebase/app-compat",dW="@firebase/analytics-compat",hW="@firebase/analytics",fW="@firebase/app-check-compat",mW="@firebase/app-check",pW="@firebase/auth",gW="@firebase/auth-compat",vW="@firebase/database",yW="@firebase/data-connect",xW="@firebase/database-compat",wW="@firebase/functions",_W="@firebase/functions-compat",bW="@firebase/installations",CW="@firebase/installations-compat",SW="@firebase/messaging",EW="@firebase/messaging-compat",NW="@firebase/performance",TW="@firebase/performance-compat",RW="@firebase/remote-config",jW="@firebase/remote-config-compat",IW="@firebase/storage",PW="@firebase/storage-compat",kW="@firebase/firestore",AW="@firebase/ai",DW="@firebase/firestore-compat",MW="firebase",OW="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="[DEFAULT]",FW={[z_]:"fire-core",[uW]:"fire-core-compat",[hW]:"fire-analytics",[dW]:"fire-analytics-compat",[mW]:"fire-app-check",[fW]:"fire-app-check-compat",[pW]:"fire-auth",[gW]:"fire-auth-compat",[vW]:"fire-rtdb",[yW]:"fire-data-connect",[xW]:"fire-rtdb-compat",[wW]:"fire-fn",[_W]:"fire-fn-compat",[bW]:"fire-iid",[CW]:"fire-iid-compat",[SW]:"fire-fcm",[EW]:"fire-fcm-compat",[NW]:"fire-perf",[TW]:"fire-perf-compat",[RW]:"fire-rc",[jW]:"fire-rc-compat",[IW]:"fire-gcs",[PW]:"fire-gcs-compat",[kW]:"fire-fst",[DW]:"fire-fst-compat",[AW]:"fire-vertex","fire-js":"fire-js",[MW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map,LW=new Map,W_=new Map;function SR(t,e){try{t.container.addComponent(e)}catch(n){oo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zl(t){const e=t.name;if(W_.has(e))return oo.debug(`There were multiple attempts to register component ${e}.`),!1;W_.set(e,t);for(const n of ov.values())SR(n,t);for(const n of LW.values())SR(n,t);return!0}function Iy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function cs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xa=new Qf("app","Firebase",VW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ka("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=OW;function RD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H_,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw xa.create("bad-app-name",{appName:String(s)});if(n||(n=CD()),!n)throw xa.create("no-options");const i=ov.get(s);if(i){if(Bl(n,i.options)&&Bl(r,i.config))return i;throw xa.create("duplicate-app",{appName:s})}const o=new qH(s);for(const c of W_.values())o.addComponent(c);const l=new $W(n,r,o);return ov.set(s,l),l}function EC(t=H_){const e=ov.get(t);if(!e&&t===H_&&CD())return RD();if(!e)throw xa.create("no-app",{appName:t});return e}function gi(t,e,n){var r;let s=(r=FW[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oo.warn(l.join(" "));return}zl(new ka(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW="firebase-heartbeat-database",BW=1,gf="firebase-heartbeat-store";let Sx=null;function jD(){return Sx||(Sx=iW(UW,BW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gf)}catch(n){console.warn(n)}}}}).catch(t=>{throw xa.create("idb-open",{originalErrorMessage:t.message})})),Sx}async function zW(t){try{const n=(await jD()).transaction(gf),r=await n.objectStore(gf).get(ID(t));return await n.done,r}catch(e){if(e instanceof Ri)oo.warn(e.message);else{const n=xa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oo.warn(n.message)}}}async function ER(t,e){try{const r=(await jD()).transaction(gf,"readwrite");await r.objectStore(gf).put(e,ID(t)),await r.done}catch(n){if(n instanceof Ri)oo.warn(n.message);else{const r=xa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oo.warn(r.message)}}}function ID(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW=1024,WW=30;class qW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=NR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>WW){const o=YW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){oo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=NR(),{heartbeatsToSend:r,unsentEntries:s}=GW(this._heartbeatsCache.heartbeats),i=iv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return oo.warn(n),""}}}function NR(){return new Date().toISOString().substring(0,10)}function GW(t,e=HW){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),TR(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),TR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DH()?MH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ER(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ER(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function TR(t){return iv(JSON.stringify({version:2,heartbeats:t})).length}function YW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QW(t){zl(new ka("platform-logger",e=>new lW(e),"PRIVATE")),zl(new ka("heartbeat",e=>new qW(e),"PRIVATE")),gi(z_,CR,t),gi(z_,CR,"esm2017"),gi("fire-js","")}QW("");var Jn=function(){return Jn=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Jn.apply(this,arguments)};function md(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function PD(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function kD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XW=kD,AD=new Qf("auth","Firebase",kD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new CC("@firebase/auth");function ZW(t,...e){av.logLevel<=ct.WARN&&av.warn(`Auth (${uc}): ${t}`,...e)}function fg(t,...e){av.logLevel<=ct.ERROR&&av.error(`Auth (${uc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,...e){throw NC(t,...e)}function Qr(t,...e){return NC(t,...e)}function DD(t,e,n){const r=Object.assign(Object.assign({},XW()),{[e]:n});return new Qf("auth","Firebase",r).create(e,{appName:t.name})}function wa(t){return DD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NC(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return AD.create(t,...e)}function be(t,e,...n){if(!t)throw NC(e,...n)}function Gi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fg(e),new Error(e)}function lo(t,e){t||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MD(){return RR()==="http:"||RR()==="https:"}function RR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MD()||IH()||"connection"in navigator)?navigator.onLine:!0}function eq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.shortDelay=e,this.longDelay=n,lo(n>e,"Short delay should be less than long delay!"),this.isMobile=TH()||PH()}get(){return JW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e){lo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rq=new Xf(3e4,6e4);function ji(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ks(t,e,n,r,s={}){return FD(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=fd(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return jH()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(u.credentials="include"),OD.fetch()(await LD(t,t.config.apiHost,n,l),u)})}async function FD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tq),e);try{const s=new iq(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw lh(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw lh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw lh(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DD(t,d,u);ao(t,d)}}catch(s){if(s instanceof Ri)throw s;ao(t,"network-request-failed",{message:String(s)})}}async function Py(t,e,n,r,s={}){const i=await Ks(t,e,n,r,s);return"mfaPendingCredential"in i&&ao(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function LD(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?TC(t.config,s):`${t.config.apiScheme}://${s}`;return nq.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function sq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qr(this.auth,"network-request-failed")),rq.get())})}}function lh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){return t!==void 0&&t.getResponse!==void 0}function IR(t){return t!==void 0&&t.enterprise!==void 0}class VD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oq(t){return(await Ks(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function $D(t,e){return Ks(t,"GET","/v2/recaptchaConfig",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aq(t,e){return Ks(t,"POST","/v1/accounts:delete",e)}async function lv(t,e){return Ks(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lq(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),s=RC(r);be(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ih(Ex(s.auth_time)),issuedAtTime:Ih(Ex(s.iat)),expirationTime:Ih(Ex(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ex(t){return Number(t)*1e3}function RC(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fg("JWT malformed, contained fewer than 3 sections"),null;try{const s=wD(n);return s?JSON.parse(s):(fg("Failed to decode base64 JWT payload"),null)}catch(s){return fg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PR(t){const e=RC(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ri&&cq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function cq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ih(this.lastLoginAt),this.creationTime=Ih(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(t){var e;const n=t.auth,r=await t.getIdToken(),s=await vf(t,lv(n,{idToken:r}));be(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?UD(i.providerUserInfo):[],l=hq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new G_(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function dq(t){const e=Ht(t);await cv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hq(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function UD(t){return t.map(e=>{var{providerId:n}=e,r=md(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(t,e){const n=await FD(t,{},async()=>{const r=fd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await LD(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&Ka(t.emulatorConfig.host)&&(c.credentials="include"),OD.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mq(t,e){return Ks(t,"POST","/v2/accounts:revokeToken",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=PR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await fq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new iu;return r&&(be(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(be(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(be(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new iu,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class As{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=md(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new G_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await vf(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lq(this,e)}reload(){return dq(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new As(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(wa(this.auth));const e=await this.getIdToken();return await vf(this,aq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,u,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(l=n.tenantId)!==null&&l!==void 0?l:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:T,isAnonymous:I,providerData:O,stsTokenManager:j}=n;be(b&&j,e,"internal-error");const S=iu.fromJSON(this.name,j);be(typeof b=="string",e,"internal-error"),Io(h,e.name),Io(f,e.name),be(typeof T=="boolean",e,"internal-error"),be(typeof I=="boolean",e,"internal-error"),Io(g,e.name),Io(y,e.name),Io(v,e.name),Io(x,e.name),Io(_,e.name),Io(w,e.name);const N=new As({uid:b,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:I,photoURL:y,phoneNumber:g,tenantId:v,stsTokenManager:S,createdAt:_,lastLoginAt:w});return O&&Array.isArray(O)&&(N.providerData=O.map(P=>Object.assign({},P))),x&&(N._redirectEventId=x),N}static async _fromIdTokenResponse(e,n,r=!1){const s=new iu;s.updateFromServerResponse(n);const i=new As({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cv(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];be(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?UD(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new iu;l.updateFromIdToken(r);const c=new As({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new G_(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;function Ki(t){lo(t instanceof Function,"Expected a class definition");let e=kR.get(t);return e?(lo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BD.type="NONE";const AR=BD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t,e,n){return`firebase:${t}:${e}:${n}`}class ou{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=mg(this.userKey,s.apiKey,i),this.fullPersistenceKey=mg("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lv(this.auth,{idToken:e}).catch(()=>{});return n?As._fromGetAccountInfoResponse(this.auth,n,e):null}return As._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ou(Ki(AR),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||Ki(AR);const o=mg(r,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await lv(e,{idToken:d}).catch(()=>{});if(!f)break;h=await As._fromGetAccountInfoResponse(e,f,d)}else h=As._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new ou(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new ou(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KD(e))return"Blackberry";if(YD(e))return"Webos";if(HD(e))return"Safari";if((e.includes("chrome/")||WD(e))&&!e.includes("edge/"))return"Chrome";if(GD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zD(t=nr()){return/firefox\//i.test(t)}function HD(t=nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WD(t=nr()){return/crios\//i.test(t)}function qD(t=nr()){return/iemobile/i.test(t)}function GD(t=nr()){return/android/i.test(t)}function KD(t=nr()){return/blackberry/i.test(t)}function YD(t=nr()){return/webos/i.test(t)}function jC(t=nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pq(t=nr()){var e;return jC(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gq(){return kH()&&document.documentMode===10}function QD(t=nr()){return jC(t)||GD(t)||YD(t)||KD(t)||/windows phone/i.test(t)||qD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t,e=[]){let n;switch(t){case"Browser":n=DR(nr());break;case"Worker":n=`${DR(nr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${uc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yq(t,e={}){return Ks(t,"GET","/v2/passwordPolicy",ji(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=6;class wq{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:xq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new MR(this),this.idTokenSubscription=new MR(this),this.beforeStateQueue=new vq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ou.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lv(this,{idToken:e}),r=await As._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(cs(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(wa(this));const n=e?Ht(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(wa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(wa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yq(this),n=new wq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await ou.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ya(t){return Ht(t)}class MR{constructor(e){this.auth=e,this.observer=null,this.addObserver=$H(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bq(t){Zf=t}function IC(t){return Zf.loadJS(t)}function Cq(){return Zf.recaptchaV2Script}function Sq(){return Zf.recaptchaEnterpriseScript}function Eq(){return Zf.gapiScript}function ZD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=500,Tq=6e4,Pp=1e12;class Rq{constructor(e){this.auth=e,this.counter=Pp,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new Pq(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||Pp;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||Pp;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||Pp;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class jq{constructor(){this.enterprise=new Iq}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Iq{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pq{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;be(s,"argument-error",{appName:n}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=kq(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Tq)},Nq))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function kq(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Aq="recaptcha-enterprise",Ph="NO_RECAPTCHA";class JD{constructor(e){this.type=Aq,this.auth=Ya(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{$D(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new VD(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;IR(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ph)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jq().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&IR(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Sq();c.length!==0&&(c+=l),IC(c).then(()=>{s(l,i,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function Nx(t,e,n,r=!1,s=!1){const i=new JD(t);let o;if(s)o=Ph;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Tx(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("PHONE_PROVIDER")){const o=await Nx(t,e,n);return r(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await Nx(t,e,n,!1,!0);return r(t,u)}return Promise.reject(l)})}else{const o=await Nx(t,e,n,!1,!0);return r(t,o)}}async function Dq(t){const e=Ya(t),n=await $D(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new VD(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new JD(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mq(t,e){const n=Iy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Bl(i,e??{}))return s;ao(s,"already-initialized")}return n.initialize({options:e})}function Oq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Fq(t,e,n){const r=Ya(t);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=eM(e),{host:o,port:l}=Lq(e),c=l===null?"":`:${l}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(Bl(u,r.config.emulator)&&Bl(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Ka(o)?(_C(`${i}//${o}${c}`),bC("Auth",!0)):Vq()}function eM(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lq(t){const e=eM(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:OR(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:OR(o)}}}function OR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Vq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e){return Py(t,"POST","/v1/accounts:signInWithIdp",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $q="http://localhost";class Hl extends PC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ao("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=md(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Hl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return au(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,au(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,au(e,n)}buildRequest(){const e={requestUri:$q,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e){return Ks(t,"POST","/v1/accounts:sendVerificationCode",ji(t,e))}async function Uq(t,e){return Py(t,"POST","/v1/accounts:signInWithPhoneNumber",ji(t,e))}async function Bq(t,e){const n=await Py(t,"POST","/v1/accounts:signInWithPhoneNumber",ji(t,e));if(n.temporaryProof)throw lh(t,"account-exists-with-different-credential",n);return n}const zq={USER_NOT_FOUND:"user-not-found"};async function Hq(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Py(t,"POST","/v1/accounts:signInWithPhoneNumber",ji(t,n),zq)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends PC{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new kh({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new kh({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return Uq(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return Bq(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return Hq(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:s}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i}=e;return!r&&!n&&!s&&!i?null:new kh({verificationId:n,verificationCode:r,phoneNumber:s,temporaryProof:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf extends tM{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Jf{constructor(){super("facebook.com")}static credential(e){return Hl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vo.credential(e.oauthAccessToken)}catch{return null}}}Vo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o extends Jf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hl._fromParams({providerId:$o.PROVIDER_ID,signInMethod:$o.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $o.credentialFromTaggedObject(e)}static credentialFromError(e){return $o.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $o.credential(n,r)}catch{return null}}}$o.GOOGLE_SIGN_IN_METHOD="google.com";$o.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Jf{constructor(){super("github.com")}static credential(e){return Hl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo extends Jf{constructor(){super("twitter.com")}static credential(e,n){return Hl._fromParams({providerId:Bo.PROVIDER_ID,signInMethod:Bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Bo.credentialFromTaggedObject(e)}static credentialFromError(e){return Bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Bo.credential(n,r)}catch{return null}}}Bo.TWITTER_SIGN_IN_METHOD="twitter.com";Bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await As._fromIdTokenResponse(e,r,s),o=LR(r);return new Uu({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=LR(r);return new Uu({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function LR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends Ri{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uv.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uv(e,n,r,s)}}function nM(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?uv._fromErrorAndOperation(t,i,e,r):i})}async function Wq(t,e,n=!1){const r=await vf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Uu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qq(t,e,n=!1){const{auth:r}=t;if(cs(r.app))return Promise.reject(wa(r));const s="reauthenticate";try{const i=await vf(t,nM(r,s,e,t),n);be(i.idToken,r,"internal-error");const o=RC(i.idToken);be(o,r,"internal-error");const{sub:l}=o;return be(t.uid===l,r,"user-mismatch"),Uu._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ao(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e,n=!1){if(cs(t.app))return Promise.reject(wa(t));const r="signIn",s=await nM(t,r,e),i=await Uu._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Gq(t,e){return rM(Ya(t),e)}function Kq(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function Yq(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function Qq(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function kC(t){return Ht(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e){return Ks(t,"POST","/v2/accounts/mfaEnrollment:start",ji(t,e))}const dv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dv,"1"),this.storage.removeItem(dv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xq=1e3,Zq=10;class iM extends sM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);gq()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Zq):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Xq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iM.type="LOCAL";const Jq=iM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM extends sM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oM.type="SESSION";const aM=oM;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ky(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async u=>u(n.origin,i)),c=await eG(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ky.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const u=AC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(f.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function nG(t){mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function rG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function iG(){return DC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM="firebaseLocalStorageDb",oG=1,hv="firebaseLocalStorage",cM="fbase_key";class em{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ay(t,e){return t.transaction([hv],e?"readwrite":"readonly").objectStore(hv)}function aG(){const t=indexedDB.deleteDatabase(lM);return new em(t).toPromise()}function K_(){const t=indexedDB.open(lM,oG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hv,{keyPath:cM})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hv)?e(r):(r.close(),await aG(),e(await K_()))})})}async function $R(t,e,n){const r=Ay(t,!0).put({[cM]:e,value:n});return new em(r).toPromise()}async function lG(t,e){const n=Ay(t,!1).get(e),r=await new em(n).toPromise();return r===void 0?null:r.value}function UR(t,e){const n=Ay(t,!0).delete(e);return new em(n).toPromise()}const cG=800,uG=3;class uM{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>uG)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ky._getInstance(iG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rG(),!this.activeServiceWorker)return;this.sender=new tG(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K_();return await $R(e,dv,"1"),await UR(e,dv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$R(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>lG(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Ay(s,!1).getAll();return new em(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uM.type="LOCAL";const dG=uM;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t,e){return Ks(t,"POST","/v2/accounts/mfaSignIn:start",ji(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=ZD("rcb"),hG=new Xf(3e4,6e4);class fG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=mn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return be(mG(n),e,"argument-error"),this.shouldResolveImmediately(n)&&jR(mn().grecaptcha)?Promise.resolve(mn().grecaptcha):new Promise((r,s)=>{const i=mn().setTimeout(()=>{s(Qr(e,"network-request-failed"))},hG.get());mn()[Rx]=()=>{mn().clearTimeout(i),delete mn()[Rx];const l=mn().grecaptcha;if(!l||!jR(l)){s(Qr(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const h=c(u,d);return this.counter++,h},this.hostLanguage=n,r(l)};const o=`${Cq()}?${fd({onload:Rx,render:"explicit",hl:n})}`;IC(o).catch(()=>{clearTimeout(i),s(Qr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=mn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function mG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class pG{async load(e){return new Rq(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="recaptcha",gG={theme:"light",type:"image"};class vG{constructor(e,n,r=Object.assign({},gG)){this.parameters=r,this.type=Ah,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ya(e),this.isInvisible=this.parameters.size==="invisible",be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof n=="string"?document.getElementById(n):n;be(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new pG:new fG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(s=>{const i=o=>{o&&(this.tokenChangeListeners.delete(i),s(o))};this.tokenChangeListeners.add(i),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){be(!this.parameters.sitekey,this.auth,"argument-error"),be(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),be(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=mn()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){be(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){be(MD()&&!DC(),this.auth,"internal-error"),await yG(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await oq(this.auth);be(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return be(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function yG(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=kh._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function dM(t,e,n){if(cs(t.app))return Promise.reject(wa(t));const r=Ya(t),s=await wG(r,e,Ht(n));return new xG(s,i=>Gq(r,i))}async function wG(t,e,n){var r;if(!t._getRecaptchaConfig())try{await Dq(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const i=s.session;if("phoneNumber"in s){be(i.type==="enroll",t,"internal-error");const o={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Tx(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===Ph){be((n==null?void 0:n.type)===Ah,d,"argument-error");const f=await jx(d,h,n);return VR(d,f)}return VR(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{be(i.type==="signin",t,"internal-error");const o=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;be(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Tx(t,l,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===Ph){be((n==null?void 0:n.type)===Ah,h,"argument-error");const g=await jx(h,f,n);return BR(h,g)}return BR(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Tx(t,i,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===Ph){be((n==null?void 0:n.type)===Ah,u,"argument-error");const h=await jx(u,d,n);return FR(u,h)}return FR(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function jx(t,e,n){be(n.type===Ah,t,"argument-error");const r=await n.verify();be(typeof r=="string",t,"argument-error");const s=Object.assign({},e);if("phoneEnrollmentInfo"in s){const i=s.phoneEnrollmentInfo.phoneNumber,o=s.phoneEnrollmentInfo.captchaResponse,l=s.phoneEnrollmentInfo.clientType,c=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:i,recaptchaToken:r,captchaResponse:o,clientType:l,recaptchaVersion:c}}),s}else if("phoneSignInInfo"in s){const i=s.phoneSignInInfo.captchaResponse,o=s.phoneSignInInfo.clientType,l=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:i,clientType:o,recaptchaVersion:l}}),s}else return Object.assign(s,{recaptchaToken:r}),s}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _G(t,e){return e?Ki(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends PC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bG(t){return rM(t.auth,new MC(t),t.bypassAuthState)}function CG(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),qq(n,new MC(t),t.bypassAuthState)}async function SG(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),Wq(n,new MC(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bG;case"linkViaPopup":case"linkViaRedirect":return SG;case"reauthViaPopup":case"reauthViaRedirect":return CG;default:ao(this.auth,"internal-error")}}resolve(e){lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=new Xf(2e3,1e4);class Kc extends hM{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Kc.currentPopupAction&&Kc.currentPopupAction.cancel(),Kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){lo(this.filter.length===1,"Popup operations only handle one event");const e=AC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EG.get())};e()}}Kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="pendingRedirect",pg=new Map;class TG extends hM{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=pg.get(this.auth._key());if(!e){try{const r=await RG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}pg.set(this.auth._key(),e)}return this.bypassAuthState||pg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RG(t,e){const n=PG(e),r=IG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function jG(t,e){pg.set(t._key(),e)}function IG(t){return Ki(t._redirectPersistence)}function PG(t){return mg(NG,t.config.apiKey,t.name)}async function kG(t,e,n=!1){if(cs(t.app))return Promise.reject(wa(t));const r=Ya(t),s=_G(r,e),o=await new TG(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AG=10*60*1e3;class DG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!fM(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AG&&this.cachedEventUids.clear(),this.cachedEventUids.has(zR(e))}saveEventToCache(e){this.cachedEventUids.add(zR(e)),this.lastProcessedEventTime=Date.now()}}function zR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fM({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fM(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OG(t,e={}){return Ks(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LG=/^https?/;async function VG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OG(t);for(const n of e)try{if($G(n))return}catch{}ao(t,"unauthorized-domain")}function $G(t){const e=q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!LG.test(n))return!1;if(FG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new Xf(3e4,6e4);function HR(){const t=mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BG(t){return new Promise((e,n)=>{var r,s,i;function o(){HR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HR(),n(Qr(t,"network-request-failed"))},timeout:UG.get()})}if(!((s=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=mn().gapi)===null||i===void 0)&&i.load)o();else{const l=ZD("iframefcb");return mn()[l]=()=>{gapi.load?o():n(Qr(t,"network-request-failed"))},IC(`${Eq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw gg=null,e})}let gg=null;function zG(t){return gg=gg||BG(t),gg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG=new Xf(5e3,15e3),WG="__/auth/iframe",qG="emulator/auth/iframe",GG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YG(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?TC(e,qG):`https://${t.config.authDomain}/${WG}`,r={apiKey:e.apiKey,appName:t.name,v:uc},s=KG.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${fd(r).slice(1)}`}async function QG(t){const e=await zG(t),n=mn().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:YG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GG,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Qr(t,"network-request-failed"),l=mn().setTimeout(()=>{i(o)},HG.get());function c(){mn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZG=500,JG=600,eK="_blank",tK="http://localhost";class WR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nK(t,e,n,r=ZG,s=JG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},XG),{width:r.toString(),height:s.toString(),top:i,left:o}),u=nr().toLowerCase();n&&(l=WD(u)?eK:n),zD(u)&&(e=e||tK,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(pq(u)&&l!=="_self")return rK(e||"",l),new WR(null);const h=window.open(e||"",l,d);be(h,t,"popup-blocked");try{h.focus()}catch{}return new WR(h)}function rK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sK="__/auth/handler",iK="emulator/auth/handler",oK=encodeURIComponent("fac");async function qR(t,e,n,r,s,i){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:uc,eventId:s};if(e instanceof tM){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof Jf){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${oK}=${encodeURIComponent(c)}`:"";return`${aK(t)}?${fd(l).slice(1)}${u}`}function aK({config:t}){return t.emulator?TC(t,iK):`https://${t.authDomain}/${sK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="webStorageSupport";class lK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aM,this._completeRedirectFn=kG,this._overrideRedirectResult=jG}async _openPopup(e,n,r,s){var i;lo((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await qR(e,n,r,q_(),s);return nK(e,o,AC())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await qR(e,n,r,q_(),s);return nG(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(lo(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await QG(e),r=new DG(e);return n.register("authEvent",s=>(be(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ix,{type:Ix},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ix];o!==void 0&&n(!!o),ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QD()||HD()||jC()}}const cK=lK;var GR="@firebase/auth",KR="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hK(t){zl(new ka("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;be(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XD(t)},u=new _q(r,s,i,c);return Oq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zl(new ka("auth-internal",e=>{const n=Ya(e.getProvider("auth").getImmediate());return(r=>new uK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gi(GR,KR,dK(t)),gi(GR,KR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=5*60,mK=SD("authIdTokenMaxAge")||fK;let YR=null;const pK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mK)return;const s=n==null?void 0:n.token;YR!==s&&(YR=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function gK(t=EC()){const e=Iy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Mq(t,{popupRedirectResolver:cK,persistence:[dG,Jq,aM]}),r=SD("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=pK(i.toString());Yq(n,o,()=>o(n.currentUser)),Kq(n,l=>o(l))}}const s=_D("auth");return s&&Fq(n,`http://${s}`),n}function vK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}bq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Qr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",vK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hK("Browser");var yK="firebase",xK="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi(yK,xK,"app");var QR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _a,mM;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,S){function N(){}N.prototype=S.prototype,j.D=S.prototype,j.prototype=new N,j.prototype.constructor=j,j.C=function(P,k,D){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return S.prototype[k].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(j,S,N){N||(N=0);var P=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)P[k]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(k=0;16>k;++k)P[k]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=j.g[0],N=j.g[1],k=j.g[2];var D=j.g[3],R=S+(D^N&(k^D))+P[0]+3614090360&4294967295;S=N+(R<<7&4294967295|R>>>25),R=D+(k^S&(N^k))+P[1]+3905402710&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(N^D&(S^N))+P[2]+606105819&4294967295,k=D+(R<<17&4294967295|R>>>15),R=N+(S^k&(D^S))+P[3]+3250441966&4294967295,N=k+(R<<22&4294967295|R>>>10),R=S+(D^N&(k^D))+P[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=D+(k^S&(N^k))+P[5]+1200080426&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(N^D&(S^N))+P[6]+2821735955&4294967295,k=D+(R<<17&4294967295|R>>>15),R=N+(S^k&(D^S))+P[7]+4249261313&4294967295,N=k+(R<<22&4294967295|R>>>10),R=S+(D^N&(k^D))+P[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=D+(k^S&(N^k))+P[9]+2336552879&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(N^D&(S^N))+P[10]+4294925233&4294967295,k=D+(R<<17&4294967295|R>>>15),R=N+(S^k&(D^S))+P[11]+2304563134&4294967295,N=k+(R<<22&4294967295|R>>>10),R=S+(D^N&(k^D))+P[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=D+(k^S&(N^k))+P[13]+4254626195&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(N^D&(S^N))+P[14]+2792965006&4294967295,k=D+(R<<17&4294967295|R>>>15),R=N+(S^k&(D^S))+P[15]+1236535329&4294967295,N=k+(R<<22&4294967295|R>>>10),R=S+(k^D&(N^k))+P[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=D+(N^k&(S^N))+P[6]+3225465664&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^N&(D^S))+P[11]+643717713&4294967295,k=D+(R<<14&4294967295|R>>>18),R=N+(D^S&(k^D))+P[0]+3921069994&4294967295,N=k+(R<<20&4294967295|R>>>12),R=S+(k^D&(N^k))+P[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=D+(N^k&(S^N))+P[10]+38016083&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^N&(D^S))+P[15]+3634488961&4294967295,k=D+(R<<14&4294967295|R>>>18),R=N+(D^S&(k^D))+P[4]+3889429448&4294967295,N=k+(R<<20&4294967295|R>>>12),R=S+(k^D&(N^k))+P[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=D+(N^k&(S^N))+P[14]+3275163606&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^N&(D^S))+P[3]+4107603335&4294967295,k=D+(R<<14&4294967295|R>>>18),R=N+(D^S&(k^D))+P[8]+1163531501&4294967295,N=k+(R<<20&4294967295|R>>>12),R=S+(k^D&(N^k))+P[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=D+(N^k&(S^N))+P[2]+4243563512&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^N&(D^S))+P[7]+1735328473&4294967295,k=D+(R<<14&4294967295|R>>>18),R=N+(D^S&(k^D))+P[12]+2368359562&4294967295,N=k+(R<<20&4294967295|R>>>12),R=S+(N^k^D)+P[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=D+(S^N^k)+P[8]+2272392833&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^N)+P[11]+1839030562&4294967295,k=D+(R<<16&4294967295|R>>>16),R=N+(k^D^S)+P[14]+4259657740&4294967295,N=k+(R<<23&4294967295|R>>>9),R=S+(N^k^D)+P[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=D+(S^N^k)+P[4]+1272893353&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^N)+P[7]+4139469664&4294967295,k=D+(R<<16&4294967295|R>>>16),R=N+(k^D^S)+P[10]+3200236656&4294967295,N=k+(R<<23&4294967295|R>>>9),R=S+(N^k^D)+P[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=D+(S^N^k)+P[0]+3936430074&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^N)+P[3]+3572445317&4294967295,k=D+(R<<16&4294967295|R>>>16),R=N+(k^D^S)+P[6]+76029189&4294967295,N=k+(R<<23&4294967295|R>>>9),R=S+(N^k^D)+P[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=D+(S^N^k)+P[12]+3873151461&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^N)+P[15]+530742520&4294967295,k=D+(R<<16&4294967295|R>>>16),R=N+(k^D^S)+P[2]+3299628645&4294967295,N=k+(R<<23&4294967295|R>>>9),R=S+(k^(N|~D))+P[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=D+(N^(S|~k))+P[7]+1126891415&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~N))+P[14]+2878612391&4294967295,k=D+(R<<15&4294967295|R>>>17),R=N+(D^(k|~S))+P[5]+4237533241&4294967295,N=k+(R<<21&4294967295|R>>>11),R=S+(k^(N|~D))+P[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=D+(N^(S|~k))+P[3]+2399980690&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~N))+P[10]+4293915773&4294967295,k=D+(R<<15&4294967295|R>>>17),R=N+(D^(k|~S))+P[1]+2240044497&4294967295,N=k+(R<<21&4294967295|R>>>11),R=S+(k^(N|~D))+P[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=D+(N^(S|~k))+P[15]+4264355552&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~N))+P[6]+2734768916&4294967295,k=D+(R<<15&4294967295|R>>>17),R=N+(D^(k|~S))+P[13]+1309151649&4294967295,N=k+(R<<21&4294967295|R>>>11),R=S+(k^(N|~D))+P[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=D+(N^(S|~k))+P[11]+3174756917&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~N))+P[2]+718787259&4294967295,k=D+(R<<15&4294967295|R>>>17),R=N+(D^(k|~S))+P[9]+3951481745&4294967295,j.g[0]=j.g[0]+S&4294967295,j.g[1]=j.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,j.g[2]=j.g[2]+k&4294967295,j.g[3]=j.g[3]+D&4294967295}r.prototype.u=function(j,S){S===void 0&&(S=j.length);for(var N=S-this.blockSize,P=this.B,k=this.h,D=0;D<S;){if(k==0)for(;D<=N;)s(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<S;)if(P[k++]=j.charCodeAt(D++),k==this.blockSize){s(this,P),k=0;break}}else for(;D<S;)if(P[k++]=j[D++],k==this.blockSize){s(this,P),k=0;break}}this.h=k,this.o+=S},r.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var S=1;S<j.length-8;++S)j[S]=0;var N=8*this.o;for(S=j.length-8;S<j.length;++S)j[S]=N&255,N/=256;for(this.u(j),j=Array(16),S=N=0;4>S;++S)for(var P=0;32>P;P+=8)j[N++]=this.g[S]>>>P&255;return j};function i(j,S){var N=l;return Object.prototype.hasOwnProperty.call(N,j)?N[j]:N[j]=S(j)}function o(j,S){this.h=S;for(var N=[],P=!0,k=j.length-1;0<=k;k--){var D=j[k]|0;P&&D==S||(N[k]=D,P=!1)}this.g=N}var l={};function c(j){return-128<=j&&128>j?i(j,function(S){return new o([S|0],0>S?-1:0)}):new o([j|0],0>j?-1:0)}function u(j){if(isNaN(j)||!isFinite(j))return h;if(0>j)return x(u(-j));for(var S=[],N=1,P=0;j>=N;P++)S[P]=j/N|0,N*=4294967296;return new o(S,0)}function d(j,S){if(j.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(j.charAt(0)=="-")return x(d(j.substring(1),S));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(S,8)),P=h,k=0;k<j.length;k+=8){var D=Math.min(8,j.length-k),R=parseInt(j.substring(k,k+D),S);8>D?(D=u(Math.pow(S,D)),P=P.j(D).add(u(R))):(P=P.j(N),P=P.add(u(R)))}return P}var h=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(v(this))return-x(this).m();for(var j=0,S=1,N=0;N<this.g.length;N++){var P=this.i(N);j+=(0<=P?P:4294967296+P)*S,S*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(y(this))return"0";if(v(this))return"-"+x(this).toString(j);for(var S=u(Math.pow(j,6)),N=this,P="";;){var k=T(N,S).g;N=_(N,k.j(S));var D=((0<N.g.length?N.g[0]:N.h)>>>0).toString(j);if(N=k,y(N))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function y(j){if(j.h!=0)return!1;for(var S=0;S<j.g.length;S++)if(j.g[S]!=0)return!1;return!0}function v(j){return j.h==-1}t.l=function(j){return j=_(this,j),v(j)?-1:y(j)?0:1};function x(j){for(var S=j.g.length,N=[],P=0;P<S;P++)N[P]=~j.g[P];return new o(N,~j.h).add(f)}t.abs=function(){return v(this)?x(this):this},t.add=function(j){for(var S=Math.max(this.g.length,j.g.length),N=[],P=0,k=0;k<=S;k++){var D=P+(this.i(k)&65535)+(j.i(k)&65535),R=(D>>>16)+(this.i(k)>>>16)+(j.i(k)>>>16);P=R>>>16,D&=65535,R&=65535,N[k]=R<<16|D}return new o(N,N[N.length-1]&-2147483648?-1:0)};function _(j,S){return j.add(x(S))}t.j=function(j){if(y(this)||y(j))return h;if(v(this))return v(j)?x(this).j(x(j)):x(x(this).j(j));if(v(j))return x(this.j(x(j)));if(0>this.l(g)&&0>j.l(g))return u(this.m()*j.m());for(var S=this.g.length+j.g.length,N=[],P=0;P<2*S;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(var k=0;k<j.g.length;k++){var D=this.i(P)>>>16,R=this.i(P)&65535,$=j.i(k)>>>16,G=j.i(k)&65535;N[2*P+2*k]+=R*G,w(N,2*P+2*k),N[2*P+2*k+1]+=D*G,w(N,2*P+2*k+1),N[2*P+2*k+1]+=R*$,w(N,2*P+2*k+1),N[2*P+2*k+2]+=D*$,w(N,2*P+2*k+2)}for(P=0;P<S;P++)N[P]=N[2*P+1]<<16|N[2*P];for(P=S;P<2*S;P++)N[P]=0;return new o(N,0)};function w(j,S){for(;(j[S]&65535)!=j[S];)j[S+1]+=j[S]>>>16,j[S]&=65535,S++}function b(j,S){this.g=j,this.h=S}function T(j,S){if(y(S))throw Error("division by zero");if(y(j))return new b(h,h);if(v(j))return S=T(x(j),S),new b(x(S.g),x(S.h));if(v(S))return S=T(j,x(S)),new b(x(S.g),S.h);if(30<j.g.length){if(v(j)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var N=f,P=S;0>=P.l(j);)N=I(N),P=I(P);var k=O(N,1),D=O(P,1);for(P=O(P,2),N=O(N,2);!y(P);){var R=D.add(P);0>=R.l(j)&&(k=k.add(N),D=R),P=O(P,1),N=O(N,1)}return S=_(j,k.j(S)),new b(k,S)}for(k=h;0<=j.l(S);){for(N=Math.max(1,Math.floor(j.m()/S.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(N),R=D.j(S);v(R)||0<R.l(j);)N-=P,D=u(N),R=D.j(S);y(D)&&(D=f),k=k.add(D),j=_(j,R)}return new b(k,j)}t.A=function(j){return T(this,j).h},t.and=function(j){for(var S=Math.max(this.g.length,j.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)&j.i(P);return new o(N,this.h&j.h)},t.or=function(j){for(var S=Math.max(this.g.length,j.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)|j.i(P);return new o(N,this.h|j.h)},t.xor=function(j){for(var S=Math.max(this.g.length,j.g.length),N=[],P=0;P<S;P++)N[P]=this.i(P)^j.i(P);return new o(N,this.h^j.h)};function I(j){for(var S=j.g.length+1,N=[],P=0;P<S;P++)N[P]=j.i(P)<<1|j.i(P-1)>>>31;return new o(N,j.h)}function O(j,S){var N=S>>5;S%=32;for(var P=j.g.length-N,k=[],D=0;D<P;D++)k[D]=0<S?j.i(D+N)>>>S|j.i(D+N+1)<<32-S:j.i(D+N);return new o(k,j.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,mM=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,_a=o}).apply(typeof QR<"u"?QR:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pM,ch,gM,vg,Y_,vM,yM,xM;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,C,E){return m==Array.prototype||m==Object.prototype||(m[C]=E.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var C=0;C<m.length;++C){var E=m[C];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(m,C){if(C)e:{var E=r;m=m.split(".");for(var A=0;A<m.length-1;A++){var z=m[A];if(!(z in E))break e;E=E[z]}m=m[m.length-1],A=E[m],C=C(A),C!=A&&C!=null&&e(E,m,{configurable:!0,writable:!0,value:C})}}function i(m,C){m instanceof String&&(m+="");var E=0,A=!1,z={next:function(){if(!A&&E<m.length){var K=E++;return{value:C(K,m[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(m){return m||function(){return i(this,function(C,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var C=typeof m;return C=C!="object"?C:m?Array.isArray(m)?"array":C:"null",C=="array"||C=="object"&&typeof m.length=="number"}function u(m){var C=typeof m;return C=="object"&&m!=null||C=="function"}function d(m,C,E){return m.call.apply(m.bind,arguments)}function h(m,C,E){if(!m)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),m.apply(C,z)}}return function(){return m.apply(C,arguments)}}function f(m,C,E){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(m,C){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),m.apply(this,A)}}function y(m,C){function E(){}E.prototype=C.prototype,m.aa=C.prototype,m.prototype=new E,m.prototype.constructor=m,m.Qb=function(A,z,K){for(var ue=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)ue[Tt-2]=arguments[Tt];return C.prototype[z].apply(A,ue)}}function v(m){const C=m.length;if(0<C){const E=Array(C);for(let A=0;A<C;A++)E[A]=m[A];return E}return[]}function x(m,C){for(let E=1;E<arguments.length;E++){const A=arguments[E];if(c(A)){const z=m.length||0,K=A.length||0;m.length=z+K;for(let ue=0;ue<K;ue++)m[z+ue]=A[ue]}else m.push(A)}}class _{constructor(C,E){this.i=C,this.j=E,this.h=0,this.g=null}get(){let C;return 0<this.h?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function w(m){return/^[\s\xa0]*$/.test(m)}function b(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function T(m){return T[" "](m),m}T[" "]=function(){};var I=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function O(m,C,E){for(const A in m)C.call(E,m[A],A,m)}function j(m,C){for(const E in m)C.call(void 0,m[E],E,m)}function S(m){const C={};for(const E in m)C[E]=m[E];return C}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(m,C){let E,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(E in A)m[E]=A[E];for(let K=0;K<N.length;K++)E=N[K],Object.prototype.hasOwnProperty.call(A,E)&&(m[E]=A[E])}}function k(m){var C=1;m=m.split(":");const E=[];for(;0<C&&m.length;)E.push(m.shift()),C--;return m.length&&E.push(m.join(":")),E}function D(m){l.setTimeout(()=>{throw m},0)}function R(){var m=U;let C=null;return m.g&&(C=m.g,m.g=m.g.next,m.g||(m.h=null),C.next=null),C}class ${constructor(){this.h=this.g=null}add(C,E){const A=G.get();A.set(C,E),this.h?this.h.next=A:this.g=A,this.h=A}}var G=new _(()=>new q,m=>m.reset());class q{constructor(){this.next=this.g=this.h=null}set(C,E){this.h=C,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let H,M=!1,U=new $,re=()=>{const m=l.Promise.resolve(void 0);H=()=>{m.then(W)}};var W=()=>{for(var m;m=R();){try{m.h.call(m.g)}catch(E){D(E)}var C=G;C.j(m),100>C.h&&(C.h++,m.next=C.g,C.g=m)}M=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(m,C){this.type=m,this.g=this.target=C,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,C=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const E=()=>{};l.addEventListener("test",E,C),l.removeEventListener("test",E,C)}catch{}return m}();function he(m,C){if(Q.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var E=this.type=m.type,A=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=C,C=m.relatedTarget){if(I){e:{try{T(C.nodeName);var z=!0;break e}catch{}z=!1}z||(C=null)}}else E=="mouseover"?C=m.fromElement:E=="mouseout"&&(C=m.toElement);this.relatedTarget=C,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:me[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&he.aa.h.call(this)}}y(he,Q);var me={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Re=0;function Ue(m,C,E,A,z){this.listener=m,this.proxy=null,this.src=C,this.type=E,this.capture=!!A,this.ha=z,this.key=++Re,this.da=this.fa=!1}function Ve(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function nt(m){this.src=m,this.g={},this.h=0}nt.prototype.add=function(m,C,E,A,z){var K=m.toString();m=this.g[K],m||(m=this.g[K]=[],this.h++);var ue=Xt(m,C,A,z);return-1<ue?(C=m[ue],E||(C.fa=!1)):(C=new Ue(C,this.src,K,!!A,z),C.fa=E,m.push(C)),C};function rt(m,C){var E=C.type;if(E in m.g){var A=m.g[E],z=Array.prototype.indexOf.call(A,C,void 0),K;(K=0<=z)&&Array.prototype.splice.call(A,z,1),K&&(Ve(C),m.g[E].length==0&&(delete m.g[E],m.h--))}}function Xt(m,C,E,A){for(var z=0;z<m.length;++z){var K=m[z];if(!K.da&&K.listener==C&&K.capture==!!E&&K.ha==A)return z}return-1}var hn="closure_lm_"+(1e6*Math.random()|0),Vr={};function $n(m,C,E,A,z){if(Array.isArray(C)){for(var K=0;K<C.length;K++)$n(m,C[K],E,A,z);return null}return E=We(E),m&&m[le]?m.K(C,E,u(A)?!!A.capture:!!A,z):Qs(m,C,E,!1,A,z)}function Qs(m,C,E,A,z,K){if(!C)throw Error("Invalid event type");var ue=u(z)?!!z.capture:!!z,Tt=se(m);if(Tt||(m[hn]=Tt=new nt(m)),E=Tt.add(C,E,A,ue,K),E.proxy)return E;if(A=L(),E.proxy=A,A.src=m,A.listener=E,m.addEventListener)pe||(z=ue),z===void 0&&(z=!1),m.addEventListener(C.toString(),A,z);else if(m.attachEvent)m.attachEvent(fe(C.toString()),A);else if(m.addListener&&m.removeListener)m.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function L(){function m(E){return C.call(m.src,m.listener,E)}const C=ce;return m}function B(m,C,E,A,z){if(Array.isArray(C))for(var K=0;K<C.length;K++)B(m,C[K],E,A,z);else A=u(A)?!!A.capture:!!A,E=We(E),m&&m[le]?(m=m.i,C=String(C).toString(),C in m.g&&(K=m.g[C],E=Xt(K,E,A,z),-1<E&&(Ve(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete m.g[C],m.h--)))):m&&(m=se(m))&&(C=m.g[C.toString()],m=-1,C&&(m=Xt(C,E,A,z)),(E=-1<m?C[m]:null)&&Y(E))}function Y(m){if(typeof m!="number"&&m&&!m.da){var C=m.src;if(C&&C[le])rt(C.i,m);else{var E=m.type,A=m.proxy;C.removeEventListener?C.removeEventListener(E,A,m.capture):C.detachEvent?C.detachEvent(fe(E),A):C.addListener&&C.removeListener&&C.removeListener(A),(E=se(C))?(rt(E,m),E.h==0&&(E.src=null,C[hn]=null)):Ve(m)}}}function fe(m){return m in Vr?Vr[m]:Vr[m]="on"+m}function ce(m,C){if(m.da)m=!0;else{C=new he(C,this);var E=m.listener,A=m.ha||m.src;m.fa&&Y(m),m=E.call(A,C)}return m}function se(m){return m=m[hn],m instanceof nt?m:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(m){return typeof m=="function"?m:(m[Se]||(m[Se]=function(C){return m.handleEvent(C)}),m[Se])}function et(){F.call(this),this.i=new nt(this),this.M=this,this.F=null}y(et,F),et.prototype[le]=!0,et.prototype.removeEventListener=function(m,C,E,A){B(this,m,C,E,A)};function Xe(m,C){var E,A=m.F;if(A)for(E=[];A;A=A.F)E.push(A);if(m=m.M,A=C.type||C,typeof C=="string")C=new Q(C,m);else if(C instanceof Q)C.target=C.target||m;else{var z=C;C=new Q(A,m),P(C,z)}if(z=!0,E)for(var K=E.length-1;0<=K;K--){var ue=C.g=E[K];z=rr(ue,A,!0,C)&&z}if(ue=C.g=m,z=rr(ue,A,!0,C)&&z,z=rr(ue,A,!1,C)&&z,E)for(K=0;K<E.length;K++)ue=C.g=E[K],z=rr(ue,A,!1,C)&&z}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var m=this.i,C;for(C in m.g){for(var E=m.g[C],A=0;A<E.length;A++)Ve(E[A]);delete m.g[C],m.h--}}this.F=null},et.prototype.K=function(m,C,E,A){return this.i.add(String(m),C,!1,E,A)},et.prototype.L=function(m,C,E,A){return this.i.add(String(m),C,!0,E,A)};function rr(m,C,E,A){if(C=m.i.g[String(C)],!C)return!0;C=C.concat();for(var z=!0,K=0;K<C.length;++K){var ue=C[K];if(ue&&!ue.da&&ue.capture==E){var Tt=ue.listener,kn=ue.ha||ue.src;ue.fa&&rt(m.i,ue),z=Tt.call(kn,A)!==!1&&z}}return z&&!A.defaultPrevented}function Cs(m,C,E){if(typeof m=="function")E&&(m=f(m,E));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(C)?-1:l.setTimeout(m,C||0)}function ki(m){m.g=Cs(()=>{m.g=null,m.i&&(m.i=!1,ki(m))},m.l);const C=m.h;m.h=null,m.m.apply(null,C)}class ol extends F{constructor(C,E){super(),this.m=C,this.l=E,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:ki(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(m){F.call(this),this.h=m,this.g={}}y(Xs,F);var bo=[];function vc(m){O(m.g,function(C,E){this.g.hasOwnProperty(E)&&Y(C)},m),m.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),vc(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zs=l.JSON.stringify,Js=l.JSON.parse,N0=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Be(){}Be.prototype.h=null;function Nt(m){return m.h||(m.h=m.i())}function _t(){}var Un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){Q.call(this,"d")}y(br,Q);function Co(){Q.call(this,"c")}y(Co,Q);var Ai={},AE=null;function qm(){return AE=AE||new et}Ai.La="serverreachability";function DE(m){Q.call(this,Ai.La,m)}y(DE,Q);function jd(m){const C=qm();Xe(C,new DE(C))}Ai.STAT_EVENT="statevent";function ME(m,C){Q.call(this,Ai.STAT_EVENT,m),this.stat=C}y(ME,Q);function sr(m){const C=qm();Xe(C,new ME(C,m))}Ai.Ma="timingevent";function OE(m,C){Q.call(this,Ai.Ma,m),this.size=C}y(OE,Q);function Id(m,C){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},C)}function Pd(){this.g=!0}Pd.prototype.xa=function(){this.g=!1};function X5(m,C,E,A,z,K){m.info(function(){if(m.g)if(K)for(var ue="",Tt=K.split("&"),kn=0;kn<Tt.length;kn++){var vt=Tt[kn].split("=");if(1<vt.length){var Bn=vt[0];vt=vt[1];var zn=Bn.split("_");ue=2<=zn.length&&zn[1]=="type"?ue+(Bn+"="+vt+"&"):ue+(Bn+"=redacted&")}}else ue=null;else ue=K;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+C+`
`+E+`
`+ue})}function Z5(m,C,E,A,z,K,ue){m.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+C+`
`+E+`
`+K+" "+ue})}function yc(m,C,E,A){m.info(function(){return"XMLHTTP TEXT ("+C+"): "+e$(m,E)+(A?" "+A:"")})}function J5(m,C){m.info(function(){return"TIMEOUT: "+C})}Pd.prototype.info=function(){};function e$(m,C){if(!m.g)return C;if(!C)return null;try{var E=JSON.parse(C);if(E){for(m=0;m<E.length;m++)if(Array.isArray(E[m])){var A=E[m];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return Zs(E)}catch{return C}}var Gm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},FE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},T0;function Km(){}y(Km,Be),Km.prototype.g=function(){return new XMLHttpRequest},Km.prototype.i=function(){return{}},T0=new Km;function So(m,C,E,A){this.j=m,this.i=C,this.l=E,this.R=A||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new LE}function LE(){this.i=null,this.g="",this.h=!1}var VE={},R0={};function j0(m,C,E){m.L=1,m.v=Zm(Di(C)),m.m=E,m.P=!0,$E(m,null)}function $E(m,C){m.F=Date.now(),Ym(m),m.A=Di(m.v);var E=m.A,A=m.R;Array.isArray(A)||(A=[String(A)]),eN(E.i,"t",A),m.C=0,E=m.j.J,m.h=new LE,m.g=yN(m.j,E?C:null,!m.m),0<m.O&&(m.M=new ol(f(m.Y,m,m.g),m.O)),C=m.U,E=m.g,A=m.ca;var z="readystatechange";Array.isArray(z)||(z&&(bo[0]=z.toString()),z=bo);for(var K=0;K<z.length;K++){var ue=$n(E,z[K],A||C.handleEvent,!1,C.h||C);if(!ue)break;C.g[ue.key]=ue}C=m.H?S(m.H):{},m.m?(m.u||(m.u="POST"),C["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,C)):(m.u="GET",m.g.ea(m.A,m.u,null,C)),jd(),X5(m.i,m.u,m.A,m.l,m.R,m.m)}So.prototype.ca=function(m){m=m.target;const C=this.M;C&&Mi(m)==3?C.j():this.Y(m)},So.prototype.Y=function(m){try{if(m==this.g)e:{const zn=Mi(this.g);var C=this.g.Ba();const _c=this.g.Z();if(!(3>zn)&&(zn!=3||this.g&&(this.h.h||this.g.oa()||aN(this.g)))){this.J||zn!=4||C==7||(C==8||0>=_c?jd(3):jd(2)),I0(this);var E=this.g.Z();this.X=E;t:if(UE(this)){var A=aN(this.g);m="";var z=A.length,K=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){al(this),kd(this);var ue="";break t}this.h.i=new l.TextDecoder}for(C=0;C<z;C++)this.h.h=!0,m+=this.h.i.decode(A[C],{stream:!(K&&C==z-1)});A.length=0,this.h.g+=m,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=E==200,Z5(this.i,this.u,this.A,this.l,this.R,zn,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Tt,kn=this.g;if((Tt=kn.g?kn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Tt)){var vt=Tt;break t}}vt=null}if(E=vt)yc(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,P0(this,E);else{this.o=!1,this.s=3,sr(12),al(this),kd(this);break e}}if(this.P){E=!0;let Ss;for(;!this.J&&this.C<ue.length;)if(Ss=t$(this,ue),Ss==R0){zn==4&&(this.s=4,sr(14),E=!1),yc(this.i,this.l,null,"[Incomplete Response]");break}else if(Ss==VE){this.s=4,sr(15),yc(this.i,this.l,ue,"[Invalid Chunk]"),E=!1;break}else yc(this.i,this.l,Ss,null),P0(this,Ss);if(UE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zn!=4||ue.length!=0||this.h.h||(this.s=1,sr(16),E=!1),this.o=this.o&&E,!E)yc(this.i,this.l,ue,"[Invalid Chunked Response]"),al(this),kd(this);else if(0<ue.length&&!this.W){this.W=!0;var Bn=this.j;Bn.g==this&&Bn.ba&&!Bn.M&&(Bn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),F0(Bn),Bn.M=!0,sr(11))}}else yc(this.i,this.l,ue,null),P0(this,ue);zn==4&&al(this),this.o&&!this.J&&(zn==4?mN(this.j,this):(this.o=!1,Ym(this)))}else y$(this.g),E==400&&0<ue.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),al(this),kd(this)}}}catch{}finally{}};function UE(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function t$(m,C){var E=m.C,A=C.indexOf(`
`,E);return A==-1?R0:(E=Number(C.substring(E,A)),isNaN(E)?VE:(A+=1,A+E>C.length?R0:(C=C.slice(A,A+E),m.C=A+E,C)))}So.prototype.cancel=function(){this.J=!0,al(this)};function Ym(m){m.S=Date.now()+m.I,BE(m,m.I)}function BE(m,C){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Id(f(m.ba,m),C)}function I0(m){m.B&&(l.clearTimeout(m.B),m.B=null)}So.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(J5(this.i,this.A),this.L!=2&&(jd(),sr(17)),al(this),this.s=2,kd(this)):BE(this,this.S-m)};function kd(m){m.j.G==0||m.J||mN(m.j,m)}function al(m){I0(m);var C=m.M;C&&typeof C.ma=="function"&&C.ma(),m.M=null,vc(m.U),m.g&&(C=m.g,m.g=null,C.abort(),C.ma())}function P0(m,C){try{var E=m.j;if(E.G!=0&&(E.g==m||k0(E.h,m))){if(!m.K&&k0(E.h,m)&&E.G==3){try{var A=E.Da.g.parse(C)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<m.F)sp(E),np(E);else break e;O0(E),sr(18)}}else E.za=z[1],0<E.za-E.T&&37500>z[2]&&E.F&&E.v==0&&!E.C&&(E.C=Id(f(E.Za,E),6e3));if(1>=WE(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else cl(E,11)}else if((m.K||E.g==m)&&sp(E),!w(C))for(z=E.Da.g.parse(C),C=0;C<z.length;C++){let vt=z[C];if(E.T=vt[0],vt=vt[1],E.G==2)if(vt[0]=="c"){E.K=vt[1],E.ia=vt[2];const Bn=vt[3];Bn!=null&&(E.la=Bn,E.j.info("VER="+E.la));const zn=vt[4];zn!=null&&(E.Aa=zn,E.j.info("SVER="+E.Aa));const _c=vt[5];_c!=null&&typeof _c=="number"&&0<_c&&(A=1.5*_c,E.L=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ss=m.g;if(Ss){const op=Ss.g?Ss.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(op){var K=A.h;K.g||op.indexOf("spdy")==-1&&op.indexOf("quic")==-1&&op.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(A0(K,K.h),K.h=null))}if(A.D){const L0=Ss.g?Ss.g.getResponseHeader("X-HTTP-Session-Id"):null;L0&&(A.ya=L0,Pt(A.I,A.D,L0))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-m.F,E.j.info("Handshake RTT: "+E.R+"ms")),A=E;var ue=m;if(A.qa=vN(A,A.J?A.ia:null,A.W),ue.K){qE(A.h,ue);var Tt=ue,kn=A.L;kn&&(Tt.I=kn),Tt.B&&(I0(Tt),Ym(Tt)),A.g=ue}else hN(A);0<E.i.length&&rp(E)}else vt[0]!="stop"&&vt[0]!="close"||cl(E,7);else E.G==3&&(vt[0]=="stop"||vt[0]=="close"?vt[0]=="stop"?cl(E,7):M0(E):vt[0]!="noop"&&E.l&&E.l.ta(vt),E.v=0)}}jd(4)}catch{}}var n$=class{constructor(m,C){this.g=m,this.map=C}};function zE(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function HE(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function WE(m){return m.h?1:m.g?m.g.size:0}function k0(m,C){return m.h?m.h==C:m.g?m.g.has(C):!1}function A0(m,C){m.g?m.g.add(C):m.h=C}function qE(m,C){m.h&&m.h==C?m.h=null:m.g&&m.g.has(C)&&m.g.delete(C)}zE.prototype.cancel=function(){if(this.i=GE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function GE(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let C=m.i;for(const E of m.g.values())C=C.concat(E.D);return C}return v(m.i)}function r$(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var C=[],E=m.length,A=0;A<E;A++)C.push(m[A]);return C}C=[],E=0;for(A in m)C[E++]=m[A];return C}function s$(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var C=[];m=m.length;for(var E=0;E<m;E++)C.push(E);return C}C=[],E=0;for(const A in m)C[E++]=A;return C}}}function KE(m,C){if(m.forEach&&typeof m.forEach=="function")m.forEach(C,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,C,void 0);else for(var E=s$(m),A=r$(m),z=A.length,K=0;K<z;K++)C.call(void 0,A[K],E&&E[K],m)}var YE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function i$(m,C){if(m){m=m.split("&");for(var E=0;E<m.length;E++){var A=m[E].indexOf("="),z=null;if(0<=A){var K=m[E].substring(0,A);z=m[E].substring(A+1)}else K=m[E];C(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function ll(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof ll){this.h=m.h,Qm(this,m.j),this.o=m.o,this.g=m.g,Xm(this,m.s),this.l=m.l;var C=m.i,E=new Md;E.i=C.i,C.g&&(E.g=new Map(C.g),E.h=C.h),QE(this,E),this.m=m.m}else m&&(C=String(m).match(YE))?(this.h=!1,Qm(this,C[1]||"",!0),this.o=Ad(C[2]||""),this.g=Ad(C[3]||"",!0),Xm(this,C[4]),this.l=Ad(C[5]||"",!0),QE(this,C[6]||"",!0),this.m=Ad(C[7]||"")):(this.h=!1,this.i=new Md(null,this.h))}ll.prototype.toString=function(){var m=[],C=this.j;C&&m.push(Dd(C,XE,!0),":");var E=this.g;return(E||C=="file")&&(m.push("//"),(C=this.o)&&m.push(Dd(C,XE,!0),"@"),m.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&m.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&m.push("/"),m.push(Dd(E,E.charAt(0)=="/"?l$:a$,!0))),(E=this.i.toString())&&m.push("?",E),(E=this.m)&&m.push("#",Dd(E,u$)),m.join("")};function Di(m){return new ll(m)}function Qm(m,C,E){m.j=E?Ad(C,!0):C,m.j&&(m.j=m.j.replace(/:$/,""))}function Xm(m,C){if(C){if(C=Number(C),isNaN(C)||0>C)throw Error("Bad port number "+C);m.s=C}else m.s=null}function QE(m,C,E){C instanceof Md?(m.i=C,d$(m.i,m.h)):(E||(C=Dd(C,c$)),m.i=new Md(C,m.h))}function Pt(m,C,E){m.i.set(C,E)}function Zm(m){return Pt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ad(m,C){return m?C?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Dd(m,C,E){return typeof m=="string"?(m=encodeURI(m).replace(C,o$),E&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function o$(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var XE=/[#\/\?@]/g,a$=/[#\?:]/g,l$=/[#\?]/g,c$=/[#\?@]/g,u$=/#/g;function Md(m,C){this.h=this.g=null,this.i=m||null,this.j=!!C}function Eo(m){m.g||(m.g=new Map,m.h=0,m.i&&i$(m.i,function(C,E){m.add(decodeURIComponent(C.replace(/\+/g," ")),E)}))}t=Md.prototype,t.add=function(m,C){Eo(this),this.i=null,m=xc(this,m);var E=this.g.get(m);return E||this.g.set(m,E=[]),E.push(C),this.h+=1,this};function ZE(m,C){Eo(m),C=xc(m,C),m.g.has(C)&&(m.i=null,m.h-=m.g.get(C).length,m.g.delete(C))}function JE(m,C){return Eo(m),C=xc(m,C),m.g.has(C)}t.forEach=function(m,C){Eo(this),this.g.forEach(function(E,A){E.forEach(function(z){m.call(C,z,A,this)},this)},this)},t.na=function(){Eo(this);const m=Array.from(this.g.values()),C=Array.from(this.g.keys()),E=[];for(let A=0;A<C.length;A++){const z=m[A];for(let K=0;K<z.length;K++)E.push(C[A])}return E},t.V=function(m){Eo(this);let C=[];if(typeof m=="string")JE(this,m)&&(C=C.concat(this.g.get(xc(this,m))));else{m=Array.from(this.g.values());for(let E=0;E<m.length;E++)C=C.concat(m[E])}return C},t.set=function(m,C){return Eo(this),this.i=null,m=xc(this,m),JE(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[C]),this.h+=1,this},t.get=function(m,C){return m?(m=this.V(m),0<m.length?String(m[0]):C):C};function eN(m,C,E){ZE(m,C),0<E.length&&(m.i=null,m.g.set(xc(m,C),v(E)),m.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],C=Array.from(this.g.keys());for(var E=0;E<C.length;E++){var A=C[E];const K=encodeURIComponent(String(A)),ue=this.V(A);for(A=0;A<ue.length;A++){var z=K;ue[A]!==""&&(z+="="+encodeURIComponent(String(ue[A]))),m.push(z)}}return this.i=m.join("&")};function xc(m,C){return C=String(C),m.j&&(C=C.toLowerCase()),C}function d$(m,C){C&&!m.j&&(Eo(m),m.i=null,m.g.forEach(function(E,A){var z=A.toLowerCase();A!=z&&(ZE(this,A),eN(this,z,E))},m)),m.j=C}function h$(m,C){const E=new Pd;if(l.Image){const A=new Image;A.onload=g(No,E,"TestLoadImage: loaded",!0,C,A),A.onerror=g(No,E,"TestLoadImage: error",!1,C,A),A.onabort=g(No,E,"TestLoadImage: abort",!1,C,A),A.ontimeout=g(No,E,"TestLoadImage: timeout",!1,C,A),l.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=m}else C(!1)}function f$(m,C){const E=new Pd,A=new AbortController,z=setTimeout(()=>{A.abort(),No(E,"TestPingServer: timeout",!1,C)},1e4);fetch(m,{signal:A.signal}).then(K=>{clearTimeout(z),K.ok?No(E,"TestPingServer: ok",!0,C):No(E,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(z),No(E,"TestPingServer: error",!1,C)})}function No(m,C,E,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(E)}catch{}}function m$(){this.g=new N0}function p$(m,C,E){const A=E||"";try{KE(m,function(z,K){let ue=z;u(z)&&(ue=Zs(z)),C.push(A+K+"="+encodeURIComponent(ue))})}catch(z){throw C.push(A+"type="+encodeURIComponent("_badmap")),z}}function Jm(m){this.l=m.Ub||null,this.j=m.eb||!1}y(Jm,Be),Jm.prototype.g=function(){return new ep(this.l,this.j)},Jm.prototype.i=function(m){return function(){return m}}({});function ep(m,C){et.call(this),this.D=m,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ep,et),t=ep.prototype,t.open=function(m,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=C,this.readyState=1,Fd(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const C={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(C.body=m),(this.D||l).fetch(new Request(this.A,C)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Od(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Fd(this)),this.g&&(this.readyState=3,Fd(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tN(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function tN(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var C=m.value?m.value:new Uint8Array(0);(C=this.v.decode(C,{stream:!m.done}))&&(this.response=this.responseText+=C)}m.done?Od(this):Fd(this),this.readyState==3&&tN(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Od(this))},t.Qa=function(m){this.g&&(this.response=m,Od(this))},t.ga=function(){this.g&&Od(this)};function Od(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Fd(m)}t.setRequestHeader=function(m,C){this.u.append(m,C)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],C=this.h.entries();for(var E=C.next();!E.done;)E=E.value,m.push(E[0]+": "+E[1]),E=C.next();return m.join(`\r
`)};function Fd(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ep.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function nN(m){let C="";return O(m,function(E,A){C+=A,C+=":",C+=E,C+=`\r
`}),C}function D0(m,C,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=nN(E),typeof m=="string"?E!=null&&encodeURIComponent(String(E)):Pt(m,C,E))}function Zt(m){et.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Zt,et);var g$=/^https?$/i,v$=["POST","PUT"];t=Zt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,C,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);C=C?C.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():T0.g(),this.v=this.o?Nt(this.o):Nt(T0),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(C,String(m),!0),this.B=!1}catch(K){rN(this,K);return}if(m=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)E.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())E.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),z=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(v$,C,void 0))||A||z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ue]of E)this.g.setRequestHeader(K,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oN(this),this.u=!0,this.g.send(m),this.u=!1}catch(K){rN(this,K)}};function rN(m,C){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=C,m.m=5,sN(m),tp(m)}function sN(m){m.A||(m.A=!0,Xe(m,"complete"),Xe(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Xe(this,"complete"),Xe(this,"abort"),tp(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tp(this,!0)),Zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?iN(this):this.bb())},t.bb=function(){iN(this)};function iN(m){if(m.h&&typeof o<"u"&&(!m.v[1]||Mi(m)!=4||m.Z()!=2)){if(m.u&&Mi(m)==4)Cs(m.Ea,0,m);else if(Xe(m,"readystatechange"),Mi(m)==4){m.h=!1;try{const ue=m.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var E;if(!(E=C)){var A;if(A=ue===0){var z=String(m.D).match(YE)[1]||null;!z&&l.self&&l.self.location&&(z=l.self.location.protocol.slice(0,-1)),A=!g$.test(z?z.toLowerCase():"")}E=A}if(E)Xe(m,"complete"),Xe(m,"success");else{m.m=6;try{var K=2<Mi(m)?m.g.statusText:""}catch{K=""}m.l=K+" ["+m.Z()+"]",sN(m)}}finally{tp(m)}}}}function tp(m,C){if(m.g){oN(m);const E=m.g,A=m.v[0]?()=>{}:null;m.g=null,m.v=null,C||Xe(m,"ready");try{E.onreadystatechange=A}catch{}}}function oN(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function Mi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var C=this.g.responseText;return m&&C.indexOf(m)==0&&(C=C.substring(m.length)),Js(C)}};function aN(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function y$(m){const C={};m=(m.g&&2<=Mi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<m.length;A++){if(w(m[A]))continue;var E=k(m[A]);const z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=C[z]||[];C[z]=K,K.push(E)}j(C,function(A){return A.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ld(m,C,E){return E&&E.internalChannelParams&&E.internalChannelParams[m]||C}function lN(m){this.Aa=0,this.i=[],this.j=new Pd,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ld("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ld("baseRetryDelayMs",5e3,m),this.cb=Ld("retryDelaySeedMs",1e4,m),this.Wa=Ld("forwardChannelMaxRetries",2,m),this.wa=Ld("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new zE(m&&m.concurrentRequestLimit),this.Da=new m$,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=lN.prototype,t.la=8,t.G=1,t.connect=function(m,C,E,A){sr(0),this.W=m,this.H=C||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.I=vN(this,null,this.W),rp(this)};function M0(m){if(cN(m),m.G==3){var C=m.U++,E=Di(m.I);if(Pt(E,"SID",m.K),Pt(E,"RID",C),Pt(E,"TYPE","terminate"),Vd(m,E),C=new So(m,m.j,C),C.L=2,C.v=Zm(Di(E)),E=!1,l.navigator&&l.navigator.sendBeacon)try{E=l.navigator.sendBeacon(C.v.toString(),"")}catch{}!E&&l.Image&&(new Image().src=C.v,E=!0),E||(C.g=yN(C.j,null),C.g.ea(C.v)),C.F=Date.now(),Ym(C)}gN(m)}function np(m){m.g&&(F0(m),m.g.cancel(),m.g=null)}function cN(m){np(m),m.u&&(l.clearTimeout(m.u),m.u=null),sp(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function rp(m){if(!HE(m.h)&&!m.s){m.s=!0;var C=m.Ga;H||re(),M||(H(),M=!0),U.add(C,m),m.B=0}}function x$(m,C){return WE(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=C.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Id(f(m.Ga,m,C),pN(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const z=new So(this,this.j,m);let K=this.o;if(this.S&&(K?(K=S(K),P(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var C=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(C+=A,4096<C){C=E;break e}if(C===4096||E===this.i.length-1){C=E+1;break e}}C=1e3}else C=1e3;C=dN(this,z,C),E=Di(this.I),Pt(E,"RID",m),Pt(E,"CVER",22),this.D&&Pt(E,"X-HTTP-Session-Id",this.D),Vd(this,E),K&&(this.O?C="headers="+encodeURIComponent(String(nN(K)))+"&"+C:this.m&&D0(E,this.m,K)),A0(this.h,z),this.Ua&&Pt(E,"TYPE","init"),this.P?(Pt(E,"$req",C),Pt(E,"SID","null"),z.T=!0,j0(z,E,null)):j0(z,E,C),this.G=2}}else this.G==3&&(m?uN(this,m):this.i.length==0||HE(this.h)||uN(this))};function uN(m,C){var E;C?E=C.l:E=m.U++;const A=Di(m.I);Pt(A,"SID",m.K),Pt(A,"RID",E),Pt(A,"AID",m.T),Vd(m,A),m.m&&m.o&&D0(A,m.m,m.o),E=new So(m,m.j,E,m.B+1),m.m===null&&(E.H=m.o),C&&(m.i=C.D.concat(m.i)),C=dN(m,E,1e3),E.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),A0(m.h,E),j0(E,A,C)}function Vd(m,C){m.H&&O(m.H,function(E,A){Pt(C,A,E)}),m.l&&KE({},function(E,A){Pt(C,A,E)})}function dN(m,C,E){E=Math.min(m.i.length,E);var A=m.l?f(m.l.Na,m.l,m):null;e:{var z=m.i;let K=-1;for(;;){const ue=["count="+E];K==-1?0<E?(K=z[0].g,ue.push("ofs="+K)):K=0:ue.push("ofs="+K);let Tt=!0;for(let kn=0;kn<E;kn++){let vt=z[kn].g;const Bn=z[kn].map;if(vt-=K,0>vt)K=Math.max(0,z[kn].g-100),Tt=!1;else try{p$(Bn,ue,"req"+vt+"_")}catch{A&&A(Bn)}}if(Tt){A=ue.join("&");break e}}}return m=m.i.splice(0,E),C.D=m,A}function hN(m){if(!m.g&&!m.u){m.Y=1;var C=m.Fa;H||re(),M||(H(),M=!0),U.add(C,m),m.v=0}}function O0(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Id(f(m.Fa,m),pN(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,fN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Id(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sr(10),np(this),fN(this))};function F0(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function fN(m){m.g=new So(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var C=Di(m.qa);Pt(C,"RID","rpc"),Pt(C,"SID",m.K),Pt(C,"AID",m.T),Pt(C,"CI",m.F?"0":"1"),!m.F&&m.ja&&Pt(C,"TO",m.ja),Pt(C,"TYPE","xmlhttp"),Vd(m,C),m.m&&m.o&&D0(C,m.m,m.o),m.L&&(m.g.I=m.L);var E=m.g;m=m.ia,E.L=1,E.v=Zm(Di(C)),E.m=null,E.P=!0,$E(E,m)}t.Za=function(){this.C!=null&&(this.C=null,np(this),O0(this),sr(19))};function sp(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function mN(m,C){var E=null;if(m.g==C){sp(m),F0(m),m.g=null;var A=2}else if(k0(m.h,C))E=C.D,qE(m.h,C),A=1;else return;if(m.G!=0){if(C.o)if(A==1){E=C.m?C.m.length:0,C=Date.now()-C.F;var z=m.B;A=qm(),Xe(A,new OE(A,E)),rp(m)}else hN(m);else if(z=C.s,z==3||z==0&&0<C.X||!(A==1&&x$(m,C)||A==2&&O0(m)))switch(E&&0<E.length&&(C=m.h,C.i=C.i.concat(E)),z){case 1:cl(m,5);break;case 4:cl(m,10);break;case 3:cl(m,6);break;default:cl(m,2)}}}function pN(m,C){let E=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(E*=2),E*C}function cl(m,C){if(m.j.info("Error code "+C),C==2){var E=f(m.fb,m),A=m.Xa;const z=!A;A=new ll(A||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Qm(A,"https"),Zm(A),z?h$(A.toString(),E):f$(A.toString(),E)}else sr(2);m.G=0,m.l&&m.l.sa(C),gN(m),cN(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),sr(2)):(this.j.info("Failed to ping google.com"),sr(1))};function gN(m){if(m.G=0,m.ka=[],m.l){const C=GE(m.h);(C.length!=0||m.i.length!=0)&&(x(m.ka,C),x(m.ka,m.i),m.h.i.length=0,v(m.i),m.i.length=0),m.l.ra()}}function vN(m,C,E){var A=E instanceof ll?Di(E):new ll(E);if(A.g!="")C&&(A.g=C+"."+A.g),Xm(A,A.s);else{var z=l.location;A=z.protocol,C=C?C+"."+z.hostname:z.hostname,z=+z.port;var K=new ll(null);A&&Qm(K,A),C&&(K.g=C),z&&Xm(K,z),E&&(K.l=E),A=K}return E=m.D,C=m.ya,E&&C&&Pt(A,E,C),Pt(A,"VER",m.la),Vd(m,A),A}function yN(m,C,E){if(C&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return C=m.Ca&&!m.pa?new Zt(new Jm({eb:E})):new Zt(m.pa),C.Ha(m.J),C}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xN(){}t=xN.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ip(){}ip.prototype.g=function(m,C){return new $r(m,C)};function $r(m,C){et.call(this),this.g=new lN(C),this.l=m,this.h=C&&C.messageUrlParams||null,m=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(m?m["X-WebChannel-Content-Type"]=C.messageContentType:m={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.va&&(m?m["X-WebChannel-Client-Profile"]=C.va:m={"X-WebChannel-Client-Profile":C.va}),this.g.S=m,(m=C&&C.Sb)&&!w(m)&&(this.g.m=m),this.v=C&&C.supportsCrossDomainXhr||!1,this.u=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!w(C)&&(this.g.D=C,m=this.h,m!==null&&C in m&&(m=this.h,C in m&&delete m[C])),this.j=new wc(this)}y($r,et),$r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){M0(this.g)},$r.prototype.o=function(m){var C=this.g;if(typeof m=="string"){var E={};E.__data__=m,m=E}else this.u&&(E={},E.__data__=Zs(m),m=E);C.i.push(new n$(C.Ya++,m)),C.G==3&&rp(C)},$r.prototype.N=function(){this.g.l=null,delete this.j,M0(this.g),delete this.g,$r.aa.N.call(this)};function wN(m){br.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var C=m.__sm__;if(C){e:{for(const E in C){m=E;break e}m=void 0}(this.i=m)&&(m=this.i,C=C!==null&&m in C?C[m]:void 0),this.data=C}else this.data=m}y(wN,br);function _N(){Co.call(this),this.status=1}y(_N,Co);function wc(m){this.g=m}y(wc,xN),wc.prototype.ua=function(){Xe(this.g,"a")},wc.prototype.ta=function(m){Xe(this.g,new wN(m))},wc.prototype.sa=function(m){Xe(this.g,new _N)},wc.prototype.ra=function(){Xe(this.g,"b")},ip.prototype.createWebChannel=ip.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,xM=function(){return new ip},yM=function(){return qm()},vM=Ai,Y_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gm.NO_ERROR=0,Gm.TIMEOUT=8,Gm.HTTP_ERROR=6,vg=Gm,FE.COMPLETE="complete",gM=FE,_t.EventType=Un,Un.OPEN="a",Un.CLOSE="b",Un.ERROR="c",Un.MESSAGE="d",et.prototype.listen=et.prototype.K,ch=_t,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,pM=Zt}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});const XR="@firebase/firestore",ZR="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=new CC("@firebase/firestore");function Ic(){return Wl.logLevel}function we(t,...e){if(Wl.logLevel<=ct.DEBUG){const n=e.map(OC);Wl.debug(`Firestore (${pd}): ${t}`,...n)}}function co(t,...e){if(Wl.logLevel<=ct.ERROR){const n=e.map(OC);Wl.error(`Firestore (${pd}): ${t}`,...n)}}function Bu(t,...e){if(Wl.logLevel<=ct.WARN){const n=e.map(OC);Wl.warn(`Firestore (${pd}): ${t}`,...n)}}function OC(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wM(t,r,n)}function wM(t,e,n){let r=`FIRESTORE (${pd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw co(r),new Error(r)}function wt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||wM(e,s,r)}function Ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yn.UNAUTHENTICATED))}shutdown(){}}class _K{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bK{constructor(e){this.t=e,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){wt(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Xi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wt(typeof r.accessToken=="string",31837,{l:r}),new _M(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new Yn(e)}}class CK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new CK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){wt(this.o===void 0,3512);const r=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new JR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new JR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=NK(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function Q_(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return tt(r,s);{const i=bM(),o=TK(i.encode(ej(t,n)),i.encode(ej(e,n)));return o!==0?o:tt(r,s)}}n+=r>65535?2:1}return tt(t.length,e.length)}function ej(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TK(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return tt(t[n],e[n]);return tt(t.length,e.length)}function zu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=-62135596800,nj=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*nj);return new rn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tj)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nj}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new rn(0,0))}static max(){return new ze(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="__name__";class ni{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=ni.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return tt(e.length,n.length)}static compareSegments(e,n){const r=ni.isNumericId(e),s=ni.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?ni.extractNumericId(e).compare(ni.extractNumericId(n)):Q_(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _a.fromString(e.substring(4,e.length-2))}}class Ot extends ni{construct(e,n,r){return new Ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ot(n)}static emptyPath(){return new Ot([])}}const RK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mn extends ni{construct(e,n,r){return new Mn(e,n,r)}static isValidIdentifier(e){return RK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rj}static keyField(){return new Mn([rj])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ve(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ve(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ve(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mn(n)}static emptyPath(){return new Mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ot.fromString(e))}static fromName(e){return new Te(Ot.fromString(e).popFirst(5))}static empty(){return new Te(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ot(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=-1;function jK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new Aa(s,Te.empty(),e)}function IK(t){return new Aa(t.readTime,t.key,yf)}class Aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Aa(ze.min(),Te.empty(),yf)}static max(){return new Aa(ze.max(),Te.empty(),yf)}}function PK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==kK)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function DK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vd(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Dy.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=-1;function My(t){return t==null}function fv(t){return t===0&&1/t==-1/0}function MK(t){return typeof t=="number"&&Number.isInteger(t)&&!fv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM="";function OK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=sj(e)),e=FK(t.get(n),e);return sj(e)}function FK(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case SM:n+="";break;default:n+=i}}return n}function sj(t){return t+SM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.comparator=e,this.root=n||Dn.EMPTY}insert(e,n){return new Qt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Qt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ap(this.root,e,this.comparator,!0)}}class Ap{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Dn.RED,this.left=s??Dn.EMPTY,this.right=i??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Dn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Dn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.comparator=e,this.data=new Qt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new oj(this.data.getIterator())}getIteratorFrom(e){return new oj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Cn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cn(this.comparator);return n.data=e,n}}class oj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(Mn.comparator)}static empty(){return new qr([])}unionWith(e){let n=new Cn(Mn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NM("Invalid base64 string: "+i):i}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const LK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const n=LK.exec(t);if(wt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ln(t.seconds),nanos:ln(t.nanos)}}function ln(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ma(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="server_timestamp",RM="__type__",jM="__previous_value__",IM="__local_write_time__";function LC(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[RM])===null||n===void 0?void 0:n.stringValue)===TM}function Oy(t){const e=t.mapValue.fields[jM];return LC(e)?Oy(e):e}function xf(t){const e=Da(t.mapValue.fields[IM].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(e,n,r,s,i,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const mv="(default)";class wf{constructor(e,n){this.projectId=e,this.database=n||mv}static empty(){return new wf("","")}get isDefaultDatabase(){return this.database===mv}isEqual(e){return e instanceof wf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="__type__",kM="__max__",Dp={mapValue:{fields:{__type__:{stringValue:kM}}}},AM="__vector__",pv="value";function Oa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LC(t)?4:UK(t)?9007199254740991:$K(t)?10:11:Me(28295,{value:t})}function bi(t,e){if(t===e)return!0;const n=Oa(t);if(n!==Oa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xf(t).isEqual(xf(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Da(s.timestampValue),l=Da(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ma(s.bytesValue).isEqual(Ma(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ln(s.geoPointValue.latitude)===ln(i.geoPointValue.latitude)&&ln(s.geoPointValue.longitude)===ln(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ln(s.integerValue)===ln(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ln(s.doubleValue),l=ln(i.doubleValue);return o===l?fv(o)===fv(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return zu(t.arrayValue.values||[],e.arrayValue.values||[],bi);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(ij(o)!==ij(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!bi(o[c],l[c])))return!1;return!0}(t,e);default:return Me(52216,{left:t})}}function _f(t,e){return(t.values||[]).find(n=>bi(n,e))!==void 0}function Hu(t,e){if(t===e)return 0;const n=Oa(t),r=Oa(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ln(i.integerValue||i.doubleValue),c=ln(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return aj(t.timestampValue,e.timestampValue);case 4:return aj(xf(t),xf(e));case 5:return Q_(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Ma(i),c=Ma(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=tt(l[u],c[u]);if(d!==0)return d}return tt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=tt(ln(i.latitude),ln(o.latitude));return l!==0?l:tt(ln(i.longitude),ln(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lj(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,d;const h=i.fields||{},f=o.fields||{},g=(l=h[pv])===null||l===void 0?void 0:l.arrayValue,y=(c=f[pv])===null||c===void 0?void 0:c.arrayValue,v=tt(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return v!==0?v:lj(g,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Dp.mapValue&&o===Dp.mapValue)return 0;if(i===Dp.mapValue)return 1;if(o===Dp.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=Q_(c[h],d[h]);if(f!==0)return f;const g=Hu(l[c[h]],u[d[h]]);if(g!==0)return g}return tt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Me(23264,{Pe:n})}}function aj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=Da(t),r=Da(e),s=tt(n.seconds,r.seconds);return s!==0?s:tt(n.nanos,r.nanos)}function lj(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Hu(n[s],r[s]);if(i)return i}return tt(n.length,r.length)}function Wu(t){return X_(t)}function X_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Da(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ma(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=X_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${X_(n.fields[o])}`;return s+"}"}(t.mapValue):Me(61005,{value:t})}function yg(t){switch(Oa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oy(t);return e?16+yg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ma(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+yg(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qa(r.fields,(i,o)=>{s+=i.length+yg(o)}),s}(t.mapValue);default:throw Me(13486,{value:t})}}function cj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z_(t){return!!t&&"integerValue"in t}function VC(t){return!!t&&"arrayValue"in t}function uj(t){return!!t&&"nullValue"in t}function dj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xg(t){return!!t&&"mapValue"in t}function $K(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[PM])===null||n===void 0?void 0:n.stringValue)===AM}function Dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Dh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Dh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function UK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dh(n)}setAll(e){let n=Mn.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Dh(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());xg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jr(Dh(this.value))}}function DM(t){const e=[];return Qa(t.fields,(n,r)=>{const s=new Mn([n]);if(xg(r)){const i=DM(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Zn(e,0,ze.min(),ze.min(),ze.min(),jr.empty(),0)}static newFoundDocument(e,n,r,s){return new Zn(e,1,n,ze.min(),r,s,0)}static newNoDocument(e,n){return new Zn(e,2,n,ze.min(),ze.min(),jr.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,ze.min(),ze.min(),jr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.position=e,this.inclusive=n}}function hj(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=Te.comparator(Te.fromName(o.referenceValue),n.key):r=Hu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fj(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n="asc"){this.field=e,this.dir=n}}function BK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{}class vn extends MM{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HK(e,n,r):n==="array-contains"?new GK(e,r):n==="in"?new KK(e,r):n==="not-in"?new YK(e,r):n==="array-contains-any"?new QK(e,r):new vn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new WK(e,r):new qK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hu(n,this.value)):n!==null&&Oa(this.value)===Oa(n)&&this.matchesComparison(Hu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zs extends MM{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new zs(e,n)}matches(e){return OM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function OM(t){return t.op==="and"}function FM(t){return zK(t)&&OM(t)}function zK(t){for(const e of t.filters)if(e instanceof zs)return!1;return!0}function J_(t){if(t instanceof vn)return t.field.canonicalString()+t.op.toString()+Wu(t.value);if(FM(t))return t.filters.map(e=>J_(e)).join(",");{const e=t.filters.map(n=>J_(n)).join(",");return`${t.op}(${e})`}}function LM(t,e){return t instanceof vn?function(r,s){return s instanceof vn&&r.op===s.op&&r.field.isEqual(s.field)&&bi(r.value,s.value)}(t,e):t instanceof zs?function(r,s){return s instanceof zs&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&LM(o,s.filters[l]),!0):!1}(t,e):void Me(19439)}function VM(t){return t instanceof vn?function(n){return`${n.field.canonicalString()} ${n.op} ${Wu(n.value)}`}(t):t instanceof zs?function(n){return n.op.toString()+" {"+n.getFilters().map(VM).join(" ,")+"}"}(t):"Filter"}class HK extends vn{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class WK extends vn{constructor(e,n){super(e,"in",n),this.keys=$M("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qK extends vn{constructor(e,n){super(e,"not-in",n),this.keys=$M("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $M(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class GK extends vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return VC(n)&&_f(n.arrayValue,this.value)}}class KK extends vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_f(this.value.arrayValue,n)}}class YK extends vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(_f(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_f(this.value.arrayValue,n)}}class QK extends vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!VC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_f(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XK{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function mj(t,e=null,n=[],r=[],s=null,i=null,o=null){return new XK(t,e,n,r,s,i,o)}function $C(t){const e=Ge(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>J_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),My(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wu(r)).join(",")),e.Ie=n}return e.Ie}function UC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fj(t.startAt,e.startAt)&&fj(t.endAt,e.endAt)}function eb(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZK(t,e,n,r,s,i,o,l){return new yd(t,e,n,r,s,i,o,l)}function BC(t){return new yd(t)}function pj(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UM(t){return t.collectionGroup!==null}function Mh(t){const e=Ge(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Cn(Mn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new bf(i,r))}),n.has(Mn.keyField().canonicalString())||e.Ee.push(new bf(Mn.keyField(),r))}return e.Ee}function vi(t){const e=Ge(t);return e.de||(e.de=JK(e,Mh(t))),e.de}function JK(t,e){if(t.limitType==="F")return mj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bf(s.field,i)});const n=t.endAt?new gv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gv(t.startAt.position,t.startAt.inclusive):null;return mj(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function tb(t,e){const n=t.filters.concat([e]);return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nb(t,e,n){return new yd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fy(t,e){return UC(vi(t),vi(e))&&t.limitType===e.limitType}function BM(t){return`${$C(vi(t))}|lt:${t.limitType}`}function Pc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>VM(s)).join(", ")}]`),My(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Wu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Wu(s)).join(",")),`Target(${r})`}(vi(t))}; limitType=${t.limitType})`}function Ly(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Mh(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const u=hj(o,l,c);return o.inclusive?u<=0:u<0}(r.startAt,Mh(r),s)||r.endAt&&!function(o,l,c){const u=hj(o,l,c);return o.inclusive?u>=0:u>0}(r.endAt,Mh(r),s))}(t,e)}function eY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zM(t){return(e,n)=>{let r=!1;for(const s of Mh(t)){const i=tY(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function tY(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Hu(c,u):Me(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return EM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nY=new Qt(Te.comparator);function uo(){return nY}const HM=new Qt(Te.comparator);function uh(...t){let e=HM;for(const n of t)e=e.insert(n.key,n);return e}function WM(t){let e=HM;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xl(){return Oh()}function qM(){return Oh()}function Oh(){return new dc(t=>t.toString(),(t,e)=>t.isEqual(e))}const rY=new Qt(Te.comparator),sY=new Cn(Te.comparator);function ut(...t){let e=sY;for(const n of t)e=e.add(n);return e}const iY=new Cn(tt);function oY(){return iY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fv(e)?"-0":e}}function GM(t){return{integerValue:""+t}}function aY(t,e){return MK(e)?GM(e):zC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(){this._=void 0}}function lY(t,e,n){return t instanceof Cf?function(s,i){const o={fields:{[RM]:{stringValue:TM},[IM]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&LC(i)&&(i=Oy(i)),i&&(o.fields[jM]=i),{mapValue:o}}(n,e):t instanceof Sf?YM(t,e):t instanceof Ef?QM(t,e):function(s,i){const o=KM(s,i),l=gj(o)+gj(s.Re);return Z_(o)&&Z_(s.Re)?GM(l):zC(s.serializer,l)}(t,e)}function cY(t,e,n){return t instanceof Sf?YM(t,e):t instanceof Ef?QM(t,e):n}function KM(t,e){return t instanceof vv?function(r){return Z_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Cf extends Vy{}class Sf extends Vy{constructor(e){super(),this.elements=e}}function YM(t,e){const n=XM(e);for(const r of t.elements)n.some(s=>bi(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ef extends Vy{constructor(e){super(),this.elements=e}}function QM(t,e){let n=XM(e);for(const r of t.elements)n=n.filter(s=>!bi(s,r));return{arrayValue:{values:n}}}class vv extends Vy{constructor(e,n){super(),this.serializer=e,this.Re=n}}function gj(t){return ln(t.integerValue||t.doubleValue)}function XM(t){return VC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uY{constructor(e,n){this.field=e,this.transform=n}}function dY(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Sf&&s instanceof Sf||r instanceof Ef&&s instanceof Ef?zu(r.elements,s.elements,bi):r instanceof vv&&s instanceof vv?bi(r.Re,s.Re):r instanceof Cf&&s instanceof Cf}(t.transform,e.transform)}class hY{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $y{}function ZM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Uy(t.key,hr.none()):new tm(t.key,t.data,hr.none());{const n=t.data,r=jr.empty();let s=new Cn(Mn.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Xa(t.key,r,new qr(s.toArray()),hr.none())}}function fY(t,e,n){t instanceof tm?function(s,i,o){const l=s.value.clone(),c=yj(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Xa?function(s,i,o){if(!wg(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=yj(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(JM(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fh(t,e,n,r){return t instanceof tm?function(i,o,l,c){if(!wg(i.precondition,o))return l;const u=i.value.clone(),d=xj(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xa?function(i,o,l,c){if(!wg(i.precondition,o))return l;const u=xj(i.fieldTransforms,c,o),d=o.data;return d.setAll(JM(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,l){return wg(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function mY(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KM(r.transform,s||null);i!=null&&(n===null&&(n=jr.empty()),n.set(r.field,i))}return n||null}function vj(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&zu(r,s,(i,o)=>dY(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tm extends $y{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Xa extends $y{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yj(t,e,n){const r=new Map;wt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,cY(o,l,n[s]))}return r}function xj(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,lY(i,o,e))}return r}class Uy extends $y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pY extends $y{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&fY(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qM();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=ZM(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ut())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,(n,r)=>vj(n,r))&&zu(this.baseMutations,e.baseMutations,(n,r)=>vj(n,r))}}class HC{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){wt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return rY}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new HC(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,ft;function xY(t){switch(t){case X.OK:return Me(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function eO(t){if(t===void 0)return co("GRPC error has no .code"),X.UNKNOWN;switch(t){case fn.OK:return X.OK;case fn.CANCELLED:return X.CANCELLED;case fn.UNKNOWN:return X.UNKNOWN;case fn.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case fn.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case fn.INTERNAL:return X.INTERNAL;case fn.UNAVAILABLE:return X.UNAVAILABLE;case fn.UNAUTHENTICATED:return X.UNAUTHENTICATED;case fn.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case fn.NOT_FOUND:return X.NOT_FOUND;case fn.ALREADY_EXISTS:return X.ALREADY_EXISTS;case fn.PERMISSION_DENIED:return X.PERMISSION_DENIED;case fn.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case fn.ABORTED:return X.ABORTED;case fn.OUT_OF_RANGE:return X.OUT_OF_RANGE;case fn.UNIMPLEMENTED:return X.UNIMPLEMENTED;case fn.DATA_LOSS:return X.DATA_LOSS;default:return Me(39323,{code:t})}}(ft=fn||(fn={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=new _a([4294967295,4294967295],0);function wj(t){const e=bM().encode(t),n=new mM;return n.update(e),new Uint8Array(n.digest())}function _j(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new _a([n,r],0),new _a([s,i],0)]}class WC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dh(`Invalid padding: ${n}`);if(r<0)throw new dh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dh(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=_a.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(_a.fromNumber(r)));return s.compare(wY)===1&&(s=new _a([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=wj(e),[r,s]=_j(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new WC(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=wj(e),[r,s]=_j(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new By(ze.min(),s,new Qt(tt),uo(),ut())}}class nm{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nm(r,n,ut(),ut(),ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class tO{constructor(e,n){this.targetId=e,this.Ce=n}}class nO{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class bj{constructor(){this.Fe=0,this.Me=Cj(),this.xe=Ln.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ut(),n=ut(),r=ut();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Me(38017,{changeType:i})}}),new nm(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Cj()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,wt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _Y{constructor(e){this.ze=e,this.je=new Map,this.He=uo(),this.Je=Mp(),this.Ye=Mp(),this.Ze=new Qt(tt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Me(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(eb(i))if(r===0){const o=new Te(i.path);this.tt(n,o,Zn.newNoDocument(o,ze.min()))}else wt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Ma(r).toUint8Array()}catch(c){if(c instanceof NM)return Bu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new WC(o,s,i)}catch(c){return Bu(c instanceof dh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&eb(l.target)){const c=new Te(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Zn.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=ut();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new By(e,n,this.Ze,this.He,r);return this.He=uo(),this.Je=Mp(),this.Ye=Mp(),this.Ze=new Qt(tt),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new bj,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Cn(tt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Cn(tt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new bj),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Mp(){return new Qt(Te.comparator)}function Cj(){return new Qt(Te.comparator)}const bY={asc:"ASCENDING",desc:"DESCENDING"},CY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SY={and:"AND",or:"OR"};class EY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rb(t,e){return t.useProto3Json||My(e)?e:{value:e}}function yv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function NY(t,e){return yv(t,e.toTimestamp())}function yi(t){return wt(!!t,49232),ze.fromTimestamp(function(n){const r=Da(n);return new rn(r.seconds,r.nanos)}(t))}function qC(t,e){return sb(t,e).canonicalString()}function sb(t,e){const n=function(s){return new Ot(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sO(t){const e=Ot.fromString(t);return wt(cO(e),10190,{key:e.toString()}),e}function ib(t,e){return qC(t.databaseId,e.path)}function Px(t,e){const n=sO(e);if(n.get(1)!==t.databaseId.projectId)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ve(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(oO(n))}function iO(t,e){return qC(t.databaseId,e)}function TY(t){const e=sO(t);return e.length===4?Ot.emptyPath():oO(e)}function ob(t){return new Ot(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oO(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Sj(t,e,n){return{name:ib(t,e),fields:n.value.mapValue.fields}}function RY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Me(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(wt(d===void 0||typeof d=="string",58123),Ln.fromBase64String(d||"")):(wt(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Ln.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?X.UNKNOWN:eO(u.code);return new ve(d,u.message||"")}(o);n=new nO(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Px(t,r.document.name),i=yi(r.document.updateTime),o=r.document.createTime?yi(r.document.createTime):ze.min(),l=new jr({mapValue:{fields:r.document.fields}}),c=Zn.newFoundDocument(s,i,o,l),u=r.targetIds||[],d=r.removedTargetIds||[];n=new _g(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Px(t,r.document),i=r.readTime?yi(r.readTime):ze.min(),o=Zn.newNoDocument(s,i),l=r.removedTargetIds||[];n=new _g([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Px(t,r.document),i=r.removedTargetIds||[];n=new _g([],i,s,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new yY(s,i),l=r.targetId;n=new tO(l,o)}}return n}function jY(t,e){let n;if(e instanceof tm)n={update:Sj(t,e.key,e.value)};else if(e instanceof Uy)n={delete:ib(t,e.key)};else if(e instanceof Xa)n={update:Sj(t,e.key,e.data),updateMask:LY(e.fieldMask)};else{if(!(e instanceof pY))return Me(16599,{ft:e.type});n={verify:ib(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Cf)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Sf)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Ef)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof vv)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Me(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:NY(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Me(27497)}(t,e.precondition)),n}function IY(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?yi(s.updateTime):yi(i);return o.isEqual(ze.min())&&(o=yi(i)),new hY(o,s.transformResults||[])}(n,e))):[]}function PY(t,e){return{documents:[iO(t,e.path)]}}function kY(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=iO(t,s);const i=function(u){if(u.length!==0)return lO(zs.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:kc(f.field),direction:MY(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=rb(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:s}}function AY(t){let e=TY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){wt(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=aO(h);return f instanceof zs&&FM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new bf(Ac(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,My(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,g=h.values||[];return new gv(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new gv(g,f)}(n.endAt)),ZK(e,s,o,i,l,"F",c,u)}function DY(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ac(n.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ac(n.unaryFilter.field);return vn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ac(n.unaryFilter.field);return vn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ac(n.unaryFilter.field);return vn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}}(t):t.fieldFilter!==void 0?function(n){return vn.create(Ac(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zs.create(n.compositeFilter.filters.map(r=>aO(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Me(1026)}}(n.compositeFilter.op))}(t):Me(30097,{filter:t})}function MY(t){return bY[t]}function OY(t){return CY[t]}function FY(t){return SY[t]}function kc(t){return{fieldPath:t.canonicalString()}}function Ac(t){return Mn.fromServerFormat(t.fieldPath)}function lO(t){return t instanceof vn?function(n){if(n.op==="=="){if(dj(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NAN"}};if(uj(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dj(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NAN"}};if(uj(n.value))return{unaryFilter:{field:kc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kc(n.field),op:OY(n.op),value:n.value}}}(t):t instanceof zs?function(n){const r=n.getFilters().map(s=>lO(s));return r.length===1?r[0]:{compositeFilter:{op:FY(n.op),filters:r}}}(t):Me(54877,{filter:t})}function LY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,r,s,i=ze.min(),o=ze.min(),l=Ln.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.wt=e}}function $Y(t){const e=AY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(){this.Cn=new BY}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Aa.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Aa.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class BY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Cn(Ot.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Cn(Ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},uO=41943040;class Tr{static withCacheSize(e){return new Tr(e,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr.DEFAULT_COLLECTION_PERCENTILE=10,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tr.DEFAULT=new Tr(uO,Tr.DEFAULT_COLLECTION_PERCENTILE,Tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tr.DISABLED=new Tr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new qu(0)}static lr(){return new qu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="LruGarbageCollector",zY=1048576;function Tj([t,e],[n,r]){const s=tt(t,n);return s===0?tt(e,r):s}class HY{constructor(e){this.Er=e,this.buffer=new Cn(Tj),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tj(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Nj,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vd(n)?we(Nj,"Ignoring IndexedDB error during garbage collection: ",n):await gd(n)}await this.mr(3e5)})}}class qY{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Dy.le);const r=new HY(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ej)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ej):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),s=this.params.maximumSequenceNumbersToCollect):s=h,o=Date.now(),this.nthSequenceNumber(e,s))).next(h=>(r=h,l=Date.now(),this.removeTargets(e,r,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Ic()<=ct.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:h})))}}function GY(t,e){return new qY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(){this.changes=new dc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fh(r.mutation,s,qr.empty(),rn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ut()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ut()){const s=xl();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=uh();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ut()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=uo();const o=Oh(),l=function(){return Oh()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof Xa)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Fh(d.mutation,u,d.mutation.getFieldMask(),rn.now())):o.set(u.key,qr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new YY(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Oh();let s=new Qt((o,l)=>o-l),i=ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||qr.empty();d=l.applyToLocalView(u,d),r.set(c,d);const h=(s.get(l.batchId)||ut()).add(c);s=s.insert(l.batchId,h)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=qM();d.forEach(f=>{if(!i.has(f)){const g=ZM(n.get(f),r.get(f));g!==null&&h.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return Te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(xl());let l=yf,c=i;return o.next(u=>J.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,ut())).next(d=>({batchId:l,changes:WM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let s=uh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=uh();return this.indexManager.getCollectionParents(e,i).next(l=>J.forEach(l,c=>{const u=function(h,f){return new yd(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Zn.newInvalidDocument(d)))});let l=uh();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Fh(d.mutation,u,qr.empty(),rn.now()),Ly(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:yi(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:$Y(s.bundledQuery),readTime:yi(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZY{constructor(){this.overlays=new Qt(Te.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xl();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=xl(),i=n.length+1,o=new Te(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=xl(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=xl(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return J.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new vY(n,r));let i=this.Qr.get(n);i===void 0&&(i=ut(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.$r=new Cn(Nn.Ur),this.Kr=new Cn(Nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Te(new Ot([])),r=new Nn(n,e),s=new Nn(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Te(new Ot([])),r=new Nn(n,e),s=new Nn(n,e+1);let i=ut();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Te.comparator(e.key,n.key)||tt(e.Zr,n.Zr)}static Wr(e,n){return tt(e.Zr,n.Zr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Cn(Nn.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gY(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new Nn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?FC:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),s=new Nn(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Cn(tt);return n.forEach(s=>{const i=new Nn(s,0),o=new Nn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),J.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Te.isDocumentKey(i)||(i=i.child(""));const o=new Nn(new Te(i),0);let l=new Cn(tt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},o),J.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){wt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return J.forEach(n.mutations,s=>{const i=new Nn(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nn(n,0),s=this.Xr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ{constructor(e){this.ii=e,this.docs=function(){return new Qt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=uo();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Zn.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=uo();const o=n.path,l=new Te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||PK(IK(d),r)<=0||(s.has(d.key)||Ly(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Me(9500)}si(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nQ(this)}getSize(e){return J.resolve(this.size)}}class nQ extends KY{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e){this.persistence=e,this.oi=new dc(n=>$C(n),UC),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new GC,this.targetCount=0,this.ui=qu.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new qu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,n){this.ci={},this.overlays={},this.li=new Dy(0),this.hi=!1,this.hi=!0,this.Pi=new JY,this.referenceDelegate=e(this),this.Ti=new rQ(this),this.indexManager=new UY,this.remoteDocumentCache=function(s){return new tQ(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new VY(n),this.Ei=new XY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new eQ(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const s=new sQ(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return J.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class sQ extends AK{constructor(e){super(),this.currentSequenceNumber=e}}class KC{constructor(e){this.persistence=e,this.Vi=new GC,this.mi=null}static fi(e){return new KC(e)}get gi(){if(this.mi)return this.mi;throw Me(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,r=>{const s=Te.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,ze.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class xv{constructor(e,n){this.persistence=e,this.yi=new dc(r=>OK(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=GY(this,n)}static fi(e,n){return new xv(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ze.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yg(e.data.value)),n}Dr(e,n,r){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=ut(),s=ut();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new YC(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return AH()?8:DK(nr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new iQ;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(Ic()<=ct.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Pc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(Ic()<=ct.DEBUG&&we("QueryEngine","Query:",Pc(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Ic()<=ct.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Pc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vi(n))):J.resolve())}ws(e,n){if(pj(n))return J.resolve(null);let r=vi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=nb(n,null,"F"),r=vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ut(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,o,c.readTime)?this.ws(e,nb(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,r,s){return pj(n)||s.isEqual(ze.min())?J.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?J.resolve(null):(Ic()<=ct.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pc(n)),this.Fs(e,o,n,jK(s,yf)).next(l=>l))})}vs(e,n){let r=new Cn(zM(e));return n.forEach((s,i)=>{Ly(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Ic()<=ct.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Pc(n)),this.ys.getDocumentsMatchingQuery(e,n,Aa.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="LocalStore",aQ=3e8;class lQ{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Qt(tt),this.Os=new dc(i=>$C(i),UC),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QY(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function cQ(t,e,n,r){return new lQ(t,e,n,r)}async function hO(t,e){const n=Ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ut();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function uQ(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let g=J.resolve();return f.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(v=>{const x=u.docVersions.get(y);wt(x!==null,48541),v.version.compareTo(x)<0&&(h.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ut();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function fO(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function dQ(t,e){const n=Ge(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;l.push(n.Ti.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(i,d.addedDocuments,h)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(Ln.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(h,g),function(v,x,_){return v.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=aQ?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,d)&&l.push(n.Ti.updateTargetData(i,g))});let c=uo(),u=ut();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(hQ(i,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!r.isEqual(ze.min())){const d=n.Ti.getLastRemoteSnapshotVersion(i).next(h=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(d)}return J.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.xs=s,i))}function hQ(t,e,n){let r=ut(),s=ut();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=uo();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ze.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):we(QC,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function fQ(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=FC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mQ(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new ra(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function ab(t,e,n){const r=Ge(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!vd(o))throw o;we(QC,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Rj(t,e,n){const r=Ge(t);let s=ze.min(),i=ut();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=Ge(c),f=h.Os.get(d);return f!==void 0?J.resolve(h.xs.get(f)):h.Ti.getTargetData(u,d)}(r,o,vi(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:ze.min(),n?i:ut())).next(l=>(pQ(r,eY(e),l),{documents:l,$s:i})))}function pQ(t,e,n){let r=t.Ns.get(e)||ze.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class jj{constructor(){this.activeTargetIds=oY()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gQ{constructor(){this.xo=new jj,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new jj,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="ConnectivityMonitor";class Pj{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(Ij,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(Ij,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function lb(){return Op===null?Op=function(){return 268435456+Math.round(2147483648*Math.random())}():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="RestConnection",yQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xQ{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===mv?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=lb(),l=this.jo(e,n.toUriEncodedString());we(kx,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:u}=new URL(l),d=Ka(u);return this.Jo(e,l,c,r,d).then(h=>(we(kx,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Bu(kx,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",r),h})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=yQ[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class _Q extends xQ{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=lb();return new Promise((l,c)=>{const u=new pM;u.setWithCredentials(!0),u.listenOnce(gM.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case vg.NO_ERROR:const h=u.getResponseJson();we(qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case vg.TIMEOUT:we(qn,`RPC '${e}' ${o} timed out`),c(new ve(X.DEADLINE_EXCEEDED,"Request time out"));break;case vg.HTTP_ERROR:const f=u.getStatus();if(we(qn,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(w)>=0?w:X.UNKNOWN}(y.status);c(new ve(v,y.message))}else c(new ve(X.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ve(X.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{we(qn,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);we(qn,`RPC '${e}' ${o} sending request:`,s),u.send(n,"POST",d,r,15)})}I_(e,n,r){const s=lb(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xM(),l=yM(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");we(qn,`Creating RPC '${e}' stream ${s}: ${d}`,c);const h=o.createWebChannel(d,c);this.E_(h);let f=!1,g=!1;const y=new wQ({Zo:x=>{g?we(qn,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(we(qn,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),we(qn,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},Xo:()=>h.close()}),v=(x,_,w)=>{x.listen(_,b=>{try{w(b)}catch(T){setTimeout(()=>{throw T},0)}})};return v(h,ch.EventType.OPEN,()=>{g||(we(qn,`RPC '${e}' stream ${s} transport opened.`),y.__())}),v(h,ch.EventType.CLOSE,()=>{g||(g=!0,we(qn,`RPC '${e}' stream ${s} transport closed`),y.u_(),this.d_(h))}),v(h,ch.EventType.ERROR,x=>{g||(g=!0,Bu(qn,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),y.u_(new ve(X.UNAVAILABLE,"The operation could not be completed")))}),v(h,ch.EventType.MESSAGE,x=>{var _;if(!g){const w=x.data[0];wt(!!w,16349);const b=w,T=(b==null?void 0:b.error)||((_=b[0])===null||_===void 0?void 0:_.error);if(T){we(qn,`RPC '${e}' stream ${s} received error:`,T);const I=T.status;let O=function(N){const P=fn[N];if(P!==void 0)return eO(P)}(I),j=T.message;O===void 0&&(O=X.INTERNAL,j="Unknown error status: "+I+" with message "+T.message),g=!0,y.u_(new ve(O,j)),h.close()}else we(qn,`RPC '${e}' stream ${s} received:`,w),y.c_(w)}}),v(l,vM.STAT_EVENT,x=>{x.stat===Y_.PROXY?we(qn,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===Y_.NOPROXY&&we(qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.a_()},0),y}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Ax(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){return new EY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj="PersistentStream";class pO{constructor(e,n,r,s,i,o,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new mO(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new ve(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return we(kj,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(we(kj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bQ extends pO{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=RY(this.serializer,e),r=function(i){if(!("targetChange"in i))return ze.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ze.min():o.readTime?yi(o.readTime):ze.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=ob(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=eb(c)?{documents:PY(i,c)}:{query:kY(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=rO(i,o.resumeToken);const u=rb(i,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(ze.min())>0){l.readTime=yv(i,o.snapshotVersion.toTimestamp());const u=rb(i,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const r=DY(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=ob(this.serializer),n.removeTarget=e,this.Q_(n)}}class CQ extends pO{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=IY(e.writeResults,e.commitTime),r=yi(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=ob(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>jY(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{}class EQ extends SQ{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,sb(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ve(X.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,sb(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ve(X.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class NQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(co(n),this.ua=!1):we("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="RemoteStore";class TQ{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{hc(this)&&(we(ql,"Restarting streams for network reachability change."),await async function(c){const u=Ge(c);u.da.add(4),await rm(u),u.Va.set("Unknown"),u.da.delete(4),await Hy(u)}(this))})}),this.Va=new NQ(r,s)}}async function Hy(t){if(hc(t))for(const e of t.Aa)await e(!0)}async function rm(t){for(const e of t.Aa)await e(!1)}function gO(t,e){const n=Ge(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),eS(n)?JC(n):xd(n).N_()&&ZC(n,e))}function XC(t,e){const n=Ge(t),r=xd(n);n.Ea.delete(e),r.N_()&&vO(n,e),n.Ea.size===0&&(r.N_()?r.k_():hc(n)&&n.Va.set("Unknown"))}function ZC(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xd(t).Z_(e)}function vO(t,e){t.ma.Ke(e),xd(t).X_(e)}function JC(t){t.ma=new _Y({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),xd(t).start(),t.Va.ca()}function eS(t){return hc(t)&&!xd(t).O_()&&t.Ea.size>0}function hc(t){return Ge(t).da.size===0}function yO(t){t.ma=void 0}async function RQ(t){t.Va.set("Online")}async function jQ(t){t.Ea.forEach((e,n)=>{ZC(t,e)})}async function IQ(t,e){yO(t),eS(t)?(t.Va.Pa(e),JC(t)):t.Va.set("Unknown")}async function PQ(t,e,n){if(t.Va.set("Online"),e instanceof nO&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){we(ql,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wv(t,r)}else if(e instanceof _g?t.ma.Xe(e):e instanceof tO?t.ma.ot(e):t.ma.nt(e),!n.isEqual(ze.min()))try{const r=await fO(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ma.It(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ea.get(u);d&&i.Ea.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ea.get(c);if(!d)return;i.Ea.set(c,d.withResumeToken(Ln.EMPTY_BYTE_STRING,d.snapshotVersion)),vO(i,c);const h=new ra(d.target,c,u,d.sequenceNumber);ZC(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){we(ql,"Failed to raise snapshot:",r),await wv(t,r)}}async function wv(t,e,n){if(!vd(e))throw e;t.da.add(1),await rm(t),t.Va.set("Offline"),n||(n=()=>fO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(ql,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Hy(t)})}function xO(t,e){return e().catch(n=>wv(t,n,e))}async function Wy(t){const e=Ge(t),n=Fa(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:FC;for(;kQ(e);)try{const s=await fQ(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,AQ(e,s)}catch(s){await wv(e,s)}wO(e)&&_O(e)}function kQ(t){return hc(t)&&t.Ia.length<10}function AQ(t,e){t.Ia.push(e);const n=Fa(t);n.N_()&&n.ea&&n.ta(e.mutations)}function wO(t){return hc(t)&&!Fa(t).O_()&&t.Ia.length>0}function _O(t){Fa(t).start()}async function DQ(t){Fa(t).ia()}async function MQ(t){const e=Fa(t);for(const n of t.Ia)e.ta(n.mutations)}async function OQ(t,e,n){const r=t.Ia.shift(),s=HC.from(r,e,n);await xO(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Wy(t)}async function FQ(t,e){e&&Fa(t).ea&&await async function(r,s){if(function(o){return xY(o)&&o!==X.ABORTED}(s.code)){const i=r.Ia.shift();Fa(r).L_(),await xO(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Wy(r)}}(t,e),wO(t)&&_O(t)}async function Aj(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),we(ql,"RemoteStore received new credentials");const r=hc(n);n.da.add(3),await rm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Hy(n)}async function LQ(t,e){const n=Ge(t);e?(n.da.delete(2),await Hy(n)):e||(n.da.add(2),await rm(n),n.Va.set("Unknown"))}function xd(t){return t.fa||(t.fa=function(n,r,s){const i=Ge(n);return i.oa(),new bQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:RQ.bind(null,t),n_:jQ.bind(null,t),i_:IQ.bind(null,t),Y_:PQ.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),eS(t)?JC(t):t.Va.set("Unknown")):(await t.fa.stop(),yO(t))})),t.fa}function Fa(t){return t.ga||(t.ga=function(n,r,s){const i=Ge(n);return i.oa(),new CQ(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:DQ.bind(null,t),i_:FQ.bind(null,t),na:MQ.bind(null,t),ra:OQ.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Wy(t)):(await t.ga.stop(),t.Ia.length>0&&(we(ql,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new tS(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nS(t,e){if(co("AsyncQueue",`${e}: ${t}`),vd(t))return new ve(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{static emptySet(e){return new lu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=uh(),this.sortedSet=new Qt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new lu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(){this.pa=new Qt(Te.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gu{constructor(e,n,r,s,i,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Gu(e,n,lu.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class $Q{constructor(){this.queries=Mj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ge(n),i=s.queries;s.queries=Mj(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ve(X.ABORTED,"Firestore shutting down"))}}function Mj(){return new dc(t=>BM(t),Fy)}async function bO(t,e){const n=Ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new VQ,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=nS(o,`Initialization of query '${Pc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&rS(n)}async function CO(t,e){const n=Ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function UQ(t,e){const n=Ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Ma(s)&&(r=!0);o.ba=s}}r&&rS(n)}function BQ(t,e,n){const r=Ge(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function rS(t){t.Ca.forEach(e=>{e.next()})}var cb,Oj;(Oj=cb||(cb={})).xa="default",Oj.Cache="cache";class SO{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Gu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==cb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.key=e}}class NO{constructor(e){this.key=e}}class zQ{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ut(),this.mutatedKeys=ut(),this.Za=zM(e),this.Xa=new lu(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new Dj,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),g=Ly(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let x=!1;f&&g?f.data.isEqual(g.data)?y!==v&&(r.track({type:3,doc:g}),x=!0):this.ru(f,g)||(r.track({type:2,doc:g}),x=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!f&&g?(r.track({type:0,doc:g}),x=!0):f&&!g&&(r.track({type:1,doc:f}),x=!0,(c||u)&&(l=!0)),x&&(g?(o=o.add(g),i=v?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Xa:o,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,h)=>function(g,y){const v=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:x})}};return v(g)-v(y)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new Gu(this.query,e.Xa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Dj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=ut(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new NO(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new EO(r))}),n}au(e){this.Ha=e.$s,this.Ya=ut();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Gu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const sS="SyncEngine";class HQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WQ{constructor(e){this.key=e,this.cu=!1}}class qQ{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new dc(l=>BM(l),Fy),this.Pu=new Map,this.Tu=new Set,this.Iu=new Qt(Te.comparator),this.Eu=new Map,this.du=new GC,this.Au={},this.Ru=new Map,this.Vu=qu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function GQ(t,e,n=!0){const r=kO(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await TO(r,e,n,!0),s}async function KQ(t,e){const n=kO(t);await TO(n,e,!0,!1)}async function TO(t,e,n,r){const s=await mQ(t.localStore,vi(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await YQ(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&gO(t.remoteStore,s),l}async function YQ(t,e,n,r,s){t.fu=(h,f,g)=>async function(v,x,_,w){let b=x.view.tu(_);b.Cs&&(b=await Rj(v.localStore,x.query,!1).then(({documents:j})=>x.view.tu(j,b)));const T=w&&w.targetChanges.get(x.targetId),I=w&&w.targetMismatches.get(x.targetId)!=null,O=x.view.applyChanges(b,v.isPrimaryClient,T,I);return Lj(v,x.targetId,O.ou),O.snapshot}(t,h,f,g);const i=await Rj(t.localStore,e,!0),o=new zQ(e,i.$s),l=o.tu(i.documents),c=nm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(l,t.isPrimaryClient,c);Lj(t,n,u.ou);const d=new HQ(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function QQ(t,e,n){const r=Ge(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!Fy(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await ab(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&XC(r.remoteStore,s.targetId),ub(r,s.targetId)}).catch(gd)):(ub(r,s.targetId),await ab(r.localStore,s.targetId,!0))}async function XQ(t,e){const n=Ge(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),XC(n.remoteStore,r.targetId))}async function ZQ(t,e,n){const r=iX(t);try{const s=await function(o,l){const c=Ge(o),u=rn.now(),d=l.reduce((g,y)=>g.add(y.key),ut());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=uo(),v=ut();return c.Bs.getEntries(g,d).next(x=>{y=x,y.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(x=>{h=x;const _=[];for(const w of l){const b=mY(w,h.get(w.key).overlayedDocument);b!=null&&_.push(new Xa(w.key,b,DM(b.value.mapValue),hr.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,_,l)}).next(x=>{f=x;const _=x.applyToLocalDocumentSet(h,v);return c.documentOverlayCache.saveOverlays(g,x.batchId,_)})}).then(()=>({batchId:f.batchId,changes:WM(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Au[o.currentUser.toKey()];u||(u=new Qt(tt)),u=u.insert(l,c),o.Au[o.currentUser.toKey()]=u}(r,s.batchId,n),await sm(r,s.changes),await Wy(r.remoteStore)}catch(s){const i=nS(s,"Failed to persist write");n.reject(i)}}async function RO(t,e){const n=Ge(t);try{const r=await dQ(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?wt(o.cu,14607):s.removedDocuments.size>0&&(wt(o.cu,42227),o.cu=!1))}),await sm(n,r,e)}catch(r){await gd(r)}}function Fj(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const l=o.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Ge(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.Fa(l)&&(u=!0)}),u&&rS(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JQ(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Qt(Te.comparator);o=o.insert(i,Zn.newNoDocument(i,ze.min()));const l=ut().add(i),c=new By(ze.min(),new Map,new Qt(tt),o,l);await RO(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),iS(r)}else await ab(r.localStore,e,!1).then(()=>ub(r,e,n)).catch(gd)}async function eX(t,e){const n=Ge(t),r=e.batch.batchId;try{const s=await uQ(n.localStore,e);IO(n,r,null),jO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sm(n,s)}catch(s){await gd(s)}}async function tX(t,e,n){const r=Ge(t);try{const s=await function(o,l){const c=Ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(wt(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);IO(r,e,n),jO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await sm(r,s)}catch(s){await gd(s)}}function jO(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function IO(t,e,n){const r=Ge(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function ub(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||PO(t,r)})}function PO(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(XC(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),iS(t))}function Lj(t,e,n){for(const r of n)r instanceof EO?(t.du.addReference(r.key,e),nX(t,r)):r instanceof NO?(we(sS,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||PO(t,r.key)):Me(19791,{pu:r})}function nX(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(we(sS,"New document in limbo: "+n),t.Tu.add(r),iS(t))}function iS(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Te(Ot.fromString(e)),r=t.Vu.next();t.Eu.set(r,new WQ(n)),t.Iu=t.Iu.insert(n,r),gO(t.remoteStore,new ra(vi(BC(n.path)),r,"TargetPurposeLimboResolution",Dy.le))}}async function sm(t,e,n){const r=Ge(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{o.push(r.fu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){s.push(u);const h=YC.Rs(c.targetId,u);i.push(h)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,u){const d=Ge(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>J.forEach(u,f=>J.forEach(f.ds,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>J.forEach(f.As,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!vd(h))throw h;we(QC,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.xs.get(f),y=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(y);d.xs=d.xs.insert(f,v)}}}(r.localStore,i))}async function rX(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){we(sS,"User change. New user:",e.toKey());const r=await hO(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new ve(X.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sm(n,r.ks)}}function sX(t,e){const n=Ge(t),r=n.Eu.get(e);if(r&&r.cu)return ut().add(r.key);{let s=ut();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const l=n.hu.get(o);s=s.unionWith(l.view.eu)}return s}}function kO(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JQ.bind(null,e),e.lu.Y_=UQ.bind(null,e.eventManager),e.lu.gu=BQ.bind(null,e.eventManager),e}function iX(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tX.bind(null,e),e}class _v{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zy(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return cQ(this.persistence,new oQ,e.initialUser,this.serializer)}Su(e){return new dO(KC.fi,this.serializer)}bu(e){return new gQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_v.provider={build:()=>new _v};class oX extends _v{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){wt(this.persistence.referenceDelegate instanceof xv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new WY(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Tr.withCacheSize(this.cacheSizeBytes):Tr.DEFAULT;return new dO(r=>xv.fi(r,n),this.serializer)}}class db{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Fj(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rX.bind(null,this.syncEngine),await LQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $Q}()}createDatastore(e){const n=zy(e.databaseInfo.databaseId),r=function(i){return new _Q(i)}(e.databaseInfo);return function(i,o,l,c){return new EQ(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new TQ(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Fj(this.syncEngine,n,0),function(){return Pj.C()?new Pj:new vQ}())}createSyncEngine(e,n){return function(s,i,o,l,c,u,d){const h=new qQ(s,i,o,l,c,u);return d&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ge(s);we(ql,"RemoteStore shutting down."),i.da.add(5),await rm(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}db.provider={build:()=>new db};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="FirestoreClient";class aX{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Yn.UNAUTHENTICATED,this.clientId=CM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{we(La,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(we(La,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nS(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dx(t,e){t.asyncQueue.verifyOperationInProgress(),we(La,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await hO(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lX(t);we(La,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Aj(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Aj(e.remoteStore,s)),t._onlineComponents=e}async function lX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(La,"Using user provided OfflineComponentProvider");try{await Dx(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Bu("Error using user provided cache. Falling back to memory cache: "+n),await Dx(t,new _v)}}else we(La,"Using default OfflineComponentProvider"),await Dx(t,new oX(void 0));return t._offlineComponents}async function DO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(La,"Using user provided OnlineComponentProvider"),await Vj(t,t._uninitializedComponentsProvider._online)):(we(La,"Using default OnlineComponentProvider"),await Vj(t,new db))),t._onlineComponents}function cX(t){return DO(t).then(e=>e.syncEngine)}async function MO(t){const e=await DO(t),n=e.eventManager;return n.onListen=GQ.bind(null,e.syncEngine),n.onUnlisten=QQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XQ.bind(null,e.syncEngine),n}function uX(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new AO({next:f=>{d.xu(),o.enqueueAndForget(()=>CO(i,h));const g=f.docs.has(l);!g&&f.fromCache?u.reject(new ve(X.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?u.reject(new ve(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new SO(BC(l.path),d,{includeMetadataChanges:!0,Qa:!0});return bO(i,h)}(await MO(t),t.asyncQueue,e,n,r)),r.promise}function dX(t,e,n={}){const r=new Xi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,u){const d=new AO({next:f=>{d.xu(),o.enqueueAndForget(()=>CO(i,h)),f.fromCache&&c.source==="server"?u.reject(new ve(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new SO(l,d,{includeMetadataChanges:!0,Qa:!0});return bO(i,h)}(await MO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,n){if(!n)throw new ve(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hX(t,e,n,r){if(e===!0&&r===!0)throw new ve(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Uj(t){if(!Te.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Bj(t){if(Te.isDocumentKey(t))throw new ve(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ve(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qy(t);throw new ve(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO="firestore.googleapis.com",zj=!0;class Hj{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LO,this.ssl=zj}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:zj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=uO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zY)throw new ve(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ve(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gy{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wK;switch(r.type){case"firstParty":return new SK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=$j.get(n);r&&(we("ComponentProvider","Removing Datastore"),$j.delete(n),r.terminate())}(this),Promise.resolve()}}function fX(t,e,n,r={}){var s;t=ws(t,Gy);const i=Ka(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(_C(`https://${c}`),bC("Firestore",!0)),o.host!==LO&&o.host!==c&&Bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Bl(u,l)&&(t._setSettings(u),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Yn.MOCK_USER;else{d=ED(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ve(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Yn(f)}t._authCredentials=new _K(new _M(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fc(this.firestore,e,this._query)}}class fr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fr(this.firestore,e,this._key)}}class ba extends fc{constructor(e,n,r){super(e,n,BC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fr(this.firestore,null,new Te(e))}withConverter(e){return new ba(this.firestore,e,this._path)}}function Ct(t,e,...n){if(t=Ht(t),FO("collection","path",e),t instanceof Gy){const r=Ot.fromString(e,...n);return Bj(r),new ba(t,null,r)}{if(!(t instanceof fr||t instanceof ba))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return Bj(r),new ba(t.firestore,null,r)}}function sn(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=CM.newId()),FO("doc","path",e),t instanceof Gy){const r=Ot.fromString(e,...n);return Uj(r),new fr(t,null,new Te(r))}{if(!(t instanceof fr||t instanceof ba))throw new ve(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ot.fromString(e,...n));return Uj(r),new fr(t.firestore,t instanceof ba?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="AsyncQueue";class qj{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new mO(this,"async_queue_retry"),this.rc=()=>{const r=Ax();r&&we(Wj,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Ax();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Ax();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Xi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!vd(e))throw e;we(Wj,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,co("INTERNAL UNHANDLED ERROR: ",Gj(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=tS.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&Me(47125,{cc:Gj(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function Gj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Za extends Gy{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new qj,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qj(e),this._firestoreClient=void 0,await e}}}function mX(t,e){const n=typeof t=="object"?t:EC(),r=typeof t=="string"?t:mv,s=Iy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=bD("firestore");i&&fX(s,...i)}return s}function Ky(t){if(t._terminated)throw new ve(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||pX(t),t._firestoreClient}function pX(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,d){return new VK(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,OO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new aX(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ku(Ln.fromBase64String(e))}catch(n){throw new ve(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ku(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX=/^__.*__$/;class vX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new tm(e,this.data,n,this.fieldTransforms)}}class VO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $O(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{Ic:t})}}class lS{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new lS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return bv(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if($O(this.Ic)&&gX.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class yX{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||zy(e)}bc(e,n,r,s=!1){return new lS({Ic:e,methodName:n,wc:r,path:Mn.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(t){const e=t._freezeSettings(),n=zy(t._databaseId);return new yX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cS(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);dS("Data must be an object, but it was:",o,r);const l=zO(r,o);let c,u;if(i.merge)c=new qr(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=hb(e,h,n);if(!o.contains(f))throw new ve(X.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);WO(d,f)||d.push(f)}c=new qr(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new vX(new jr(l),c,u)}class Qy extends Yy{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qy}}class uS extends Yy{_toFieldTransform(e){return new uY(e.path,new Cf)}isEqual(e){return e instanceof uS}}function UO(t,e,n,r){const s=t.bc(1,e,n);dS("Data must be an object, but it was:",s,r);const i=[],o=jr.empty();Qa(r,(c,u)=>{const d=hS(e,c,n);u=Ht(u);const h=s.mc(d);if(u instanceof Qy)i.push(d);else{const f=am(u,h);f!=null&&(i.push(d),o.set(d,f))}});const l=new qr(i);return new VO(o,l,s.fieldTransforms)}function BO(t,e,n,r,s,i){const o=t.bc(1,e,n),l=[hb(e,r,n)],c=[s];if(i.length%2!=0)throw new ve(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)l.push(hb(e,i[f])),c.push(i[f+1]);const u=[],d=jr.empty();for(let f=l.length-1;f>=0;--f)if(!WO(u,l[f])){const g=l[f];let y=c[f];y=Ht(y);const v=o.mc(g);if(y instanceof Qy)u.push(g);else{const x=am(y,v);x!=null&&(u.push(g),d.set(g,x))}}const h=new qr(u);return new VO(d,h,o.fieldTransforms)}function xX(t,e,n,r=!1){return am(n,t.bc(r?4:3,e))}function am(t,e){if(HO(t=Ht(t)))return dS("Unsupported field value:",e,t),zO(t,e);if(t instanceof Yy)return function(r,s){if(!$O(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=am(l,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aY(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=rn.fromDate(r);return{timestampValue:yv(s.serializer,i)}}if(r instanceof rn){const i=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yv(s.serializer,i)}}if(r instanceof oS)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ku)return{bytesValue:rO(s.serializer,r._byteString)};if(r instanceof fr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qC(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof aS)return function(o,l){return{mapValue:{fields:{[PM]:{stringValue:AM},[pv]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return zC(l.serializer,u)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${qy(r)}`)}(t,e)}function zO(t,e){const n={};return EM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qa(t,(r,s)=>{const i=am(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function HO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof oS||t instanceof Ku||t instanceof fr||t instanceof Yy||t instanceof aS)}function dS(t,e,n){if(!HO(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=qy(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function hb(t,e,n){if((e=Ht(e))instanceof im)return e._internalPath;if(typeof e=="string")return hS(t,e);throw bv("Field path arguments must be of type string or ",t,!1,void 0,n)}const wX=new RegExp("[~\\*/\\[\\]]");function hS(t,e,n){if(e.search(wX)>=0)throw bv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new im(...e.split("."))._internalPath}catch{throw bv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bv(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ve(X.INVALID_ARGUMENT,l+t+c)}function WO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _X(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _X extends qO{data(){return super.data()}}function Xy(t,e){return typeof e=="string"?hS(t,e):e instanceof im?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ve(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fS{}class GO extends fS{}function Ci(t,e,...n){let r=[];e instanceof fS&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof mS).length,l=i.filter(c=>c instanceof Zy).length;if(o>1||o>0&&l>0)throw new ve(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Zy extends GO{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zy(e,n,r)}_apply(e){const n=this._parse(e);return KO(e._query,n),new fc(e.firestore,e.converter,tb(e._query,n))}_parse(e){const n=om(e.firestore);return function(i,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ve(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Yj(h,d);const y=[];for(const v of h)y.push(Kj(c,i,v));f={arrayValue:{values:y}}}else f=Kj(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Yj(h,d),f=xX(l,o,h,d==="in"||d==="not-in");return vn.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nf(t,e,n){const r=e,s=Xy("where",t);return Zy._create(s,r,n)}class mS extends fS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mS(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)KO(o,c),o=tb(o,c)}(e._query,n),new fc(e.firestore,e.converter,tb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pS extends GO{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pS(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ve(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bf(i,o)}(e._query,this._field,this._direction);return new fc(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new yd(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function lm(t,e="asc"){const n=e,r=Xy("orderBy",t);return pS._create(r,n)}function Kj(t,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new ve(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UM(e)&&n.indexOf("/")!==-1)throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ot.fromString(n));if(!Te.isDocumentKey(r))throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cj(t,new Te(r))}if(n instanceof fr)return cj(t,n._key);throw new ve(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qy(n)}.`)}function Yj(t,e){if(!Array.isArray(t)||t.length===0)throw new ve(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KO(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ve(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CX{convertValue(e,n="none"){switch(Oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ln(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ma(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[pv].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ln(o.doubleValue));return new aS(i)}convertGeoPoint(e){return new oS(ln(e.latitude),ln(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Oy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(xf(e));default:return null}}convertTimestamp(e){const n=Da(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ot.fromString(e);wt(cO(r),9688,{name:e});const s=new wf(r.get(1),r.get(3)),i=new Te(r.popFirst(5));return s.isEqual(n)||co(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YO extends qO{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class bg extends YO{data(e={}){return super.data(e)}}class SX{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new hh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bg(this._firestore,this._userDataWriter,r.key,r,new hh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new bg(s._firestore,s._userDataWriter,l.doc.key,l.doc,new hh(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new bg(s._firestore,s._userDataWriter,l.doc.key,l.doc,new hh(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:EX(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(t){t=ws(t,fr);const e=ws(t.firestore,Za);return uX(Ky(e),t._key).then(n=>NX(e,t,n))}class QO extends CX{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ku(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fr(this.firestore,null,n)}}function pn(t){t=ws(t,fc);const e=ws(t.firestore,Za),n=Ky(e),r=new QO(e);return bX(t._query),dX(n,t._query).then(s=>new SX(e,r,t,s))}function XO(t,e,n){t=ws(t,fr);const r=ws(t.firestore,Za),s=gS(t.converter,e,n);return um(r,[cS(om(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,hr.none())])}function Va(t,e,n,...r){t=ws(t,fr);const s=ws(t.firestore,Za),i=om(s);let o;return o=typeof(e=Ht(e))=="string"||e instanceof im?BO(i,"updateDoc",t._key,e,n,r):UO(i,"updateDoc",t._key,e),um(s,[o.toMutation(t._key,hr.exists(!0))])}function cm(t){return um(ws(t.firestore,Za),[new Uy(t._key,hr.none())])}function wd(t,e){const n=ws(t.firestore,Za),r=sn(t),s=gS(t.converter,e);return um(n,[cS(om(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function um(t,e){return function(r,s){const i=new Xi;return r.asyncQueue.enqueueAndForget(async()=>ZQ(await cX(r),s,i)),i.promise}(Ky(t),e)}function NX(t,e,n){const r=n.docs.get(e._key),s=new QO(t);return new YO(t,s,e._key,r,new hh(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=om(e)}set(e,n,r){this._verifyNotCommitted();const s=Mx(e,this._firestore),i=gS(s.converter,n,r),o=cS(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,hr.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Mx(e,this._firestore);let o;return o=typeof(n=Ht(n))=="string"||n instanceof im?BO(this._dataReader,"WriteBatch.update",i._key,n,r,s):UO(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Mx(e,this._firestore);return this._mutations=this._mutations.concat(new Uy(n._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Mx(t,e){if((t=Ht(t)).firestore!==e)throw new ve(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Hs(){return new uS("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t){return Ky(t=ws(t,Za)),new TX(t,e=>um(t,e))}(function(e,n=!0){(function(s){pd=s})(uc),zl(new ka("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Za(new bK(r.getProvider("auth-internal")),new EK(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ve(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wf(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),gi(XR,ZR,e),gi(XR,ZR,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO="firebasestorage.googleapis.com",JO="storageBucket",RX=2*60*1e3,jX=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Ri{constructor(e,n,r=0){super(Ox(e),`Firebase Storage: ${n} (${Ox(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ox(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var on;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(on||(on={}));function Ox(t){return"storage/"+t}function vS(){const t="An unknown error occurred, please check the error payload for server response.";return new an(on.UNKNOWN,t)}function IX(t){return new an(on.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PX(t){return new an(on.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function kX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an(on.UNAUTHENTICATED,t)}function AX(){return new an(on.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DX(t){return new an(on.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function MX(){return new an(on.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OX(){return new an(on.CANCELED,"User canceled the upload/download.")}function FX(t){return new an(on.INVALID_URL,"Invalid URL '"+t+"'.")}function LX(t){return new an(on.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function VX(){return new an(on.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+JO+"' property when initializing the app?")}function $X(){return new an(on.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function UX(){return new an(on.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function BX(t){return new an(on.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fb(t){return new an(on.INVALID_ARGUMENT,t)}function e4(){return new an(on.APP_DELETED,"The Firebase app was deleted.")}function zX(t){return new an(on.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lh(t,e){return new an(on.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Qd(t){throw new an(on.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gr.makeFromUrl(e,n)}catch{return new Gr(e,"")}if(r.path==="")return r;throw LX(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),y={bucket:1,path:3},v=n===ZO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${x}`,"i"),b=[{regex:l,indices:c,postModify:i},{regex:g,indices:y,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<b.length;T++){const I=b[T],O=I.regex.exec(e);if(O){const j=O[I.indices.bucket];let S=O[I.indices.path];S||(S=""),r=new Gr(j,S),I.postModify(r);break}}if(r==null)throw FX(e);return r}}class HX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...x){u||(u=!0,e.apply(null,x))}function h(x){s=setTimeout(()=>{s=null,t(g,c())},x)}function f(){i&&clearTimeout(i)}function g(x,..._){if(u){f();return}if(x){f(),d.call(null,x,..._);return}if(c()||o){f(),d.call(null,x,..._);return}r<64&&(r*=2);let b;l===1?(l=2,b=0):b=(r+Math.random())*1e3,h(b)}let y=!1;function v(x){y||(y=!0,f(),!u&&(s!==null?(x||(l=2),clearTimeout(s),h(0)):x||(l=1)))}return h(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function qX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GX(t){return t!==void 0}function KX(t){return typeof t=="object"&&!Array.isArray(t)}function yS(t){return typeof t=="string"||t instanceof String}function Qj(t){return xS()&&t instanceof Blob}function xS(){return typeof Blob<"u"}function Xj(t,e,n,r){if(r<e)throw fb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function t4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Il;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Il||(Il={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(e,n,r,s,i,o,l,c,u,d,h,f=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Fp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Il.NO_ERROR,c=i.getStatus();if(!l||YX(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Il.ABORT;r(!1,new Fp(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new Fp(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());GX(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=vS();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?e4():OX();o(c)}else{const c=MX();o(c)}};this.canceled_?n(!1,new Fp(!1,null,!0)):this.backoffId_=WX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tZ(t,e,n,r,s,i,o=!0,l=!1){const c=t4(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return JX(d,e),XX(d,n),ZX(d,i),eZ(d,r),new QX(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rZ(...t){const e=nZ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xS())return new Blob(t);throw new an(on.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(t){if(typeof atob>"u")throw BX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Fx{constructor(e,n){this.data=e,this.contentType=n||null}}function oZ(t,e){switch(t){case di.RAW:return new Fx(n4(e));case di.BASE64:case di.BASE64URL:return new Fx(r4(t,e));case di.DATA_URL:return new Fx(lZ(e),cZ(e))}throw vS()}function n4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function aZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Lh(di.DATA_URL,"Malformed data URL.")}return n4(e)}function r4(t,e){switch(t){case di.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Lh(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case di.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Lh(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=iZ(e)}catch(s){throw s.message.includes("polyfill")?s:Lh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class s4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Lh(di.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=uZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function lZ(t){const e=new s4(t);return e.base64?r4(di.BASE64,e.rest):aZ(e.rest)}function cZ(t){return new s4(t).contentType}function uZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,n){let r=0,s="";Qj(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Qj(this.data_)){const r=this.data_,s=sZ(r,e,n);return s===null?null:new zo(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zo(r,!0)}}static getBlob(...e){if(xS()){const n=e.map(r=>r instanceof zo?r.data_:r);return new zo(rZ.apply(null,n))}else{const n=e.map(o=>yS(o)?oZ(di.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new zo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(t){let e;try{e=JSON.parse(t)}catch{return null}return KX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hZ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function o4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t,e){return e}class ir{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||fZ}}let Lp=null;function mZ(t){return!yS(t)||t.length<2?t:o4(t)}function a4(){if(Lp)return Lp;const t=[];t.push(new ir("bucket")),t.push(new ir("generation")),t.push(new ir("metageneration")),t.push(new ir("name","fullPath",!0));function e(i,o){return mZ(o)}const n=new ir("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new ir("size");return s.xform=r,t.push(s),t.push(new ir("timeCreated")),t.push(new ir("updated")),t.push(new ir("md5Hash",null,!0)),t.push(new ir("cacheControl",null,!0)),t.push(new ir("contentDisposition",null,!0)),t.push(new ir("contentEncoding",null,!0)),t.push(new ir("contentLanguage",null,!0)),t.push(new ir("contentType",null,!0)),t.push(new ir("metadata","customMetadata",!0)),Lp=t,Lp}function pZ(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Gr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function gZ(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return pZ(r,t),r}function l4(t,e,n){const r=i4(e);return r===null?null:gZ(t,r,n)}function vZ(t,e,n,r){const s=i4(e);if(s===null||!yS(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),g=wS(f,n,r),y=t4({alt:"media",token:u});return g+y})[0]}function yZ(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class c4{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){if(!t)throw vS()}function xZ(t,e){function n(r,s){const i=l4(t,s,e);return u4(i!==null),i}return n}function wZ(t,e){function n(r,s){const i=l4(t,s,e);return u4(i!==null),vZ(i,s,t.host,t._protocol)}return n}function d4(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=AX():s=kX():n.getStatus()===402?s=PX(t.bucket):n.getStatus()===403?s=DX(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function _Z(t){const e=d4(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=IX(t.path)),i.serverResponse=s.serverResponse,i}return n}function bZ(t,e,n){const r=e.fullServerUrl(),s=wS(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new c4(s,i,wZ(t,n),o);return l.errorHandler=_Z(e),l}function CZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SZ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=CZ(null,e)),r}function EZ(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let T=0;T<2;T++)b=b+Math.random().toString().slice(2);return b}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=SZ(e,r,s),d=yZ(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",g=zo.getBlob(h,r,f);if(g===null)throw $X();const y={name:u.fullPath},v=wS(i,t.host,t._protocol),x="POST",_=t.maxUploadRetryTime,w=new c4(v,x,xZ(t,n),_);return w.urlParams=y,w.headers=o,w.body=g.uploadData(),w.errorHandler=d4(e),w}class NZ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Il.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Il.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Il.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw Qd("cannot .send() more than once");if(Ka(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Qd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Qd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Qd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Qd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class TZ extends NZ{initXhr(){this.xhr_.responseType="text"}}function h4(){return new TZ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this._service=e,n instanceof Gr?this._location=n:this._location=Gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gl(e,n)}get root(){const e=new Gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o4(this._location.path)}get storage(){return this._service}get parent(){const e=dZ(this._location.path);if(e===null)return null;const n=new Gr(this._location.bucket,e);return new Gl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zX(e)}}function RZ(t,e,n){t._throwIfRoot("uploadBytes");const r=EZ(t.storage,t._location,a4(),new zo(e,!0),n);return t.storage.makeRequestWithTokens(r,h4).then(s=>({metadata:s,ref:t}))}function jZ(t){t._throwIfRoot("getDownloadURL");const e=bZ(t.storage,t._location,a4());return t.storage.makeRequestWithTokens(e,h4).then(n=>{if(n===null)throw UX();return n})}function IZ(t,e){const n=hZ(t._location.path,e),r=new Gr(t._location.bucket,n);return new Gl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t){return/^[A-Za-z]+:\/\//.test(t)}function kZ(t,e){return new Gl(t,e)}function f4(t,e){if(t instanceof _S){const n=t;if(n._bucket==null)throw VX();const r=new Gl(n,n._bucket);return e!=null?f4(r,e):r}else return e!==void 0?IZ(t,e):t}function AZ(t,e){if(e&&PZ(e)){if(t instanceof _S)return kZ(t,e);throw fb("To use ref(service, url), the first argument must be a Storage instance.")}else return f4(t,e)}function Zj(t,e){const n=e==null?void 0:e[JO];return n==null?null:Gr.makeFromBucketSpec(n,t)}function DZ(t,e,n,r={}){t.host=`${e}:${n}`;const s=Ka(e);s&&(_C(`https://${t.host}/b`),bC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:ED(i,t.app.options.projectId))}class _S{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=ZO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RX,this._maxUploadRetryTime=jX,this._requests=new Set,s!=null?this._bucket=Gr.makeFromBucketSpec(s,this._host):this._bucket=Zj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gr.makeFromBucketSpec(this._url,e):this._bucket=Zj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Xj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Xj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new HX(e4());{const o=tZ(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Jj="@firebase/storage",eI="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="storage";function sa(t,e,n){return t=Ht(t),RZ(t,e,n)}function ia(t){return t=Ht(t),jZ(t)}function oa(t,e){return t=Ht(t),AZ(t,e)}function MZ(t=EC(),e){t=Ht(t);const r=Iy(t,m4).getImmediate({identifier:e}),s=bD("storage");return s&&OZ(r,...s),r}function OZ(t,e,n,r={}){DZ(t,e,n,r)}function FZ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _S(n,r,s,e,uc)}function LZ(){zl(new ka(m4,FZ,"PUBLIC").setMultipleInstances(!0)),gi(Jj,eI,""),gi(Jj,eI,"esm2017")}LZ();const VZ={apiKey:"AIzaSyCkUy5C36i-ZzKtaTYtJ4Pz5hKKTTyAg64",authDomain:"dogvax-aeb2a.firebaseapp.com",projectId:"dogvax-aeb2a",storageBucket:"dogvax-aeb2a.firebasestorage.app",messagingSenderId:"42582914027",appId:"1:42582914027:web:db73627ed625b64a399fae",measurementId:"G-M0Y990D7DB"},bS=RD(VZ),Pl=gK(bS),je=mX(bS),aa=MZ(bS),$Z=()=>{const[t,e]=p.useState(""),[n,r]=p.useState(["","","","","",""]),[s,i]=p.useState(null),[o,l]=p.useState(!1);Fr();const c=p.useRef(null);p.useEffect(()=>((()=>{if(!c.current)try{c.current=new vG(Pl,"recaptcha-container",{size:"invisible",callback:()=>{}})}catch(v){console.error("Error initializing reCAPTCHA:",v)}})(),()=>{c.current&&(c.current.clear(),c.current=null)}),[]);const u=async y=>{if(y.preventDefault(),!t||!/^\+[1-9]\d{1,14}$/.test(t)){ne.error("Please enter a valid phone number with country code (e.g., +1234567890).");return}if(!c.current){ne.error("reCAPTCHA not initialized. Please refresh the page and try again.");return}l(!0);try{const v=await dM(Pl,t,c.current);i(v),ne.success("OTP sent successfully!")}catch(v){console.error("Error sending OTP:",v),v.code==="auth/too-many-requests"?ne.error("Too many requests. Please wait a while before trying again."):ne.error("Failed to send OTP. Please check the number or try again later.")}finally{l(!1)}},d=(y,v)=>{if(v.length>1)return;const x=[...n];if(x[y]=v,r(x),v&&y<5){const _=document.getElementById(`otp-${y+1}`);_==null||_.focus()}},h=(y,v)=>{if(v.key==="Backspace"&&!n[y]&&y>0){const x=document.getElementById(`otp-${y-1}`);x==null||x.focus()}},f=async y=>{y.preventDefault();const v=n.join("");if(!v||v.length!==6){ne.error("Please enter a valid 6-digit OTP.");return}if(!s){ne.error("Please request an OTP first.");return}l(!0);try{await s.confirm(v),ne.success("Logged in successfully! Redirecting...")}catch(x){console.error("Error verifying OTP:",x),ne.error("Invalid OTP. Please try again."),l(!1)}},g=y=>{let v=y.target.value;v&&!v.startsWith("+")&&(v.startsWith("91")?v="+"+v:/^\d/.test(v)&&(v="+91"+v)),e(v)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[a.jsx("div",{id:"recaptcha-container"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})]}),a.jsxs("div",{className:"w-full max-w-sm relative z-10",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("div",{className:"w-24 h-24 mx-auto mb-6 relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl shadow-2xl"}),a.jsx("div",{className:"absolute inset-2 bg-slate-800 rounded-2xl flex items-center justify-center",children:a.jsx("div",{className:"text-4xl",children:""})}),a.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-purple-400 rounded-full flex items-center justify-center shadow-lg",children:a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:s?"Verify OTP":"Hello Guest!"}),a.jsx("p",{className:"text-slate-400 text-base",children:s?"Enter the verification code":"Welcome to the Pawlly care"})]}),a.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl p-6 sm:p-8 rounded-3xl border border-slate-700/50 shadow-2xl",children:s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-700/50 rounded-2xl",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsx("span",{className:"text-lg font-medium text-white",children:t})]})}),a.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Enter the 6-digit verification code",a.jsx("br",{}),"sent to your mobile number"]})]}),a.jsxs("form",{className:"space-y-8",onSubmit:f,children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"grid grid-cols-6 gap-3 w-full max-w-xs",children:n.map((y,v)=>a.jsx("input",{id:`otp-${v}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:y,onChange:x=>d(v,x.target.value),onKeyDown:x=>h(v,x),className:"w-full h-16 text-center text-xl font-bold bg-slate-700/50 border-2 border-slate-600 text-white rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 focus:outline-none transition-all duration-200",autoComplete:"one-time-code"},v))})}),a.jsx(ee,{type:"submit",className:"w-full h-14 text-base font-semibold rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-xl transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",disabled:o,children:o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Verifying..."]}):"Verify & Log In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>{i(null),r(["","","","","",""]),e("")},className:"text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-xl transition-all duration-200",disabled:o,children:"Change number"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("form",{className:"space-y-6",onSubmit:u,children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-slate-300 block",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 flex items-center space-x-3",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"+91"})]}),a.jsx(Fe,{type:"tel",placeholder:"Enter your mobile number",className:"pl-20 h-14 bg-slate-700/50 border-slate-600 text-white placeholder-slate-400 rounded-2xl focus:border-purple-500 focus:ring-purple-500/20 text-base",value:t,onChange:g,disabled:o})]})]}),a.jsx(ee,{type:"submit",className:"w-full h-14 text-base font-semibold rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-xl transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",disabled:o,children:o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):"Send OTP"})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("p",{className:"text-slate-400 text-sm",children:["Not registered? ",a.jsx("span",{className:"text-purple-400 underline cursor-pointer hover:text-purple-300 transition-colors",children:"Register Now"})]})}),a.jsxs("div",{className:"mt-8 flex items-center",children:[a.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent"}),a.jsx("span",{className:"px-4 text-slate-400 text-sm",children:"Or sign in with"}),a.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent"})]}),a.jsx(ee,{variant:"outline",className:"w-full mt-6 h-14 bg-slate-700/30 border-slate-600 text-white hover:bg-slate-600/50 rounded-2xl transition-all duration-200 hover:scale-[1.02]",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-slate-900",children:"G"})}),"Sign In With Google"]})})]})}),a.jsx("p",{className:"text-sm text-slate-500 mt-8 text-center opacity-75",children:"Secure sign-in powered by Firebase"})]})]})},UZ=()=>{const t=yo();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},BZ=zf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ke({className:t,variant:e,...n}){return a.jsx("div",{className:te(BZ({variant:e}),t),...n})}var CS="Avatar",[zZ,Wue]=wr(CS),[HZ,p4]=zZ(CS),g4=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return a.jsx(HZ,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Ce.span,{...r,ref:e})})});g4.displayName=CS;var v4="AvatarImage",y4=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=p4(v4,n),l=WZ(r,i.referrerPolicy),c=Ut(u=>{s(u),o.onImageLoadingStatusChange(u)});return Sn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Ce.img,{...i,ref:e,src:r}):null});y4.displayName=v4;var x4="AvatarFallback",w4=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=p4(x4,n),[o,l]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Ce.span,{...s,ref:e}):null});w4.displayName=x4;function WZ(t,e){const[n,r]=p.useState("idle");return Sn(()=>{if(!t){r("error");return}let s=!0;const i=new window.Image,o=l=>()=>{s&&r(l)};return r("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,e&&(i.referrerPolicy=e),()=>{s=!1}},[t,e]),n}var _4=g4,b4=y4,C4=w4;const _d=p.forwardRef(({className:t,...e},n)=>a.jsx(_4,{ref:n,className:te("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));_d.displayName=_4.displayName;const SS=p.forwardRef(({className:t,...e},n)=>a.jsx(b4,{ref:n,className:te("aspect-square h-full w-full",t),...e}));SS.displayName=b4.displayName;const bd=p.forwardRef(({className:t,...e},n)=>a.jsx(C4,{ref:n,className:te("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));bd.displayName=C4.displayName;const qZ=async t=>{if(t)try{console.log("Creating user profile for:",t.uid,t.email);const e=sn(je,"users",t.uid);(await Jy(e)).exists()?console.log("User document already exists"):(console.log("User document does not exist, creating new one..."),await XO(e,{uid:t.uid,email:t.email,phoneNumber:t.phoneNumber,displayName:t.displayName,createdAt:Hs(),updatedAt:Hs()}),console.log(" User profile created successfully"))}catch(e){console.error(" Error creating user profile:",e)}},S4=p.createContext(void 0),rs=()=>{const t=p.useContext(S4);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},GZ=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(!0),[i,o]=p.useState(!1),l=async h=>{if(!h){console.log("No phone number provided for admin check"),o(!1);return}console.log("Checking admin status for:",h);try{const f=sn(je,"admins",h),y=(await Jy(f)).exists();console.log(`Admin status for ${h}:`,y),o(y)}catch(f){console.error("Error checking admin status:",f),o(!1)}};p.useEffect(()=>{const h=Qq(Pl,async f=>{console.log("Auth state changed, user:",f),n(f),f?(await qZ(f),await l(f.phoneNumber)):o(!1),s(!1)});return()=>h()},[]);const d={user:e,loading:r,isAdmin:i,signInWithPhone:async(h,f)=>dM(Pl,h,f),signOut:async()=>{await kC(Pl),o(!1)}};return a.jsx(S4.Provider,{value:d,children:t})},dm=()=>{const{user:t}=rs(),{data:e=[],isLoading:n,...r}=Gs({queryKey:["dogs",t==null?void 0:t.uid],queryFn:async()=>{if(!t)return[];const s=Ct(je,"users",t.uid,"dogs");return(await pn(s)).docs.map(o=>({...o.data(),id:o.id}))},enabled:!!t});return{dogs:e,isLoadingDogs:n,...r}};function Ne(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function cr(t,e){const n=Ne(t);return isNaN(e)?pr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ws(t,e){const n=Ne(t);if(isNaN(e))return pr(t,NaN);if(!e)return n;const r=n.getDate(),s=pr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function KZ(t,e){const n=+Ne(t);return pr(t,n+e)}const ES=6048e5,YZ=864e5,QZ=6e4,Vp=43200,tI=1440;let XZ={};function Cd(){return XZ}function Si(t,e){var l,c,u,d;const n=Cd(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ne(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Kl(t){return Si(t,{weekStartsOn:1})}function E4(t){const e=Ne(t),n=e.getFullYear(),r=pr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Kl(r),i=pr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Kl(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Yl(t){const e=Ne(t);return e.setHours(0,0,0,0),e}function Yu(t){const e=Ne(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ds(t,e){const n=Yl(t),r=Yl(e),s=+n-Yu(n),i=+r-Yu(r);return Math.round((s-i)/YZ)}function ZZ(t){const e=E4(t),n=pr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Kl(n)}function JZ(t,e){return KZ(t,e*QZ)}function mb(t,e){const n=e*7;return cr(t,n)}function eJ(t,e){return Ws(t,e*12)}function tJ(t){let e;return t.forEach(function(n){const r=Ne(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function nJ(t){let e;return t.forEach(n=>{const r=Ne(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function cu(t,e){const n=Ne(t),r=Ne(e),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function rJ(t){return pr(t,Date.now())}function er(t,e){const n=Yl(t),r=Yl(e);return+n==+r}function NS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sJ(t){if(!NS(t)&&typeof t!="number")return!1;const e=Ne(t);return!isNaN(Number(e))}function Qu(t,e){const n=Ne(t),r=Ne(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function iJ(t,e,n){const r=Si(t,n),s=Si(e,n),i=+r-Yu(r),o=+s-Yu(s);return Math.round((i-o)/ES)}function oJ(t,e){const n=Ne(t),r=Ne(e);return n.getFullYear()-r.getFullYear()}function Ca(t,e){const n=Ne(t),r=Ne(e),s=nI(n,r),i=Math.abs(Ds(n,r));n.setDate(n.getDate()-s*i);const o=+(nI(n,r)===-s),l=s*(i-o);return l===0?0:l}function nI(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function aJ(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function lJ(t,e){return+Ne(t)-+Ne(e)}function cJ(t){const e=Ne(t);return e.setHours(23,59,59,999),e}function e0(t){const e=Ne(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function uJ(t){const e=Ne(t);return+cJ(e)==+e0(e)}function t0(t,e){const n=Ne(t),r=Ne(e),s=cu(n,r),i=Math.abs(Qu(n,r));let o;if(i<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let l=cu(n,r)===-s;uJ(Ne(t))&&i===1&&cu(t,r)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function dJ(t,e,n){const r=lJ(t,e)/1e3;return aJ(n==null?void 0:n.roundingMethod)(r)}function TS(t,e){const n=Ne(t),r=Ne(e),s=cu(n,r),i=Math.abs(oJ(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=cu(n,r)===-s,l=s*(i-+o);return l===0?0:l}function Dr(t){const e=Ne(t);return e.setDate(1),e.setHours(0,0,0,0),e}function N4(t){const e=Ne(t),n=pr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function RS(t,e){var l,c,u,d;const n=Cd(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ne(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function T4(t){return RS(t,{weekStartsOn:1})}const hJ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fJ=(t,e,n)=>{let r;const s=hJ[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Lx(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vJ={date:Lx({formats:mJ,defaultWidth:"full"}),time:Lx({formats:pJ,defaultWidth:"full"}),dateTime:Lx({formats:gJ,defaultWidth:"full"})},yJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xJ=(t,e,n,r)=>yJ[t];function Xd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const wJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_J={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},EJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NJ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},TJ={ordinalNumber:NJ,era:Xd({values:wJ,defaultWidth:"wide"}),quarter:Xd({values:_J,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xd({values:bJ,defaultWidth:"wide"}),day:Xd({values:CJ,defaultWidth:"wide"}),dayPeriod:Xd({values:SJ,defaultWidth:"wide",formattingValues:EJ,defaultFormattingWidth:"wide"})};function Zd(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?jJ(l,h=>h.test(o)):RJ(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function RJ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function jJ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function IJ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const PJ=/^(\d+)(th|st|nd|rd)?/i,kJ=/\d+/i,AJ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DJ={any:[/^b/i,/^(a|c)/i]},MJ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OJ={any:[/1/i,/2/i,/3/i,/4/i]},FJ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LJ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VJ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$J={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UJ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BJ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zJ={ordinalNumber:IJ({matchPattern:PJ,parsePattern:kJ,valueCallback:t=>parseInt(t,10)}),era:Zd({matchPatterns:AJ,defaultMatchWidth:"wide",parsePatterns:DJ,defaultParseWidth:"any"}),quarter:Zd({matchPatterns:MJ,defaultMatchWidth:"wide",parsePatterns:OJ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zd({matchPatterns:FJ,defaultMatchWidth:"wide",parsePatterns:LJ,defaultParseWidth:"any"}),day:Zd({matchPatterns:VJ,defaultMatchWidth:"wide",parsePatterns:$J,defaultParseWidth:"any"}),dayPeriod:Zd({matchPatterns:UJ,defaultMatchWidth:"any",parsePatterns:BJ,defaultParseWidth:"any"})},jS={code:"en-US",formatDistance:fJ,formatLong:vJ,formatRelative:xJ,localize:TJ,match:zJ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function HJ(t){const e=Ne(t);return Ds(e,N4(e))+1}function R4(t){const e=Ne(t),n=+Kl(e)-+ZZ(e);return Math.round(n/ES)+1}function j4(t,e){var d,h,f,g;const n=Ne(t),r=n.getFullYear(),s=Cd(),i=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=pr(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=Si(o,e),c=pr(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const u=Si(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function WJ(t,e){var l,c,u,d;const n=Cd(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=j4(t,e),i=pr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),Si(i,e)}function I4(t,e){const n=Ne(t),r=+Si(n,e)-+WJ(n,e);return Math.round(r/ES)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Po={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return bt(s,e.length)}},Cc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rI={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Po.y(t,e)},Y:function(t,e,n,r){const s=j4(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return bt(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):bt(i,e.length)},R:function(t,e){const n=E4(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Po.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=I4(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):bt(s,e.length)},I:function(t,e,n){const r=R4(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Po.d(t,e)},D:function(t,e,n){const r=HJ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return bt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return bt(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return bt(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Cc.noon:r===0?s=Cc.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Cc.evening:r>=12?s=Cc.afternoon:r>=4?s=Cc.morning:s=Cc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Po.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Po.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Po.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Po.s(t,e)},S:function(t,e){return Po.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return iI(r);case"XXXX":case"XX":return fl(r);case"XXXXX":case"XXX":default:return fl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return iI(r);case"xxxx":case"xx":return fl(r);case"xxxxx":case"xxx":default:return fl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sI(r,":");case"OOOO":default:return"GMT"+fl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sI(r,":");case"zzzz":default:return"GMT"+fl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return bt(r,e.length)}};function sI(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+bt(i,2)}function iI(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):fl(t,e)}function fl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=bt(Math.trunc(r/60),2),i=bt(r%60,2);return n+s+e+i}const oI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},P4=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},qJ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return oI(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",oI(r,e)).replace("{{time}}",P4(s,e))},GJ={p:P4,P:qJ},KJ=/^D+$/,YJ=/^Y+$/,QJ=["D","DD","YY","YYYY"];function XJ(t){return KJ.test(t)}function ZJ(t){return YJ.test(t)}function JJ(t,e,n){const r=eee(t,e,n);if(console.warn(r),QJ.includes(t))throw new RangeError(r)}function eee(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const tee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ree=/^'([^]*?)'?$/,see=/''/g,iee=/[a-zA-Z]/;function ot(t,e,n){var d,h,f,g,y,v,x,_;const r=Cd(),s=(n==null?void 0:n.locale)??r.locale??jS,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((_=(x=r.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??0,l=Ne(t);if(!sJ(l))throw new RangeError("Invalid time value");let c=e.match(nee).map(w=>{const b=w[0];if(b==="p"||b==="P"){const T=GJ[b];return T(w,s.formatLong)}return w}).join("").match(tee).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:oee(w)};if(rI[b])return{isToken:!0,value:w};if(b.match(iee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&ZJ(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&XJ(b))&&JJ(b,e,String(t));const T=rI[b[0]];return T(l,b,s.localize,u)}).join("")}function oee(t){const e=t.match(ree);return e?e[1].replace(see,"'"):t}function aee(t,e,n){const r=Cd(),s=(n==null?void 0:n.locale)??r.locale??jS,i=2520,o=cu(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=Ne(e),u=Ne(t)):(c=Ne(t),u=Ne(e));const d=dJ(u,c),h=(Yu(u)-Yu(c))/1e3,f=Math.round((d-h)/60);let g;if(f<2)return n!=null&&n.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<tI){const y=Math.round(f/60);return s.formatDistance("aboutXHours",y,l)}else{if(f<i)return s.formatDistance("xDays",1,l);if(f<Vp){const y=Math.round(f/tI);return s.formatDistance("xDays",y,l)}else if(f<Vp*2)return g=Math.round(f/Vp),s.formatDistance("aboutXMonths",g,l)}if(g=t0(u,c),g<12){const y=Math.round(f/Vp);return s.formatDistance("xMonths",y,l)}else{const y=g%12,v=Math.trunc(g/12);return y<3?s.formatDistance("aboutXYears",v,l):y<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function lee(t,e){return aee(t,rJ(t),e)}function cee(t){const e=Ne(t),n=e.getFullYear(),r=e.getMonth(),s=pr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function uee(t){return Math.trunc(+Ne(t)/1e3)}function dee(t){const e=Ne(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function hee(t,e){return iJ(dee(t),Dr(t),e)+1}function pb(t,e){const n=Ne(t),r=Ne(e);return n.getTime()>r.getTime()}function k4(t,e){const n=Ne(t),r=Ne(e);return+n<+r}function IS(t,e){const n=Ne(t),r=Ne(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function fee(t,e){const n=Ne(t),r=Ne(e);return n.getFullYear()===r.getFullYear()}function Vx(t,e){return cr(t,-e)}function $x(t,e){const n=Ne(t),r=n.getFullYear(),s=n.getDate(),i=pr(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=cee(i);return n.setMonth(e,Math.min(s,o)),n}function aI(t,e){const n=Ne(t);return n.setHours(e),n}function mee(t,e){const n=Ne(t);return n.setMilliseconds(e),n}function pee(t,e){const n=Ne(t);return n.setMinutes(e),n}function gee(t,e){const n=Ne(t);return n.setSeconds(e),n}function lI(t,e){const n=Ne(t);return isNaN(+n)?pr(t,NaN):(n.setFullYear(e),n)}function $a(){return Yl(Date.now())}const vee=()=>{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.1),e.frequency.setValueAtTime(1200,t.currentTime+.2),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)},hm=t=>{const{user:e}=rs(),n=Or(),{data:r=[],isLoading:s}=Gs({queryKey:["reminders",e==null?void 0:e.uid,t],queryFn:async()=>{if(!e)return[];const f=Ct(je,"users",e.uid,"reminders"),g=t?Ci(f,Nf("dog","==",t)):f;return(await pn(g)).docs.map(x=>({...x.data(),id:x.id})).sort((x,_)=>new Date(x.due).getTime()-new Date(_.due).getTime())},enabled:!!e}),i=Gt({mutationFn:f=>{if(!e)throw new Error("User not authenticated");const g={...f,status:"upcoming"};return wd(Ct(je,"users",e.uid,"reminders"),g)},onSuccess:(f,g)=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]}),ne.success(`Reminder for ${g.vaccine} has been set!`)},onError:f=>{ne.error(f.message||"Failed to add reminder.")}}),o=Gt({mutationFn:({reminderId:f,dataToUpdate:g})=>{if(!e)throw new Error("User not authenticated");const y=sn(je,"users",e.uid,"reminders",f);return Va(y,g)},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:f=>{ne.error(f.message||"Failed to update reminder.")}}),l=Gt({mutationFn:f=>{if(!e)throw new Error("User not authenticated");const g=sn(je,"users",e.uid,"reminders",f);return cm(g)},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:f=>{ne.error(f.message||"Failed to delete reminder.")}});return{reminders:r,isLoadingReminders:s,addReminder:({dog:f,vaccine:g,due:y})=>{i.mutate({dog:f,vaccine:g,due:ot(y,"MMMM d, yyyy")})},markReminderAsComplete:f=>{o.mutate({reminderId:f,dataToUpdate:{status:"completed",completedDate:ot(new Date,"MMMM d, yyyy")}},{onSuccess:()=>{const g=r.find(y=>y.id===f);g&&(vee(),ne.success(`Marked ${g.vaccine} for ${g.dog} as complete!`))}})},deleteReminder:f=>{const g=r.find(y=>y.id===f);l.mutate(f,{onSuccess:()=>{g&&ne.error(`Deleted reminder for ${g.vaccine}.`)}})},editReminder:(f,g)=>{o.mutate({reminderId:f,dataToUpdate:{vaccine:g.vaccine,due:ot(g.due,"MMMM d, yyyy")}},{onSuccess:()=>{ne.success(`Updated reminder for ${g.vaccine}.`)}})}}},Sd=()=>{const{user:t}=rs(),e=async()=>{if(!t)return[];const i=Ct(je,"users",t.uid,"transactions"),o=Ci(i,lm("createdAt","desc"));return(await pn(o)).docs.map(c=>({id:c.id,...c.data()}))},{data:n,isLoading:r,error:s}=Gs({queryKey:["transactions",t==null?void 0:t.uid],queryFn:e,enabled:!!t});return{transactions:n,isLoading:r,error:s}},Ye=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:te("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ye.displayName="Card";const St=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:te("flex flex-col space-y-1.5 p-6",t),...e}));St.displayName="CardHeader";const Rt=p.forwardRef(({className:t,...e},n)=>a.jsx("h3",{ref:n,className:te("text-2xl font-semibold leading-none tracking-tight",t),...e}));Rt.displayName="CardTitle";const Yc=p.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:te("text-sm text-muted-foreground",t),...e}));Yc.displayName="CardDescription";const it=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:te("p-6 pt-0",t),...e}));it.displayName="CardContent";const gb=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:te("flex items-center p-6 pt-0",t),...e}));gb.displayName="CardFooter";var Ux=0;function n0(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cI()),document.body.insertAdjacentElement("beforeend",t[1]??cI()),Ux++,()=>{Ux===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ux--}},[])}function cI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bx="focusScope.autoFocusOnMount",zx="focusScope.autoFocusOnUnmount",uI={bubbles:!1,cancelable:!0},yee="FocusScope",fm=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=Ut(s),d=Ut(i),h=p.useRef(null),f=He(e,v=>c(v)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(b){if(g.paused||!l)return;const T=b.target;l.contains(T)?h.current=T:Ao(h.current,{select:!0})},x=function(b){if(g.paused||!l)return;const T=b.relatedTarget;T!==null&&(l.contains(T)||Ao(h.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const I of b)I.removedNodes.length>0&&Ao(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const w=new MutationObserver(_);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),w.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){hI.add(g);const v=document.activeElement;if(!l.contains(v)){const _=new CustomEvent(Bx,uI);l.addEventListener(Bx,u),l.dispatchEvent(_),_.defaultPrevented||(xee(See(A4(l)),{select:!0}),document.activeElement===v&&Ao(l))}return()=>{l.removeEventListener(Bx,u),setTimeout(()=>{const _=new CustomEvent(zx,uI);l.addEventListener(zx,d),l.dispatchEvent(_),_.defaultPrevented||Ao(v??document.body,{select:!0}),l.removeEventListener(zx,d),hI.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const w=v.currentTarget,[b,T]=wee(w);b&&T?!v.shiftKey&&_===T?(v.preventDefault(),n&&Ao(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&Ao(T,{select:!0})):_===w&&v.preventDefault()}},[n,r,g.paused]);return a.jsx(Ce.div,{tabIndex:-1,...o,ref:f,onKeyDown:y})});fm.displayName=yee;function xee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ao(r,{select:e}),document.activeElement!==n)return}function wee(t){const e=A4(t),n=dI(e,t),r=dI(e.reverse(),t);return[n,r]}function A4(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dI(t,e){for(const n of t)if(!_ee(n,{upTo:e}))return n}function _ee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bee(t){return t instanceof HTMLInputElement&&"select"in t}function Ao(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bee(t)&&e&&t.select()}}var hI=Cee();function Cee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=fI(t,e),t.unshift(e)},remove(e){var n;t=fI(t,e),(n=t[0])==null||n.resume()}}}function fI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function See(t){return t.filter(e=>e.tagName!=="A")}var Eee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Sc=new WeakMap,$p=new WeakMap,Up={},Hx=0,D4=function(t){return t&&(t.host||D4(t.parentNode))},Nee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=D4(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Tee=function(t,e,n,r){var s=Nee(e,Array.isArray(t)?t:[t]);Up[n]||(Up[n]=new WeakMap);var i=Up[n],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(r),y=g!==null&&g!=="false",v=(Sc.get(f)||0)+1,x=(i.get(f)||0)+1;Sc.set(f,v),i.set(f,x),o.push(f),v===1&&y&&$p.set(f,!0),x===1&&f.setAttribute(n,"true"),y||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return d(e),l.clear(),Hx++,function(){o.forEach(function(h){var f=Sc.get(h)-1,g=i.get(h)-1;Sc.set(h,f),i.set(h,g),f||($p.has(h)||h.removeAttribute(r),$p.delete(h)),g||h.removeAttribute(n)}),Hx--,Hx||(Sc=new WeakMap,Sc=new WeakMap,$p=new WeakMap,Up={})}},mm=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=Eee(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),Tee(r,s,n,"aria-hidden")):function(){return null}},Vh="right-scroll-bar-position",$h="width-before-scroll-bar",Ree="with-scroll-bars-hidden",jee="--removed-body-scroll-bar-size";function Wx(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Iee(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var Pee=typeof window<"u"?p.useLayoutEffect:p.useEffect,mI=new WeakMap;function M4(t,e){var n=Iee(null,function(r){return t.forEach(function(s){return Wx(s,r)})});return Pee(function(){var r=mI.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Wx(l,null)}),i.forEach(function(l){s.has(l)||Wx(l,o)})}mI.set(n,t)},[t]),n}function kee(t){return t}function Aee(t,e){e===void 0&&(e=kee);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function O4(t){t===void 0&&(t={});var e=Aee(null);return e.options=Jn({async:!0,ssr:!1},t),e}var F4=function(t){var e=t.sideCar,n=md(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Jn({},n))};F4.isSideCarExport=!0;function L4(t,e){return t.useMedium(e),F4}var V4=O4(),qx=function(){},r0=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:qx,onWheelCapture:qx,onTouchMoveCapture:qx}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,y=t.inert,v=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,w=t.gapMode,b=md(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=f,I=M4([n,e]),O=Jn(Jn({},b),s);return p.createElement(p.Fragment,null,d&&p.createElement(T,{sideCar:V4,removeScrollBar:u,shards:h,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?p.cloneElement(p.Children.only(l),Jn(Jn({},O),{ref:I})):p.createElement(_,Jn({},O,{className:c,ref:I}),l))});r0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};r0.classNames={fullWidth:$h,zeroRight:Vh};var Dee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Dee();return e&&t.setAttribute("nonce",e),t}function Oee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Fee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Lee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Mee())&&(Oee(e,n),Fee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vee=function(){var t=Lee();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},PS=function(){var t=Vee(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},$ee={left:0,top:0,right:0,gap:0},Gx=function(t){return parseInt(t||"",10)||0},Uee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Gx(n),Gx(r),Gx(s)]},Bee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $ee;var e=Uee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zee=PS(),uu="data-scroll-locked",Hee=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ree,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(uu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vh,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat($h,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Vh," .").concat(Vh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat($h," .").concat($h,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(uu,`] {
    `).concat(jee,": ").concat(l,`px;
  }
`)},pI=function(){var t=parseInt(document.body.getAttribute(uu)||"0",10);return isFinite(t)?t:0},Wee=function(){p.useEffect(function(){return document.body.setAttribute(uu,(pI()+1).toString()),function(){var t=pI()-1;t<=0?document.body.removeAttribute(uu):document.body.setAttribute(uu,t.toString())}},[])},$4=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;Wee();var i=p.useMemo(function(){return Bee(s)},[s]);return p.createElement(zee,{styles:Hee(i,!e,s,n?"":"!important")})},vb=!1;if(typeof window<"u")try{var Bp=Object.defineProperty({},"passive",{get:function(){return vb=!0,!0}});window.addEventListener("test",Bp,Bp),window.removeEventListener("test",Bp,Bp)}catch{vb=!1}var Ec=vb?{passive:!1}:!1,qee=function(t){return t.tagName==="TEXTAREA"},U4=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qee(t)&&n[e]==="visible")},Gee=function(t){return U4(t,"overflowY")},Kee=function(t){return U4(t,"overflowX")},gI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=B4(t,r);if(s){var i=z4(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Yee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},B4=function(t,e){return t==="v"?Gee(e):Kee(e)},z4=function(t,e){return t==="v"?Yee(e):Qee(e)},Xee=function(t,e){return t==="h"&&e==="rtl"?-1:1},Zee=function(t,e,n,r,s){var i=Xee(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var g=z4(t,l),y=g[0],v=g[1],x=g[2],_=v-x-i*y;(y||_)&&B4(t,l)&&(h+=_,f+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!s)||!d&&(Math.abs(f)<1||!s))&&(u=!0),u},zp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vI=function(t){return[t.deltaX,t.deltaY]},yI=function(t){return t&&"current"in t?t.current:t},Jee=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ete=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tte=0,Nc=[];function nte(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(tte++)[0],i=p.useState(PS)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=PD([t.lockRef.current],(t.shards||[]).map(yI),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=zp(v),w=n.current,b="deltaX"in v?v.deltaX:w[0]-_[0],T="deltaY"in v?v.deltaY:w[1]-_[1],I,O=v.target,j=Math.abs(b)>Math.abs(T)?"h":"v";if("touches"in v&&j==="h"&&O.type==="range")return!1;var S=gI(j,O);if(!S)return!0;if(S?I=j:(I=j==="v"?"h":"v",S=gI(j,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(b||T)&&(r.current=I),!I)return!0;var N=r.current||I;return Zee(N,x,v,N==="h"?b:T,!0)},[]),c=p.useCallback(function(v){var x=v;if(!(!Nc.length||Nc[Nc.length-1]!==i)){var _="deltaY"in x?vI(x):zp(x),w=e.current.filter(function(I){return I.name===x.type&&(I.target===x.target||x.target===I.shadowParent)&&Jee(I.delta,_)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(yI).filter(Boolean).filter(function(I){return I.contains(x.target)}),T=b.length>0?l(x,b[0]):!o.current.noIsolation;T&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(v,x,_,w){var b={name:v,delta:x,target:_,should:w,shadowParent:rte(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(T){return T!==b})},1)},[]),d=p.useCallback(function(v){n.current=zp(v),r.current=void 0},[]),h=p.useCallback(function(v){u(v.type,vI(v),v.target,l(v,t.lockRef.current))},[]),f=p.useCallback(function(v){u(v.type,zp(v),v.target,l(v,t.lockRef.current))},[]);p.useEffect(function(){return Nc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Ec),document.addEventListener("touchmove",c,Ec),document.addEventListener("touchstart",d,Ec),function(){Nc=Nc.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Ec),document.removeEventListener("touchmove",c,Ec),document.removeEventListener("touchstart",d,Ec)}},[]);var g=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:ete(s)}):null,g?p.createElement($4,{gapMode:t.gapMode}):null)}function rte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ste=L4(V4,nte);var pm=p.forwardRef(function(t,e){return p.createElement(r0,Jn({},t,{ref:e,sideCar:ste}))});pm.classNames=r0.classNames;var kS="Popover",[H4,que]=wr(kS,[qa]),gm=qa(),[ite,Ja]=H4(kS),W4=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,l=gm(e),c=p.useRef(null),[u,d]=p.useState(!1),[h=!1,f]=$s({prop:r,defaultProp:s,onChange:i});return a.jsx(dC,{...l,children:a.jsx(ite,{scope:e,contentId:Fs(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};W4.displayName=kS;var q4="PopoverAnchor",ote=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ja(q4,n),i=gm(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return p.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(Yf,{...i,...r,ref:e})});ote.displayName=q4;var G4="PopoverTrigger",K4=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ja(G4,n),i=gm(n),o=He(e,s.triggerRef),l=a.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":J4(s.open),...r,ref:o,onClick:ie(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:a.jsx(Yf,{asChild:!0,...i,children:l})});K4.displayName=G4;var AS="PopoverPortal",[ate,lte]=H4(AS,{forceMount:void 0}),Y4=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Ja(AS,e);return a.jsx(ate,{scope:e,forceMount:n,children:a.jsx(En,{present:n||i.open,children:a.jsx(id,{asChild:!0,container:s,children:r})})})};Y4.displayName=AS;var Xu="PopoverContent",Q4=p.forwardRef((t,e)=>{const n=lte(Xu,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Ja(Xu,t.__scopePopover);return a.jsx(En,{present:r||i.open,children:i.modal?a.jsx(cte,{...s,ref:e}):a.jsx(ute,{...s,ref:e})})});Q4.displayName=Xu;var cte=p.forwardRef((t,e)=>{const n=Ja(Xu,t.__scopePopover),r=p.useRef(null),s=He(e,r),i=p.useRef(!1);return p.useEffect(()=>{const o=r.current;if(o)return mm(o)},[]),a.jsx(pm,{as:wi,allowPinchZoom:!0,children:a.jsx(X4,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),ute=p.forwardRef((t,e)=>{const n=Ja(Xu,t.__scopePopover),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(X4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),X4=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=Ja(Xu,n),g=gm(n);return n0(),a.jsx(fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:a.jsx(Sy,{"data-state":J4(f.open),role:"dialog",id:f.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Z4="PopoverClose",dte=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ja(Z4,n);return a.jsx(Ce.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});dte.displayName=Z4;var hte="PopoverArrow",fte=p.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=gm(n);return a.jsx(Ey,{...s,...r,ref:e})});fte.displayName=hte;function J4(t){return t?"open":"closed"}var mte=W4,pte=K4,gte=Y4,eF=Q4;const vm=mte,ym=pte,Ed=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>a.jsx(gte,{children:a.jsx(eF,{ref:s,align:e,sideOffset:n,className:te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Ed.displayName=eF.displayName;var vte=p.createContext(void 0);function Nd(t){const e=p.useContext(vte);return t||e||"ltr"}function yb(t,[e,n]){return Math.min(n,Math.max(e,t))}function yte(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var DS="ScrollArea",[tF,Gue]=wr(DS),[xte,_s]=tF(DS),nF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[g,y]=p.useState(null),[v,x]=p.useState(null),[_,w]=p.useState(0),[b,T]=p.useState(0),[I,O]=p.useState(!1),[j,S]=p.useState(!1),N=He(e,k=>c(k)),P=Nd(s);return a.jsx(xte,{scope:n,type:r,dir:P,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:y,scrollbarXEnabled:I,onScrollbarXEnabledChange:O,scrollbarY:v,onScrollbarYChange:x,scrollbarYEnabled:j,onScrollbarYEnabledChange:S,onCornerWidthChange:w,onCornerHeightChange:T,children:a.jsx(Ce.div,{dir:P,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":b+"px",...t.style}})})});nF.displayName=DS;var rF="ScrollAreaViewport",sF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:s,nonce:i,...o}=t,l=_s(rF,n),c=p.useRef(null),u=He(e,c,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:i}),a.jsx(Ce.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:jte({asChild:s,children:r},d=>a.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});sF.displayName=rF;var Ii="ScrollAreaScrollbar",MS=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_s(Ii,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return p.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(wte,{...r,ref:e,forceMount:n}):s.type==="scroll"?a.jsx(_te,{...r,ref:e,forceMount:n}):s.type==="auto"?a.jsx(iF,{...r,ref:e,forceMount:n}):s.type==="always"?a.jsx(OS,{...r,ref:e}):null});MS.displayName=Ii;var wte=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_s(Ii,t.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(En,{present:n||i,children:a.jsx(iF,{"data-state":i?"visible":"hidden",...r,ref:e})})}),_te=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=_s(Ii,t.__scopeScrollArea),i=t.orientation==="horizontal",o=i0(()=>c("SCROLL_END"),100),[l,c]=yte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),p.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const g=u[d];h!==g&&(c("SCROLL"),o()),h=g};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,i,c,o]),a.jsx(En,{present:n||l!=="hidden",children:a.jsx(OS,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ie(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ie(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),iF=p.forwardRef((t,e)=>{const n=_s(Ii,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=p.useState(!1),l=t.orientation==="horizontal",c=i0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Zu(n.viewport,c),Zu(n.content,c),a.jsx(En,{present:r||i,children:a.jsx(OS,{"data-state":i?"visible":"hidden",...s,ref:e})})}),OS=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=_s(Ii,t.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=uF(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>i.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,g){return Tte(f,o.current,l,g)}return n==="horizontal"?a.jsx(bte,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollLeft,g=xI(f,l,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollLeft=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollLeft=h(f,s.dir))}}):n==="vertical"?a.jsx(Cte,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const f=s.viewport.scrollTop,g=xI(f,l);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{s.viewport&&(s.viewport.scrollTop=f)},onDragScroll:f=>{s.viewport&&(s.viewport.scrollTop=h(f))}}):null}),bte=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=_s(Ii,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=He(e,c,i.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(aF,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":s0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),hF(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ev(o.paddingLeft),paddingEnd:Ev(o.paddingRight)}})}})}),Cte=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=_s(Ii,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=He(e,c,i.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(aF,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":s0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const f=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),hF(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ev(o.paddingTop),paddingEnd:Ev(o.paddingBottom)}})}})}),[Ste,oF]=tF(Ii),aF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,g=_s(Ii,n),[y,v]=p.useState(null),x=He(e,N=>v(N)),_=p.useRef(null),w=p.useRef(""),b=g.viewport,T=r.content-r.viewport,I=Ut(d),O=Ut(c),j=i0(h,10);function S(N){if(_.current){const P=N.clientX-_.current.left,k=N.clientY-_.current.top;u({x:P,y:k})}}return p.useEffect(()=>{const N=P=>{const k=P.target;(y==null?void 0:y.contains(k))&&I(P,T)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[b,y,T,I]),p.useEffect(O,[r,O]),Zu(y,j),Zu(g.content,j),a.jsx(Ste,{scope:n,scrollbar:y,hasThumb:s,onThumbChange:Ut(i),onThumbPointerUp:Ut(o),onThumbPositionChange:O,onThumbPointerDown:Ut(l),children:a.jsx(Ce.div,{...f,ref:x,style:{position:"absolute",...f.style},onPointerDown:ie(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),_.current=y.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(N))}),onPointerMove:ie(t.onPointerMove,S),onPointerUp:ie(t.onPointerUp,N=>{const P=N.target;P.hasPointerCapture(N.pointerId)&&P.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=w.current,g.viewport&&(g.viewport.style.scrollBehavior=""),_.current=null})})})}),Sv="ScrollAreaThumb",lF=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=oF(Sv,t.__scopeScrollArea);return a.jsx(En,{present:n||s.hasThumb,children:a.jsx(Ete,{ref:e,...r})})}),Ete=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=_s(Sv,n),o=oF(Sv,n),{onThumbPositionChange:l}=o,c=He(e,h=>o.onThumbChange(h)),u=p.useRef(),d=i0(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=i.viewport;if(h){const f=()=>{if(d(),!u.current){const g=Rte(h,l);u.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,d,l]),a.jsx(Ce.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ie(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),y=h.clientX-g.left,v=h.clientY-g.top;o.onThumbPointerDown({x:y,y:v})}),onPointerUp:ie(t.onPointerUp,o.onThumbPointerUp)})});lF.displayName=Sv;var FS="ScrollAreaCorner",cF=p.forwardRef((t,e)=>{const n=_s(FS,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Nte,{...t,ref:e}):null});cF.displayName=FS;var Nte=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=_s(FS,n),[i,o]=p.useState(0),[l,c]=p.useState(0),u=!!(i&&l);return Zu(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Zu(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Ce.div,{...r,ref:e,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Ev(t){return t?parseInt(t,10):0}function uF(t,e){const n=t/e;return isNaN(n)?0:n}function s0(t){const e=uF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Tte(t,e,n,r="ltr"){const s=s0(n),i=s/2,o=e||i,l=s-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return dF([c,u],h)(t)}function xI(t,e,n="ltr"){const r=s0(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,l=i-r,c=n==="ltr"?[0,o]:[o*-1,0],u=yb(t,c);return dF([0,o],[0,l])(u)}function dF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hF(t,e){return t>0&&t<e}var Rte=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,l=n.top!==i.top;(o||l)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function i0(t,e){const n=Ut(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Zu(t,e){const n=Ut(e);Sn(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}function jte(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const s=p.Children.only(r);return p.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var fF=nF,Ite=sF,Pte=cF;const LS=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(fF,{ref:r,className:te("relative overflow-hidden",t),...n,children:[a.jsx(Ite,{className:"h-full w-full rounded-[inherit]",children:e}),a.jsx(mF,{}),a.jsx(Pte,{})]}));LS.displayName=fF.displayName;const mF=p.forwardRef(({className:t,orientation:e="vertical",...n},r)=>a.jsx(MS,{ref:r,orientation:e,className:te("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:a.jsx(lF,{className:"relative flex-1 rounded-full bg-border"})}));mF.displayName=MS.displayName;const kte=()=>{const{reminders:t}=hm(),{transactions:e}=Sd(),n=p.useMemo(()=>{const i=$a(),o=[];return t.forEach(l=>{if(l.status!=="upcoming"||(e==null?void 0:e.some(h=>h.reminderId===l.id&&h.status==="successful")))return;const u=new Date(l.due),d=Ca(u,i);if(d<0){const h=Math.abs(d);o.push({id:`overdue-${l.id}`,type:"overdue",title:"Vaccination Overdue!",message:`${l.vaccine} for ${l.dog} is ${h} day${h>1?"s":""} overdue`,priority:"high",timestamp:u,reminderId:l.id,dogName:l.dog,vaccine:l.vaccine,isRead:!1})}else d<=7&&o.push({id:`due-soon-${l.id}`,type:"due-soon",title:"Vaccination Due Soon",message:`${l.vaccine} for ${l.dog} is due in ${d} day${d!==1?"s":""}`,priority:d<=3?"high":"medium",timestamp:u,reminderId:l.id,dogName:l.dog,vaccine:l.vaccine,isRead:!1})}),e==null||e.slice(0,3).forEach(l=>{if(l.status==="successful"&&l.createdAt){const c=l.createdAt.toDate();Ca(i,c)<=7&&o.push({id:`booking-${l.id}`,type:"booking-confirmed",title:"Booking Confirmed",message:`Home vaccination booked successfully - ${l.amount}`,priority:"medium",timestamp:c,isRead:!1})}}),o.sort((l,c)=>{const u={high:0,medium:1,low:2};return u[l.priority]!==u[c.priority]?u[l.priority]-u[c.priority]:c.timestamp.getTime()-l.timestamp.getTime()})},[t,e]),r=n.filter(i=>!i.isRead).length,s=n.filter(i=>i.priority==="high"&&!i.isRead).length;return{notifications:n,unreadCount:r,highPriorityCount:s,hasOverdue:n.some(i=>i.type==="overdue"),hasDueSoon:n.some(i=>i.type==="due-soon")}},Ate=()=>{const{notifications:t,unreadCount:e,highPriorityCount:n,hasOverdue:r}=kte(),[s,i]=p.useState(!1),o=Fr(),l=h=>{switch(h){case"overdue":return a.jsx(ZU,{className:"h-4 w-4 text-red-400"});case"due-soon":return a.jsx(Ll,{className:"h-4 w-4 text-yellow-400"});case"booking-confirmed":return a.jsx(Fl,{className:"h-4 w-4 text-green-400"});default:return a.jsx(Rh,{className:"h-4 w-4 text-blue-400"})}},c=(h,f)=>h==="overdue"?"border-l-red-500 bg-red-500/5":h==="due-soon"&&f==="high"?"border-l-yellow-500 bg-yellow-500/5":h==="due-soon"?"border-l-yellow-400 bg-yellow-400/5":h==="booking-confirmed"?"border-l-green-500 bg-green-500/5":"border-l-blue-500 bg-blue-500/5",u=h=>{h.reminderId&&h.dogName?o(`/my-dogs/${encodeURIComponent(h.dogName)}`):o("/dashboard"),i(!1)},d=()=>r?"text-red-400 animate-pulse":n>0?"text-yellow-400":e>0?"text-purple-400":"text-slate-400";return a.jsxs(vm,{open:s,onOpenChange:i,children:[a.jsx(ym,{asChild:!0,children:a.jsxs(ee,{size:"icon",variant:"ghost",className:"relative text-white hover:bg-white/10",children:[a.jsx(Rh,{className:te("h-5 w-5 transition-colors",d())}),e>0&&a.jsx("div",{className:te("absolute -top-1 -right-1 h-5 w-5 rounded-full flex items-center justify-center text-xs font-bold text-white",r?"bg-red-500 animate-pulse":n>0?"bg-yellow-500":"bg-purple-500"),children:e>99?"99+":e})]})}),a.jsx(Ed,{className:"w-80 p-0 bg-slate-800 border-slate-700",align:"end",sideOffset:8,children:a.jsxs(Ye,{className:"border-0 bg-transparent",children:[a.jsx(St,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Rt,{className:"text-white text-lg",children:"Notifications"}),a.jsxs("div",{className:"flex items-center gap-2",children:[e>0&&a.jsxs(Ke,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:[e," new"]}),a.jsx(ee,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-white",onClick:()=>i(!1),children:a.jsx(cc,{className:"h-4 w-4"})})]})]})}),a.jsxs(it,{className:"p-0",children:[t.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Rh,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"No notifications"}),a.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"You're all caught up!"})]}):a.jsx(LS,{className:"h-80",children:a.jsx("div",{className:"space-y-1 p-2",children:t.map(h=>a.jsx("div",{className:te("p-3 rounded-lg border-l-4 cursor-pointer hover:bg-slate-700/50 transition-colors",c(h.type,h.priority)),onClick:()=>u(h),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l(h.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white font-medium text-sm",children:h.title}),a.jsx("p",{className:"text-slate-300 text-xs mt-1 line-clamp-2",children:h.message}),a.jsx("p",{className:"text-slate-500 text-xs mt-2",children:lee(h.timestamp,{addSuffix:!0})})]}),h.priority==="high"&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})})]})},h.id))})}),t.length>0&&a.jsx("div",{className:"p-3 border-t border-slate-700",children:a.jsx(ee,{variant:"ghost",size:"sm",className:"w-full text-purple-300 hover:text-white hover:bg-purple-500/20",onClick:()=>{o("/dashboard"),i(!1)},children:"View All Reminders"})})]})]})})]})},Dte=t=>t!=null&&t.displayName?t.displayName:t!=null&&t.phoneNumber?`User...${t.phoneNumber.slice(-4)}`:"Pet Parent",Mte=(t,e)=>{const n=$a();let r=0;return t.forEach(s=>{if(s.status==="upcoming"){if(e==null?void 0:e.some(l=>l.reminderId===s.id&&l.status==="successful"))return;Ca(new Date(s.due),n)<0&&r++}}),r>0?{message:`${r} vaccination${r>1?"s are":" is"} overdue`,color:"text-red-400"}:{message:"All vaccinations are up to date",color:"text-green-400"}},Ote=(t,e)=>{if(!t)return null;if(e==null?void 0:e.some(s=>s.reminderId===t.id&&s.status==="successful"))return{statusText:"Booked & Confirmed",actionText:"View Booking",colorClass:"text-green-400",buttonVariant:"outline"};const r=Ca(new Date(t.due),$a());return r<0?{statusText:`${Math.abs(r)} day${Math.abs(r)>1?"s":""} Overdue`,actionText:"Book Now (Urgent)",colorClass:"text-red-400",buttonVariant:"default"}:{statusText:`Due in ${r} day${r!==1?"s":""}`,actionText:"Book Now",colorClass:"text-yellow-400",buttonVariant:"default"}},Fte=({dog:t,onClick:e})=>a.jsx("div",{onClick:e,className:"flex flex-col items-center gap-2 flex-shrink-0 w-24 cursor-pointer group",children:a.jsxs("div",{className:"relative h-24 w-24",children:[a.jsxs(_d,{className:"h-full w-full border-2 border-slate-700/80 group-hover:border-purple-500 transition-all duration-300 rounded-2xl",children:[a.jsx(SS,{src:t.imageUrl,alt:t.name,className:"object-cover"}),a.jsx(bd,{className:"bg-purple-600 text-white font-bold rounded-2xl",children:t.name.charAt(0)})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent rounded-2xl pointer-events-none"}),a.jsx("p",{className:"absolute bottom-2 left-0 right-0 text-white text-sm font-semibold text-center truncate px-1 pointer-events-none",children:t.name})]})}),Lte=({onClick:t})=>a.jsx("div",{onClick:t,className:"flex flex-col items-center justify-center gap-2 flex-shrink-0 w-24 h-24 cursor-pointer group",children:a.jsxs("div",{className:"h-full w-full rounded-2xl border-2 border-dashed border-slate-600 flex flex-col items-center justify-center bg-slate-800/50 group-hover:border-purple-500 group-hover:bg-slate-800/80 transition-all duration-300",children:[a.jsx(xy,{className:"h-8 w-8 text-slate-500 group-hover:text-purple-400 transition-colors"}),a.jsx("p",{className:"text-slate-400 text-xs font-medium mt-1",children:"Add Pet"})]})}),wI=({children:t,className:e=""})=>a.jsx("div",{className:`relative p-[2px] rounded-2xl bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 ${e}`,children:a.jsx("div",{className:"bg-slate-900/90 backdrop-blur-sm rounded-[14px] h-full w-full p-4",children:t})}),Hp=({children:t,className:e="",onClick:n})=>a.jsx("div",{className:`bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-4 ${n?"cursor-pointer hover:border-slate-600 transition-colors":""} ${e}`,onClick:n,children:t}),Vte=()=>{var y;const{user:t}=rs(),{dogs:e,isLoading:n}=dm(),{reminders:r,isLoading:s}=hm(),{transactions:i,isLoading:o}=Sd(),l=Fr(),c=n||s||o,{nextReminder:u,recentTransaction:d,healthStatus:h,stats:f}=p.useMemo(()=>{const v=r.filter(b=>b.status==="upcoming").sort((b,T)=>new Date(b.due).getTime()-new Date(T.due).getTime()),x=i==null?void 0:i.sort((b,T)=>T.createdAt.toMillis()-b.createdAt.toMillis())[0],_=Mte(r,i),w={totalPets:e.length,completedVaccinations:r.filter(b=>b.status==="completed").length};return{nextReminder:v[0],recentTransaction:x,healthStatus:_,stats:w}},[r,i,e]),g=p.useMemo(()=>Ote(u,i),[u,i]);return c?a.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:a.jsx("p",{children:"Loading dashboard..."})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-black to-slate-900 text-white pb-24",children:[a.jsx("header",{className:"px-5 pt-10 pb-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-sm",children:"Welcome back,"}),a.jsx("h1",{className:"text-3xl font-bold text-white -mt-1",children:Dte(t)}),a.jsx("p",{className:`text-sm mt-1 font-medium ${h.color}`,children:h.message})]}),a.jsx(Ate,{})]})}),a.jsxs("main",{className:"space-y-8 px-5",children:[a.jsx("section",{children:u&&g?a.jsxs(wI,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(_d,{className:"h-14 w-14 border-2 border-slate-700",children:[a.jsx(SS,{src:(y=e.find(v=>v.name===u.dog))==null?void 0:y.imageUrl}),a.jsx(bd,{children:u.dog.charAt(0)})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-slate-400 text-sm",children:[u.dog,"'s Next Vaccination"]}),a.jsx("p",{className:"text-white font-bold text-lg -mt-1",children:u.vaccine})]})]}),a.jsxs("div",{className:"flex items-center justify-between bg-slate-800/70 p-3 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ll,{className:`h-5 w-5 ${g.colorClass}`}),a.jsx("span",{className:`font-semibold ${g.colorClass}`,children:g.statusText})]}),a.jsx("p",{className:"text-slate-300",children:ot(new Date(u.due),"MMM d, yyyy")})]}),a.jsxs(ee,{onClick:()=>l("/dashboard"),size:"lg",className:"w-full font-bold text-base bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-[0_0_20px_rgba(192,38,211,0.5)] transition-shadow duration-300",children:[g.actionText,a.jsx(t2,{className:"h-5 w-5 ml-2"})]})]}):a.jsx(wI,{children:a.jsxs("div",{className:"text-center py-4",children:[a.jsx(Fl,{className:"h-12 w-12 mx-auto text-green-400 mb-2"}),a.jsx("h3",{className:"text-white text-lg font-semibold",children:"All Caught Up!"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"No upcoming vaccinations found."})]})})}),a.jsxs("section",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold text-white",children:"My Pets"}),a.jsx(Hf,{className:"h-5 w-5 text-slate-500"})]}),e.length>0?a.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2 -mx-5 px-5 scrollbar-hide",children:[e.map(v=>a.jsx(Fte,{dog:v,onClick:()=>l(`/my-dogs/${v.name}`)},v.id)),a.jsx(Lte,{onClick:()=>l("/my-dogs")})]}):a.jsxs(Hp,{className:"text-center",children:[a.jsx(Ta,{className:"h-8 w-8 mx-auto text-purple-400 mb-2"}),a.jsx("h3",{className:"text-white font-semibold",children:"Welcome to GVAX!"}),a.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add your pet to start tracking their health."}),a.jsx(ee,{onClick:()=>l("/my-dogs"),className:"bg-purple-600 hover:bg-purple-700",children:"Add Your First Pet"})]})]}),d&&a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Booking"}),a.jsxs(Hp,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-3 rounded-full bg-green-500/10",children:a.jsx(Ou,{className:"h-5 w-5 text-green-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium",children:d.service}),a.jsx("p",{className:"text-slate-400 text-xs",children:ot(d.createdAt.toDate(),"MMM d, yyyy")})]}),a.jsx(Ke,{className:`text-xs ${d.status==="successful"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:d.status==="successful"?"Paid":"Failed"})]}),a.jsxs("div",{className:"border-t border-slate-700/50 pt-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-slate-400 text-sm",children:"Amount Paid"}),a.jsxs("span",{className:"text-white font-bold flex items-center",children:[a.jsx(Bt,{className:"h-4 w-4 mr-0.5"}),d.amount]})]})]})]}),a.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Hp,{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:f.totalPets}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Total Pets"})]}),a.jsxs(Hp,{className:"text-center",children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:f.completedVaccinations}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Completed"})]})]})]})]})};function $te(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...y}=h,v=(f==null?void 0:f[t][c])||l,x=p.useMemo(()=>y,Object.values(y));return a.jsx(v.Provider,{value:x,children:g})}function d(h,f){const g=(f==null?void 0:f[t][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,Ute(s,...e)]}function Ute(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Kx="rovingFocusGroup.onEntryFocus",Bte={bubbles:!1,cancelable:!0},o0="RovingFocusGroup",[xb,pF,zte]=py(o0),[Hte,Td]=$te(o0,[zte]),[Wte,qte]=Hte(o0),gF=p.forwardRef((t,e)=>a.jsx(xb.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(xb.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Gte,{...t,ref:e})})}));gF.displayName=o0;var Gte=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=p.useRef(null),g=He(e,f),y=Nd(i),[v=null,x]=$s({prop:o,defaultProp:l,onChange:c}),[_,w]=p.useState(!1),b=Ut(u),T=pF(n),I=p.useRef(!1),[O,j]=p.useState(0);return p.useEffect(()=>{const S=f.current;if(S)return S.addEventListener(Kx,b),()=>S.removeEventListener(Kx,b)},[b]),a.jsx(Wte,{scope:n,orientation:r,dir:y,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(S=>x(S),[x]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>j(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>j(S=>S-1),[]),children:a.jsx(Ce.div,{tabIndex:_||O===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:ie(t.onMouseDown,()=>{I.current=!0}),onFocus:ie(t.onFocus,S=>{const N=!I.current;if(S.target===S.currentTarget&&N&&!_){const P=new CustomEvent(Kx,Bte);if(S.currentTarget.dispatchEvent(P),!P.defaultPrevented){const k=T().filter(q=>q.focusable),D=k.find(q=>q.active),R=k.find(q=>q.id===v),G=[D,R,...k].filter(Boolean).map(q=>q.ref.current);xF(G,d)}}I.current=!1}),onBlur:ie(t.onBlur,()=>w(!1))})})}),vF="RovingFocusGroupItem",yF=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,l=Fs(),c=i||l,u=qte(vF,n),d=u.currentTabStopId===c,h=pF(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),a.jsx(xb.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:a.jsx(Ce.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ie(t.onMouseDown,y=>{r?u.onItemFocus(c):y.preventDefault()}),onFocus:ie(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ie(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const v=Qte(y,u.orientation,u.dir);if(v!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=h().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")_.reverse();else if(v==="prev"||v==="next"){v==="prev"&&_.reverse();const w=_.indexOf(y.currentTarget);_=u.loop?Xte(_,w+1):_.slice(w+1)}setTimeout(()=>xF(_))}})})})});yF.displayName=vF;var Kte={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Yte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Qte(t,e,n){const r=Yte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Kte[r]}function xF(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Xte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var VS=gF,$S=yF,US="Tabs",[Zte,Kue]=wr(US,[Td]),wF=Td(),[Jte,BS]=Zte(US),_F=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Nd(l),[h,f]=$s({prop:r,onChange:s,defaultProp:i});return a.jsx(Jte,{scope:n,baseId:Fs(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:a.jsx(Ce.div,{dir:d,"data-orientation":o,...u,ref:e})})});_F.displayName=US;var bF="TabsList",CF=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=BS(bF,n),o=wF(n);return a.jsx(VS,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Ce.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});CF.displayName=bF;var SF="TabsTrigger",EF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=BS(SF,n),l=wF(n),c=RF(o.baseId,r),u=jF(o.baseId,r),d=r===o.value;return a.jsx($S,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Ce.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ie(t.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:ie(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:ie(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(r)})})})});EF.displayName=SF;var NF="TabsContent",TF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,l=BS(NF,n),c=RF(l.baseId,r),u=jF(l.baseId,r),d=r===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),a.jsx(En,{present:s||d,children:({present:f})=>a.jsx(Ce.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&i})})});TF.displayName=NF;function RF(t,e){return`${t}-trigger-${e}`}function jF(t,e){return`${t}-content-${e}`}var ene=_F,IF=CF,PF=EF,kF=TF;const AF=ene,zS=p.forwardRef(({className:t,...e},n)=>a.jsx(IF,{ref:n,className:te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));zS.displayName=IF.displayName;const ai=p.forwardRef(({className:t,...e},n)=>a.jsx(PF,{ref:n,className:te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ai.displayName=PF.displayName;const li=p.forwardRef(({className:t,...e},n)=>a.jsx(kF,{ref:n,className:te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));li.displayName=kF.displayName;var wb=["Enter"," "],tne=["ArrowDown","PageUp","Home"],DF=["ArrowUp","PageDown","End"],nne=[...tne,...DF],rne={ltr:[...wb,"ArrowRight"],rtl:[...wb,"ArrowLeft"]},sne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},xm="Menu",[Tf,ine,one]=py(xm),[mc,MF]=wr(xm,[one,qa,Td]),a0=qa(),OF=Td(),[ane,pc]=mc(xm),[lne,wm]=mc(xm),FF=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,l=a0(e),[c,u]=p.useState(null),d=p.useRef(!1),h=Ut(i),f=Nd(s);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(dC,{...l,children:a.jsx(ane,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(lne,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:r})})})};FF.displayName=xm;var cne="MenuAnchor",HS=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=a0(n);return a.jsx(Yf,{...s,...r,ref:e})});HS.displayName=cne;var WS="MenuPortal",[une,LF]=mc(WS,{forceMount:void 0}),VF=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=pc(WS,e);return a.jsx(une,{scope:e,forceMount:n,children:a.jsx(En,{present:n||i.open,children:a.jsx(id,{asChild:!0,container:s,children:r})})})};VF.displayName=WS;var fs="MenuContent",[dne,qS]=mc(fs),$F=p.forwardRef((t,e)=>{const n=LF(fs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=pc(fs,t.__scopeMenu),o=wm(fs,t.__scopeMenu);return a.jsx(Tf.Provider,{scope:t.__scopeMenu,children:a.jsx(En,{present:r||i.open,children:a.jsx(Tf.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(hne,{...s,ref:e}):a.jsx(fne,{...s,ref:e})})})})}),hne=p.forwardRef((t,e)=>{const n=pc(fs,t.__scopeMenu),r=p.useRef(null),s=He(e,r);return p.useEffect(()=>{const i=r.current;if(i)return mm(i)},[]),a.jsx(GS,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),fne=p.forwardRef((t,e)=>{const n=pc(fs,t.__scopeMenu);return a.jsx(GS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),GS=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:y,...v}=t,x=pc(fs,n),_=wm(fs,n),w=a0(n),b=OF(n),T=ine(n),[I,O]=p.useState(null),j=p.useRef(null),S=He(e,j,x.onContentChange),N=p.useRef(0),P=p.useRef(""),k=p.useRef(0),D=p.useRef(null),R=p.useRef("right"),$=p.useRef(0),G=y?pm:p.Fragment,q=y?{as:wi,allowPinchZoom:!0}:void 0,H=U=>{var le,Re;const re=P.current+U,W=T().filter(Ue=>!Ue.disabled),F=document.activeElement,Q=(le=W.find(Ue=>Ue.ref.current===F))==null?void 0:le.textValue,pe=W.map(Ue=>Ue.textValue),he=Ene(pe,re,Q),me=(Re=W.find(Ue=>Ue.textValue===he))==null?void 0:Re.ref.current;(function Ue(Ve){P.current=Ve,window.clearTimeout(N.current),Ve!==""&&(N.current=window.setTimeout(()=>Ue(""),1e3))})(re),me&&setTimeout(()=>me.focus())};p.useEffect(()=>()=>window.clearTimeout(N.current),[]),n0();const M=p.useCallback(U=>{var W,F;return R.current===((W=D.current)==null?void 0:W.side)&&Tne(U,(F=D.current)==null?void 0:F.area)},[]);return a.jsx(dne,{scope:n,searchRef:P,onItemEnter:p.useCallback(U=>{M(U)&&U.preventDefault()},[M]),onItemLeave:p.useCallback(U=>{var re;M(U)||((re=j.current)==null||re.focus(),O(null))},[M]),onTriggerLeave:p.useCallback(U=>{M(U)&&U.preventDefault()},[M]),pointerGraceTimerRef:k,onPointerGraceIntentChange:p.useCallback(U=>{D.current=U},[]),children:a.jsx(G,{...q,children:a.jsx(fm,{asChild:!0,trapped:s,onMountAutoFocus:ie(i,U=>{var re;U.preventDefault(),(re=j.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:a.jsx(VS,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:O,onEntryFocus:ie(c,U=>{_.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Sy,{role:"menu","aria-orientation":"vertical","data-state":nL(x.open),"data-radix-menu-content":"",dir:_.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:ie(v.onKeyDown,U=>{const W=U.target.closest("[data-radix-menu-content]")===U.currentTarget,F=U.ctrlKey||U.altKey||U.metaKey,Q=U.key.length===1;W&&(U.key==="Tab"&&U.preventDefault(),!F&&Q&&H(U.key));const pe=j.current;if(U.target!==pe||!nne.includes(U.key))return;U.preventDefault();const me=T().filter(le=>!le.disabled).map(le=>le.ref.current);DF.includes(U.key)&&me.reverse(),Cne(me)}),onBlur:ie(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(N.current),P.current="")}),onPointerMove:ie(t.onPointerMove,Rf(U=>{const re=U.target,W=$.current!==U.clientX;if(U.currentTarget.contains(re)&&W){const F=U.clientX>$.current?"right":"left";R.current=F,$.current=U.clientX}}))})})})})})})});$F.displayName=fs;var mne="MenuGroup",KS=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ce.div,{role:"group",...r,ref:e})});KS.displayName=mne;var pne="MenuLabel",UF=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ce.div,{...r,ref:e})});UF.displayName=pne;var Nv="MenuItem",_I="menu.itemSelect",l0=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=wm(Nv,t.__scopeMenu),l=qS(Nv,t.__scopeMenu),c=He(e,i),u=p.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const f=new CustomEvent(_I,{bubbles:!0,cancelable:!0});h.addEventListener(_I,g=>r==null?void 0:r(g),{once:!0}),Y1(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(BF,{...s,ref:c,disabled:n,onClick:ie(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:ie(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ie(t.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||wb.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});l0.displayName=Nv;var BF=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=qS(Nv,n),l=OF(n),c=p.useRef(null),u=He(e,c),[d,h]=p.useState(!1),[f,g]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[i.children]),a.jsx(Tf.ItemSlot,{scope:n,disabled:r,textValue:s??f,children:a.jsx($S,{asChild:!0,...l,focusable:!r,children:a.jsx(Ce.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:ie(t.onPointerMove,Rf(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ie(t.onPointerLeave,Rf(y=>o.onItemLeave(y))),onFocus:ie(t.onFocus,()=>h(!0)),onBlur:ie(t.onBlur,()=>h(!1))})})})}),gne="MenuCheckboxItem",zF=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return a.jsx(KF,{scope:t.__scopeMenu,checked:n,children:a.jsx(l0,{role:"menuitemcheckbox","aria-checked":Tv(n)?"mixed":n,...s,ref:e,"data-state":QS(n),onSelect:ie(s.onSelect,()=>r==null?void 0:r(Tv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});zF.displayName=gne;var HF="MenuRadioGroup",[vne,yne]=mc(HF,{value:void 0,onValueChange:()=>{}}),WF=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Ut(r);return a.jsx(vne,{scope:t.__scopeMenu,value:n,onValueChange:i,children:a.jsx(KS,{...s,ref:e})})});WF.displayName=HF;var qF="MenuRadioItem",GF=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=yne(qF,t.__scopeMenu),i=n===s.value;return a.jsx(KF,{scope:t.__scopeMenu,checked:i,children:a.jsx(l0,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":QS(i),onSelect:ie(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});GF.displayName=qF;var YS="MenuItemIndicator",[KF,xne]=mc(YS,{checked:!1}),YF=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=xne(YS,n);return a.jsx(En,{present:r||Tv(i.checked)||i.checked===!0,children:a.jsx(Ce.span,{...s,ref:e,"data-state":QS(i.checked)})})});YF.displayName=YS;var wne="MenuSeparator",QF=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return a.jsx(Ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});QF.displayName=wne;var _ne="MenuArrow",XF=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=a0(n);return a.jsx(Ey,{...s,...r,ref:e})});XF.displayName=_ne;var bne="MenuSub",[Yue,ZF]=mc(bne),fh="MenuSubTrigger",JF=p.forwardRef((t,e)=>{const n=pc(fh,t.__scopeMenu),r=wm(fh,t.__scopeMenu),s=ZF(fh,t.__scopeMenu),i=qS(fh,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(HS,{asChild:!0,...u,children:a.jsx(BF,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":nL(n.open),...t,ref:my(e,s.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ie(t.onPointerMove,Rf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ie(t.onPointerLeave,Rf(h=>{var g,y;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const v=(y=n.content)==null?void 0:y.dataset.side,x=v==="right",_=x?-5:5,w=f[x?"left":"right"],b=f[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+_,y:h.clientY},{x:w,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:w,y:f.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ie(t.onKeyDown,h=>{var g;const f=i.searchRef.current!=="";t.disabled||f&&h.key===" "||rne[r.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});JF.displayName=fh;var eL="MenuSubContent",tL=p.forwardRef((t,e)=>{const n=LF(fs,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=pc(fs,t.__scopeMenu),o=wm(fs,t.__scopeMenu),l=ZF(eL,t.__scopeMenu),c=p.useRef(null),u=He(e,c);return a.jsx(Tf.Provider,{scope:t.__scopeMenu,children:a.jsx(En,{present:r||i.open,children:a.jsx(Tf.Slot,{scope:t.__scopeMenu,children:a.jsx(GS,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ie(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ie(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ie(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),f=sne[o.dir].includes(d.key);h&&f&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});tL.displayName=eL;function nL(t){return t?"open":"closed"}function Tv(t){return t==="indeterminate"}function QS(t){return Tv(t)?"indeterminate":t?"checked":"unchecked"}function Cne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Sne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Ene(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Sne(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function Nne(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,u=e[o].x,d=e[o].y;c>r!=d>r&&n<(u-l)*(r-c)/(d-c)+l&&(s=!s)}return s}function Tne(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Nne(n,e)}function Rf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Rne=FF,jne=HS,Ine=VF,Pne=$F,kne=KS,Ane=UF,Dne=l0,Mne=zF,One=WF,Fne=GF,Lne=YF,Vne=QF,$ne=XF,Une=JF,Bne=tL,XS="DropdownMenu",[zne,Que]=wr(XS,[MF]),_r=MF(),[Hne,rL]=zne(XS),sL=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=_r(e),u=p.useRef(null),[d=!1,h]=$s({prop:s,defaultProp:i,onChange:o});return a.jsx(Hne,{scope:e,triggerId:Fs(),triggerRef:u,contentId:Fs(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:a.jsx(Rne,{...c,open:d,onOpenChange:h,dir:r,modal:l,children:n})})};sL.displayName=XS;var iL="DropdownMenuTrigger",oL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=rL(iL,n),o=_r(n);return a.jsx(jne,{asChild:!0,...o,children:a.jsx(Ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:my(e,i.triggerRef),onPointerDown:ie(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ie(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});oL.displayName=iL;var Wne="DropdownMenuPortal",aL=t=>{const{__scopeDropdownMenu:e,...n}=t,r=_r(e);return a.jsx(Ine,{...r,...n})};aL.displayName=Wne;var lL="DropdownMenuContent",cL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rL(lL,n),i=_r(n),o=p.useRef(!1);return a.jsx(Pne,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ie(t.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ie(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cL.displayName=lL;var qne="DropdownMenuGroup",Gne=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(kne,{...s,...r,ref:e})});Gne.displayName=qne;var Kne="DropdownMenuLabel",uL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Ane,{...s,...r,ref:e})});uL.displayName=Kne;var Yne="DropdownMenuItem",dL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Dne,{...s,...r,ref:e})});dL.displayName=Yne;var Qne="DropdownMenuCheckboxItem",hL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Mne,{...s,...r,ref:e})});hL.displayName=Qne;var Xne="DropdownMenuRadioGroup",Zne=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(One,{...s,...r,ref:e})});Zne.displayName=Xne;var Jne="DropdownMenuRadioItem",fL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Fne,{...s,...r,ref:e})});fL.displayName=Jne;var ere="DropdownMenuItemIndicator",mL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Lne,{...s,...r,ref:e})});mL.displayName=ere;var tre="DropdownMenuSeparator",pL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Vne,{...s,...r,ref:e})});pL.displayName=tre;var nre="DropdownMenuArrow",rre=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx($ne,{...s,...r,ref:e})});rre.displayName=nre;var sre="DropdownMenuSubTrigger",gL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Une,{...s,...r,ref:e})});gL.displayName=sre;var ire="DropdownMenuSubContent",vL=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_r(n);return a.jsx(Bne,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});vL.displayName=ire;var ore=sL,are=oL,lre=aL,yL=cL,xL=uL,wL=dL,_L=hL,bL=fL,CL=mL,SL=pL,EL=gL,NL=vL;const el=ore,tl=are,cre=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>a.jsxs(EL,{ref:s,className:te("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,a.jsx(Hf,{className:"ml-auto h-4 w-4"})]}));cre.displayName=EL.displayName;const ure=p.forwardRef(({className:t,...e},n)=>a.jsx(NL,{ref:n,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ure.displayName=NL.displayName;const xo=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(lre,{children:a.jsx(yL,{ref:r,sideOffset:e,className:te("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));xo.displayName=yL.displayName;const mr=p.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(wL,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));mr.displayName=wL.displayName;const _b=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>a.jsxs(_L,{ref:s,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(CL,{children:a.jsx(yy,{className:"h-4 w-4"})})}),e]}));_b.displayName=_L.displayName;const dre=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(bL,{ref:r,className:te("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(CL,{children:a.jsx(i2,{className:"h-2 w-2 fill-current"})})}),e]}));dre.displayName=bL.displayName;const ZS=p.forwardRef(({className:t,inset:e,...n},r)=>a.jsx(xL,{ref:r,className:te("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));ZS.displayName=xL.displayName;const bb=p.forwardRef(({className:t,...e},n)=>a.jsx(SL,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));bb.displayName=SL.displayName;var JS="Dialog",[TL,RL]=wr(JS),[hre,Ys]=TL(JS),jL=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=$s({prop:r,defaultProp:s,onChange:i});return a.jsx(hre,{scope:e,triggerRef:l,contentRef:c,contentId:Fs(),titleId:Fs(),descriptionId:Fs(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};jL.displayName=JS;var IL="DialogTrigger",PL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ys(IL,n),i=He(e,s.triggerRef);return a.jsx(Ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nE(s.open),...r,ref:i,onClick:ie(t.onClick,s.onOpenToggle)})});PL.displayName=IL;var eE="DialogPortal",[fre,kL]=TL(eE,{forceMount:void 0}),AL=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Ys(eE,e);return a.jsx(fre,{scope:e,forceMount:n,children:p.Children.map(r,o=>a.jsx(En,{present:n||i.open,children:a.jsx(id,{asChild:!0,container:s,children:o})}))})};AL.displayName=eE;var Rv="DialogOverlay",DL=p.forwardRef((t,e)=>{const n=kL(Rv,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ys(Rv,t.__scopeDialog);return i.modal?a.jsx(En,{present:r||i.open,children:a.jsx(mre,{...s,ref:e})}):null});DL.displayName=Rv;var mre=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ys(Rv,n);return a.jsx(pm,{as:wi,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ce.div,{"data-state":nE(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ql="DialogContent",ML=p.forwardRef((t,e)=>{const n=kL(Ql,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Ys(Ql,t.__scopeDialog);return a.jsx(En,{present:r||i.open,children:i.modal?a.jsx(pre,{...s,ref:e}):a.jsx(gre,{...s,ref:e})})});ML.displayName=Ql;var pre=p.forwardRef((t,e)=>{const n=Ys(Ql,t.__scopeDialog),r=p.useRef(null),s=He(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return mm(i)},[]),a.jsx(OL,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ie(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ie(t.onFocusOutside,i=>i.preventDefault())})}),gre=p.forwardRef((t,e)=>{const n=Ys(Ql,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return a.jsx(OL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),OL=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=Ys(Ql,n),c=p.useRef(null),u=He(e,c);return n0(),a.jsxs(a.Fragment,{children:[a.jsx(fm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(ac,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nE(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(yre,{titleId:l.titleId}),a.jsx(wre,{contentRef:c,descriptionId:l.descriptionId})]})]})}),tE="DialogTitle",FL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ys(tE,n);return a.jsx(Ce.h2,{id:s.titleId,...r,ref:e})});FL.displayName=tE;var LL="DialogDescription",VL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ys(LL,n);return a.jsx(Ce.p,{id:s.descriptionId,...r,ref:e})});VL.displayName=LL;var $L="DialogClose",UL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Ys($L,n);return a.jsx(Ce.button,{type:"button",...r,ref:e,onClick:ie(t.onClick,()=>s.onOpenChange(!1))})});UL.displayName=$L;function nE(t){return t?"open":"closed"}var BL="DialogTitleWarning",[vre,zL]=sU(BL,{contentName:Ql,titleName:tE,docsSlug:"dialog"}),yre=({titleId:t})=>{const e=zL(BL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},xre="DialogDescriptionWarning",wre=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${zL(xre).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},rE=jL,HL=PL,sE=AL,_m=DL,bm=ML,Cm=FL,Sm=VL,Em=UL,WL="AlertDialog",[_re,Xue]=wr(WL,[RL]),wo=RL(),qL=t=>{const{__scopeAlertDialog:e,...n}=t,r=wo(e);return a.jsx(rE,{...r,...n,modal:!0})};qL.displayName=WL;var bre="AlertDialogTrigger",GL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=wo(n);return a.jsx(HL,{...s,...r,ref:e})});GL.displayName=bre;var Cre="AlertDialogPortal",KL=t=>{const{__scopeAlertDialog:e,...n}=t,r=wo(e);return a.jsx(sE,{...r,...n})};KL.displayName=Cre;var Sre="AlertDialogOverlay",YL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=wo(n);return a.jsx(_m,{...s,...r,ref:e})});YL.displayName=Sre;var du="AlertDialogContent",[Ere,Nre]=_re(du),QL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=wo(n),o=p.useRef(null),l=He(e,o),c=p.useRef(null);return a.jsx(vre,{contentName:du,titleName:XL,docsSlug:"alert-dialog",children:a.jsx(Ere,{scope:n,cancelRef:c,children:a.jsxs(bm,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ie(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(K1,{children:r}),a.jsx(Rre,{contentRef:o})]})})})});QL.displayName=du;var XL="AlertDialogTitle",ZL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=wo(n);return a.jsx(Cm,{...s,...r,ref:e})});ZL.displayName=XL;var JL="AlertDialogDescription",eV=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=wo(n);return a.jsx(Sm,{...s,...r,ref:e})});eV.displayName=JL;var Tre="AlertDialogAction",tV=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=wo(n);return a.jsx(Em,{...s,...r,ref:e})});tV.displayName=Tre;var nV="AlertDialogCancel",rV=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=Nre(nV,n),i=wo(n),o=He(e,s);return a.jsx(Em,{...i,...r,ref:o})});rV.displayName=nV;var Rre=({contentRef:t})=>{const e=`\`${du}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${du}\` by passing a \`${JL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${du}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},jre=qL,Ire=GL,Pre=KL,sV=YL,iV=QL,oV=tV,aV=rV,lV=ZL,cV=eV;const c0=jre,kre=Ire,Are=Pre,uV=p.forwardRef(({className:t,...e},n)=>a.jsx(sV,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));uV.displayName=sV.displayName;const Nm=p.forwardRef(({className:t,...e},n)=>a.jsxs(Are,{children:[a.jsx(uV,{}),a.jsx(iV,{ref:n,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Nm.displayName=iV.displayName;const Tm=({className:t,...e})=>a.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",t),...e});Tm.displayName="AlertDialogHeader";const Rm=({className:t,...e})=>a.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Rm.displayName="AlertDialogFooter";const jm=p.forwardRef(({className:t,...e},n)=>a.jsx(lV,{ref:n,className:te("text-lg font-semibold",t),...e}));jm.displayName=lV.displayName;const Im=p.forwardRef(({className:t,...e},n)=>a.jsx(cV,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));Im.displayName=cV.displayName;const Pm=p.forwardRef(({className:t,...e},n)=>a.jsx(oV,{ref:n,className:te(pf(),t),...e}));Pm.displayName=oV.displayName;const km=p.forwardRef(({className:t,...e},n)=>a.jsx(aV,{ref:n,className:te(pf({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));km.displayName=aV.displayName;const Dre=({reminder:t,onDelete:e,children:n})=>a.jsxs(c0,{children:[a.jsx(kre,{asChild:!0,children:n}),a.jsxs(Nm,{children:[a.jsxs(Tm,{children:[a.jsx(jm,{children:"Are you sure?"}),a.jsxs(Im,{children:["This action cannot be undone. This will permanently delete the reminder for ",t.vaccine," for ",t.dog,"."]})]}),a.jsxs(Rm,{children:[a.jsx(km,{children:"Cancel"}),a.jsx(Pm,{onClick:()=>e(t.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]}),Vn=rE,Pi=HL,Mre=sE,Ju=Em,dV=p.forwardRef(({className:t,...e},n)=>a.jsx(_m,{ref:n,className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dV.displayName=_m.displayName;const jn=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Mre,{children:[a.jsx(dV,{}),a.jsxs(bm,{ref:r,className:te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(Em,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(cc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jn.displayName=bm.displayName;const In=({className:t,...e})=>a.jsx("div",{className:te("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});In.displayName="DialogHeader";const _o=({className:t,...e})=>a.jsx("div",{className:te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});_o.displayName="DialogFooter";const Pn=p.forwardRef(({className:t,...e},n)=>a.jsx(Cm,{ref:n,className:te("text-lg font-semibold leading-none tracking-tight",t),...e}));Pn.displayName=Cm.displayName;const nl=p.forwardRef(({className:t,...e},n)=>a.jsx(Sm,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));nl.displayName=Sm.displayName;var Ore="Label",hV=p.forwardRef((t,e)=>a.jsx(Ce.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hV.displayName=Ore;var fV=hV;const Fre=zf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qe=p.forwardRef(({className:t,...e},n)=>a.jsx(fV,{ref:n,className:te(Fre(),t),...e}));qe.displayName=fV.displayName;var Oe=function(){return Oe=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Oe.apply(this,arguments)};function Lre(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function mV(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Am(t){return t.mode==="multiple"}function Dm(t){return t.mode==="range"}function u0(t){return t.mode==="single"}var Vre={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function $re(t,e){return ot(t,"LLLL y",e)}function Ure(t,e){return ot(t,"d",e)}function Bre(t,e){return ot(t,"LLLL",e)}function zre(t){return"".concat(t)}function Hre(t,e){return ot(t,"cccccc",e)}function Wre(t,e){return ot(t,"yyyy",e)}var qre=Object.freeze({__proto__:null,formatCaption:$re,formatDay:Ure,formatMonthCaption:Bre,formatWeekNumber:zre,formatWeekdayName:Hre,formatYearCaption:Wre}),Gre=function(t,e,n){return ot(t,"do MMMM (EEEE)",n)},Kre=function(){return"Month: "},Yre=function(){return"Go to next month"},Qre=function(){return"Go to previous month"},Xre=function(t,e){return ot(t,"cccc",e)},Zre=function(t){return"Week n. ".concat(t)},Jre=function(){return"Year: "},ese=Object.freeze({__proto__:null,labelDay:Gre,labelMonthDropdown:Kre,labelNext:Yre,labelPrevious:Qre,labelWeekNumber:Zre,labelWeekday:Xre,labelYearDropdown:Jre});function tse(){var t="buttons",e=Vre,n=jS,r={},s={},i=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:qre,labels:ese,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function nse(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Dr(r):e&&(i=new Date(e,0,1)),s?o=e0(s):n&&(o=new Date(n,11,31)),{fromDate:i?Yl(i):void 0,toDate:o?Yl(o):void 0}}var pV=p.createContext(void 0);function rse(t){var e,n=t.initialProps,r=tse(),s=nse(n),i=s.fromDate,o=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(u0(n)||Am(n)||Dm(n))&&(c=n.onSelect);var u=Oe(Oe(Oe({},r),n),{captionLayout:l,classNames:Oe(Oe({},r.classNames),n.classNames),components:Oe({},n.components),formatters:Oe(Oe({},r.formatters),n.formatters),fromDate:i,labels:Oe(Oe({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Oe(Oe({},r.modifiers),n.modifiers),modifiersClassNames:Oe(Oe({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Oe(Oe({},r.styles),n.styles),toDate:o});return a.jsx(pV.Provider,{value:u,children:t.children})}function It(){var t=p.useContext(pV);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function gV(t){var e=It(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function sse(t){return a.jsx("svg",Oe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function vV(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,u=It(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:sse;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:r,children:i}),a.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function ise(t){var e,n=It(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var h=[];if(fee(r,s))for(var f=Dr(r),g=r.getMonth();g<=s.getMonth();g++)h.push($x(f,g));else for(var f=Dr(new Date),g=0;g<=11;g++)h.push($x(f,g));var y=function(x){var _=Number(x.target.value),w=$x(Dr(t.displayMonth),_);t.onChange(w)},v=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:vV;return a.jsx(v,{name:"months","aria-label":d(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:h.map(function(x){return a.jsx("option",{value:x.getMonth(),children:l(x,{locale:o})},x.getMonth())})})}function ose(t){var e,n=t.displayMonth,r=It(),s=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,f=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var g=s.getFullYear(),y=i.getFullYear(),v=g;v<=y;v++)f.push(lI(N4(new Date),v));var x=function(w){var b=lI(Dr(n),Number(w.target.value));t.onChange(b)},_=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:vV;return a.jsx(_,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:x,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(w){return a.jsx("option",{value:w.getFullYear(),children:d(w,{locale:o})},w.getFullYear())})})}function ase(t,e){var n=p.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function lse(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&Qu(i,s)<0){var u=-1*(c-1);s=Ws(i,u)}return o&&Qu(s,o)<0&&(s=o),Dr(s)}function cse(){var t=It(),e=lse(t),n=ase(e,t.month),r=n[0],s=n[1],i=function(o){var l;if(!t.disableNavigation){var c=Dr(o);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,i]}function use(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Dr(t),i=Dr(Ws(s,r)),o=Qu(i,s),l=[],c=0;c<o;c++){var u=Ws(s,c);l.push(u)}return n&&(l=l.reverse()),l}function dse(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,l=Dr(t);if(!n)return Ws(l,o);var c=Qu(n,t);if(!(c<i))return Ws(l,o)}}function hse(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,l=Dr(t);if(!n)return Ws(l,-o);var c=Qu(l,n);if(!(c<=0))return Ws(l,-o)}}var yV=p.createContext(void 0);function fse(t){var e=It(),n=cse(),r=n[0],s=n[1],i=use(r,e),o=dse(r,e),l=hse(r,e),c=function(h){return i.some(function(f){return IS(h,f)})},u=function(h,f){c(h)||(f&&k4(h,f)?s(Ws(h,1+e.numberOfMonths*-1)):s(h))},d={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(yV.Provider,{value:d,children:t.children})}function Mm(){var t=p.useContext(yV);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function bI(t){var e,n=It(),r=n.classNames,s=n.styles,i=n.components,o=Mm().goToMonth,l=function(d){o(Ws(d,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:gV,u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:u}),a.jsx(ise,{onChange:l,displayMonth:t.displayMonth}),a.jsx(ose,{onChange:l,displayMonth:t.displayMonth})]})}function mse(t){return a.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function pse(t){return a.jsx("svg",Oe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var jv=p.forwardRef(function(t,e){var n=It(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),l=Oe(Oe({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",Oe({},t,{ref:e,type:"button",className:o,style:l}))});function gse(t){var e,n,r=It(),s=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var f=u(t.previousMonth,{locale:i}),g=[o.nav_button,o.nav_button_previous].join(" "),y=d(t.nextMonth,{locale:i}),v=[o.nav_button,o.nav_button_next].join(" "),x=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:pse,_=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:mse;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(jv,{name:"previous-month","aria-label":f,className:g,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(x,{className:o.nav_icon,style:l.nav_icon}):a.jsx(_,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(jv,{name:"next-month","aria-label":y,className:v,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(_,{className:o.nav_icon,style:l.nav_icon}):a.jsx(x,{className:o.nav_icon,style:l.nav_icon})})]})}function CI(t){var e=It().numberOfMonths,n=Mm(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(y){return IS(t.displayMonth,y)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),h=e>1&&(u||!c),f=function(){r&&i(r)},g=function(){s&&i(s)};return a.jsx(gse,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:s,previousMonth:r,onPreviousClick:f,onNextClick:g})}function vse(t){var e,n=It(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:gV,u;return s?u=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=a.jsx(bI,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=a.jsxs(a.Fragment,{children:[a.jsx(bI,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(CI,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(CI,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:i.caption,children:u})}function yse(t){var e=It(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function xse(t,e,n){for(var r=n?Kl(new Date):Si(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=cr(r,i);s.push(o)}return s}function wse(){var t=It(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=xse(s,i,o);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,h){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:s}),children:l(d,{locale:s})},h)})]})}function _se(){var t,e=It(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:wse;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(i,{})})}function bse(t){var e=It(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var iE=p.createContext(void 0);function Cse(t){if(!Am(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(iE.Provider,{value:e,children:t.children})}return a.jsx(Sse,{initialProps:t.initialProps,children:t.children})}function Sse(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(u,d,h){var f,g;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var y=!!(d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var v=!!(!d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var x=r?mV([],r):[];if(d.selected){var _=x.findIndex(function(w){return er(u,w)});x.splice(_,1)}else x.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,x,u,d,h)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=i&&r.length>i-1,h=r.some(function(f){return er(f,u)});return!!(d&&!h)});var c={selected:r,onDayClick:o,modifiers:l};return a.jsx(iE.Provider,{value:c,children:n})}function oE(){var t=p.useContext(iE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Ese(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?er(s,t)&&er(r,t)?void 0:er(s,t)?{from:s,to:void 0}:er(r,t)?void 0:pb(r,t)?{from:t,to:s}:{from:r,to:t}:s?pb(t,s)?{from:s,to:t}:{from:t,to:s}:r?k4(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var aE=p.createContext(void 0);function Nse(t){if(!Dm(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx(aE.Provider,{value:e,children:t.children})}return a.jsx(Tse,{initialProps:t.initialProps,children:t.children})}function Tse(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,l=e.min,c=e.max,u=function(g,y,v){var x,_;(x=e.onDayClick)===null||x===void 0||x.call(e,g,y,v);var w=Ese(g,r);(_=e.onSelect)===null||_===void 0||_.call(e,w,g,y,v)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],er(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:Vx(i,l-1),before:cr(i,l-1)}),i&&o&&d.disabled.push({after:i,before:cr(i,l-1)}),!i&&o&&d.disabled.push({after:Vx(o,l-1),before:cr(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:cr(i,-c+1)}),d.disabled.push({after:cr(i,c-1)})),i&&o){var h=Ds(o,i)+1,f=c-h;d.disabled.push({before:Vx(i,f)}),d.disabled.push({after:cr(o,f)})}!i&&o&&(d.disabled.push({before:cr(o,-c+1)}),d.disabled.push({after:cr(o,c-1)}))}return a.jsx(aE.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function lE(){var t=p.useContext(aE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Cg(t){return Array.isArray(t)?mV([],t):t!==void 0?[t]:[]}function Rse(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Cg(s)}),e}var qs;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(qs||(qs={}));var jse=qs.Selected,Fi=qs.Disabled,Ise=qs.Hidden,Pse=qs.Today,Yx=qs.RangeEnd,Qx=qs.RangeMiddle,Xx=qs.RangeStart,kse=qs.Outside;function Ase(t,e,n){var r,s=(r={},r[jse]=Cg(t.selected),r[Fi]=Cg(t.disabled),r[Ise]=Cg(t.hidden),r[Pse]=[t.today],r[Yx]=[],r[Qx]=[],r[Xx]=[],r[kse]=[],r);return t.fromDate&&s[Fi].push({before:t.fromDate}),t.toDate&&s[Fi].push({after:t.toDate}),Am(t)?s[Fi]=s[Fi].concat(e.modifiers[Fi]):Dm(t)&&(s[Fi]=s[Fi].concat(n.modifiers[Fi]),s[Xx]=n.modifiers[Xx],s[Qx]=n.modifiers[Qx],s[Yx]=n.modifiers[Yx]),s}var xV=p.createContext(void 0);function Dse(t){var e=It(),n=oE(),r=lE(),s=Ase(e,n,r),i=Rse(e.modifiers),o=Oe(Oe({},s),i);return a.jsx(xV.Provider,{value:o,children:t.children})}function wV(){var t=p.useContext(xV);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Mse(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Ose(t){return!!(t&&typeof t=="object"&&"from"in t)}function Fse(t){return!!(t&&typeof t=="object"&&"after"in t)}function Lse(t){return!!(t&&typeof t=="object"&&"before"in t)}function Vse(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function $se(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=Ds(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=Ds(t,r)>=0&&Ds(s,t)>=0;return o}return s?er(s,t):r?er(r,t):!1}function Use(t){return NS(t)}function Bse(t){return Array.isArray(t)&&t.every(NS)}function zse(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Use(n))return er(t,n);if(Bse(n))return n.includes(t);if(Ose(n))return $se(t,n);if(Vse(n))return n.dayOfWeek.includes(t.getDay());if(Mse(n)){var r=Ds(n.before,t),s=Ds(n.after,t),i=r>0,o=s<0,l=pb(n.before,n.after);return l?o&&i:i||o}return Fse(n)?Ds(t,n.after)>0:Lse(n)?Ds(n.before,t)>0:typeof n=="function"?n(t):!1})}function cE(t,e,n){var r=Object.keys(e).reduce(function(i,o){var l=e[o];return zse(t,l)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!IS(t,n)&&(s.outside=!0),s}function Hse(t,e){for(var n=Dr(t[0]),r=e0(t[t.length-1]),s,i,o=n;o<=r;){var l=cE(o,e),c=!l.disabled&&!l.hidden;if(!c){o=cr(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=cr(o,1)}return i||s}var Wse=365;function _V(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=s.weekStartsOn,u=s.fromDate,d=s.toDate,h=s.locale,f={day:cr,week:mb,month:Ws,year:eJ,startOfWeek:function(x){return s.ISOWeek?Kl(x):Si(x,{locale:h,weekStartsOn:c})},endOfWeek:function(x){return s.ISOWeek?T4(x):RS(x,{locale:h,weekStartsOn:c})}},g=f[n](t,r==="after"?1:-1);r==="before"&&u?g=tJ([u,g]):r==="after"&&d&&(g=nJ([d,g]));var y=!0;if(i){var v=cE(g,i);y=!v.disabled&&!v.hidden}return y?g:l.count>Wse?l.lastFocused:_V(g,{moveBy:n,direction:r,context:s,modifiers:i,retry:Oe(Oe({},l),{count:l.count+1})})}var bV=p.createContext(void 0);function qse(t){var e=Mm(),n=wV(),r=p.useState(),s=r[0],i=r[1],o=p.useState(),l=o[0],c=o[1],u=Hse(e.displayMonths,n),d=s??(l&&e.isDateDisplayed(l))?l:u,h=function(){c(s),i(void 0)},f=function(x){i(x)},g=It(),y=function(x,_){if(s){var w=_V(s,{moveBy:x,direction:_,context:g,modifiers:n});er(s,w)||(e.goToDate(w,s),f(w))}},v={focusedDay:s,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(bV.Provider,{value:v,children:t.children})}function uE(){var t=p.useContext(bV);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Gse(t,e){var n=wV(),r=cE(t,n,e);return r}var dE=p.createContext(void 0);function Kse(t){if(!u0(t.initialProps)){var e={selected:void 0};return a.jsx(dE.Provider,{value:e,children:t.children})}return a.jsx(Yse,{initialProps:t.initialProps,children:t.children})}function Yse(t){var e=t.initialProps,n=t.children,r=function(i,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,i,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,i,i,o,l)},s={selected:e.selected,onDayClick:r};return a.jsx(dE.Provider,{value:s,children:n})}function CV(){var t=p.useContext(dE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Qse(t,e){var n=It(),r=CV(),s=oE(),i=lE(),o=uE(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,g=o.focusMonthBefore,y=o.focusMonthAfter,v=o.focusYearBefore,x=o.focusYearAfter,_=o.focusStartOfWeek,w=o.focusEndOfWeek,b=function(H){var M,U,re,W;u0(n)?(M=r.onDayClick)===null||M===void 0||M.call(r,t,e,H):Am(n)?(U=s.onDayClick)===null||U===void 0||U.call(s,t,e,H):Dm(n)?(re=i.onDayClick)===null||re===void 0||re.call(i,t,e,H):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,H)},T=function(H){var M;f(t),(M=n.onDayFocus)===null||M===void 0||M.call(n,t,e,H)},I=function(H){var M;h(),(M=n.onDayBlur)===null||M===void 0||M.call(n,t,e,H)},O=function(H){var M;(M=n.onDayMouseEnter)===null||M===void 0||M.call(n,t,e,H)},j=function(H){var M;(M=n.onDayMouseLeave)===null||M===void 0||M.call(n,t,e,H)},S=function(H){var M;(M=n.onDayPointerEnter)===null||M===void 0||M.call(n,t,e,H)},N=function(H){var M;(M=n.onDayPointerLeave)===null||M===void 0||M.call(n,t,e,H)},P=function(H){var M;(M=n.onDayTouchCancel)===null||M===void 0||M.call(n,t,e,H)},k=function(H){var M;(M=n.onDayTouchEnd)===null||M===void 0||M.call(n,t,e,H)},D=function(H){var M;(M=n.onDayTouchMove)===null||M===void 0||M.call(n,t,e,H)},R=function(H){var M;(M=n.onDayTouchStart)===null||M===void 0||M.call(n,t,e,H)},$=function(H){var M;(M=n.onDayKeyUp)===null||M===void 0||M.call(n,t,e,H)},G=function(H){var M;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?v():g();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?x():y();break;case"Home":H.preventDefault(),H.stopPropagation(),_();break;case"End":H.preventDefault(),H.stopPropagation(),w();break}(M=n.onDayKeyDown)===null||M===void 0||M.call(n,t,e,H)},q={onClick:b,onFocus:T,onBlur:I,onKeyDown:G,onKeyUp:$,onMouseEnter:O,onMouseLeave:j,onPointerEnter:S,onPointerLeave:N,onTouchCancel:P,onTouchEnd:k,onTouchMove:D,onTouchStart:R};return q}function Xse(){var t=It(),e=CV(),n=oE(),r=lE(),s=u0(t)?e.selected:Am(t)?n.selected:Dm(t)?r.selected:void 0;return s}function Zse(t){return Object.values(qs).includes(t)}function Jse(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(Zse(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function eie(t,e){var n=Oe({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=Oe(Oe({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function tie(t,e,n){var r,s,i,o=It(),l=uE(),c=Gse(t,e),u=Qse(t,c),d=Xse(),h=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var O;c.outside||l.focusedDay&&h&&er(l.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[l.focusedDay,t,n,h,c.outside]);var f=Jse(o,c).join(" "),g=eie(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),v=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:bse,x=a.jsx(v,{date:t,displayMonth:e,activeModifiers:c}),_={style:g,className:f,children:x,role:"gridcell"},w=l.focusTarget&&er(l.focusTarget,t)&&!c.outside,b=l.focusedDay&&er(l.focusedDay,t),T=Oe(Oe(Oe({},_),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=b||w?0:-1,r)),u),I={isButton:h,isHidden:y,activeModifiers:c,selectedDays:d,buttonProps:T,divProps:_};return I}function nie(t){var e=p.useRef(null),n=tie(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(jv,Oe({name:"day",ref:e},n.buttonProps)):a.jsx("div",Oe({},n.divProps))}function rie(t){var e=t.number,n=t.dates,r=It(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:d});var h=c(Number(e),{locale:l}),f=function(g){s(e,n,g)};return a.jsx(jv,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:f,children:d})}function sie(t){var e,n,r=It(),s=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:nie,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:rie,d;return o&&(d=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(u,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[d,t.dates.map(function(h){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:h})},uee(h))})]})}function SI(t,e,n){for(var r=n!=null&&n.ISOWeek?T4(e):RS(e,n),s=n!=null&&n.ISOWeek?Kl(t):Si(t,n),i=Ds(r,s),o=[],l=0;l<=i;l++)o.push(cr(s,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?R4(d):I4(d,n),f=u.find(function(g){return g.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function iie(t,e){var n=SI(Dr(t),e0(t),e);if(e!=null&&e.useFixedWeeks){var r=hee(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=mb(i,6-r),l=SI(mb(i,1),o,e);n.push.apply(n,l)}}return n}function oie(t){var e,n,r,s=It(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,u=s.fixedWeeks,d=s.components,h=s.weekStartsOn,f=s.firstWeekContainsDate,g=s.ISOWeek,y=iie(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:i,weekStartsOn:h,firstWeekContainsDate:f}),v=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:_se,x=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:sie,_=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:yse;return a.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(v,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(w){return a.jsx(x,{displayMonth:t.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),a.jsx(_,{displayMonth:t.displayMonth})]})}function aie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var lie=aie()?p.useLayoutEffect:p.useEffect,Zx=!1,cie=0;function EI(){return"react-day-picker-".concat(++cie)}function uie(t){var e,n=t??(Zx?EI():null),r=p.useState(n),s=r[0],i=r[1];return lie(function(){s===null&&i(EI())},[]),p.useEffect(function(){Zx===!1&&(Zx=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function die(t){var e,n,r=It(),s=r.dir,i=r.classNames,o=r.styles,l=r.components,c=Mm().displayMonths,u=uie(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[i.month],f=o.month,g=t.displayIndex===0,y=t.displayIndex===c.length-1,v=!g&&!y;s==="rtl"&&(e=[g,y],y=e[0],g=e[1]),g&&(h.push(i.caption_start),f=Oe(Oe({},f),o.caption_start)),y&&(h.push(i.caption_end),f=Oe(Oe({},f),o.caption_end)),v&&(h.push(i.caption_between),f=Oe(Oe({},f),o.caption_between));var x=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:vse;return a.jsxs("div",{className:h.join(" "),style:f,children:[a.jsx(x,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(oie,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function hie(t){var e=It(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function fie(t){var e,n,r=t.initialProps,s=It(),i=uE(),o=Mm(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var d=[s.classNames.root,s.className];s.numberOfMonths>1&&d.push(s.classNames.multiple_months),s.showWeekNumber&&d.push(s.classNames.with_weeknumber);var h=Oe(Oe({},s.styles.root),s.style),f=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,v){var x;return Oe(Oe({},y),(x={},x[v]=r[v],x))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:hie;return a.jsx("div",Oe({className:d.join(" "),style:h,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:a.jsx(g,{children:o.displayMonths.map(function(y,v){return a.jsx(die,{displayIndex:v,displayMonth:y},v)})})}))}function mie(t){var e=t.children,n=Lre(t,["children"]);return a.jsx(rse,{initialProps:n,children:a.jsx(fse,{children:a.jsx(Kse,{initialProps:n,children:a.jsx(Cse,{initialProps:n,children:a.jsx(Nse,{initialProps:n,children:a.jsx(Dse,{children:a.jsx(qse,{children:e})})})})})})})}function pie(t){return a.jsx(mie,Oe({},t,{children:a.jsx(fie,{initialProps:t})}))}function Om({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(pie,{showOutsideDays:n,className:te("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:te(pf({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:te(pf({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(r2,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(Hf,{className:"h-4 w-4"})},...r})}Om.displayName="Calendar";const gie=({reminder:t,onEditReminder:e,children:n})=>{const[r,s]=p.useState(!1),[i,o]=p.useState(t.vaccine),[l,c]=p.useState(new Date(t.due));p.useEffect(()=>{r&&(o(t.vaccine),c(new Date(t.due)))},[r,t]);const u=()=>{i&&l&&(e(t.id,{vaccine:i,due:l}),s(!1))};return a.jsxs(Vn,{open:r,onOpenChange:s,children:[a.jsx(Pi,{asChild:!0,children:n}),a.jsxs(jn,{className:"w-[95vw] max-w-md mx-auto bg-slate-800 border-slate-700 text-white",children:[a.jsxs(In,{children:[a.jsx(Pn,{className:"text-white",children:"Edit Reminder"}),a.jsx(nl,{className:"text-slate-400",children:"Update the details for this vaccination reminder."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(qe,{htmlFor:"dog",className:"text-right text-white",children:"Dog"}),a.jsx(Fe,{id:"dog",value:t.dog,disabled:!0,className:"col-span-3 bg-slate-700 border-slate-600 text-slate-400"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(qe,{htmlFor:"vaccine",className:"text-right text-white",children:"Vaccine"}),a.jsx(Fe,{id:"vaccine",value:i,onChange:d=>o(d.target.value),className:"col-span-3 bg-slate-700 border-slate-600 text-white placeholder-slate-400"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(qe,{htmlFor:"due-date",className:"text-right text-white",children:"Due Date"}),a.jsxs(vm,{children:[a.jsx(ym,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:te("col-span-3 justify-start text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!l&&"text-slate-400"),children:[a.jsx(xs,{className:"mr-2 h-4 w-4"}),l?ot(l,"PPP"):a.jsx("span",{children:"Pick a date"})]})}),a.jsx(Ed,{className:"w-auto p-0 bg-slate-800 border-slate-700",children:a.jsx(Om,{mode:"single",selected:l,onSelect:c,initialFocus:!0,className:"bg-slate-800 text-white"})})]})]})]}),a.jsx(_o,{children:a.jsx(ee,{type:"submit",onClick:u,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Save Changes"})})]})]})};var Fm=t=>t.type==="checkbox",wl=t=>t instanceof Date,ur=t=>t==null;const SV=t=>typeof t=="object";var dn=t=>!ur(t)&&!Array.isArray(t)&&SV(t)&&!wl(t),EV=t=>dn(t)&&t.target?Fm(t.target)?t.target.checked:t.target.value:t,vie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,NV=(t,e)=>t.has(vie(e)),yie=t=>{const e=t.constructor&&t.constructor.prototype;return dn(e)&&e.hasOwnProperty("isPrototypeOf")},hE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(hE&&(t instanceof Blob||t instanceof FileList))&&(n||dn(t)))if(e=n?[]:{},!n&&!yie(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Cr(t[r]));else return t;return e}var d0=t=>Array.isArray(t)?t.filter(Boolean):[],nn=t=>t===void 0,de=(t,e,n)=>{if(!e||!dn(t))return n;const r=d0(e.split(/[,[\].]+?/)).reduce((s,i)=>ur(s)?s:s[i],t);return nn(r)||r===t?nn(t[e])?n:t[e]:r},os=t=>typeof t=="boolean",fE=t=>/^\w*$/.test(t),TV=t=>d0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),yt=(t,e,n)=>{let r=-1;const s=fE(e)?[e]:TV(e),i=s.length,o=i-1;for(;++r<i;){const l=s[r];let c=n;if(r!==o){const u=t[l];c=dn(u)||Array.isArray(u)?u:isNaN(+s[r+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Iv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ks={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},RV=Z.createContext(null),h0=()=>Z.useContext(RV),xie=t=>{const{children:e,...n}=t;return Z.createElement(RV.Provider,{value:n},e)};var jV=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==ks.all&&(e._proxyFormState[o]=!r||ks.all),n&&(n[o]=!0),t[o]}});return s},Nr=t=>dn(t)&&!Object.keys(t).length,IV=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return Nr(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||ks.all))},Uh=t=>Array.isArray(t)?t:[t],PV=(t,e,n)=>!t||!e||t===e||Uh(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function mE(t){const e=Z.useRef(t);e.current=t,Z.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function wie(t){const e=h0(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,l]=Z.useState(n._formState),c=Z.useRef(!0),u=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Z.useRef(s);return d.current=s,mE({disabled:r,next:h=>c.current&&PV(d.current,h.name,i)&&IV(h,u.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),Z.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),jV(o,n,u.current,!1)}var hi=t=>typeof t=="string",kV=(t,e,n,r,s)=>hi(t)?(r&&e.watch.add(t),de(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),de(n,i))):(r&&(e.watchAll=!0),n);function AV(t){const e=h0(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},l=Z.useRef(r);l.current=r,mE({disabled:i,subject:n._subjects.values,next:d=>{PV(l.current,d.name,o)&&u(Cr(kV(l.current,n._names,d.values||n._formValues,!1,s)))}});const[c,u]=Z.useState(n._getWatch(r,s));return Z.useEffect(()=>n._removeUnmounted()),c}function _ie(t){const e=h0(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=NV(s._names.array,n),l=AV({control:s,name:n,defaultValue:de(s._formValues,n,de(s._defaultValues,n,t.defaultValue)),exact:!0}),c=wie({control:s,name:n,exact:!0}),u=Z.useRef(s.register(n,{...t.rules,value:l,...os(t.disabled)?{disabled:t.disabled}:{}}));return Z.useEffect(()=>{const d=s._options.shouldUnregister||i,h=(f,g)=>{const y=de(s._fields,f);y&&y._f&&(y._f.mount=g)};if(h(n,!0),d){const f=Cr(de(s._options.defaultValues,n));yt(s._defaultValues,n,f),nn(de(s._formValues,n))&&yt(s._formValues,n,f)}return()=>{(o?d&&!s._state.action:d)?s.unregister(n):h(n,!1)}},[n,s,o,i]),Z.useEffect(()=>{de(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:de(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:l,...os(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:Z.useCallback(d=>u.current.onChange({target:{value:EV(d),name:n},type:Iv.CHANGE}),[n]),onBlur:Z.useCallback(()=>u.current.onBlur({target:{value:de(s._formValues,n),name:n},type:Iv.BLUR}),[n,s]),ref:Z.useCallback(d=>{const h=de(s._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[s._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!de(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!de(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!de(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!de(c.validatingFields,n)},error:{enumerable:!0,get:()=>de(c.errors,n)}})}}const bie=t=>t.render(_ie(t));var DV=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},NI=t=>({isOnSubmit:!t||t===ks.onSubmit,isOnBlur:t===ks.onBlur,isOnChange:t===ks.onChange,isOnAll:t===ks.all,isOnTouch:t===ks.onTouched}),TI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Bh=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=de(t,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Bh(l,e))break}else if(dn(l)&&Bh(l,e))break}}};var Cie=(t,e,n)=>{const r=Uh(de(t,n));return yt(r,"root",e[n]),yt(t,n,r),t},pE=t=>t.type==="file",Yi=t=>typeof t=="function",Pv=t=>{if(!hE)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Sg=t=>hi(t),gE=t=>t.type==="radio",kv=t=>t instanceof RegExp;const RI={value:!1,isValid:!1},jI={value:!0,isValid:!0};var MV=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!nn(t[0].attributes.value)?nn(t[0].value)||t[0].value===""?jI:{value:t[0].value,isValid:!0}:jI:RI}return RI};const II={isValid:!1,value:null};var OV=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,II):II;function PI(t,e,n="validate"){if(Sg(t)||Array.isArray(t)&&t.every(Sg)||os(t)&&!t)return{type:n,message:Sg(t)?t:"",ref:e}}var Tc=t=>dn(t)&&!kv(t)?t:{value:t,message:""},kI=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:g,name:y,valueAsNumber:v,mount:x,disabled:_}=t._f,w=de(e,y);if(!x||_)return{};const b=o?o[0]:i,T=D=>{r&&b.reportValidity&&(b.setCustomValidity(os(D)?"":D||""),b.reportValidity())},I={},O=gE(i),j=Fm(i),S=O||j,N=(v||pE(i))&&nn(i.value)&&nn(w)||Pv(i)&&i.value===""||w===""||Array.isArray(w)&&!w.length,P=DV.bind(null,y,n,I),k=(D,R,$,G=Li.maxLength,q=Li.minLength)=>{const H=D?R:$;I[y]={type:D?G:q,message:H,ref:i,...P(D?G:q,H)}};if(s?!Array.isArray(w)||!w.length:l&&(!S&&(N||ur(w))||os(w)&&!w||j&&!MV(o).isValid||O&&!OV(o).isValid)){const{value:D,message:R}=Sg(l)?{value:!!l,message:l}:Tc(l);if(D&&(I[y]={type:Li.required,message:R,ref:b,...P(Li.required,R)},!n))return T(R),I}if(!N&&(!ur(d)||!ur(h))){let D,R;const $=Tc(h),G=Tc(d);if(!ur(w)&&!isNaN(w)){const q=i.valueAsNumber||w&&+w;ur($.value)||(D=q>$.value),ur(G.value)||(R=q<G.value)}else{const q=i.valueAsDate||new Date(w),H=re=>new Date(new Date().toDateString()+" "+re),M=i.type=="time",U=i.type=="week";hi($.value)&&w&&(D=M?H(w)>H($.value):U?w>$.value:q>new Date($.value)),hi(G.value)&&w&&(R=M?H(w)<H(G.value):U?w<G.value:q<new Date(G.value))}if((D||R)&&(k(!!D,$.message,G.message,Li.max,Li.min),!n))return T(I[y].message),I}if((c||u)&&!N&&(hi(w)||s&&Array.isArray(w))){const D=Tc(c),R=Tc(u),$=!ur(D.value)&&w.length>+D.value,G=!ur(R.value)&&w.length<+R.value;if(($||G)&&(k($,D.message,R.message),!n))return T(I[y].message),I}if(f&&!N&&hi(w)){const{value:D,message:R}=Tc(f);if(kv(D)&&!w.match(D)&&(I[y]={type:Li.pattern,message:R,ref:i,...P(Li.pattern,R)},!n))return T(R),I}if(g){if(Yi(g)){const D=await g(w,e),R=PI(D,b);if(R&&(I[y]={...R,...P(Li.validate,R.message)},!n))return T(R.message),I}else if(dn(g)){let D={};for(const R in g){if(!Nr(D)&&!n)break;const $=PI(await g[R](w,e),b,R);$&&(D={...$,...P(R,$.message)},T($.message),n&&(I[y]=D))}if(!Nr(D)&&(I[y]={ref:b,...D},!n))return I}}return T(!0),I};function Sie(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=nn(t)?r++:t[e[r++]];return t}function Eie(t){for(const e in t)if(t.hasOwnProperty(e)&&!nn(t[e]))return!1;return!0}function xn(t,e){const n=Array.isArray(e)?e:fE(e)?[e]:TV(e),r=n.length===1?t:Sie(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(dn(r)&&Nr(r)||Array.isArray(r)&&Eie(r))&&xn(t,n.slice(0,-1)),t}var Jx=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},Cb=t=>ur(t)||!SV(t);function Ho(t,e){if(Cb(t)||Cb(e))return t===e;if(wl(t)&&wl(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(wl(i)&&wl(o)||dn(i)&&dn(o)||Array.isArray(i)&&Array.isArray(o)?!Ho(i,o):i!==o)return!1}}return!0}var FV=t=>t.type==="select-multiple",Nie=t=>gE(t)||Fm(t),ew=t=>Pv(t)&&t.isConnected,LV=t=>{for(const e in t)if(Yi(t[e]))return!0;return!1};function Av(t,e={}){const n=Array.isArray(t);if(dn(t)||n)for(const r in t)Array.isArray(t[r])||dn(t[r])&&!LV(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Av(t[r],e[r])):ur(t[r])||(e[r]=!0);return e}function VV(t,e,n){const r=Array.isArray(t);if(dn(t)||r)for(const s in t)Array.isArray(t[s])||dn(t[s])&&!LV(t[s])?nn(e)||Cb(n[s])?n[s]=Array.isArray(t[s])?Av(t[s],[]):{...Av(t[s])}:VV(t[s],ur(e)?{}:e[s],n[s]):n[s]=!Ho(t[s],e[s]);return n}var Jd=(t,e)=>VV(t,e,Av(e)),$V=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>nn(t)?t:e?t===""?NaN:t&&+t:n&&hi(t)?new Date(t):r?r(t):t;function tw(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return pE(e)?e.files:gE(e)?OV(t.refs).value:FV(e)?[...e.selectedOptions].map(({value:n})=>n):Fm(e)?MV(t.refs).value:$V(nn(e.value)?t.ref.value:e.value,t)}var Tie=(t,e,n,r)=>{const s={};for(const i of t){const o=de(e,i);o&&yt(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},eh=t=>nn(t)?t:kv(t)?t.source:dn(t)?kv(t.value)?t.value.source:t.value:t;const AI="AsyncFunction";var Rie=t=>(!t||!t.validate)&&!!(Yi(t.validate)&&t.validate.constructor.name===AI||dn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===AI)),jie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function DI(t,e,n){const r=de(t,n);if(r||fE(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=de(e,i),l=de(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:n}}var Iie=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,Pie=(t,e)=>!d0(de(t,e)).length&&xn(t,e);const kie={mode:ks.onSubmit,reValidateMode:ks.onChange,shouldFocusError:!0};function Aie(t={}){let e={...kie,...t},n={submitCount:0,isDirty:!1,isLoading:Yi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=dn(e.defaultValues)||dn(e.values)?Cr(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Cr(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Jx(),array:Jx(),state:Jx()},f=NI(e.mode),g=NI(e.reValidateMode),y=e.criteriaMode===ks.all,v=L=>B=>{clearTimeout(u),u=setTimeout(L,B)},x=async L=>{if(!t.disabled&&(d.isValid||L)){const B=e.resolver?Nr((await S()).errors):await P(r,!0);B!==n.isValid&&h.state.next({isValid:B})}},_=(L,B)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((L||Array.from(l.mount)).forEach(Y=>{Y&&(B?yt(n.validatingFields,Y,B):xn(n.validatingFields,Y))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Nr(n.validatingFields)}))},w=(L,B=[],Y,fe,ce=!0,se=!0)=>{if(fe&&Y&&!t.disabled){if(o.action=!0,se&&Array.isArray(de(r,L))){const Se=Y(de(r,L),fe.argA,fe.argB);ce&&yt(r,L,Se)}if(se&&Array.isArray(de(n.errors,L))){const Se=Y(de(n.errors,L),fe.argA,fe.argB);ce&&yt(n.errors,L,Se),Pie(n.errors,L)}if(d.touchedFields&&se&&Array.isArray(de(n.touchedFields,L))){const Se=Y(de(n.touchedFields,L),fe.argA,fe.argB);ce&&yt(n.touchedFields,L,Se)}d.dirtyFields&&(n.dirtyFields=Jd(s,i)),h.state.next({name:L,isDirty:D(L,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else yt(i,L,B)},b=(L,B)=>{yt(n.errors,L,B),h.state.next({errors:n.errors})},T=L=>{n.errors=L,h.state.next({errors:n.errors,isValid:!1})},I=(L,B,Y,fe)=>{const ce=de(r,L);if(ce){const se=de(i,L,nn(Y)?de(s,L):Y);nn(se)||fe&&fe.defaultChecked||B?yt(i,L,B?se:tw(ce._f)):G(L,se),o.mount&&x()}},O=(L,B,Y,fe,ce)=>{let se=!1,Se=!1;const We={name:L};if(!t.disabled){const et=!!(de(r,L)&&de(r,L)._f&&de(r,L)._f.disabled);if(!Y||fe){d.isDirty&&(Se=n.isDirty,n.isDirty=We.isDirty=D(),se=Se!==We.isDirty);const Xe=et||Ho(de(s,L),B);Se=!!(!et&&de(n.dirtyFields,L)),Xe||et?xn(n.dirtyFields,L):yt(n.dirtyFields,L,!0),We.dirtyFields=n.dirtyFields,se=se||d.dirtyFields&&Se!==!Xe}if(Y){const Xe=de(n.touchedFields,L);Xe||(yt(n.touchedFields,L,Y),We.touchedFields=n.touchedFields,se=se||d.touchedFields&&Xe!==Y)}se&&ce&&h.state.next(We)}return se?We:{}},j=(L,B,Y,fe)=>{const ce=de(n.errors,L),se=d.isValid&&os(B)&&n.isValid!==B;if(t.delayError&&Y?(c=v(()=>b(L,Y)),c(t.delayError)):(clearTimeout(u),c=null,Y?yt(n.errors,L,Y):xn(n.errors,L)),(Y?!Ho(ce,Y):ce)||!Nr(fe)||se){const Se={...fe,...se&&os(B)?{isValid:B}:{},errors:n.errors,name:L};n={...n,...Se},h.state.next(Se)}},S=async L=>{_(L,!0);const B=await e.resolver(i,e.context,Tie(L||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(L),B},N=async L=>{const{errors:B}=await S(L);if(L)for(const Y of L){const fe=de(B,Y);fe?yt(n.errors,Y,fe):xn(n.errors,Y)}else n.errors=B;return B},P=async(L,B,Y={valid:!0})=>{for(const fe in L){const ce=L[fe];if(ce){const{_f:se,...Se}=ce;if(se){const We=l.array.has(se.name),et=ce._f&&Rie(ce._f);et&&d.validatingFields&&_([fe],!0);const Xe=await kI(ce,i,y,e.shouldUseNativeValidation&&!B,We);if(et&&d.validatingFields&&_([fe]),Xe[se.name]&&(Y.valid=!1,B))break;!B&&(de(Xe,se.name)?We?Cie(n.errors,Xe,se.name):yt(n.errors,se.name,Xe[se.name]):xn(n.errors,se.name))}!Nr(Se)&&await P(Se,B,Y)}}return Y.valid},k=()=>{for(const L of l.unMount){const B=de(r,L);B&&(B._f.refs?B._f.refs.every(Y=>!ew(Y)):!ew(B._f.ref))&&me(L)}l.unMount=new Set},D=(L,B)=>!t.disabled&&(L&&B&&yt(i,L,B),!Ho(W(),s)),R=(L,B,Y)=>kV(L,l,{...o.mount?i:nn(B)?s:hi(L)?{[L]:B}:B},Y,B),$=L=>d0(de(o.mount?i:s,L,t.shouldUnregister?de(s,L,[]):[])),G=(L,B,Y={})=>{const fe=de(r,L);let ce=B;if(fe){const se=fe._f;se&&(!se.disabled&&yt(i,L,$V(B,se)),ce=Pv(se.ref)&&ur(B)?"":B,FV(se.ref)?[...se.ref.options].forEach(Se=>Se.selected=ce.includes(Se.value)):se.refs?Fm(se.ref)?se.refs.length>1?se.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(ce)?!!ce.find(We=>We===Se.value):ce===Se.value)):se.refs[0]&&(se.refs[0].checked=!!ce):se.refs.forEach(Se=>Se.checked=Se.value===ce):pE(se.ref)?se.ref.value="":(se.ref.value=ce,se.ref.type||h.values.next({name:L,values:{...i}})))}(Y.shouldDirty||Y.shouldTouch)&&O(L,ce,Y.shouldTouch,Y.shouldDirty,!0),Y.shouldValidate&&re(L)},q=(L,B,Y)=>{for(const fe in B){const ce=B[fe],se=`${L}.${fe}`,Se=de(r,se);(l.array.has(L)||dn(ce)||Se&&!Se._f)&&!wl(ce)?q(se,ce,Y):G(se,ce,Y)}},H=(L,B,Y={})=>{const fe=de(r,L),ce=l.array.has(L),se=Cr(B);yt(i,L,se),ce?(h.array.next({name:L,values:{...i}}),(d.isDirty||d.dirtyFields)&&Y.shouldDirty&&h.state.next({name:L,dirtyFields:Jd(s,i),isDirty:D(L,se)})):fe&&!fe._f&&!ur(se)?q(L,se,Y):G(L,se,Y),TI(L,l)&&h.state.next({...n}),h.values.next({name:o.mount?L:void 0,values:{...i}})},M=async L=>{o.mount=!0;const B=L.target;let Y=B.name,fe=!0;const ce=de(r,Y),se=()=>B.type?tw(ce._f):EV(L),Se=We=>{fe=Number.isNaN(We)||wl(We)&&isNaN(We.getTime())||Ho(We,de(i,Y,We))};if(ce){let We,et;const Xe=se(),rr=L.type===Iv.BLUR||L.type===Iv.FOCUS_OUT,Cs=!jie(ce._f)&&!e.resolver&&!de(n.errors,Y)&&!ce._f.deps||Iie(rr,de(n.touchedFields,Y),n.isSubmitted,g,f),ki=TI(Y,l,rr);yt(i,Y,Xe),rr?(ce._f.onBlur&&ce._f.onBlur(L),c&&c(0)):ce._f.onChange&&ce._f.onChange(L);const ol=O(Y,Xe,rr,!1),Xs=!Nr(ol)||ki;if(!rr&&h.values.next({name:Y,type:L.type,values:{...i}}),Cs)return d.isValid&&(t.mode==="onBlur"?rr&&x():x()),Xs&&h.state.next({name:Y,...ki?{}:ol});if(!rr&&ki&&h.state.next({...n}),e.resolver){const{errors:bo}=await S([Y]);if(Se(Xe),fe){const vc=DI(n.errors,r,Y),Zs=DI(bo,r,vc.name||Y);We=Zs.error,Y=Zs.name,et=Nr(bo)}}else _([Y],!0),We=(await kI(ce,i,y,e.shouldUseNativeValidation))[Y],_([Y]),Se(Xe),fe&&(We?et=!1:d.isValid&&(et=await P(r,!0)));fe&&(ce._f.deps&&re(ce._f.deps),j(Y,et,We,ol))}},U=(L,B)=>{if(de(n.errors,B)&&L.focus)return L.focus(),1},re=async(L,B={})=>{let Y,fe;const ce=Uh(L);if(e.resolver){const se=await N(nn(L)?L:ce);Y=Nr(se),fe=L?!ce.some(Se=>de(se,Se)):Y}else L?(fe=(await Promise.all(ce.map(async se=>{const Se=de(r,se);return await P(Se&&Se._f?{[se]:Se}:Se)}))).every(Boolean),!(!fe&&!n.isValid)&&x()):fe=Y=await P(r);return h.state.next({...!hi(L)||d.isValid&&Y!==n.isValid?{}:{name:L},...e.resolver||!L?{isValid:Y}:{},errors:n.errors}),B.shouldFocus&&!fe&&Bh(r,U,L?ce:l.mount),fe},W=L=>{const B={...o.mount?i:s};return nn(L)?B:hi(L)?de(B,L):L.map(Y=>de(B,Y))},F=(L,B)=>({invalid:!!de((B||n).errors,L),isDirty:!!de((B||n).dirtyFields,L),error:de((B||n).errors,L),isValidating:!!de(n.validatingFields,L),isTouched:!!de((B||n).touchedFields,L)}),Q=L=>{L&&Uh(L).forEach(B=>xn(n.errors,B)),h.state.next({errors:L?n.errors:{}})},pe=(L,B,Y)=>{const fe=(de(r,L,{_f:{}})._f||{}).ref,ce=de(n.errors,L)||{},{ref:se,message:Se,type:We,...et}=ce;yt(n.errors,L,{...et,...B,ref:fe}),h.state.next({name:L,errors:n.errors,isValid:!1}),Y&&Y.shouldFocus&&fe&&fe.focus&&fe.focus()},he=(L,B)=>Yi(L)?h.values.subscribe({next:Y=>L(R(void 0,B),Y)}):R(L,B,!0),me=(L,B={})=>{for(const Y of L?Uh(L):l.mount)l.mount.delete(Y),l.array.delete(Y),B.keepValue||(xn(r,Y),xn(i,Y)),!B.keepError&&xn(n.errors,Y),!B.keepDirty&&xn(n.dirtyFields,Y),!B.keepTouched&&xn(n.touchedFields,Y),!B.keepIsValidating&&xn(n.validatingFields,Y),!e.shouldUnregister&&!B.keepDefaultValue&&xn(s,Y);h.values.next({values:{...i}}),h.state.next({...n,...B.keepDirty?{isDirty:D()}:{}}),!B.keepIsValid&&x()},le=({disabled:L,name:B,field:Y,fields:fe,value:ce})=>{if(os(L)&&o.mount||L){const se=L?void 0:nn(ce)?tw(Y?Y._f:de(fe,B)._f):ce;yt(i,B,se),O(B,se,!1,!1,!0)}},Re=(L,B={})=>{let Y=de(r,L);const fe=os(B.disabled)||os(t.disabled);return yt(r,L,{...Y||{},_f:{...Y&&Y._f?Y._f:{ref:{name:L}},name:L,mount:!0,...B}}),l.mount.add(L),Y?le({field:Y,disabled:os(B.disabled)?B.disabled:t.disabled,name:L,value:B.value}):I(L,!0,B.value),{...fe?{disabled:B.disabled||t.disabled}:{},...e.progressive?{required:!!B.required,min:eh(B.min),max:eh(B.max),minLength:eh(B.minLength),maxLength:eh(B.maxLength),pattern:eh(B.pattern)}:{},name:L,onChange:M,onBlur:M,ref:ce=>{if(ce){Re(L,B),Y=de(r,L);const se=nn(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Se=Nie(se),We=Y._f.refs||[];if(Se?We.find(et=>et===se):se===Y._f.ref)return;yt(r,L,{_f:{...Y._f,...Se?{refs:[...We.filter(ew),se,...Array.isArray(de(s,L))?[{}]:[]],ref:{type:se.type,name:L}}:{ref:se}}}),I(L,!1,void 0,se)}else Y=de(r,L,{}),Y._f&&(Y._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(NV(l.array,L)&&o.action)&&l.unMount.add(L)}}},Ue=()=>e.shouldFocusError&&Bh(r,U,l.mount),Ve=L=>{os(L)&&(h.state.next({disabled:L}),Bh(r,(B,Y)=>{const fe=de(r,Y);fe&&(B.disabled=fe._f.disabled||L,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(ce=>{ce.disabled=fe._f.disabled||L}))},0,!1))},nt=(L,B)=>async Y=>{let fe;Y&&(Y.preventDefault&&Y.preventDefault(),Y.persist&&Y.persist());let ce=Cr(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:Se}=await S();n.errors=se,ce=Se}else await P(r);if(xn(n.errors,"root"),Nr(n.errors)){h.state.next({errors:{}});try{await L(ce,Y)}catch(se){fe=se}}else B&&await B({...n.errors},Y),Ue(),setTimeout(Ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Nr(n.errors)&&!fe,submitCount:n.submitCount+1,errors:n.errors}),fe)throw fe},rt=(L,B={})=>{de(r,L)&&(nn(B.defaultValue)?H(L,Cr(de(s,L))):(H(L,B.defaultValue),yt(s,L,Cr(B.defaultValue))),B.keepTouched||xn(n.touchedFields,L),B.keepDirty||(xn(n.dirtyFields,L),n.isDirty=B.defaultValue?D(L,Cr(de(s,L))):D()),B.keepError||(xn(n.errors,L),d.isValid&&x()),h.state.next({...n}))},Xt=(L,B={})=>{const Y=L?Cr(L):s,fe=Cr(Y),ce=Nr(L),se=ce?s:fe;if(B.keepDefaultValues||(s=Y),!B.keepValues){if(B.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(Jd(s,i))]);for(const We of Array.from(Se))de(n.dirtyFields,We)?yt(se,We,de(i,We)):H(We,de(se,We))}else{if(hE&&nn(L))for(const Se of l.mount){const We=de(r,Se);if(We&&We._f){const et=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(Pv(et)){const Xe=et.closest("form");if(Xe){Xe.reset();break}}}}r={}}i=t.shouldUnregister?B.keepDefaultValues?Cr(s):{}:Cr(se),h.array.next({values:{...se}}),h.values.next({values:{...se}})}l={mount:B.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!B.keepIsValid||!!B.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:ce?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!Ho(L,s)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ce?{}:B.keepDirtyValues?B.keepDefaultValues&&i?Jd(s,i):n.dirtyFields:B.keepDefaultValues&&L?Jd(s,L):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},hn=(L,B)=>Xt(Yi(L)?L(i):L,B);return{control:{register:Re,unregister:me,getFieldState:F,handleSubmit:nt,setError:pe,_executeSchema:S,_getWatch:R,_getDirty:D,_updateValid:x,_removeUnmounted:k,_updateFieldArray:w,_updateDisabledField:le,_getFieldArray:$,_reset:Xt,_resetDefaultValues:()=>Yi(e.defaultValues)&&e.defaultValues().then(L=>{hn(L,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:L=>{n={...n,...L}},_disableForm:Ve,_subjects:h,_proxyFormState:d,_setErrors:T,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return n},set _formState(L){n=L},get _options(){return e},set _options(L){e={...e,...L}}},trigger:re,register:Re,handleSubmit:nt,watch:he,setValue:H,getValues:W,reset:hn,resetField:rt,clearErrors:Q,unregister:me,setError:pe,setFocus:(L,B={})=>{const Y=de(r,L),fe=Y&&Y._f;if(fe){const ce=fe.refs?fe.refs[0]:fe.ref;ce.focus&&(ce.focus(),B.shouldSelect&&ce.select())}},getFieldState:F}}function Lm(t={}){const e=Z.useRef(),n=Z.useRef(),[r,s]=Z.useState({isDirty:!1,isValidating:!1,isLoading:Yi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Yi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Aie(t),formState:r});const i=e.current.control;return i._options=t,mE({subject:i._subjects.state,next:o=>{IV(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),Z.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),Z.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),Z.useEffect(()=>{t.values&&!Ho(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),Z.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),Z.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Z.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),Z.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=jV(r,i),e.current}const MI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=de(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},UV=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?MI(r.ref,n,t):r.refs&&r.refs.forEach(s=>MI(s,n,t))}},Die=(t,e)=>{e.shouldUseNativeValidation&&UV(t,e);const n={};for(const r in t){const s=de(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(Mie(e.names||Object.keys(t),r)){const o=Object.assign({},de(n,r));yt(o,"root",i),yt(n,r,o)}else yt(n,r,i)}return n},Mie=(t,e)=>t.some(n=>n.startsWith(e+"."));var Oie=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[r.code];n[o]=DV(o,e,n,s,u?[].concat(u,r.message):r.message)}t.shift()}return n},Vm=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return i.shouldUseNativeValidation&&UV({},i),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Die(Oie(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},pt;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(pt||(pt={}));var OI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(OI||(OI={}));const xe=pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ml=t=>{switch(typeof t){case"undefined":return xe.undefined;case"string":return xe.string;case"number":return isNaN(t)?xe.nan:xe.number;case"boolean":return xe.boolean;case"function":return xe.function;case"bigint":return xe.bigint;case"symbol":return xe.symbol;case"object":return Array.isArray(t)?xe.array:t===null?xe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?xe.promise:typeof Map<"u"&&t instanceof Map?xe.map:typeof Set<"u"&&t instanceof Set?xe.set:typeof Date<"u"&&t instanceof Date?xe.date:xe.object;default:return xe.unknown}},ae=pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ms extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),r}static assert(e){if(!(e instanceof ms))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ms.create=t=>new ms(t);const jf=(t,e)=>{let n;switch(t.code){case ae.invalid_type:t.received===xe.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ae.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,pt.jsonStringifyReplacer)}`;break;case ae.unrecognized_keys:n=`Unrecognized key(s) in object: ${pt.joinValues(t.keys,", ")}`;break;case ae.invalid_union:n="Invalid input";break;case ae.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${pt.joinValues(t.options)}`;break;case ae.invalid_enum_value:n=`Invalid enum value. Expected ${pt.joinValues(t.options)}, received '${t.received}'`;break;case ae.invalid_arguments:n="Invalid function arguments";break;case ae.invalid_return_type:n="Invalid function return type";break;case ae.invalid_date:n="Invalid date";break;case ae.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ae.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ae.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ae.custom:n="Invalid input";break;case ae.invalid_intersection_types:n="Intersection results could not be merged";break;case ae.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ae.not_finite:n="Number must be finite";break;default:n=e.defaultError,pt.assertNever(t)}return{message:n}};let Fie=jf;function Sb(){return Fie}const Eb=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:i,message:l}};function ge(t,e){const n=Sb(),r=Eb({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===jf?void 0:jf].filter(s=>!!s)});t.common.issues.push(r)}class gr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return $e;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return gr.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return $e;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const $e=Object.freeze({status:"aborted"}),mh=t=>({status:"dirty",value:t}),Mr=t=>({status:"valid",value:t}),FI=t=>t.status==="aborted",LI=t=>t.status==="dirty",Dv=t=>t.status==="valid",Mv=t=>typeof Promise<"u"&&t instanceof Promise;function Ov(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function BV(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ee;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ee||(Ee={}));var ph,gh;class Ei{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const VI=(t,e)=>{if(Dv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ms(t.common.issues);return this._error=n,this._error}}};function Qe(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:s}}class at{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return ml(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new gr,ctx:{common:e.parent.common,data:e.data,parsedType:ml(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Mv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ml(e)},i=this._parseSync({data:e,path:s.path,parent:s});return VI(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ml(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(Mv(s)?s:Promise.resolve(s));return VI(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),l=()=>i.addIssue({code:ae.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new fo({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Zi.create(this,this._def)}nullable(){return ec.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xi.create(this,this._def)}promise(){return If.create(this,this._def)}or(e){return $v.create([this,e],this._def)}and(e){return Uv.create(this,e,this._def)}transform(e){return new fo({...Qe(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new qv({...Qe(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new qV({typeName:Le.ZodBranded,type:this,...Qe(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Gv({...Qe(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return f0.create(this,e)}readonly(){return Kv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lie=/^c[^\s-]{8,}$/i,Vie=/^[0-9a-z]+$/,$ie=/^[0-9A-HJKMNP-TV-Z]{26}$/,Uie=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Bie=/^[a-z0-9_-]{21}$/i,zie=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Hie=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wie="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let nw;const qie=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Gie=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Kie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zV="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Yie=new RegExp(`^${zV}$`);function HV(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Qie(t){return new RegExp(`^${HV(t)}$`)}function Xie(t){let e=`${zV}T${HV(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Zie(t,e){return!!((e==="v4"||!e)&&qie.test(t)||(e==="v6"||!e)&&Gie.test(t))}class fi extends at{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==xe.string){const i=this._getOrReturnCtx(e);return ge(i,{code:ae.invalid_type,expected:xe.string,received:i.parsedType}),$e}const r=new gr;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?ge(s,{code:ae.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&ge(s,{code:ae.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Hie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"email",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")nw||(nw=new RegExp(Wie,"u")),nw.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"emoji",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Uie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"uuid",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Bie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"nanoid",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")Lie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"cuid",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Vie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"cuid2",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")$ie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"ulid",code:ae.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),ge(s,{validation:"url",code:ae.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"regex",code:ae.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Xie(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Yie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Qie(i).test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?zie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"duration",code:ae.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Zie(e.data,i.version)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"ip",code:ae.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?Kie.test(e.data)||(s=this._getOrReturnCtx(e,s),ge(s,{validation:"base64",code:ae.invalid_string,message:i.message}),r.dirty()):pt.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:ae.invalid_string,...Ee.errToObj(r)})}_addCheck(e){return new fi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ee.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ee.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ee.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ee.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ee.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ee.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ee.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ee.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ee.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ee.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...Ee.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ee.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ee.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ee.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ee.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ee.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ee.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ee.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ee.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ee.errToObj(n)})}nonempty(e){return this.min(1,Ee.errToObj(e))}trim(){return new fi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fi.create=t=>{var e;return new fi({checks:[],typeName:Le.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qe(t)})};function Jie(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Xl extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==xe.number){const i=this._getOrReturnCtx(e);return ge(i,{code:ae.invalid_type,expected:xe.number,received:i.parsedType}),$e}let r;const s=new gr;for(const i of this._def.checks)i.kind==="int"?pt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Jie(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.not_finite,message:i.message}),s.dirty()):pt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ee.toString(n))}setLimit(e,n,r,s){return new Xl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ee.toString(s)}]})}_addCheck(e){return new Xl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ee.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ee.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ee.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ee.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Xl.create=t=>new Xl({checks:[],typeName:Le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class Zl extends at{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==xe.bigint){const i=this._getOrReturnCtx(e);return ge(i,{code:ae.invalid_type,expected:xe.bigint,received:i.parsedType}),$e}let r;const s=new gr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ge(r,{code:ae.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):pt.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ee.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ee.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ee.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ee.toString(n))}setLimit(e,n,r,s){return new Zl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ee.toString(s)}]})}_addCheck(e){return new Zl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ee.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ee.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ee.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Zl.create=t=>{var e;return new Zl({checks:[],typeName:Le.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qe(t)})};class Fv extends at{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==xe.boolean){const r=this._getOrReturnCtx(e);return ge(r,{code:ae.invalid_type,expected:xe.boolean,received:r.parsedType}),$e}return Mr(e.data)}}Fv.create=t=>new Fv({typeName:Le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Qe(t)});class ed extends at{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==xe.date){const i=this._getOrReturnCtx(e);return ge(i,{code:ae.invalid_type,expected:xe.date,received:i.parsedType}),$e}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return ge(i,{code:ae.invalid_date}),$e}const r=new gr;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),ge(s,{code:ae.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):pt.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ed({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ee.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ee.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ed.create=t=>new ed({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Le.ZodDate,...Qe(t)});class Nb extends at{_parse(e){if(this._getType(e)!==xe.symbol){const r=this._getOrReturnCtx(e);return ge(r,{code:ae.invalid_type,expected:xe.symbol,received:r.parsedType}),$e}return Mr(e.data)}}Nb.create=t=>new Nb({typeName:Le.ZodSymbol,...Qe(t)});class Lv extends at{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return ge(r,{code:ae.invalid_type,expected:xe.undefined,received:r.parsedType}),$e}return Mr(e.data)}}Lv.create=t=>new Lv({typeName:Le.ZodUndefined,...Qe(t)});class Vv extends at{_parse(e){if(this._getType(e)!==xe.null){const r=this._getOrReturnCtx(e);return ge(r,{code:ae.invalid_type,expected:xe.null,received:r.parsedType}),$e}return Mr(e.data)}}Vv.create=t=>new Vv({typeName:Le.ZodNull,...Qe(t)});class Tb extends at{constructor(){super(...arguments),this._any=!0}_parse(e){return Mr(e.data)}}Tb.create=t=>new Tb({typeName:Le.ZodAny,...Qe(t)});class hu extends at{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mr(e.data)}}hu.create=t=>new hu({typeName:Le.ZodUnknown,...Qe(t)});class Ua extends at{_parse(e){const n=this._getOrReturnCtx(e);return ge(n,{code:ae.invalid_type,expected:xe.never,received:n.parsedType}),$e}}Ua.create=t=>new Ua({typeName:Le.ZodNever,...Qe(t)});class Rb extends at{_parse(e){if(this._getType(e)!==xe.undefined){const r=this._getOrReturnCtx(e);return ge(r,{code:ae.invalid_type,expected:xe.void,received:r.parsedType}),$e}return Mr(e.data)}}Rb.create=t=>new Rb({typeName:Le.ZodVoid,...Qe(t)});class xi extends at{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==xe.array)return ge(n,{code:ae.invalid_type,expected:xe.array,received:n.parsedType}),$e;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,l=n.data.length<s.exactLength.value;(o||l)&&(ge(n,{code:o?ae.too_big:ae.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(ge(n,{code:ae.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(ge(n,{code:ae.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>s.type._parseAsync(new Ei(n,o,n.path,l)))).then(o=>gr.mergeArray(r,o));const i=[...n.data].map((o,l)=>s.type._parseSync(new Ei(n,o,n.path,l)));return gr.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new xi({...this._def,minLength:{value:e,message:Ee.toString(n)}})}max(e,n){return new xi({...this._def,maxLength:{value:e,message:Ee.toString(n)}})}length(e,n){return new xi({...this._def,exactLength:{value:e,message:Ee.toString(n)}})}nonempty(e){return this.min(1,e)}}xi.create=(t,e)=>new xi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Qe(e)});function Dc(t){if(t instanceof en){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Zi.create(Dc(r))}return new en({...t._def,shape:()=>e})}else return t instanceof xi?new xi({...t._def,type:Dc(t.element)}):t instanceof Zi?Zi.create(Dc(t.unwrap())):t instanceof ec?ec.create(Dc(t.unwrap())):t instanceof ho?ho.create(t.items.map(e=>Dc(e))):t}class en extends at{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==xe.object){const u=this._getOrReturnCtx(e);return ge(u,{code:ae.invalid_type,expected:xe.object,received:u.parsedType}),$e}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ua&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Ei(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Ua){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ge(s,{code:ae.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Ei(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>gr.mergeObjectSync(r,u)):gr.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Ee.errToObj,new en({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,l;const c=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ee.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(e){return new en({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new en({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new en({...this._def,catchall:e})}pick(e){const n={};return pt.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new en({...this._def,shape:()=>n})}omit(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new en({...this._def,shape:()=>n})}deepPartial(){return Dc(this)}partial(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new en({...this._def,shape:()=>n})}required(e){const n={};return pt.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Zi;)i=i._def.innerType;n[r]=i}}),new en({...this._def,shape:()=>n})}keyof(){return WV(pt.objectKeys(this.shape))}}en.create=(t,e)=>new en({shape:()=>t,unknownKeys:"strip",catchall:Ua.create(),typeName:Le.ZodObject,...Qe(e)});en.strictCreate=(t,e)=>new en({shape:()=>t,unknownKeys:"strict",catchall:Ua.create(),typeName:Le.ZodObject,...Qe(e)});en.lazycreate=(t,e)=>new en({shape:t,unknownKeys:"strip",catchall:Ua.create(),typeName:Le.ZodObject,...Qe(e)});class $v extends at{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ms(l.ctx.common.issues));return ge(n,{code:ae.invalid_union,unionErrors:o}),$e}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ms(c));return ge(n,{code:ae.invalid_union,unionErrors:l}),$e}}get options(){return this._def.options}}$v.create=(t,e)=>new $v({options:t,typeName:Le.ZodUnion,...Qe(e)});const $i=t=>t instanceof zv?$i(t.schema):t instanceof fo?$i(t.innerType()):t instanceof Hv?[t.value]:t instanceof Jl?t.options:t instanceof Wv?pt.objectValues(t.enum):t instanceof qv?$i(t._def.innerType):t instanceof Lv?[void 0]:t instanceof Vv?[null]:t instanceof Zi?[void 0,...$i(t.unwrap())]:t instanceof ec?[null,...$i(t.unwrap())]:t instanceof qV||t instanceof Kv?$i(t.unwrap()):t instanceof Gv?$i(t._def.innerType):[];class vE extends at{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.object)return ge(n,{code:ae.invalid_type,expected:xe.object,received:n.parsedType}),$e;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(ge(n,{code:ae.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$e)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=$i(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,i)}}return new vE({typeName:Le.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...Qe(r)})}}function jb(t,e){const n=ml(t),r=ml(e);if(t===e)return{valid:!0,data:t};if(n===xe.object&&r===xe.object){const s=pt.objectKeys(e),i=pt.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=jb(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===xe.array&&r===xe.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=jb(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===xe.date&&r===xe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Uv extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(FI(i)||FI(o))return $e;const l=jb(i.value,o.value);return l.valid?((LI(i)||LI(o))&&n.dirty(),{status:n.value,value:l.data}):(ge(r,{code:ae.invalid_intersection_types}),$e)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Uv.create=(t,e,n)=>new Uv({left:t,right:e,typeName:Le.ZodIntersection,...Qe(n)});class ho extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.array)return ge(r,{code:ae.invalid_type,expected:xe.array,received:r.parsedType}),$e;if(r.data.length<this._def.items.length)return ge(r,{code:ae.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$e;!this._def.rest&&r.data.length>this._def.items.length&&(ge(r,{code:ae.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Ei(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>gr.mergeArray(n,o)):gr.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new ho({...this._def,rest:e})}}ho.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ho({items:t,typeName:Le.ZodTuple,rest:null,...Qe(e)})};class Bv extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.object)return ge(r,{code:ae.invalid_type,expected:xe.object,received:r.parsedType}),$e;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in r.data)s.push({key:i._parse(new Ei(r,l,r.path,l)),value:o._parse(new Ei(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?gr.mergeObjectAsync(n,s):gr.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof at?new Bv({keyType:e,valueType:n,typeName:Le.ZodRecord,...Qe(r)}):new Bv({keyType:fi.create(),valueType:e,typeName:Le.ZodRecord,...Qe(n)})}}class Ib extends at{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.map)return ge(r,{code:ae.invalid_type,expected:xe.map,received:r.parsedType}),$e;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:s._parse(new Ei(r,l,r.path,[u,"key"])),value:i._parse(new Ei(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return $e;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return $e;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Ib.create=(t,e,n)=>new Ib({valueType:e,keyType:t,typeName:Le.ZodMap,...Qe(n)});class td extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==xe.set)return ge(r,{code:ae.invalid_type,expected:xe.set,received:r.parsedType}),$e;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(ge(r,{code:ae.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(ge(r,{code:ae.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return $e;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>i._parse(new Ei(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new td({...this._def,minSize:{value:e,message:Ee.toString(n)}})}max(e,n){return new td({...this._def,maxSize:{value:e,message:Ee.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}td.create=(t,e)=>new td({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...Qe(e)});class zh extends at{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.function)return ge(n,{code:ae.invalid_type,expected:xe.function,received:n.parsedType}),$e;function r(l,c){return Eb({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sb(),jf].filter(u=>!!u),issueData:{code:ae.invalid_arguments,argumentsError:c}})}function s(l,c){return Eb({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sb(),jf].filter(u=>!!u),issueData:{code:ae.invalid_return_type,returnTypeError:c}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof If){const l=this;return Mr(async function(...c){const u=new ms([]),d=await l._def.args.parseAsync(c,i).catch(g=>{throw u.addIssue(r(c,g)),u}),h=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(h,i).catch(g=>{throw u.addIssue(s(h,g)),u})})}else{const l=this;return Mr(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new ms([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(d,i);if(!h.success)throw new ms([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zh({...this._def,args:ho.create(e).rest(hu.create())})}returns(e){return new zh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zh({args:e||ho.create([]).rest(hu.create()),returns:n||hu.create(),typeName:Le.ZodFunction,...Qe(r)})}}class zv extends at{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zv.create=(t,e)=>new zv({getter:t,typeName:Le.ZodLazy,...Qe(e)});class Hv extends at{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ge(n,{received:n.data,code:ae.invalid_literal,expected:this._def.value}),$e}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hv.create=(t,e)=>new Hv({value:t,typeName:Le.ZodLiteral,...Qe(e)});function WV(t,e){return new Jl({values:t,typeName:Le.ZodEnum,...Qe(e)})}class Jl extends at{constructor(){super(...arguments),ph.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ge(n,{expected:pt.joinValues(r),received:n.parsedType,code:ae.invalid_type}),$e}if(Ov(this,ph)||BV(this,ph,new Set(this._def.values)),!Ov(this,ph).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ge(n,{received:n.data,code:ae.invalid_enum_value,options:r}),$e}return Mr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Jl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Jl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}ph=new WeakMap;Jl.create=WV;class Wv extends at{constructor(){super(...arguments),gh.set(this,void 0)}_parse(e){const n=pt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==xe.string&&r.parsedType!==xe.number){const s=pt.objectValues(n);return ge(r,{expected:pt.joinValues(s),received:r.parsedType,code:ae.invalid_type}),$e}if(Ov(this,gh)||BV(this,gh,new Set(pt.getValidEnumValues(this._def.values))),!Ov(this,gh).has(e.data)){const s=pt.objectValues(n);return ge(r,{received:r.data,code:ae.invalid_enum_value,options:s}),$e}return Mr(e.data)}get enum(){return this._def.values}}gh=new WeakMap;Wv.create=(t,e)=>new Wv({values:t,typeName:Le.ZodNativeEnum,...Qe(e)});class If extends at{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==xe.promise&&n.common.async===!1)return ge(n,{code:ae.invalid_type,expected:xe.promise,received:n.parsedType}),$e;const r=n.parsedType===xe.promise?n.data:Promise.resolve(n.data);return Mr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}If.create=(t,e)=>new If({type:t,typeName:Le.ZodPromise,...Qe(e)});class fo extends at{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{ge(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return $e;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?$e:c.status==="dirty"||n.value==="dirty"?mh(c.value):c});{if(n.value==="aborted")return $e;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?$e:l.status==="dirty"||n.value==="dirty"?mh(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?$e:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?$e:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Dv(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Dv(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:n.value,value:l})):o);pt.assertNever(s)}}fo.create=(t,e,n)=>new fo({schema:t,typeName:Le.ZodEffects,effect:e,...Qe(n)});fo.createWithPreprocess=(t,e,n)=>new fo({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...Qe(n)});class Zi extends at{_parse(e){return this._getType(e)===xe.undefined?Mr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Zi.create=(t,e)=>new Zi({innerType:t,typeName:Le.ZodOptional,...Qe(e)});class ec extends at{_parse(e){return this._getType(e)===xe.null?Mr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ec.create=(t,e)=>new ec({innerType:t,typeName:Le.ZodNullable,...Qe(e)});class qv extends at{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===xe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}qv.create=(t,e)=>new qv({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qe(e)});class Gv extends at{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Mv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ms(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ms(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Gv.create=(t,e)=>new Gv({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qe(e)});class Pb extends at{_parse(e){if(this._getType(e)!==xe.nan){const r=this._getOrReturnCtx(e);return ge(r,{code:ae.invalid_type,expected:xe.nan,received:r.parsedType}),$e}return{status:"valid",value:e.data}}}Pb.create=t=>new Pb({typeName:Le.ZodNaN,...Qe(t)});class qV extends at{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class f0 extends at{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?$e:i.status==="dirty"?(n.dirty(),mh(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?$e:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new f0({in:e,out:n,typeName:Le.ZodPipeline})}}class Kv extends at{_parse(e){const n=this._def.innerType._parse(e),r=s=>(Dv(s)&&(s.value=Object.freeze(s.value)),s);return Mv(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Kv.create=(t,e)=>new Kv({innerType:t,typeName:Le.ZodReadonly,...Qe(e)});en.lazycreate;var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const Qn=fi.create;Xl.create;Pb.create;Zl.create;const eoe=Fv.create,toe=ed.create;Nb.create;Lv.create;Vv.create;Tb.create;hu.create;Ua.create;Rb.create;const noe=xi.create,$m=en.create;en.strictCreate;$v.create;vE.create;Uv.create;ho.create;Bv.create;Ib.create;td.create;zh.create;zv.create;Hv.create;const yE=Jl.create;Wv.create;If.create;fo.create;Zi.create;ec.create;fo.createWithPreprocess;f0.create;const kb={string:t=>fi.create({...t,coerce:!0}),number:t=>Xl.create({...t,coerce:!0}),boolean:t=>Fv.create({...t,coerce:!0}),bigint:t=>Zl.create({...t,coerce:!0}),date:t=>ed.create({...t,coerce:!0})},Um=xie,GV=p.createContext({}),Lt=({...t})=>a.jsx(GV.Provider,{value:{name:t.name},children:a.jsx(bie,{...t})}),m0=()=>{const t=p.useContext(GV),e=p.useContext(KV),{getFieldState:n,formState:r}=h0(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},KV=p.createContext({}),Dt=p.forwardRef(({className:t,...e},n)=>{const r=p.useId();return a.jsx(KV.Provider,{value:{id:r},children:a.jsx("div",{ref:n,className:te("space-y-2",t),...e})})});Dt.displayName="FormItem";const qt=p.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=m0();return a.jsx(qe,{ref:n,className:te(r&&"text-destructive",t),htmlFor:s,...e})});qt.displayName="FormLabel";const Mt=p.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=m0();return a.jsx(wi,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Mt.displayName="FormControl";const roe=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=m0();return a.jsx("p",{ref:n,id:r,className:te("text-sm text-muted-foreground",t),...e})});roe.displayName="FormDescription";const Vt=p.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=m0(),o=s?String(s==null?void 0:s.message):e;return o?a.jsx("p",{ref:r,id:i,className:te("text-sm font-medium text-destructive",t),...n,children:o}):null});Vt.displayName="FormMessage";const YV=()=>{const[t,e]=p.useState(!1);return p.useEffect(()=>{if(window.Razorpay){console.log("Razorpay already loaded"),e(!0);return}const n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.async=!0;const r=()=>{console.log("Razorpay SDK loaded successfully"),e(!0)},s=()=>{console.error("Razorpay SDK could not be loaded."),e(!1)};return n.addEventListener("load",r),n.addEventListener("error",s),document.head.appendChild(n),()=>{n.removeEventListener("load",r),n.removeEventListener("error",s),document.head.contains(n)&&document.head.removeChild(n)}},[]),t},soe=t=>Gs({queryKey:["availableSlots"],queryFn:async()=>{const n=Ct(je,"bookingSlots"),r=Ci(n,Nf("datetime",">",rn.now()),lm("datetime","asc"));return(await pn(r)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>!o.isBooked)},enabled:t.enabled}),ioe=async t=>{console.log("=== STARTING FETCH PRODUCTS ==="),console.log("Pet type parameter:",t),console.log("Database reference:",je);const e=Ct(je,"products");console.log("Products collection reference created:",e);try{console.log("Attempting to fetch ALL products first...");const n=Ci(e),r=await pn(n);if(console.log("Total products in database:",r.docs.length),r.docs.forEach((i,o)=>{console.log(`Product ${o+1}:`,{id:i.id,...i.data()})}),r.docs.length===0)return console.log(" NO PRODUCTS FOUND IN DATABASE - This is the root issue!"),console.log("Make sure to add products through the Admin -> Products tab"),[];let s;if(t&&t!=="Both"){const i=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();console.log("Filtering for normalized pet type:",i),s=r.docs.map(o=>{const l=o.data();return{id:o.id,name:l.name||"",price:l.price||0,category:l.category||"Dog",createdAt:l.createdAt}}).filter(o=>{const l=o.category===i||o.category==="Both";return console.log(`Product "${o.name}" (category: ${o.category}) matches ${i}:`,l),l})}else console.log("No filtering needed, returning all products"),s=r.docs.map(i=>{const o=i.data();return{id:i.id,name:o.name||"",price:o.price||0,category:o.category||"Dog",createdAt:o.createdAt}});return console.log("Final filtered products:",s),console.log("=== FETCH PRODUCTS COMPLETE ==="),s}catch(n){return console.error(" Error in fetchProducts:",n),console.error("Error details:",{name:n.name,message:n.message,code:n.code,stack:n.stack}),[]}},QV=t=>{console.log("useProducts hook called with petType:",t);const e=Gs({queryKey:["products",t],queryFn:()=>ioe(t)});return console.log("useProducts result:",e.data),e.error&&console.error("useProducts error:",e.error),e},ooe=({availableSlots:t,selectedSlotId:e,onSlotSelect:n,isLoading:r})=>{var d;const[s,i]=p.useState(),o=p.useMemo(()=>t?t.reduce((h,f)=>{const g=ot(f.datetime.toDate(),"yyyy-MM-dd");return h[g]||(h[g]=[]),h[g].push(f),h},{}):{},[t]),l=p.useMemo(()=>Object.keys(o).map(h=>{const[f,g,y]=h.split("-").map(Number);return new Date(f,g-1,y)}),[o]),c=h=>{i(h)},u=s?((d=o[ot(s,"yyyy-MM-dd")])==null?void 0:d.sort((h,f)=>h.datetime.toMillis()-f.datetime.toMillis()))||[]:[];return a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-2 text-center",children:"Select a Date"}),a.jsx(Om,{mode:"single",selected:s,onSelect:c,disabled:h=>{const f=$a();return h<f?!0:!l.some(g=>er(h,g))},className:"rounded-md border flex justify-center"})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"text-sm font-medium mb-2 text-center",children:s?"Available Times":"Select a date to see times"}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:[r&&a.jsx("div",{className:"col-span-full flex items-center justify-center h-full",children:a.jsx(l2,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),!r&&s&&u.length>0&&u.map(h=>a.jsx(ee,{variant:e===h.id?"default":"outline",onClick:()=>n(h.id),className:"w-full",children:ot(h.datetime.toDate(),"h:mm a")},h.id)),!r&&s&&u.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground col-span-full text-center mt-4",children:"No slots available for this day."}),!r&&!s&&a.jsx("p",{className:"text-sm text-muted-foreground col-span-full text-center mt-4",children:"Please pick a date."})]})]})]})},aoe=({control:t,availableSlots:e,isLoading:n})=>a.jsx("div",{className:"animate-in fade-in",children:a.jsx(Lt,{control:t,name:"slotId",render:({field:r})=>a.jsxs(Dt,{children:[a.jsx(Mt,{children:a.jsx(ooe,{availableSlots:e,selectedSlotId:r.value,onSlotSelect:r.onChange,isLoading:n})}),a.jsx(Vt,{})]})})}),loe=({control:t})=>a.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:t,name:"name",render:({field:e})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Full Name"}),a.jsx(Mt,{children:a.jsx(Fe,{placeholder:"John Doe",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:t,name:"phone",render:({field:e})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Phone Number"}),a.jsx(Mt,{children:a.jsx(Fe,{placeholder:"+91 98765 43210",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),a.jsx(Vt,{})]})})]}),a.jsx(Lt,{control:t,name:"address",render:({field:e})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Address"}),a.jsx(Mt,{children:a.jsx(Fe,{placeholder:"123, Main Street",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),a.jsx(Vt,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Lt,{control:t,name:"city",render:({field:e})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"City"}),a.jsx(Mt,{children:a.jsx(Fe,{placeholder:"Mumbai",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:t,name:"postalCode",render:({field:e})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Postal Code"}),a.jsx(Mt,{children:a.jsx(Fe,{placeholder:"400001",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),a.jsx(Vt,{})]})})]})]});var $I=1,coe=.9,uoe=.8,doe=.17,rw=.1,sw=.999,hoe=.9999,foe=.99,moe=/[\\\/_+.#"@\[\(\{&]/,poe=/[\\\/_+.#"@\[\(\{&]/g,goe=/[\s-]/,XV=/[\s-]/g;function Ab(t,e,n,r,s,i,o){if(i===e.length)return s===t.length?$I:foe;var l=`${s},${i}`;if(o[l]!==void 0)return o[l];for(var c=r.charAt(i),u=n.indexOf(c,s),d=0,h,f,g,y;u>=0;)h=Ab(t,e,n,r,u+1,i+1,o),h>d&&(u===s?h*=$I:moe.test(t.charAt(u-1))?(h*=uoe,g=t.slice(s,u-1).match(poe),g&&s>0&&(h*=Math.pow(sw,g.length))):goe.test(t.charAt(u-1))?(h*=coe,y=t.slice(s,u-1).match(XV),y&&s>0&&(h*=Math.pow(sw,y.length))):(h*=doe,s>0&&(h*=Math.pow(sw,u-s))),t.charAt(u)!==e.charAt(i)&&(h*=hoe)),(h<rw&&n.charAt(u-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(u-1)!==r.charAt(i))&&(f=Ab(t,e,n,r,u+1,i+2,o),f*rw>h&&(h=f*rw)),h>d&&(d=h),u=n.indexOf(c,u+1);return o[l]=d,d}function UI(t){return t.toLowerCase().replace(XV," ")}function voe(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,Ab(t,e,UI(t),UI(e),0,0,{})}function vr(){return vr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vr.apply(null,arguments)}function fu(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function yoe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function ZV(...t){return e=>t.forEach(n=>yoe(n,e))}function Bm(...t){return p.useCallback(ZV(...t),t)}function xoe(t,e=[]){let n=[];function r(i,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...y}=h,v=(f==null?void 0:f[t][c])||l,x=p.useMemo(()=>y,Object.values(y));return p.createElement(v.Provider,{value:x},g)}function d(h,f){const g=(f==null?void 0:f[t][c])||l,y=p.useContext(g);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,woe(s,...e)]}function woe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const Db=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},_oe=n1.useId||(()=>{});let boe=0;function iw(t){const[e,n]=p.useState(_oe());return Db(()=>{t||n(r=>r??String(boe++))},[t]),t||(e?`radix-${e}`:"")}function tc(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Coe({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=Soe({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=tc(n),c=p.useCallback(u=>{if(i){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else s(u)},[i,t,s,l]);return[o,c]}function Soe({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=tc(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}const xE=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),i=s.find(Noe);if(i){const o=i.props.children,l=s.map(c=>c===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return p.createElement(Mb,vr({},r,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,l):null)}return p.createElement(Mb,vr({},r,{ref:e}),n)});xE.displayName="Slot";const Mb=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...Toe(r,n.props),ref:e?ZV(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});Mb.displayName="SlotClone";const Eoe=({children:t})=>p.createElement(p.Fragment,null,t);function Noe(t){return p.isValidElement(t)&&t.type===Eoe}function Toe(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const Roe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bs=Roe.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...o}=r,l=i?xE:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(l,vr({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function joe(t,e){t&&vo.flushSync(()=>t.dispatchEvent(e))}function Ioe(t,e=globalThis==null?void 0:globalThis.document){const n=tc(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const Ob="dismissableLayer.update",Poe="dismissableLayer.pointerDownOutside",koe="dismissableLayer.focusOutside";let BI;const Aoe=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Doe=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=t,d=p.useContext(Aoe),[h,f]=p.useState(null),g=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,y]=p.useState({}),v=Bm(e,S=>f(S)),x=Array.from(d.layers),[_]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),w=x.indexOf(_),b=h?x.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,I=b>=w,O=Moe(S=>{const N=S.target,P=[...d.branches].some(k=>k.contains(N));!I||P||(i==null||i(S),l==null||l(S),S.defaultPrevented||c==null||c())},g),j=Ooe(S=>{const N=S.target;[...d.branches].some(k=>k.contains(N))||(o==null||o(S),l==null||l(S),S.defaultPrevented||c==null||c())},g);return Ioe(S=>{b===d.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},g),p.useEffect(()=>{if(h)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(BI=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),zI(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=BI)}},[h,g,r,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),zI())},[h,d]),p.useEffect(()=>{const S=()=>y({});return document.addEventListener(Ob,S),()=>document.removeEventListener(Ob,S)},[]),p.createElement(bs.div,vr({},u,{ref:v,style:{pointerEvents:T?I?"auto":"none":void 0,...t.style},onFocusCapture:fu(t.onFocusCapture,j.onFocusCapture),onBlurCapture:fu(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:fu(t.onPointerDownCapture,O.onPointerDownCapture)}))});function Moe(t,e=globalThis==null?void 0:globalThis.document){const n=tc(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let d=function(){JV(Poe,n,u,{discrete:!0})};var c=d;const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ooe(t,e=globalThis==null?void 0:globalThis.document){const n=tc(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&JV(koe,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zI(){const t=new CustomEvent(Ob);document.dispatchEvent(t)}function JV(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?joe(s,i):s.dispatchEvent(i)}const ow="focusScope.autoFocusOnMount",aw="focusScope.autoFocusOnUnmount",HI={bubbles:!1,cancelable:!0},Foe=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=p.useState(null),u=tc(s),d=tc(i),h=p.useRef(null),f=Bm(e,v=>c(v)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let w=function(O){if(g.paused||!l)return;const j=O.target;l.contains(j)?h.current=j:Do(h.current,{select:!0})},b=function(O){if(g.paused||!l)return;const j=O.relatedTarget;j!==null&&(l.contains(j)||Do(h.current,{select:!0}))},T=function(O){if(document.activeElement===document.body)for(const S of O)S.removedNodes.length>0&&Do(l)};var v=w,x=b,_=T;document.addEventListener("focusin",w),document.addEventListener("focusout",b);const I=new MutationObserver(T);return l&&I.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",b),I.disconnect()}}},[r,l,g.paused]),p.useEffect(()=>{if(l){qI.add(g);const v=document.activeElement;if(!l.contains(v)){const _=new CustomEvent(ow,HI);l.addEventListener(ow,u),l.dispatchEvent(_),_.defaultPrevented||(Loe(zoe(e3(l)),{select:!0}),document.activeElement===v&&Do(l))}return()=>{l.removeEventListener(ow,u),setTimeout(()=>{const _=new CustomEvent(aw,HI);l.addEventListener(aw,d),l.dispatchEvent(_),_.defaultPrevented||Do(v??document.body,{select:!0}),l.removeEventListener(aw,d),qI.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(v=>{if(!n&&!r||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(x&&_){const w=v.currentTarget,[b,T]=Voe(w);b&&T?!v.shiftKey&&_===T?(v.preventDefault(),n&&Do(b,{select:!0})):v.shiftKey&&_===b&&(v.preventDefault(),n&&Do(T,{select:!0})):_===w&&v.preventDefault()}},[n,r,g.paused]);return p.createElement(bs.div,vr({tabIndex:-1},o,{ref:f,onKeyDown:y}))});function Loe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Do(r,{select:e}),document.activeElement!==n)return}function Voe(t){const e=e3(t),n=WI(e,t),r=WI(e.reverse(),t);return[n,r]}function e3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function WI(t,e){for(const n of t)if(!$oe(n,{upTo:e}))return n}function $oe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Uoe(t){return t instanceof HTMLInputElement&&"select"in t}function Do(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Uoe(t)&&e&&t.select()}}const qI=Boe();function Boe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=GI(t,e),t.unshift(e)},remove(e){var n;t=GI(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function GI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function zoe(t){return t.filter(e=>e.tagName!=="A")}const Hoe=p.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?G1.createPortal(p.createElement(bs.div,vr({},s,{ref:e})),r):null});function Woe(t,e){return p.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const p0=t=>{const{present:e,children:n}=t,r=qoe(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=Bm(r.ref,s.ref);return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};p0.displayName="Presence";function qoe(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Woe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Wp(r.current);i.current=l==="mounted"?u:"none"},[l]),Db(()=>{const u=r.current,d=s.current;if(d!==t){const f=i.current,g=Wp(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Db(()=>{if(e){const u=h=>{const g=Wp(r.current).includes(h.animationName);h.target===e&&g&&vo.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===e&&(i.current=Wp(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Wp(t){return(t==null?void 0:t.animationName)||"none"}let lw=0;function Goe(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:KI()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:KI()),lw++,()=>{lw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),lw--}},[])}function KI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var t3=O4(),cw=function(){},g0=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:cw,onWheelCapture:cw,onTouchMoveCapture:cw}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,y=t.inert,v=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,w=md(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),b=f,T=M4([n,e]),I=Jn(Jn({},w),s);return p.createElement(p.Fragment,null,d&&p.createElement(b,{sideCar:t3,removeScrollBar:u,shards:h,noIsolation:g,inert:y,setCallbacks:i,allowPinchZoom:!!v,lockRef:n}),o?p.cloneElement(p.Children.only(l),Jn(Jn({},I),{ref:T})):p.createElement(_,Jn({},I,{className:c,ref:T}),l))});g0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g0.classNames={fullWidth:$h,zeroRight:Vh};var Fb=!1;if(typeof window<"u")try{var qp=Object.defineProperty({},"passive",{get:function(){return Fb=!0,!0}});window.addEventListener("test",qp,qp),window.removeEventListener("test",qp,qp)}catch{Fb=!1}var Rc=Fb?{passive:!1}:!1,Koe=function(t){return t.tagName==="TEXTAREA"},n3=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Koe(t)&&n[e]==="visible")},Yoe=function(t){return n3(t,"overflowY")},Qoe=function(t){return n3(t,"overflowX")},YI=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=r3(t,n);if(r){var s=s3(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Xoe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Zoe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},r3=function(t,e){return t==="v"?Yoe(e):Qoe(e)},s3=function(t,e){return t==="v"?Xoe(e):Zoe(e)},Joe=function(t,e){return t==="h"&&e==="rtl"?-1:1},eae=function(t,e,n,r,s){var i=Joe(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var g=s3(t,l),y=g[0],v=g[1],x=g[2],_=v-x-i*y;(y||_)&&r3(t,l)&&(h+=_,f+=y),l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(h===0||!s)||!d&&(f===0||!s))&&(u=!0),u},Gp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},QI=function(t){return[t.deltaX,t.deltaY]},XI=function(t){return t&&"current"in t?t.current:t},tae=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nae=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},rae=0,jc=[];function sae(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(rae++)[0],i=p.useState(function(){return PS()})[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=PD([t.lockRef.current],(t.shards||[]).map(XI),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(v,x){if("touches"in v&&v.touches.length===2)return!o.current.allowPinchZoom;var _=Gp(v),w=n.current,b="deltaX"in v?v.deltaX:w[0]-_[0],T="deltaY"in v?v.deltaY:w[1]-_[1],I,O=v.target,j=Math.abs(b)>Math.abs(T)?"h":"v";if("touches"in v&&j==="h"&&O.type==="range")return!1;var S=YI(j,O);if(!S)return!0;if(S?I=j:(I=j==="v"?"h":"v",S=YI(j,O)),!S)return!1;if(!r.current&&"changedTouches"in v&&(b||T)&&(r.current=I),!I)return!0;var N=r.current||I;return eae(N,x,v,N==="h"?b:T,!0)},[]),c=p.useCallback(function(v){var x=v;if(!(!jc.length||jc[jc.length-1]!==i)){var _="deltaY"in x?QI(x):Gp(x),w=e.current.filter(function(I){return I.name===x.type&&I.target===x.target&&tae(I.delta,_)})[0];if(w&&w.should){x.cancelable&&x.preventDefault();return}if(!w){var b=(o.current.shards||[]).map(XI).filter(Boolean).filter(function(I){return I.contains(x.target)}),T=b.length>0?l(x,b[0]):!o.current.noIsolation;T&&x.cancelable&&x.preventDefault()}}},[]),u=p.useCallback(function(v,x,_,w){var b={name:v,delta:x,target:_,should:w};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(T){return T!==b})},1)},[]),d=p.useCallback(function(v){n.current=Gp(v),r.current=void 0},[]),h=p.useCallback(function(v){u(v.type,QI(v),v.target,l(v,t.lockRef.current))},[]),f=p.useCallback(function(v){u(v.type,Gp(v),v.target,l(v,t.lockRef.current))},[]);p.useEffect(function(){return jc.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,Rc),document.addEventListener("touchmove",c,Rc),document.addEventListener("touchstart",d,Rc),function(){jc=jc.filter(function(v){return v!==i}),document.removeEventListener("wheel",c,Rc),document.removeEventListener("touchmove",c,Rc),document.removeEventListener("touchstart",d,Rc)}},[]);var g=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:nae(s)}):null,g?p.createElement($4,{gapMode:"margin"}):null)}const iae=L4(t3,sae);var i3=p.forwardRef(function(t,e){return p.createElement(g0,Jn({},t,{ref:e,sideCar:iae}))});i3.classNames=g0.classNames;const o3="Dialog",[a3,Zue]=xoe(o3),[oae,gc]=a3(o3),aae=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Coe({prop:r,defaultProp:s,onChange:i});return p.createElement(oae,{scope:e,triggerRef:l,contentRef:c,contentId:iw(),titleId:iw(),descriptionId:iw(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o},n)},l3="DialogPortal",[lae,c3]=a3(l3,{forceMount:void 0}),cae=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=gc(l3,e);return p.createElement(lae,{scope:e,forceMount:n},p.Children.map(r,o=>p.createElement(p0,{present:n||i.open},p.createElement(Hoe,{asChild:!0,container:s},o))))},Lb="DialogOverlay",uae=p.forwardRef((t,e)=>{const n=c3(Lb,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gc(Lb,t.__scopeDialog);return i.modal?p.createElement(p0,{present:r||i.open},p.createElement(dae,vr({},s,{ref:e}))):null}),dae=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=gc(Lb,n);return p.createElement(i3,{as:xE,allowPinchZoom:!0,shards:[s.contentRef]},p.createElement(bs.div,vr({"data-state":d3(s.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))}),Pf="DialogContent",hae=p.forwardRef((t,e)=>{const n=c3(Pf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=gc(Pf,t.__scopeDialog);return p.createElement(p0,{present:r||i.open},i.modal?p.createElement(fae,vr({},s,{ref:e})):p.createElement(mae,vr({},s,{ref:e})))}),fae=p.forwardRef((t,e)=>{const n=gc(Pf,t.__scopeDialog),r=p.useRef(null),s=Bm(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return mm(i)},[]),p.createElement(u3,vr({},t,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fu(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:fu(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:fu(t.onFocusOutside,i=>i.preventDefault())}))}),mae=p.forwardRef((t,e)=>{const n=gc(Pf,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return p.createElement(u3,vr({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,i),!i.defaultPrevented){var l;r.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),i.preventDefault()}r.current=!1,s.current=!1},onInteractOutside:i=>{var o,l;(o=t.onInteractOutside)===null||o===void 0||o.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}}))}),u3=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=gc(Pf,n),c=p.useRef(null),u=Bm(e,c);return Goe(),p.createElement(p.Fragment,null,p.createElement(Foe,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i},p.createElement(Doe,vr({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":d3(l.open)},o,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function d3(t){return t?"open":"closed"}const pae=aae,gae=cae,vae=uae,yae=hae;var th='[cmdk-group=""]',uw='[cmdk-group-items=""]',xae='[cmdk-group-heading=""]',wE='[cmdk-item=""]',ZI=`${wE}:not([aria-disabled="true"])`,Vb="cmdk-item-select",pl="data-value",wae=(t,e,n)=>voe(t,e,n),h3=p.createContext(void 0),zm=()=>p.useContext(h3),f3=p.createContext(void 0),_E=()=>p.useContext(f3),m3=p.createContext(void 0),p3=p.forwardRef((t,e)=>{let n=Mc(()=>{var F,Q;return{search:"",value:(Q=(F=t.value)!=null?F:t.defaultValue)!=null?Q:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=Mc(()=>new Set),s=Mc(()=>new Map),i=Mc(()=>new Map),o=Mc(()=>new Set),l=g3(t),{label:c,children:u,value:d,onValueChange:h,filter:f,shouldFilter:g,loop:y,disablePointerSelection:v=!1,vimBindings:x=!0,..._}=t,w=p.useId(),b=p.useId(),T=p.useId(),I=p.useRef(null),O=Pae();nc(()=>{if(d!==void 0){let F=d.trim();n.current.value=F,j.emit()}},[d]),nc(()=>{O(6,R)},[]);let j=p.useMemo(()=>({subscribe:F=>(o.current.add(F),()=>o.current.delete(F)),snapshot:()=>n.current,setState:(F,Q,pe)=>{var he,me,le;if(!Object.is(n.current[F],Q)){if(n.current[F]=Q,F==="search")D(),P(),O(1,k);else if(F==="value"&&(pe||O(5,R),((he=l.current)==null?void 0:he.value)!==void 0)){let Re=Q??"";(le=(me=l.current).onValueChange)==null||le.call(me,Re);return}j.emit()}},emit:()=>{o.current.forEach(F=>F())}}),[]),S=p.useMemo(()=>({value:(F,Q,pe)=>{var he;Q!==((he=i.current.get(F))==null?void 0:he.value)&&(i.current.set(F,{value:Q,keywords:pe}),n.current.filtered.items.set(F,N(Q,pe)),O(2,()=>{P(),j.emit()}))},item:(F,Q)=>(r.current.add(F),Q&&(s.current.has(Q)?s.current.get(Q).add(F):s.current.set(Q,new Set([F]))),O(3,()=>{D(),P(),n.current.value||k(),j.emit()}),()=>{i.current.delete(F),r.current.delete(F),n.current.filtered.items.delete(F);let pe=$();O(4,()=>{D(),(pe==null?void 0:pe.getAttribute("id"))===F&&k(),j.emit()})}),group:F=>(s.current.has(F)||s.current.set(F,new Set),()=>{i.current.delete(F),s.current.delete(F)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],disablePointerSelection:v,listId:w,inputId:T,labelId:b,listInnerRef:I}),[]);function N(F,Q){var pe,he;let me=(he=(pe=l.current)==null?void 0:pe.filter)!=null?he:wae;return F?me(F,n.current.search,Q):0}function P(){if(!n.current.search||l.current.shouldFilter===!1)return;let F=n.current.filtered.items,Q=[];n.current.filtered.groups.forEach(he=>{let me=s.current.get(he),le=0;me.forEach(Re=>{let Ue=F.get(Re);le=Math.max(Ue,le)}),Q.push([he,le])});let pe=I.current;G().sort((he,me)=>{var le,Re;let Ue=he.getAttribute("id"),Ve=me.getAttribute("id");return((le=F.get(Ve))!=null?le:0)-((Re=F.get(Ue))!=null?Re:0)}).forEach(he=>{let me=he.closest(uw);me?me.appendChild(he.parentElement===me?he:he.closest(`${uw} > *`)):pe.appendChild(he.parentElement===pe?he:he.closest(`${uw} > *`))}),Q.sort((he,me)=>me[1]-he[1]).forEach(he=>{let me=I.current.querySelector(`${th}[${pl}="${encodeURIComponent(he[0])}"]`);me==null||me.parentElement.appendChild(me)})}function k(){let F=G().find(pe=>pe.getAttribute("aria-disabled")!=="true"),Q=F==null?void 0:F.getAttribute(pl);j.setState("value",Q||void 0)}function D(){var F,Q,pe,he;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let me=0;for(let le of r.current){let Re=(Q=(F=i.current.get(le))==null?void 0:F.value)!=null?Q:"",Ue=(he=(pe=i.current.get(le))==null?void 0:pe.keywords)!=null?he:[],Ve=N(Re,Ue);n.current.filtered.items.set(le,Ve),Ve>0&&me++}for(let[le,Re]of s.current)for(let Ue of Re)if(n.current.filtered.items.get(Ue)>0){n.current.filtered.groups.add(le);break}n.current.filtered.count=me}function R(){var F,Q,pe;let he=$();he&&(((F=he.parentElement)==null?void 0:F.firstChild)===he&&((pe=(Q=he.closest(th))==null?void 0:Q.querySelector(xae))==null||pe.scrollIntoView({block:"nearest"})),he.scrollIntoView({block:"nearest"}))}function $(){var F;return(F=I.current)==null?void 0:F.querySelector(`${wE}[aria-selected="true"]`)}function G(){var F;return Array.from((F=I.current)==null?void 0:F.querySelectorAll(ZI))}function q(F){let Q=G()[F];Q&&j.setState("value",Q.getAttribute(pl))}function H(F){var Q;let pe=$(),he=G(),me=he.findIndex(Re=>Re===pe),le=he[me+F];(Q=l.current)!=null&&Q.loop&&(le=me+F<0?he[he.length-1]:me+F===he.length?he[0]:he[me+F]),le&&j.setState("value",le.getAttribute(pl))}function M(F){let Q=$(),pe=Q==null?void 0:Q.closest(th),he;for(;pe&&!he;)pe=F>0?jae(pe,th):Iae(pe,th),he=pe==null?void 0:pe.querySelector(ZI);he?j.setState("value",he.getAttribute(pl)):H(F)}let U=()=>q(G().length-1),re=F=>{F.preventDefault(),F.metaKey?U():F.altKey?M(1):H(1)},W=F=>{F.preventDefault(),F.metaKey?q(0):F.altKey?M(-1):H(-1)};return p.createElement(bs.div,{ref:e,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:F=>{var Q;if((Q=_.onKeyDown)==null||Q.call(_,F),!F.defaultPrevented)switch(F.key){case"n":case"j":{x&&F.ctrlKey&&re(F);break}case"ArrowDown":{re(F);break}case"p":case"k":{x&&F.ctrlKey&&W(F);break}case"ArrowUp":{W(F);break}case"Home":{F.preventDefault(),q(0);break}case"End":{F.preventDefault(),U();break}case"Enter":if(!F.nativeEvent.isComposing&&F.keyCode!==229){F.preventDefault();let pe=$();if(pe){let he=new Event(Vb);pe.dispatchEvent(he)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:Aae},c),v0(t,F=>p.createElement(f3.Provider,{value:j},p.createElement(h3.Provider,{value:S},F))))}),_ae=p.forwardRef((t,e)=>{var n,r;let s=p.useId(),i=p.useRef(null),o=p.useContext(m3),l=zm(),c=g3(t),u=(r=(n=c.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;nc(()=>{if(!u)return l.item(s,o==null?void 0:o.id)},[u]);let d=v3(s,i,[t.value,t.children,i],t.keywords),h=_E(),f=rc(O=>O.value&&O.value===d.current),g=rc(O=>u||l.filter()===!1?!0:O.search?O.filtered.items.get(s)>0:!0);p.useEffect(()=>{let O=i.current;if(!(!O||t.disabled))return O.addEventListener(Vb,y),()=>O.removeEventListener(Vb,y)},[g,t.onSelect,t.disabled]);function y(){var O,j;v(),(j=(O=c.current).onSelect)==null||j.call(O,d.current)}function v(){h.setState("value",d.current,!0)}if(!g)return null;let{disabled:x,value:_,onSelect:w,forceMount:b,keywords:T,...I}=t;return p.createElement(bs.div,{ref:kf([i,e]),...I,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!f,"data-disabled":!!x,"data-selected":!!f,onPointerMove:x||l.disablePointerSelection?void 0:v,onClick:x?void 0:y},t.children)}),bae=p.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:s,...i}=t,o=p.useId(),l=p.useRef(null),c=p.useRef(null),u=p.useId(),d=zm(),h=rc(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);nc(()=>d.group(o),[]),v3(o,l,[t.value,t.heading,c]);let f=p.useMemo(()=>({id:o,forceMount:s}),[s]);return p.createElement(bs.div,{ref:kf([l,e]),...i,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&p.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),v0(t,g=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},p.createElement(m3.Provider,{value:f},g))))}),Cae=p.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,s=p.useRef(null),i=rc(o=>!o.search);return!n&&!i?null:p.createElement(bs.div,{ref:kf([s,e]),...r,"cmdk-separator":"",role:"separator"})}),Sae=p.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,s=t.value!=null,i=_E(),o=rc(d=>d.search),l=rc(d=>d.value),c=zm(),u=p.useMemo(()=>{var d;let h=(d=c.listInnerRef.current)==null?void 0:d.querySelector(`${wE}[${pl}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return p.useEffect(()=>{t.value!=null&&i.setState("search",t.value)},[t.value]),p.createElement(bs.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:s?t.value:o,onChange:d=>{s||i.setState("search",d.target.value),n==null||n(d.target.value)}})}),Eae=p.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...s}=t,i=p.useRef(null),o=p.useRef(null),l=zm();return p.useEffect(()=>{if(o.current&&i.current){let c=o.current,u=i.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),p.createElement(bs.div,{ref:kf([i,e]),...s,"cmdk-list":"",role:"listbox","aria-label":r,id:l.listId},v0(t,c=>p.createElement("div",{ref:kf([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),Nae=p.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:o,...l}=t;return p.createElement(pae,{open:n,onOpenChange:r},p.createElement(gae,{container:o},p.createElement(vae,{"cmdk-overlay":"",className:s}),p.createElement(yae,{"aria-label":t.label,"cmdk-dialog":"",className:i},p.createElement(p3,{ref:e,...l}))))}),Tae=p.forwardRef((t,e)=>rc(n=>n.filtered.count===0)?p.createElement(bs.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Rae=p.forwardRef((t,e)=>{let{progress:n,children:r,label:s="Loading...",...i}=t;return p.createElement(bs.div,{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},v0(t,o=>p.createElement("div",{"aria-hidden":!0},o)))}),Lr=Object.assign(p3,{List:Eae,Item:_ae,Input:Sae,Group:bae,Separator:Cae,Dialog:Nae,Empty:Tae,Loading:Rae});function jae(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Iae(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function g3(t){let e=p.useRef(t);return nc(()=>{e.current=t}),e}var nc=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Mc(t){let e=p.useRef();return e.current===void 0&&(e.current=t()),e}function kf(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function rc(t){let e=_E(),n=()=>t(e.snapshot());return p.useSyncExternalStore(e.subscribe,n,n)}function v3(t,e,n,r=[]){let s=p.useRef(),i=zm();return nc(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():s.current}})(),c=r.map(u=>u.trim());i.value(t,l,c),(o=e.current)==null||o.setAttribute(pl,l),s.current=l}),s}var Pae=()=>{let[t,e]=p.useState(),n=Mc(()=>new Map);return nc(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,s)=>{n.current.set(r,s),e({})}};function kae(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function v0({asChild:t,children:e},n){return t&&p.isValidElement(e)?p.cloneElement(kae(e),{ref:e.ref},n(e.props.children)):n(e)}var Aae={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const y3=p.forwardRef(({className:t,...e},n)=>a.jsx(Lr,{ref:n,className:te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));y3.displayName=Lr.displayName;const x3=p.forwardRef(({className:t,...e},n)=>a.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[a.jsx(Gf,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),a.jsx(Lr.Input,{ref:n,className:te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));x3.displayName=Lr.Input.displayName;const w3=p.forwardRef(({className:t,...e},n)=>a.jsx(Lr.List,{ref:n,className:te("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));w3.displayName=Lr.List.displayName;const _3=p.forwardRef((t,e)=>a.jsx(Lr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));_3.displayName=Lr.Empty.displayName;const b3=p.forwardRef(({className:t,...e},n)=>a.jsx(Lr.Group,{ref:n,className:te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));b3.displayName=Lr.Group.displayName;const Dae=p.forwardRef(({className:t,...e},n)=>a.jsx(Lr.Separator,{ref:n,className:te("-mx-1 h-px bg-border",t),...e}));Dae.displayName=Lr.Separator.displayName;const C3=p.forwardRef(({className:t,...e},n)=>a.jsx(Lr.Item,{ref:n,className:te("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));C3.displayName=Lr.Item.displayName;function Mae({options:t,selected:e,onChange:n,placeholder:r="Select options...",className:s}){const[i,o]=p.useState(!1),l=u=>{n(e.filter(d=>d!==u))},c=u=>{e.includes(u)?l(u):n([...e,u])};return a.jsx("div",{className:te("w-full",s),children:a.jsxs(vm,{open:i,onOpenChange:o,children:[a.jsx(ym,{asChild:!0,children:a.jsxs(ee,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>o(!i),children:[a.jsxs("div",{className:"flex gap-1 flex-wrap",children:[e.length>0?e.slice(0,2).map(u=>{const d=t.find(h=>h.value===u);return a.jsxs(Ke,{variant:"secondary",className:"mr-1 mb-1 bg-purple-500/20 text-purple-300 border-purple-500/30",onClick:h=>{h.stopPropagation(),l(u)},children:[d==null?void 0:d.label,a.jsx("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:h=>{h.key==="Enter"&&l(u)},onMouseDown:h=>{h.preventDefault(),h.stopPropagation()},onClick:h=>{h.stopPropagation(),l(u)},children:a.jsx(cc,{className:"h-3 w-3 text-purple-300 hover:text-purple-200"})})]},u)}):a.jsx("span",{className:"text-slate-400",children:r}),e.length>2&&a.jsxs(Ke,{variant:"secondary",className:"mr-1 mb-1 bg-purple-500/20 text-purple-300 border-purple-500/30",children:["+",e.length-2," more"]})]}),a.jsx(WU,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),a.jsx(Ed,{className:"w-full p-0 bg-slate-800 border-slate-700",align:"start",children:a.jsxs(y3,{className:"bg-slate-800",children:[a.jsx(x3,{placeholder:"Search vaccines...",className:"text-white"}),a.jsxs(w3,{children:[a.jsx(_3,{className:"text-slate-400",children:"No vaccines found."}),a.jsx(b3,{children:t.map(u=>a.jsxs(C3,{onSelect:()=>c(u.value),className:"cursor-pointer text-white hover:bg-slate-700 aria-selected:bg-slate-700",children:[a.jsx(yy,{className:te("mr-2 h-4 w-4",e.includes(u.value)?"opacity-100":"opacity-0")}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:u.label}),u.price&&a.jsxs("div",{className:"text-sm text-slate-400",children:["",u.price.toFixed(2),u.serviceCharge&&u.serviceCharge>0&&a.jsxs("span",{className:"ml-1",children:["+ ",u.serviceCharge.toFixed(2)," service"]})]})]})]},u.value))})]})]})})]})})}const Oae=({control:t,vaccines:e})=>{const n=AV({control:t,name:"vaccines",defaultValue:[]}),r=e.map(c=>({label:c.label,value:c.value,price:c.price,serviceCharge:c.serviceCharge})),s=e.filter(c=>n.includes(c.value)),i=s.reduce((c,u)=>c+u.price,0),o=s.reduce((c,u)=>c+(u.serviceCharge||0),0),l=i+o;return a.jsxs("div",{className:"space-y-4",children:[a.jsx(Lt,{control:t,name:"vaccines",render:({field:c})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-base font-semibold text-white",children:"Select Vaccines"}),e.length===0?a.jsxs("div",{className:"text-center py-8 border rounded-lg bg-slate-700/30 border-slate-600",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"No vaccines available for this pet type."}),a.jsx("p",{className:"text-xs text-slate-500",children:"Please contact admin to add vaccines for your pet category."})]}):a.jsx(Mt,{children:a.jsx(Mae,{options:r,selected:c.value||[],onChange:c.onChange,placeholder:"Search and select vaccines...",className:"w-full"})}),a.jsx(Vt,{})]})}),s.length>0&&a.jsx(Ye,{className:"animate-fade-in bg-slate-700/30 border-slate-600",children:a.jsx(it,{className:"pt-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Price breakdown:"}),a.jsx("div",{className:"space-y-2 text-sm",children:s.map(c=>a.jsxs("div",{className:"bg-slate-600/50 rounded-lg p-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-white",children:c.label}),a.jsxs("div",{className:"flex items-center text-slate-300",children:[a.jsx(Bt,{className:"h-3 w-3 mr-0.5"}),c.price.toFixed(2)]})]}),c.serviceCharge&&c.serviceCharge>0&&a.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 pl-2",children:[a.jsx("span",{children:"+ Service Charge"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bt,{className:"h-2.5 w-2.5 mr-0.5"}),c.serviceCharge.toFixed(2)]})]})]},c.value))}),a.jsxs("div",{className:"border-t border-slate-600 pt-3 mt-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Subtotal"}),a.jsxs("div",{className:"flex items-center text-white",children:[a.jsx(Bt,{className:"h-3.5 w-3.5 mr-1"}),i.toFixed(2)]})]}),o>0&&a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Service Charges"}),a.jsxs("div",{className:"flex items-center text-white",children:[a.jsx(Bt,{className:"h-3.5 w-3.5 mr-1"}),o.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[a.jsx("span",{className:"text-white",children:"Total Amount"}),a.jsxs("div",{className:"flex items-center text-purple-400",children:[a.jsx(Bt,{className:"h-5 w-5 mr-1"}),l.toFixed(2)]})]})]})]})})})]})},Fae=({formValues:t,reminder:e,selectedSlot:n,selectedVaccines:r=[]})=>{const s=r.reduce((l,c)=>l+c.price,0),i=r.reduce((l,c)=>l+(c.serviceCharge||0),0),o=s+i;return a.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[a.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-white",children:"Confirm Your Booking"}),a.jsxs(Ye,{className:"bg-slate-700/30 border-slate-600",children:[a.jsx(St,{className:"pb-3",children:a.jsxs(Rt,{className:"flex items-center text-base text-white",children:[a.jsx(XU,{className:"mr-2 h-4 w-4 text-purple-400"}),"Booking Summary"]})}),a.jsx(it,{className:"text-sm space-y-2",children:r.length>0?a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-white",children:[a.jsx("strong",{children:"For Pet:"})," ",e.dog]}),a.jsxs("div",{className:"border-t border-slate-600 pt-2 mt-2 space-y-1",children:[a.jsx("p",{className:"font-semibold text-white",children:"Cost Breakdown:"}),a.jsxs("ul",{className:"list-none space-y-1 text-slate-300",children:[r.map((l,c)=>a.jsxs("li",{className:"flex justify-between",children:[a.jsx("span",{children:l.label}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bt,{className:"h-3 w-3 mr-0.5"}),l.price.toFixed(2)]})]},c)),i>0&&a.jsxs("li",{className:"flex justify-between",children:[a.jsx("span",{children:"Service Charge(s)"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bt,{className:"h-3 w-3 mr-0.5"}),i.toFixed(2)]})]})]})]}),a.jsx("div",{className:"border-t border-slate-600 pt-2 mt-2",children:a.jsxs("p",{className:"flex justify-between font-bold text-base text-white",children:[a.jsx("span",{children:"Total Fee:"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),o.toFixed(2)]})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-white",children:[a.jsx("strong",{children:"Vaccine:"})," N/A"]}),a.jsxs("p",{className:"text-white",children:[a.jsx("strong",{children:"For:"})," ",e.dog]}),a.jsx("p",{className:"font-bold mt-2 text-white",children:"Fee: 0"})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(Ye,{className:"bg-slate-700/30 border-slate-600",children:[a.jsx(St,{className:"pb-3",children:a.jsxs(Rt,{className:"flex items-center text-base text-white",children:[a.jsx(xs,{className:"mr-2 h-4 w-4 text-purple-400"}),"Booking Slot"]})}),a.jsxs(it,{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-white",children:ot(n.datetime.toDate(),"EEEE, MMMM d, yyyy")}),a.jsx("p",{className:"text-slate-400",children:ot(n.datetime.toDate(),"h:mm a")})]})]}),a.jsxs(Ye,{className:"bg-slate-700/30 border-slate-600",children:[a.jsx(St,{className:"pb-3",children:a.jsxs(Rt,{className:"flex items-center text-base text-white",children:[a.jsx(od,{className:"mr-2 h-4 w-4 text-purple-400"}),"Contact Details"]})}),a.jsxs(it,{className:"text-sm",children:[a.jsx("p",{className:"font-semibold text-white",children:t.name}),a.jsx("p",{className:"text-slate-400",children:t.phone})]})]}),a.jsxs(Ye,{className:"bg-slate-700/30 border-slate-600",children:[a.jsx(St,{className:"pb-3",children:a.jsxs(Rt,{className:"flex items-center text-base text-white",children:[a.jsx(qf,{className:"mr-2 h-4 w-4 text-purple-400"}),"Address"]})}),a.jsxs(it,{className:"text-sm",children:[a.jsx("p",{className:"text-white",children:t.address}),a.jsxs("p",{className:"text-slate-400",children:[t.city,", ",t.postalCode]})]})]})]})]})},Lae=$m({name:Qn().min(2,{message:"Name must be at least 2 characters."}),phone:Qn().min(10,{message:"Phone number must be at least 10 digits."}).regex(/^(\+91)?[6-9]\d{9}$/,{message:"Invalid Indian phone number."}),address:Qn().min(10,{message:"Address must be at least 10 characters."}),city:Qn().min(2,{message:"City must be at least 2 characters."}),postalCode:Qn().min(6,{message:"Postal code must be 6 digits."}).max(6),slotId:Qn({required_error:"Please select a booking slot."}),vaccines:noe(Qn()).min(1,{message:"Please select at least one vaccine."})}),Vae="rzp_test_2n6MS8hK3tgdba",$ae=({reminder:t,children:e})=>{const[n,r]=p.useState(!1),[s,i]=p.useState(1),o=YV(),{user:l}=rs(),c=Or(),{data:u,isLoading:d}=soe({enabled:n}),{dogs:h}=dm(),f=h.find(k=>k.name===t.dog),g=(f==null?void 0:f.petType)||"Dog";console.log("Current dog:",f),console.log("Pet type for products:",g);const{data:y,isLoading:v}=QV(g),x=Lm({resolver:Vm(Lae),defaultValues:{name:"",phone:"",address:"",city:"",postalCode:"",slotId:"",vaccines:[]}}),_=(y==null?void 0:y.map(k=>({label:k.name,value:k.id,price:k.price,serviceCharge:k.serviceCharge})))??[];console.log("Vaccine options:",_);const w=x.watch("vaccines")||[],b=_.filter(k=>w.includes(k.value)),T=b.reduce((k,D)=>k+D.price,0),I=b.reduce((k,D)=>k+(D.serviceCharge||0),0),O=T+I,j=()=>{if(s===1&&!x.getValues("slotId")){ne.error("Please select a booking slot");return}if(s===2){const{name:k,phone:D,address:R,city:$,postalCode:G}=x.getValues();if(!k||!D||!R||!$||!G){ne.error("Please fill in all contact details");return}}if(s===3&&b.length===0){ne.error("Please select at least one vaccine");return}i(k=>k+1)},S=async k=>{if(console.log("Starting payment with values:",k),!o){ne.error("Payment gateway is not ready. Please try again in a moment.");return}if(!l){ne.error("You must be logged in to make a payment.");return}const D=u==null?void 0:u.find($=>$.id===k.slotId);if(!D){ne.error("Selected slot is not available. Please choose another one.");return}if(!b||b.length===0){ne.error("Please select at least one vaccine.");return}const R=b.map($=>$.label).join(", ");try{const $={key:Vae,amount:(O*100).toString(),currency:"INR",name:"VaxDog - Home Vaccination",description:`Booking for ${R} for ${t.dog}`,image:"/favicon.ico",handler:async function(H){try{console.log("Payment successful, saving transaction:",H);const M=Cv(je),U=Ct(je,"users",l.uid,"transactions"),re=sn(U);M.set(re,{paymentId:H.razorpay_payment_id,amount:O,currency:"INR",service:`Home Vaccination for ${R} for ${t.dog}`,dogName:t.dog,vaccines:b.map(F=>({name:F.label,price:F.price})),status:"successful",createdAt:Hs(),customer:k,reminderId:t.id,slotId:D.id,slotDatetime:D.datetime});const W=sn(je,"bookingSlots",D.id);M.update(W,{isBooked:!0,bookedBy:l.uid,transactionId:re.id}),await M.commit(),c.invalidateQueries({queryKey:["transactions",l==null?void 0:l.uid]}),c.invalidateQueries({queryKey:["availableSlots"]}),c.invalidateQueries({queryKey:["allTransactions"]}),ne.success("Payment Successful!",{description:`Booking confirmed for ${ot(D.datetime.toDate(),"PPP p")}.`}),r(!1),x.reset(),i(1)}catch(M){console.error("Error processing booking:",M),ne.error("Payment successful, but failed to save transaction details.")}},prefill:{name:k.name,contact:k.phone},notes:{address:`${k.address}, ${k.city}, ${k.postalCode}`,reminderId:t.id},theme:{color:"#8b5cf6"},modal:{ondismiss:function(){console.log("Payment modal dismissed"),setTimeout(()=>r(!0),100)},confirm_close:!0,escape:!0,animation:!1,backdrop_close:!1,handleback:!0},config:{display:{blocks:{utib:{name:"Pay using Axis Bank",instruments:[{method:"card"},{method:"netbanking"}]}},sequence:["block.utib"],preferences:{show_default_blocks:!0}}}};console.log("Opening Razorpay with options:",$),r(!1);const G=document.createElement("style");G.innerHTML=`
        .razorpay-container {
          z-index: 999999 !important;
          position: fixed !important;
        }
        .razorpay-checkout-frame {
          z-index: 999999 !important;
          position: fixed !important;
        }
        .razorpay-backdrop {
          z-index: 999998 !important;
          position: fixed !important;
        }
        input[data-razorpay] {
          pointer-events: auto !important;
          z-index: 1000000 !important;
          position: relative !important;
        }
        .razorpay-payment-form input {
          pointer-events: auto !important;
          user-select: auto !important;
          touch-action: manipulation !important;
        }
      `,document.head.appendChild(G);const q=new window.Razorpay($);q.on("payment.failed",function(H){console.error("Payment failed:",H),ne.error("Payment Failed",{description:H.error.description}),setTimeout(()=>r(!0),100),document.head.contains(G)&&document.head.removeChild(G)}),setTimeout(()=>{try{q.open(),setTimeout(()=>{document.head.contains(G)&&document.head.removeChild(G)},1e3)}catch(H){console.error("Error opening Razorpay:",H),ne.error("Failed to open payment gateway. Please try again."),r(!0),document.head.contains(G)&&document.head.removeChild(G)}},100)}catch($){console.error("Error creating payment:",$),ne.error("Failed to initiate payment. Please try again.")}},N=()=>{i(k=>k-1)},P=u==null?void 0:u.find(k=>k.id===x.getValues("slotId"));return a.jsxs(Vn,{open:n,onOpenChange:k=>{r(k),k||setTimeout(()=>{x.reset(),i(1)},200)},children:[a.jsx(Pi,{asChild:!0,children:e}),a.jsxs(jn,{className:"w-[95vw] max-w-2xl mx-auto max-h-[90vh] overflow-y-auto bg-slate-800 border-slate-700 text-white",children:[a.jsxs(In,{children:[a.jsx(Pn,{className:"text-white",children:"Book Home Vaccination"}),a.jsxs(nl,{className:"text-slate-400",children:[s===1&&"Step 1 of 4: Select an available date and time.",s===2&&"Step 2 of 4: Please enter your contact and address details.",s===3&&(v?"Loading vaccines...":"Step 3 of 4: Select the vaccines for your pet."),s===4&&"Step 4 of 4: Confirm your booking details."]})]}),a.jsx(Um,{...x,children:a.jsxs("form",{onSubmit:x.handleSubmit(S),children:[a.jsxs("div",{className:"min-h-[300px] space-y-6 py-4",children:[s===1&&a.jsx(aoe,{control:x.control,availableSlots:u||[],isLoading:d}),s===2&&a.jsx(loe,{control:x.control}),s===3&&a.jsx(Oae,{control:x.control,vaccines:_}),s===4&&P&&a.jsx(Fae,{formValues:x.getValues(),reminder:t,selectedSlot:P,selectedVaccines:b})]}),a.jsxs(_o,{className:"flex-col sm:flex-row gap-2",children:[s===1&&a.jsx(Ju,{asChild:!0,children:a.jsx(ee,{type:"button",variant:"outline",className:"w-full sm:w-auto bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"})}),s>1&&a.jsxs(ee,{type:"button",variant:"outline",onClick:N,className:"w-full sm:w-auto bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[a.jsx(Mu,{className:"mr-2 h-4 w-4"}),"Back"]}),s<4&&a.jsxs(ee,{type:"button",onClick:j,disabled:d||v,className:"w-full sm:w-auto bg-purple-500 hover:bg-purple-600",children:["Next",a.jsx(t2,{className:"ml-2 h-4 w-4"})]}),s===4&&a.jsxs(ee,{type:"submit",disabled:!o||x.formState.isSubmitting||d||v||!P||b.length===0,className:"w-full sm:w-auto bg-purple-500 hover:bg-purple-600",children:[x.formState.isSubmitting&&a.jsx(l2,{className:"mr-2 h-4 w-4 animate-spin"}),x.formState.isSubmitting?"Processing...":`Pay ${O} & Book`]})]})]})})]})]})},Uae=({reminder:t,children:e,isBooked:n,transaction:r})=>a.jsxs(Vn,{children:[a.jsx(Pi,{asChild:!0,children:e}),a.jsxs(jn,{className:"w-[95vw] max-w-md mx-auto bg-slate-800 border-slate-700 text-white",children:[a.jsxs(In,{children:[a.jsxs(Pn,{className:"flex items-center text-white",children:[a.jsx(d2,{className:"mr-2 h-5 w-5 text-purple-400"}),"Vaccination Details"]}),a.jsx(nl,{className:"text-slate-400",children:n?"Review the details for your booked home visit.":"Review the details for the upcoming vaccination and book a home visit."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Vaccine"}),a.jsx("p",{className:"text-lg font-semibold text-white",children:t.vaccine})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-slate-400 flex items-center",children:[a.jsx(GU,{className:"mr-2 h-4 w-4"}),"For"]}),a.jsx("p",{className:"font-semibold text-white",children:t.dog})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"text-sm font-medium text-slate-400 flex items-center",children:[a.jsx(xs,{className:"mr-2 h-4 w-4"}),"Due Date"]}),a.jsx("p",{className:"font-semibold text-white",children:t.due})]})]}),n&&r&&a.jsxs("div",{className:"rounded-md border border-green-500/30 bg-green-500/10 p-4 space-y-3 mt-4",children:[a.jsxs("h4",{className:"font-semibold flex items-center text-green-300",children:[a.jsx(Fl,{className:"mr-2 h-5 w-5"}),"Home Visit Booked"]}),a.jsxs("div",{className:"text-sm space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-slate-400",children:"Booking Date:"}),a.jsx("span",{className:"font-medium text-white",children:ot(r.createdAt.toDate(),"MMM d, yyyy, p")})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"font-medium text-slate-400",children:"Amount Paid:"}),a.jsxs("div",{className:"flex items-center font-medium text-white",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),r.amount]})]}),a.jsxs("div",{className:"flex flex-col items-start pt-1",children:[a.jsx("span",{className:"font-medium text-slate-400",children:"Payment ID:"}),a.jsx("span",{className:"font-mono text-xs bg-slate-700 text-white rounded px-1.5 py-0.5 mt-1",children:r.paymentId})]})]})]})]}),a.jsxs(_o,{children:[a.jsx(Ju,{asChild:!0,children:a.jsx(ee,{variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Close"})}),!n&&a.jsx($ae,{reminder:t,children:a.jsxs(ee,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:[a.jsx(Ou,{className:"mr-2 h-4 w-4"}),"Book Home Vaccination"]})})]})]})]}),S3=({reminders:t,onMarkAsComplete:e,onDeleteReminder:n,onEditReminder:r,title:s="Upcoming Vaccinations",showDogName:i=!0,transactions:o})=>{const c=t.filter(u=>u.status==="upcoming").sort((u,d)=>{const h=o==null?void 0:o.find(w=>w.reminderId===u.id&&w.status==="successful"),f=o==null?void 0:o.find(w=>w.reminderId===d.id&&w.status==="successful"),g=!!h,y=!!f;if(g&&!y)return-1;if(!g&&y)return 1;const v=$a(),x=Ca(new Date(u.due),v),_=Ca(new Date(d.due),v);return x-_});return a.jsxs("div",{className:"space-y-3",children:[s&&a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:s}),c.length>0?c.map(u=>{const d=new Date(u.due),h=$a(),f=Ca(d,h),g=f<0,y=f>=0&&f<=30,v=o==null?void 0:o.find(T=>T.reminderId===u.id&&T.status==="successful"),x=!!v,_=()=>x?"border-l-green-500 bg-green-500/10":g?"border-l-red-500 bg-red-500/10":y?"border-l-yellow-500 bg-yellow-500/10":"border-l-slate-600 bg-slate-800/30",w=()=>{if(x)return"Home visit booked";if(g){const T=Math.abs(f);return`${T} day${T>1?"s":""} overdue`}return y?`Due ${f===0?"today":`in ${f} day${f>1?"s":""}`}`:null},b=()=>x?"text-green-400":g?"text-red-400":y?"text-yellow-400":"text-slate-400";return a.jsx(Uae,{reminder:u,isBooked:x,transaction:v,children:a.jsx("div",{className:te("p-4 rounded-lg border-l-4 cursor-pointer hover:bg-slate-700/30 transition-all",_()),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"font-semibold text-white text-base mb-1",children:u.vaccine}),i&&a.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["For ",u.dog]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center text-slate-300",children:[a.jsx(xs,{className:"mr-1 h-4 w-4"}),a.jsx("span",{children:u.due})]}),w()&&a.jsx("span",{className:te("font-medium",b()),children:w()})]})]}),!x&&a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:T=>T.stopPropagation(),children:a.jsx(o2,{className:"h-4 w-4"})})}),a.jsxs(xo,{align:"end",className:"bg-slate-800 border-slate-700",children:[e&&a.jsxs(mr,{onClick:T=>{T.stopPropagation(),e(u.id)},className:"text-white hover:bg-slate-700",children:[a.jsx(eC,{className:"mr-2 h-4 w-4 text-green-500"}),a.jsx("span",{children:"Mark as done"})]}),r&&a.jsx(gie,{reminder:u,onEditReminder:r,children:a.jsxs(mr,{onSelect:T=>T.preventDefault(),onClick:T=>T.stopPropagation(),className:"cursor-pointer text-white hover:bg-slate-700",children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Edit"})]})}),n&&a.jsx(Dre,{reminder:u,onDelete:n,children:a.jsxs(mr,{onSelect:T=>T.preventDefault(),onClick:T=>T.stopPropagation(),className:"text-red-400 focus:text-red-400 focus:bg-red-500/10 cursor-pointer hover:bg-red-500/10",children:[a.jsx(lc,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Delete"})]})})]})]})]})})},u.id)}):a.jsx("p",{className:"text-slate-400 text-center py-8",children:"No upcoming vaccinations. You're all caught up! "})]})},E3=({reminders:t,title:e="Vaccination History",showDogName:n=!0})=>{const r=t.filter(s=>s.status==="completed");return a.jsxs("div",{className:"space-y-3",children:[e&&a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:e}),r.length>0?r.map(s=>a.jsx("div",{className:"p-4 bg-slate-800/30 rounded-lg border-l-4 border-l-green-500 opacity-80",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"font-semibold text-white text-base mb-1",children:s.vaccine}),n&&a.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["For ",s.dog]}),a.jsxs("div",{className:"flex items-center text-sm text-green-400 font-medium",children:[a.jsx(eC,{className:"mr-2 h-4 w-4"}),a.jsxs("span",{children:["Completed on ",s.completedDate]})]})]})})},s.id)):a.jsx("p",{className:"text-slate-400 text-center py-8",children:"No completed vaccinations yet."})]})};function y0(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Bae=[" ","Enter","ArrowUp","ArrowDown"],zae=[" ","Enter"],Hm="Select",[x0,w0,Hae]=py(Hm),[Rd,Jue]=wr(Hm,[Hae,qa]),_0=qa(),[Wae,rl]=Rd(Hm),[qae,Gae]=Rd(Hm),N3=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:g,form:y}=t,v=_0(e),[x,_]=p.useState(null),[w,b]=p.useState(null),[T,I]=p.useState(!1),O=Nd(u),[j=!1,S]=$s({prop:r,defaultProp:s,onChange:i}),[N,P]=$s({prop:o,defaultProp:l,onChange:c}),k=p.useRef(null),D=x?y||!!x.closest("form"):!0,[R,$]=p.useState(new Set),G=Array.from(R).map(q=>q.props.value).join(";");return a.jsx(dC,{...v,children:a.jsxs(Wae,{required:g,scope:e,trigger:x,onTriggerChange:_,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:T,onValueNodeHasChildrenChange:I,contentId:Fs(),value:N,onValueChange:P,open:j,onOpenChange:S,dir:O,triggerPointerDownPosRef:k,disabled:f,children:[a.jsx(x0.Provider,{scope:e,children:a.jsx(qae,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(q=>{$(H=>new Set(H).add(q))},[]),onNativeOptionRemove:p.useCallback(q=>{$(H=>{const M=new Set(H);return M.delete(q),M})},[]),children:n})}),D?a.jsxs(X3,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:N,onChange:q=>P(q.target.value),disabled:f,form:y,children:[N===void 0?a.jsx("option",{value:""}):null,Array.from(R)]},G):null]})})};N3.displayName=Hm;var T3="SelectTrigger",R3=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=_0(n),o=rl(T3,n),l=o.disabled||r,c=He(e,o.onTriggerChange),u=w0(n),d=p.useRef("touch"),[h,f,g]=Z3(v=>{const x=u().filter(b=>!b.disabled),_=x.find(b=>b.value===o.value),w=J3(x,v,_);w!==void 0&&o.onValueChange(w.value)}),y=v=>{l||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(Yf,{asChild:!0,...i,children:a.jsx(Ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Q3(o.value)?"":void 0,...s,ref:c,onClick:ie(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&y(v)}),onPointerDown:ie(s.onPointerDown,v=>{d.current=v.pointerType;const x=v.target;x.hasPointerCapture(v.pointerId)&&x.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(y(v),v.preventDefault())}),onKeyDown:ie(s.onKeyDown,v=>{const x=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&f(v.key),!(x&&v.key===" ")&&Bae.includes(v.key)&&(y(),v.preventDefault())})})})});R3.displayName=T3;var j3="SelectValue",I3=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=rl(j3,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=He(e,c.onValueNodeChange);return Sn(()=>{u(d)},[u,d]),a.jsx(Ce.span,{...l,ref:h,style:{pointerEvents:"none"},children:Q3(c.value)?a.jsx(a.Fragment,{children:o}):i})});I3.displayName=j3;var Kae="SelectIcon",P3=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Ce.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});P3.displayName=Kae;var Yae="SelectPortal",k3=t=>a.jsx(id,{asChild:!0,...t});k3.displayName=Yae;var sc="SelectContent",A3=p.forwardRef((t,e)=>{const n=rl(sc,t.__scopeSelect),[r,s]=p.useState();if(Sn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?vo.createPortal(a.jsx(D3,{scope:t.__scopeSelect,children:a.jsx(x0.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(M3,{...t,ref:e})});A3.displayName=sc;var Ns=10,[D3,sl]=Rd(sc),Qae="SelectContentImpl",M3=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:y,hideWhenDetached:v,avoidCollisions:x,..._}=t,w=rl(sc,n),[b,T]=p.useState(null),[I,O]=p.useState(null),j=He(e,le=>T(le)),[S,N]=p.useState(null),[P,k]=p.useState(null),D=w0(n),[R,$]=p.useState(!1),G=p.useRef(!1);p.useEffect(()=>{if(b)return mm(b)},[b]),n0();const q=p.useCallback(le=>{const[Re,...Ue]=D().map(rt=>rt.ref.current),[Ve]=Ue.slice(-1),nt=document.activeElement;for(const rt of le)if(rt===nt||(rt==null||rt.scrollIntoView({block:"nearest"}),rt===Re&&I&&(I.scrollTop=0),rt===Ve&&I&&(I.scrollTop=I.scrollHeight),rt==null||rt.focus(),document.activeElement!==nt))return},[D,I]),H=p.useCallback(()=>q([S,b]),[q,S,b]);p.useEffect(()=>{R&&H()},[R,H]);const{onOpenChange:M,triggerPointerDownPosRef:U}=w;p.useEffect(()=>{if(b){let le={x:0,y:0};const Re=Ve=>{var nt,rt;le={x:Math.abs(Math.round(Ve.pageX)-(((nt=U.current)==null?void 0:nt.x)??0)),y:Math.abs(Math.round(Ve.pageY)-(((rt=U.current)==null?void 0:rt.y)??0))}},Ue=Ve=>{le.x<=10&&le.y<=10?Ve.preventDefault():b.contains(Ve.target)||M(!1),document.removeEventListener("pointermove",Re),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Ue,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Ue,{capture:!0})}}},[b,M,U]),p.useEffect(()=>{const le=()=>M(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[M]);const[re,W]=Z3(le=>{const Re=D().filter(nt=>!nt.disabled),Ue=Re.find(nt=>nt.ref.current===document.activeElement),Ve=J3(Re,le,Ue);Ve&&setTimeout(()=>Ve.ref.current.focus())}),F=p.useCallback((le,Re,Ue)=>{const Ve=!G.current&&!Ue;(w.value!==void 0&&w.value===Re||Ve)&&(N(le),Ve&&(G.current=!0))},[w.value]),Q=p.useCallback(()=>b==null?void 0:b.focus(),[b]),pe=p.useCallback((le,Re,Ue)=>{const Ve=!G.current&&!Ue;(w.value!==void 0&&w.value===Re||Ve)&&k(le)},[w.value]),he=r==="popper"?$b:O3,me=he===$b?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:y,hideWhenDetached:v,avoidCollisions:x}:{};return a.jsx(D3,{scope:n,content:b,viewport:I,onViewportChange:O,itemRefCallback:F,selectedItem:S,onItemLeave:Q,itemTextRefCallback:pe,focusSelectedItem:H,selectedItemText:P,position:r,isPositioned:R,searchRef:re,children:a.jsx(pm,{as:wi,allowPinchZoom:!0,children:a.jsx(fm,{asChild:!0,trapped:w.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:ie(s,le=>{var Re;(Re=w.trigger)==null||Re.focus({preventScroll:!0}),le.preventDefault()}),children:a.jsx(ac,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:a.jsx(he,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:le=>le.preventDefault(),..._,...me,onPlaced:()=>$(!0),ref:j,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ie(_.onKeyDown,le=>{const Re=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!Re&&le.key.length===1&&W(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Ve=D().filter(nt=>!nt.disabled).map(nt=>nt.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Ve=Ve.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const nt=le.target,rt=Ve.indexOf(nt);Ve=Ve.slice(rt+1)}setTimeout(()=>q(Ve)),le.preventDefault()}})})})})})})});M3.displayName=Qae;var Xae="SelectItemAlignedPosition",O3=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=rl(sc,n),o=sl(sc,n),[l,c]=p.useState(null),[u,d]=p.useState(null),h=He(e,j=>d(j)),f=w0(n),g=p.useRef(!1),y=p.useRef(!0),{viewport:v,selectedItem:x,selectedItemText:_,focusSelectedItem:w}=o,b=p.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&v&&x&&_){const j=i.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),P=_.getBoundingClientRect();if(i.dir!=="rtl"){const nt=P.left-S.left,rt=N.left-nt,Xt=j.left-rt,hn=j.width+Xt,Vr=Math.max(hn,S.width),$n=window.innerWidth-Ns,Qs=yb(rt,[Ns,Math.max(Ns,$n-Vr)]);l.style.minWidth=hn+"px",l.style.left=Qs+"px"}else{const nt=S.right-P.right,rt=window.innerWidth-N.right-nt,Xt=window.innerWidth-j.right-rt,hn=j.width+Xt,Vr=Math.max(hn,S.width),$n=window.innerWidth-Ns,Qs=yb(rt,[Ns,Math.max(Ns,$n-Vr)]);l.style.minWidth=hn+"px",l.style.right=Qs+"px"}const k=f(),D=window.innerHeight-Ns*2,R=v.scrollHeight,$=window.getComputedStyle(u),G=parseInt($.borderTopWidth,10),q=parseInt($.paddingTop,10),H=parseInt($.borderBottomWidth,10),M=parseInt($.paddingBottom,10),U=G+q+R+M+H,re=Math.min(x.offsetHeight*5,U),W=window.getComputedStyle(v),F=parseInt(W.paddingTop,10),Q=parseInt(W.paddingBottom,10),pe=j.top+j.height/2-Ns,he=D-pe,me=x.offsetHeight/2,le=x.offsetTop+me,Re=G+q+le,Ue=U-Re;if(Re<=pe){const nt=k.length>0&&x===k[k.length-1].ref.current;l.style.bottom="0px";const rt=u.clientHeight-v.offsetTop-v.offsetHeight,Xt=Math.max(he,me+(nt?Q:0)+rt+H),hn=Re+Xt;l.style.height=hn+"px"}else{const nt=k.length>0&&x===k[0].ref.current;l.style.top="0px";const Xt=Math.max(pe,G+v.offsetTop+(nt?F:0)+me)+Ue;l.style.height=Xt+"px",v.scrollTop=Re-pe+v.offsetTop}l.style.margin=`${Ns}px 0`,l.style.minHeight=re+"px",l.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,i.trigger,i.valueNode,l,u,v,x,_,i.dir,r]);Sn(()=>b(),[b]);const[T,I]=p.useState();Sn(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const O=p.useCallback(j=>{j&&y.current===!0&&(b(),w==null||w(),y.current=!1)},[b,w]);return a.jsx(Jae,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:O,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(Ce.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});O3.displayName=Xae;var Zae="SelectPopperPosition",$b=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Ns,...i}=t,o=_0(n);return a.jsx(Sy,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$b.displayName=Zae;var[Jae,bE]=Rd(sc,{}),Ub="SelectViewport",F3=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=sl(Ub,n),o=bE(Ub,n),l=He(e,i.onViewportChange),c=p.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(x0.Slot,{scope:n,children:a.jsx(Ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ie(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const y=window.innerHeight-Ns*2,v=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),_=Math.max(v,x);if(_<y){const w=_+g,b=Math.min(y,w),T=w-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=T>0?T:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});F3.displayName=Ub;var L3="SelectGroup",[ele,tle]=Rd(L3),nle=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Fs();return a.jsx(ele,{scope:n,id:s,children:a.jsx(Ce.div,{role:"group","aria-labelledby":s,...r,ref:e})})});nle.displayName=L3;var V3="SelectLabel",$3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=tle(V3,n);return a.jsx(Ce.div,{id:s.id,...r,ref:e})});$3.displayName=V3;var Yv="SelectItem",[rle,U3]=Rd(Yv),B3=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=rl(Yv,n),c=sl(Yv,n),u=l.value===r,[d,h]=p.useState(i??""),[f,g]=p.useState(!1),y=He(e,w=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,w,r,s)}),v=Fs(),x=p.useRef("touch"),_=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(rle,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:p.useCallback(w=>{h(b=>b||((w==null?void 0:w.textContent)??"").trim())},[]),children:a.jsx(x0.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(Ce.div,{role:"option","aria-labelledby":v,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:ie(o.onFocus,()=>g(!0)),onBlur:ie(o.onBlur,()=>g(!1)),onClick:ie(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:ie(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:ie(o.onPointerDown,w=>{x.current=w.pointerType}),onPointerMove:ie(o.onPointerMove,w=>{var b;x.current=w.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ie(o.onPointerLeave,w=>{var b;w.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ie(o.onKeyDown,w=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&w.key===" "||(zae.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});B3.displayName=Yv;var vh="SelectItemText",z3=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=rl(vh,n),l=sl(vh,n),c=U3(vh,n),u=Gae(vh,n),[d,h]=p.useState(null),f=He(e,_=>h(_),c.onItemTextChange,_=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,_,c.value,c.disabled)}),g=d==null?void 0:d.textContent,y=p.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:x}=u;return Sn(()=>(v(y),()=>x(y)),[v,x,y]),a.jsxs(a.Fragment,{children:[a.jsx(Ce.span,{id:c.textId,...i,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?vo.createPortal(i.children,o.valueNode):null]})});z3.displayName=vh;var H3="SelectItemIndicator",W3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return U3(H3,n).isSelected?a.jsx(Ce.span,{"aria-hidden":!0,...r,ref:e}):null});W3.displayName=H3;var Bb="SelectScrollUpButton",q3=p.forwardRef((t,e)=>{const n=sl(Bb,t.__scopeSelect),r=bE(Bb,t.__scopeSelect),[s,i]=p.useState(!1),o=He(e,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(K3,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});q3.displayName=Bb;var zb="SelectScrollDownButton",G3=p.forwardRef((t,e)=>{const n=sl(zb,t.__scopeSelect),r=bE(zb,t.__scopeSelect),[s,i]=p.useState(!1),o=He(e,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(K3,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});G3.displayName=zb;var K3=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=sl("SelectScrollButton",n),o=p.useRef(null),l=w0(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Sn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ce.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ie(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ie(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ie(s.onPointerLeave,()=>{c()})})}),sle="SelectSeparator",Y3=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Ce.div,{"aria-hidden":!0,...r,ref:e})});Y3.displayName=sle;var Hb="SelectArrow",ile=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=_0(n),i=rl(Hb,n),o=sl(Hb,n);return i.open&&o.position==="popper"?a.jsx(Ey,{...s,...r,ref:e}):null});ile.displayName=Hb;function Q3(t){return t===""||t===void 0}var X3=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=He(e,s),o=y0(n);return p.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),a.jsx(Bf,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});X3.displayName="BubbleSelect";function Z3(t){const e=Ut(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function J3(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=ole(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function ole(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ale=N3,e5=R3,lle=I3,cle=P3,ule=k3,t5=A3,dle=F3,n5=$3,r5=B3,hle=z3,fle=W3,s5=q3,i5=G3,o5=Y3;const ps=ale,gs=lle,Xr=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(e5,{ref:r,className:te("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(cle,{asChild:!0,children:a.jsx(n2,{className:"h-4 w-4 opacity-50"})})]}));Xr.displayName=e5.displayName;const a5=p.forwardRef(({className:t,...e},n)=>a.jsx(s5,{ref:n,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(HU,{className:"h-4 w-4"})}));a5.displayName=s5.displayName;const l5=p.forwardRef(({className:t,...e},n)=>a.jsx(i5,{ref:n,className:te("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(n2,{className:"h-4 w-4"})}));l5.displayName=i5.displayName;const Zr=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(ule,{children:a.jsxs(t5,{ref:s,className:te("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(a5,{}),a.jsx(dle,{className:te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(l5,{})]})}));Zr.displayName=t5.displayName;const mle=p.forwardRef(({className:t,...e},n)=>a.jsx(n5,{ref:n,className:te("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));mle.displayName=n5.displayName;const mt=p.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(r5,{ref:r,className:te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(fle,{children:a.jsx(yy,{className:"h-4 w-4"})})}),a.jsx(hle,{children:e})]}));mt.displayName=r5.displayName;const ple=p.forwardRef(({className:t,...e},n)=>a.jsx(o5,{ref:n,className:te("-mx-1 my-1 h-px bg-muted",t),...e}));ple.displayName=o5.displayName;const c5=({dogs:t,onAddReminder:e,defaultDogName:n,children:r})=>{const[s,i]=p.useState(!1),[o,l]=p.useState({dog:n||"",vaccine:"",due:void 0});p.useEffect(()=>{s?n&&l(h=>({...h,dog:n})):l({dog:n||"",vaccine:"",due:void 0})},[s,n]);const c=()=>{o.dog&&o.vaccine&&o.due?(e({dog:o.dog,vaccine:o.vaccine,due:o.due}),l({dog:n||"",vaccine:"",due:void 0}),i(!1)):ne.error("Please fill out all fields.")},u=t.find(h=>h.name===o.dog),d=u!=null&&u.petType?u.petType.charAt(0).toUpperCase()+u.petType.slice(1):"Pet";return a.jsxs(Vn,{open:s,onOpenChange:i,children:[a.jsx(Pi,{asChild:!0,children:r}),a.jsxs(jn,{className:"w-[95vw] max-w-md mx-auto bg-slate-800 border-slate-700 text-white",children:[a.jsxs(In,{children:[a.jsx(Pn,{className:"text-white",children:"Add vaccination reminder"}),a.jsx(nl,{className:"text-slate-400",children:n?`Adding reminder for ${n}.`:"Select a pet and enter the vaccination details below."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(qe,{htmlFor:"dog",className:"text-right text-white",children:d}),a.jsxs(ps,{onValueChange:h=>l({...o,dog:h}),value:o.dog,disabled:!!n,children:[a.jsx(Xr,{className:"col-span-3 bg-slate-700 border-slate-600 text-white",children:a.jsx(gs,{placeholder:`Select a ${d.toLowerCase()}`})}),a.jsx(Zr,{className:"bg-slate-700 border-slate-600",children:t.map(h=>a.jsx(mt,{value:h.name,className:"text-white hover:bg-slate-600 focus:bg-slate-600",children:h.name},h.name))})]})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(qe,{htmlFor:"vaccine",className:"text-right text-white",children:"Vaccine"}),a.jsx(Fe,{id:"vaccine",value:o.vaccine,onChange:h=>l({...o,vaccine:h.target.value}),className:"col-span-3 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g. Rabies Booster"})]}),a.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[a.jsx(qe,{htmlFor:"due-date",className:"text-right text-white",children:"Due Date"}),a.jsxs(vm,{children:[a.jsx(ym,{asChild:!0,children:a.jsxs(ee,{variant:"outline",className:te("w-full justify-start text-left font-normal col-span-3 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!o.due&&"text-slate-400"),children:[a.jsx(xs,{className:"mr-2 h-4 w-4"}),o.due?ot(o.due,"PPP"):a.jsx("span",{children:"Pick a date"})]})}),a.jsx(Ed,{className:"w-auto p-0 bg-slate-800 border-slate-700",children:a.jsx(Om,{mode:"single",selected:o.due,onSelect:h=>l({...o,due:h}),initialFocus:!0,className:"bg-slate-800 text-white"})})]})]})]}),a.jsx(_o,{children:a.jsx(ee,{onClick:c,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Save Reminder"})})]})]})};function st({className:t,...e}){return a.jsx("div",{className:te("animate-pulse rounded-md bg-muted",t),...e})}const mu=()=>a.jsxs("div",{className:"space-y-4",children:[a.jsx(st,{className:"h-20 w-full rounded-lg"}),a.jsx(st,{className:"h-20 w-full rounded-lg"}),a.jsx(st,{className:"h-20 w-full rounded-lg"})]}),gle=({transactions:t})=>{const e=(t==null?void 0:t.filter(i=>i.service.toLowerCase().includes("home vaccination")||i.service.toLowerCase().includes("vaccination")))||[],n=i=>{switch(i.toLowerCase()){case"successful":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-orange-500/20 text-orange-300 border-orange-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},r=i=>{switch(i.toLowerCase()){case"successful":return a.jsx(Fl,{className:"h-4 w-4"});case"failed":return a.jsx(s2,{className:"h-4 w-4"});default:return a.jsx(Ll,{className:"h-4 w-4"})}},s=i=>{switch(i.toLowerCase()){case"successful":return"Confirmed";case"failed":return"Failed";case"pending":return"Pending";default:return i}};return e.length===0?a.jsxs("div",{className:"text-center text-slate-400 py-8",children:[a.jsx(Ou,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"text-base mb-1",children:"No home vaccination bookings found."}),a.jsx("p",{className:"text-sm",children:"You can book one from an upcoming reminder."})]}):a.jsx("div",{className:"space-y-3",children:e.map(i=>a.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border-l-4 border-l-blue-500",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Ou,{className:"h-4 w-4 text-blue-400 flex-shrink-0"}),a.jsx("p",{className:"font-semibold text-white text-sm truncate",children:i.service})]}),a.jsxs("div",{className:"space-y-1 text-xs text-slate-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xs,{className:"h-3 w-3"}),a.jsxs("span",{children:["Booked: ",i.createdAt?ot(i.createdAt.toDate(),"MMM d, yyyy"):"N/A"]})]}),i.slotDatetime&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ll,{className:"h-3 w-3"}),a.jsxs("span",{children:["Scheduled: ",ot(i.slotDatetime.toDate(),"MMM d, yyyy, p")]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("span",{className:"font-mono",children:["ID: ",i.paymentId?i.paymentId.slice(-8):i.id.slice(-8)]})})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[a.jsxs(Ke,{className:n(i.status),children:[r(i.status),a.jsx("span",{className:"ml-1",children:s(i.status)})]}),a.jsxs("div",{className:"flex items-center text-white font-semibold",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:new Intl.NumberFormat("en-IN").format(i.amount)})]})]})]}),i.vaccines&&i.vaccines.length>0&&a.jsxs("div",{className:"mt-3 p-2 bg-slate-700/30 rounded text-xs",children:[a.jsx("p",{className:"text-slate-400 mb-1",children:"Vaccines:"}),a.jsx("div",{className:"space-y-1",children:i.vaccines.map((o,l)=>a.jsxs("div",{className:"flex justify-between text-slate-300",children:[a.jsx("span",{children:o.name}),a.jsxs("span",{children:["",o.price]})]},l))})]})]},i.id))})},vle=()=>{const{dogs:t,isLoadingDogs:e}=dm(),{reminders:n,isLoadingReminders:r,addReminder:s,markReminderAsComplete:i,deleteReminder:o,editReminder:l}=hm(),{transactions:c,isLoading:u}=Sd();return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8 pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Vaccination Schedule"}),a.jsx(c5,{dogs:t,onAddReminder:s,children:a.jsxs(ee,{size:"sm",disabled:e,className:"bg-purple-500 hover:bg-purple-600",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Add Reminder"]})})]}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(St,{className:"pb-4",children:a.jsxs(Rt,{className:"flex items-center text-base sm:text-lg text-white",children:[a.jsx(Rh,{className:"mr-2 h-5 w-5 text-purple-400"}),"Vaccination Schedule"]})}),a.jsx(it,{children:a.jsxs(AF,{defaultValue:"upcoming",className:"w-full",children:[a.jsxs(zS,{className:"grid w-full grid-cols-3 bg-slate-700/50 mb-6",children:[a.jsx(ai,{value:"upcoming",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Upcoming"}),a.jsx(ai,{value:"completed",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"History"}),a.jsx(ai,{value:"bookings",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Bookings"})]}),a.jsxs(li,{value:"upcoming",className:"mt-0",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:"All Upcoming Vaccinations"})}),r?a.jsx(mu,{}):a.jsx("div",{className:"space-y-3",children:a.jsx(S3,{reminders:n,transactions:c,onMarkAsComplete:i,onDeleteReminder:o,onEditReminder:l,title:""})})]}),a.jsxs(li,{value:"completed",className:"mt-0",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:"All Vaccination History"})}),r?a.jsx(mu,{}):a.jsx("div",{className:"space-y-3",children:a.jsx(E3,{reminders:n,title:""})})]}),a.jsxs(li,{value:"bookings",className:"mt-0",children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Your Bookings"})}),u?a.jsx(mu,{}):a.jsx("div",{className:"space-y-3",children:a.jsx(gle,{transactions:c})})]})]})})]})]})})},yle=({name:t,breed:e,age:n,detailedAge:r,imageUrl:s,onClick:i,onEdit:o,onDelete:l,reminderStatus:c,hasBookedReminders:u,dueDateInfo:d})=>{const h=y=>{y.stopPropagation()},f=()=>u?"border-green-500/50 bg-green-500/10":c==="overdue"?"border-red-500/50 bg-red-500/10":c==="due-soon"?"border-yellow-500/50 bg-yellow-500/10":"border-slate-700",g=()=>{if(u||!c||!d)return null;if(c==="overdue"){const y=Math.abs(d.daysUntilDue);return a.jsx("div",{className:"mt-3 px-3 py-2 bg-red-500/20 rounded-lg border border-red-500/30",children:a.jsxs("p",{className:"text-xs text-red-300 font-medium",children:[d.vaccineName," - Overdue by ",y," ",y===1?"day":"days"]})})}return c==="due-soon"?a.jsx("div",{className:"mt-3 px-3 py-2 bg-yellow-500/20 rounded-lg border border-yellow-500/30",children:a.jsxs("p",{className:"text-xs text-yellow-300 font-medium",children:[d.vaccineName," - Due in ",d.daysUntilDue," ",d.daysUntilDue===1?"day":"days"]})}):null};return a.jsxs(Ye,{onClick:i,className:te("w-full transition-all duration-300 hover:shadow-xl hover:-translate-y-1 overflow-hidden cursor-pointer group bg-slate-800/50 border-2",f()),children:[a.jsx("div",{className:"overflow-hidden",children:s?a.jsx("picture",{children:a.jsx("img",{src:s,alt:t,className:"w-full h-32 sm:h-40 md:h-48 object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",decoding:"async",sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"})}):a.jsx("div",{className:"w-full h-32 sm:h-40 md:h-48 bg-slate-700/50 flex items-center justify-center",children:a.jsx(_d,{className:"h-16 w-16 sm:h-20 sm:w-20 md:h-24 md:w-24",children:a.jsx(bd,{className:"text-2xl sm:text-3xl md:text-4xl bg-purple-500/20 text-purple-300 font-semibold",children:t.charAt(0).toUpperCase()})})})}),a.jsxs(St,{className:"flex flex-row items-start justify-between p-3 sm:p-4 md:p-6",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx(Rt,{className:"text-lg sm:text-xl font-bold truncate text-white",children:t}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-400 truncate",children:e}),a.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-slate-300 mt-1 sm:mt-2",children:[a.jsx(J1,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-1.5 text-pink-400 flex-shrink-0"}),a.jsx("span",{className:"font-medium truncate",children:r||`${n} ${n===1?"year":"years"} old`})]}),g()]}),a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-8 w-8 sm:h-9 sm:w-9 text-slate-400 hover:text-white hover:bg-slate-700",onClick:h,children:a.jsx(o2,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),a.jsxs(xo,{align:"end",className:"bg-slate-800 border-slate-700",children:[a.jsx(mr,{onClick:y=>{y.stopPropagation(),o()},className:"text-white hover:bg-slate-700",children:"Edit"}),a.jsx(mr,{onClick:y=>{y.stopPropagation(),l()},className:"text-red-400 focus:text-red-400 focus:bg-red-500/10 hover:bg-red-500/10",children:"Delete"})]})]})]})]})},xle=({dog:t,isOpen:e,onSave:n,onClose:r,onImageSelect:s,isSaving:i})=>{const[o,l]=p.useState(t),[c,u]=p.useState(null);p.useEffect(()=>{l(t),u(null)},[t]);const d=y=>{if(!y)return{years:0,months:0,displayText:"0 years old"};const v=new Date(y),x=new Date,_=TS(x,v),w=t0(x,v)%12;let b="";return _>0&&w>0?b=`${_} ${_===1?"year":"years"} ${w} ${w===1?"month":"months"} old`:_>0?b=`${_} ${_===1?"year":"years"} old`:w>0?b=`${w} ${w===1?"month":"months"} old`:b="Less than a month old",{years:_,months:w,displayText:b}},h=y=>{if(!y)return 0;const{years:v,months:x}=d(y);return v>0?v+x/12:Math.max(.1,x/12)},f=y=>{l(v=>({...v,dateOfBirth:y,age:h(y)}))},g=()=>{n({...o,age:Number(o.age)},c)};return a.jsx(Vn,{open:e,onOpenChange:r,children:a.jsxs(jn,{className:"w-[95vw] max-w-md mx-auto max-h-[90vh] overflow-y-auto rounded-lg bg-slate-800 border-slate-700",children:[a.jsx(In,{className:"space-y-3 pb-4",children:a.jsxs(Pn,{className:"text-xl font-bold text-center text-white",children:["Edit ",t.name,"'s Profile"]})}),a.jsxs("div",{className:"space-y-6 py-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"name",className:"text-sm font-medium text-white",children:"Name"}),a.jsx(Fe,{id:"name",value:o.name,onChange:y=>l({...o,name:y.target.value}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"breed",className:"text-sm font-medium text-white",children:"Breed"}),a.jsx(Fe,{id:"breed",value:o.breed,onChange:y=>l({...o,breed:y.target.value}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"dob",className:"text-sm font-medium text-white",children:"Date of Birth"}),a.jsx(Fe,{id:"dob",type:"date",value:o.dateOfBirth||"",onChange:y=>f(y.target.value),className:"w-full h-12 bg-slate-700 border-slate-600 text-white",max:new Date().toISOString().split("T")[0]}),o.dateOfBirth&&a.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Age: ",d(o.dateOfBirth).displayText]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"image",className:"text-sm font-medium text-white",children:"Photo"}),a.jsx(Fe,{id:"image",type:"file",accept:"image/*",onChange:y=>{if(y.target.files&&y.target.files[0]){const v=y.target.files[0];u(v),s(v),l({...o,imageUrl:URL.createObjectURL(v)})}else s(null)},className:"w-full h-12 bg-slate-700 border-slate-600 text-white"}),o.imageUrl&&a.jsx("div",{className:"mt-3 flex justify-center",children:a.jsx("img",{src:o.imageUrl,alt:"Pet preview",className:"h-24 w-24 rounded-lg object-cover border-2 border-slate-600"})})]})]}),a.jsxs(_o,{className:"pt-6 gap-3",children:[a.jsx(ee,{variant:"outline",onClick:r,disabled:i,className:"flex-1 h-12 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),a.jsx(ee,{onClick:g,disabled:i,className:"flex-1 h-12 bg-purple-500 hover:bg-purple-600",children:i?"Saving...":"Save changes"})]})]})})},wle=({reminderDueSoonDays:t})=>{const{user:e}=rs(),n=Or(),r=Fr(),[s,i]=p.useState(!1),[o,l]=p.useState({name:"",breed:"",petType:"",dateOfBirth:"",age:0,imageUrl:""}),[c,u]=p.useState(null),[d,h]=p.useState(null),{dogs:f,isLoadingDogs:g}=dm(),{reminders:y}=hm(),{transactions:v}=Sd(),x=R=>{if(!R)return{years:0,months:0,displayText:"0 years old"};const $=new Date(R),G=new Date,q=TS(G,$),H=t0(G,$)%12;let M="";return q>0&&H>0?M=`${q} ${q===1?"year":"years"} ${H} ${H===1?"month":"months"} old`:q>0?M=`${q} ${q===1?"year":"years"} old`:H>0?M=`${H} ${H===1?"month":"months"} old`:M="Less than a month old",{years:q,months:H,displayText:M}},_=R=>{if(!R)return 0;const{years:$,months:G}=x(R);return $>0?$+G/12:Math.max(.1,G/12)},w=R=>{x(R),l($=>({...$,dateOfBirth:R,age:_(R)}))},b=Gt({mutationFn:async({dogData:R,file:$})=>{if(!e)throw new Error("User not authenticated");const G=sn(Ct(je,"users",e.uid,"dogs"));let q="";if($){const M=oa(aa,`users/${e.uid}/dogs/${G.id}/${$.name}`);await sa(M,$),q=await ia(M)}const H={...R,imageUrl:q};return await XO(G,H),{...H,id:G.id}},onSuccess:R=>{n.invalidateQueries({queryKey:["dogs",e==null?void 0:e.uid]}),ne.success(`Welcome ${R.name}! `),l({name:"",breed:"",petType:"",dateOfBirth:"",age:0,imageUrl:""}),u(null),i(!1)},onError:R=>{console.error("addDogMutation error",R),R.code==="storage/unauthorized"?ne.error("Image upload failed: Permission issue. Please check Firebase Storage rules."):ne.error(R.message||"Failed to add pet.")}}),T=Gt({mutationFn:async({dogId:R,dogData:$,file:G})=>{if(!e)throw new Error("User not authenticated");const q=sn(je,"users",e.uid,"dogs",R),H={...$};if(G){const M=oa(aa,`users/${e.uid}/dogs/${R}/${G.name}`);await sa(M,G),H.imageUrl=await ia(M)}return Va(q,H)},onSuccess:(R,{dogData:$})=>{n.invalidateQueries({queryKey:["dogs",e==null?void 0:e.uid]}),ne.success(`${$.name||(d==null?void 0:d.name)}'s profile has been updated.`),h(null)},onError:R=>{ne.error(R.message||"Failed to update pet.")}}),I=Gt({mutationFn:R=>{if(!e)throw new Error("User not authenticated");const $=sn(je,"users",e.uid,"dogs",R);return cm($)},onSuccess:(R,$)=>{n.invalidateQueries({queryKey:["dogs",e==null?void 0:e.uid]});const G=f.find(q=>q.id===$);ne.success(`${(G==null?void 0:G.name)||"The pet"} has been removed.`)},onError:R=>{ne.error(R.message||"Failed to delete pet.")}}),O=Gt({mutationFn:async({oldDogName:R,newDogName:$})=>{if(!e)throw new Error("User not authenticated");const G=Ct(je,"users",e.uid,"reminders"),q=Ci(G,Nf("dog","==",R)),H=await pn(q),M=Cv(je);H.forEach(U=>{M.update(U.ref,{dog:$})}),await M.commit()},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:R=>{ne.error(R.message||"Failed to update reminders.")}}),j=Gt({mutationFn:async R=>{if(!e)throw new Error("User not authenticated");const $=Ct(je,"users",e.uid,"reminders"),G=Ci($,Nf("dog","==",R)),q=await pn(G),H=Cv(je);q.forEach(M=>{H.delete(M.ref)}),await H.commit()},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:R=>{ne.error(R.message||"Failed to delete associated reminders.")}}),S=()=>{if(o.name&&o.breed&&o.petType&&o.dateOfBirth){if(f.some(R=>R.name.toLowerCase()===o.name.toLowerCase())){ne.error("A pet with this name already exists.");return}b.mutate({dogData:{name:o.name,breed:o.breed,age:o.age,petType:o.petType,dateOfBirth:o.dateOfBirth},file:c})}else ne.error("Please fill out all fields.")},N=(R,$)=>{if(!d)return;if(f.some(q=>q.id!==d.id&&q.name.toLowerCase()===R.name.toLowerCase())){ne.error("A pet with this name already exists.");return}T.mutate({dogId:d.id,dogData:R,file:$}),d&&d.name!==R.name&&O.mutate({oldDogName:d.name,newDogName:R.name})},P=R=>{j.mutate(R.name),I.mutate(R.id)},k=R=>{const $=$a();let G=null,q=!1,H;for(const M of y){if(M.dog!==R.name||M.status!=="upcoming")continue;if(v==null?void 0:v.some(F=>F.reminderId===M.id&&F.status==="successful")){q=!0;continue}const re=new Date(M.due),W=Ca(re,$);if(W<0)return{status:"overdue",hasBookedReminders:q,dueDateInfo:{daysUntilDue:W,vaccineName:M.vaccine}};W>=0&&W<=t&&(G="due-soon",H={daysUntilDue:W,vaccineName:M.vaccine})}return{status:G,hasBookedReminders:q,dueDateInfo:H}},D=[...f].sort((R,$)=>{const G=k(R),q=k($),H=(re,W)=>W&&!re?3:re==="overdue"?0:re==="due-soon"?1:2,M=H(G.status,G.hasBookedReminders),U=H(q.status,q.hasBookedReminders);return M!==U?M-U:R.name.localeCompare($.name)});return g?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Pets"}),a.jsx(st,{className:"h-10 w-20 bg-slate-700"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsx(st,{className:"h-40 rounded-lg bg-slate-700"}),a.jsx(st,{className:"h-40 rounded-lg bg-slate-700"})]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Pets"}),a.jsxs(Vn,{open:s,onOpenChange:R=>{!R&&b.isPending||i(R)},children:[a.jsx(Pi,{asChild:!0,children:a.jsxs(ee,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:[a.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Add Pet"]})}),a.jsxs(jn,{className:"w-[95vw] max-w-md mx-auto max-h-[90vh] overflow-y-auto rounded-lg bg-slate-800 border-slate-700",children:[a.jsxs(In,{className:"space-y-3 pb-4",children:[a.jsx(Pn,{className:"text-xl font-bold text-center text-white",children:"Add a new pet"}),a.jsx(nl,{className:"text-sm text-center text-slate-400",children:"Enter your pet's details here. Click save when you're done."})]}),a.jsxs("div",{className:"space-y-6 py-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"petType",className:"text-sm font-medium text-white",children:"Pet Type *"}),a.jsxs(ps,{onValueChange:R=>l({...o,petType:R}),children:[a.jsx(Xr,{className:"w-full h-12 bg-slate-700 border-slate-600 text-white",children:a.jsx(gs,{placeholder:"Select pet type"})}),a.jsxs(Zr,{className:"bg-slate-700 border-slate-600",children:[a.jsx(mt,{value:"dog",className:"text-white hover:bg-slate-600",children:" Dog"}),a.jsx(mt,{value:"cat",className:"text-white hover:bg-slate-600",children:" Cat"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"name",className:"text-sm font-medium text-white",children:"Name *"}),a.jsx(Fe,{id:"name",value:o.name,onChange:R=>l({...o,name:R.target.value}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., Buddy"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"breed",className:"text-sm font-medium text-white",children:"Breed *"}),a.jsx(Fe,{id:"breed",value:o.breed,onChange:R=>l({...o,breed:R.target.value}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., Golden Retriever"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"dob",className:"text-sm font-medium text-white",children:"Date of Birth *"}),a.jsx(Fe,{id:"dob",type:"date",value:o.dateOfBirth,onChange:R=>w(R.target.value),className:"w-full h-12 bg-slate-700 border-slate-600 text-white",max:new Date().toISOString().split("T")[0]}),o.dateOfBirth&&a.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Age: ",x(o.dateOfBirth).displayText]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(qe,{htmlFor:"image",className:"text-sm font-medium text-white",children:"Photo (Optional)"}),a.jsx(Fe,{id:"image",type:"file",accept:"image/*",onChange:R=>{if(R.target.files&&R.target.files[0]){const $=R.target.files[0];u($),l({...o,imageUrl:URL.createObjectURL($)})}else u(null),l({...o,imageUrl:""})},className:"w-full h-12 bg-slate-700 border-slate-600 text-white"}),o.imageUrl&&a.jsx("div",{className:"mt-3 flex justify-center",children:a.jsx("img",{src:o.imageUrl,alt:"Pet preview",className:"h-24 w-24 rounded-lg object-cover border-2 border-slate-600"})})]})]}),a.jsx(_o,{className:"pt-6",children:a.jsx(ee,{onClick:S,disabled:b.isPending,className:"w-full h-12 text-base font-medium bg-purple-500 hover:bg-purple-600",children:b.isPending?"Saving...":"Save pet"})})]})]})]}),a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:f.length===0&&!g?a.jsxs("div",{className:"md:col-span-2 text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Fu,{className:"h-8 w-8 text-purple-400"})}),a.jsx("p",{className:"text-slate-400 text-lg mb-2",children:"No pets yet"}),a.jsx("p",{className:"text-slate-500 text-sm",children:"Add your first furry friend to get started!"})]}):D.map(R=>{const{status:$,hasBookedReminders:G,dueDateInfo:q}=k(R),H=x(R.dateOfBirth||"");return a.jsx(yle,{...R,detailedAge:H.displayText,reminderStatus:$,hasBookedReminders:G,dueDateInfo:q,onClick:()=>r(`/my-dogs/${encodeURIComponent(R.name)}`),onEdit:()=>h(R),onDelete:()=>P(R)},R.id)})}),d&&a.jsx(xle,{dog:d,isOpen:!!d,onSave:N,onClose:()=>{T.isPending||h(null)},onImageSelect:R=>{},isSaving:T.isPending})]})})},_le=async()=>{const t=Ct(je,"categories");return(await pn(t)).docs.map(n=>({id:n.id,...n.data()}))},CE=()=>{const t=Or(),{data:e=[],isLoading:n,error:r}=Gs({queryKey:["categories"],queryFn:_le}),s=Gt({mutationFn:async({categoryData:l,imageFile:c})=>{let u="";if(c){const d=oa(aa,`categories/${Date.now()}_${c.name}`);await sa(d,c),u=await ia(d)}return wd(Ct(je,"categories"),{...l,imageUrl:u,createdAt:Hs()})},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]}),ne.success("Category added successfully!")},onError:l=>{ne.error(l.message||"Failed to add category")}}),i=Gt({mutationFn:async({categoryId:l,categoryData:c,imageFile:u})=>{const d={...c};if(u){const f=oa(aa,`categories/${Date.now()}_${u.name}`);await sa(f,u),d.imageUrl=await ia(f)}const h=sn(je,"categories",l);return Va(h,d)},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]}),ne.success("Category updated successfully!")},onError:l=>{ne.error(l.message||"Failed to update category")}}),o=Gt({mutationFn:async l=>{const c=sn(je,"categories",l);return cm(c)},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]}),ne.success("Category deleted successfully!")},onError:l=>{ne.error(l.message||"Failed to delete category")}});return{categories:e.filter(l=>l.isActive),allCategories:e,isLoading:n,error:r,addCategory:s.mutateAsync,updateCategory:i.mutateAsync,deleteCategory:o.mutateAsync,isAddingCategory:s.isPending,isUpdatingCategory:i.isPending,isDeletingCategory:o.isPending}},ble=async(t,e)=>{const n=Ct(je,"shopProducts");let r=Ci(n,Nf("isActive","==",!0));return(await pn(r)).docs.map(i=>({id:i.id,...i.data()}))},u5=(t,e)=>{const n=Or(),{data:r=[],isLoading:s,error:i}=Gs({queryKey:["shopProducts",t,e],queryFn:()=>ble()}),o=Gt({mutationFn:async({productData:u,imageFile:d,galleryFiles:h})=>{let f="",g=[];if(d){const y=oa(aa,`shopProducts/${Date.now()}_${d.name}`);await sa(y,d),f=await ia(y)}if(h&&h.length>0){const y=h.map(async(v,x)=>{const _=oa(aa,`shopProducts/gallery/${Date.now()}_${x}_${v.name}`);return await sa(_,v),ia(_)});g=await Promise.all(y)}return wd(Ct(je,"shopProducts"),{...u,imageUrl:f,galleryImages:g,createdAt:Hs()})},onSuccess:()=>{n.invalidateQueries({queryKey:["shopProducts"]}),ne.success("Product added successfully!")},onError:u=>{ne.error(u.message||"Failed to add product")}}),l=Gt({mutationFn:async({productId:u,productData:d,imageFile:h,galleryFiles:f})=>{const g={...d};if(h){const v=oa(aa,`shopProducts/${Date.now()}_${h.name}`);await sa(v,h),g.imageUrl=await ia(v)}if(f&&f.length>0){const v=f.map(async(x,_)=>{const w=oa(aa,`shopProducts/gallery/${Date.now()}_${_}_${x.name}`);return await sa(w,x),ia(w)});g.galleryImages=await Promise.all(v)}const y=sn(je,"shopProducts",u);return Va(y,g)},onSuccess:()=>{n.invalidateQueries({queryKey:["shopProducts"]}),ne.success("Product updated successfully!")},onError:u=>{ne.error(u.message||"Failed to update product")}}),c=Gt({mutationFn:async u=>{const d=sn(je,"shopProducts",u);return Va(d,{isActive:!1})},onSuccess:()=>{n.invalidateQueries({queryKey:["shopProducts"]}),ne.success("Product deleted successfully!")},onError:u=>{ne.error(u.message||"Failed to delete product")}});return{products:r,featuredProducts:r.filter(u=>u.isFeatured),bestSellerProducts:r.filter(u=>u.isBestSeller),vaccineProducts:r.filter(u=>u.isVaccine),isLoading:s,error:i,addProduct:o.mutateAsync,updateProduct:l.mutateAsync,deleteProduct:c.mutateAsync,isAddingProduct:o.isPending,isUpdatingProduct:l.isPending,isDeletingProduct:c.isPending}},Wm=()=>{const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState(!1);p.useEffect(()=>{try{const b=localStorage.getItem("vaxdog-cart"),T=localStorage.getItem("vaxdog-wishlist");if(b){const I=JSON.parse(b);console.log("Loading cart from localStorage:",I),e(Array.isArray(I)?I:[])}if(T){const I=JSON.parse(T);console.log("Loading wishlist from localStorage:",I),r(Array.isArray(I)?I:[])}i(!0)}catch(b){console.error("Error loading from localStorage:",b),localStorage.removeItem("vaxdog-cart"),localStorage.removeItem("vaxdog-wishlist"),i(!0)}},[]),p.useEffect(()=>{s&&(console.log("Saving cart to localStorage:",t),localStorage.setItem("vaxdog-cart",JSON.stringify(t)))},[t,s]),p.useEffect(()=>{s&&(console.log("Saving wishlist to localStorage:",n),localStorage.setItem("vaxdog-wishlist",JSON.stringify(n)))},[n,s]);const o=(b,T=1)=>{if(console.log("Adding to cart - product:",b,"quantity:",T),!b||!b.id||!b.name||b.price===void 0){console.error("Invalid product data:",b),ne.error("Invalid product data");return}const I=String(b.id);e(O=>{console.log("Current cart items before add:",O);const j=O.find(S=>String(S.id)===I);if(j){const S=j.quantity+T,N=b.stock||99;if(S>N)return ne.error(`Cannot add more items. Only ${N} in stock.`),O;const P=O.map(k=>String(k.id)===I?{...k,quantity:S}:k);return console.log("Updated cart items:",P),ne.success("Updated quantity in cart!",{description:`${b.name} quantity updated to ${S}.`}),P}else{const S={id:I,name:b.name,price:Number(b.price),quantity:T,imageUrl:b.imageUrl||b.image,petType:b.petType,stock:b.stock};console.log("Creating new cart item:",S);const N=[...O,S];return console.log("New cart items array:",N),ne.success("Added to cart!",{description:`${b.name} has been added to your cart.`}),N}})},l=b=>{const T=String(b);e(I=>{const O=I.find(S=>String(S.id)===T),j=I.filter(S=>String(S.id)!==T);return O&&ne.success("Item removed from cart",{description:`${O.name} has been removed from your cart.`}),console.log("Removed from cart, new items:",j),j})},c=(b,T)=>{const I=String(b);if(T<=0){l(I);return}e(O=>{const j=O.find(N=>String(N.id)===I),S=(j==null?void 0:j.stock)||99;return T>S?(ne.error(`Cannot add more items. Only ${S} in stock.`),O):O.map(N=>String(N.id)===I?{...N,quantity:T}:N)})},u=()=>{console.log("Clearing cart..."),e([]),localStorage.setItem("vaxdog-cart",JSON.stringify([])),ne.success("Cart cleared")},d=b=>{if(console.log("Adding to wishlist - product:",b),!b||!b.id||!b.name||b.price===void 0){console.error("Invalid product data:",b),ne.error("Invalid product data");return}const T=String(b.id);r(I=>{if(console.log("Current wishlist items before add:",I),I.some(N=>String(N.id)===T))return ne.info("Item already in wishlist"),I;const j={id:T,name:b.name,price:Number(b.price),imageUrl:b.imageUrl||b.image,petType:b.petType,stock:b.stock};console.log("Creating new wishlist item:",j);const S=[...I,j];return console.log("New wishlist items array:",S),ne.success("Added to wishlist!",{description:`${b.name} has been added to your wishlist.`}),S})},h=b=>{const T=String(b);r(I=>{const O=I.find(S=>String(S.id)===T),j=I.filter(S=>String(S.id)!==T);return O&&ne.success("Removed from wishlist",{description:`${O.name} has been removed from your wishlist.`}),console.log("Removed from wishlist, new items:",j),j})},f=(b,T=1)=>{const I=String(b),O=n.find(j=>String(j.id)===I);O&&(o(O,T),h(I))},g=()=>{console.log("Clearing wishlist..."),r([]),localStorage.setItem("vaxdog-wishlist",JSON.stringify([])),ne.success("Wishlist cleared")},y=b=>{const T=String(b);return n.some(I=>String(I.id)===T)},v=b=>{const T=String(b);return t.some(I=>String(I.id)===T)},x=b=>{const T=String(b),I=t.find(O=>String(O.id)===T);return(I==null?void 0:I.quantity)||0},_=t.reduce((b,T)=>b+T.price*T.quantity,0),w=t.reduce((b,T)=>b+T.quantity,0);return console.log("Current cart items:",t),console.log("Current wishlist items:",n),console.log("Cart count:",w),console.log("Wishlist count:",n.length),console.log("Is initialized:",s),{cartItems:t,wishlistItems:n,cartTotal:_,cartItemsCount:w,wishlistCount:n.length,addToCart:o,removeFromCart:l,updateCartQuantity:c,clearCart:u,addToWishlist:d,removeFromWishlist:h,moveToCart:f,clearWishlist:g,isInWishlist:y,isInCart:v,getCartItemQuantity:x}},SE=rE,Cle=sE,d5=p.forwardRef(({className:t,...e},n)=>a.jsx(_m,{className:te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));d5.displayName=_m.displayName;const Sle=zf("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),b0=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>a.jsxs(Cle,{children:[a.jsx(d5,{}),a.jsxs(bm,{ref:s,className:te(Sle({side:t}),e),...r,children:[n,a.jsxs(Em,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(cc,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));b0.displayName=bm.displayName;const C0=({className:t,...e})=>a.jsx("div",{className:te("flex flex-col space-y-2 text-center sm:text-left",t),...e});C0.displayName="SheetHeader";const S0=p.forwardRef(({className:t,...e},n)=>a.jsx(Cm,{ref:n,className:te("text-lg font-semibold text-foreground",t),...e}));S0.displayName=Cm.displayName;const Ele=p.forwardRef(({className:t,...e},n)=>a.jsx(Sm,{ref:n,className:te("text-sm text-muted-foreground",t),...e}));Ele.displayName=Sm.displayName;const h5=({open:t,onOpenChange:e})=>{const n=Fr(),{cartItems:r,cartTotal:s,removeFromCart:i,updateCartQuantity:o,clearCart:l}=Wm(),c=()=>{if(r.length===0){ne.error("Your cart is empty");return}e(!1),n("/checkout")},u=(h,f)=>{f<=0?i(h):o(h,f)},d=()=>{if(r.length===0){ne.info("Cart is already empty");return}l()};return console.log("CartDrawer - cartItems:",r),a.jsx(SE,{open:t,onOpenChange:e,children:a.jsxs(b0,{side:"right",className:"bg-slate-900 border-slate-700 w-full sm:max-w-md p-0 flex flex-col h-full",children:[a.jsx(C0,{className:"p-4 pb-0 flex-shrink-0",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(S0,{className:"text-white flex items-center gap-2 text-lg",children:[a.jsx(hs,{className:"h-5 w-5"}),"Cart (",r.length,")"]}),a.jsx(ee,{size:"icon",variant:"ghost",className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",onClick:()=>e(!1),children:a.jsx(cc,{className:"h-4 w-4"})})]})}),a.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:r.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mb-4",children:a.jsx(hs,{className:"h-10 w-10 text-slate-500"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add some products to get started!"}),a.jsx(ee,{onClick:()=>e(!1),className:"bg-purple-500 hover:bg-purple-600",children:"Continue Shopping"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:a.jsx("div",{className:"space-y-3 py-4",children:r.map(h=>a.jsx("div",{className:"bg-slate-800/50 rounded-lg p-3",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:h.imageUrl?a.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(hs,{className:"h-6 w-6 text-slate-500"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium text-sm line-clamp-2 mb-1",children:h.name}),h.petType&&a.jsx(Ke,{variant:"outline",className:"text-xs mb-2 border-slate-600 text-slate-300",children:h.petType}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-purple-400 font-bold text-sm",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),(h.price*h.quantity).toFixed(2)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{size:"icon",variant:"outline",className:"h-7 w-7 bg-slate-700 border-slate-600 hover:bg-slate-600",onClick:()=>u(h.id,h.quantity-1),children:a.jsx(u2,{className:"h-3 w-3"})}),a.jsx("span",{className:"text-white text-sm w-8 text-center font-medium",children:h.quantity}),a.jsx(ee,{size:"icon",variant:"outline",className:"h-7 w-7 bg-slate-700 border-slate-600 hover:bg-slate-600",onClick:()=>u(h.id,h.quantity+1),disabled:h.quantity>=(h.stock||99),children:a.jsx(Fu,{className:"h-3 w-3"})}),a.jsx(ee,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>i(h.id),children:a.jsx(lc,{className:"h-3 w-3"})})]})]}),h.stock&&h.quantity>=h.stock&&a.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"Maximum stock reached"})]})]})},h.id))})}),a.jsx("div",{className:"flex-shrink-0 border-t border-slate-700 bg-slate-900",children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-400 text-lg",children:"Total:"}),a.jsxs("div",{className:"flex items-center text-white font-bold text-xl",children:[a.jsx(Bt,{className:"h-5 w-5 mr-1"}),s.toFixed(2)]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ee,{className:"w-full bg-purple-500 hover:bg-purple-600 h-12 text-base font-semibold",onClick:c,children:"Proceed to Checkout"}),a.jsx(ee,{variant:"outline",className:"w-full bg-slate-800 border-slate-600 text-white hover:bg-slate-700 h-10",onClick:d,children:"Clear Cart"})]}),a.jsx("div",{className:"h-2 sm:h-0"})]})})]})})]})})},f5=({open:t,onOpenChange:e})=>{const{wishlistItems:n,removeFromWishlist:r,moveToCart:s,clearWishlist:i}=Wm(),o=c=>{s(c,1)},l=()=>{if(n.length===0){ne.info("Wishlist is already empty");return}i()};return console.log("WishlistDrawer - wishlistItems:",n),a.jsx(SE,{open:t,onOpenChange:e,children:a.jsxs(b0,{className:"bg-slate-900 border-slate-700 w-full sm:max-w-lg",children:[a.jsx(C0,{children:a.jsxs(S0,{className:"text-white flex items-center gap-2",children:[a.jsx(Ta,{className:"h-5 w-5"}),"Wishlist (",n.length,")"]})}),a.jsx("div",{className:"flex flex-col h-full mt-6",children:n.length===0?a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mb-4",children:a.jsx(Ta,{className:"h-12 w-12 text-slate-500"})}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Your wishlist is empty"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Save items you love for later!"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:n.map(c=>a.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:c.imageUrl?a.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(hs,{className:"h-6 w-6 text-slate-500"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-white font-medium text-sm line-clamp-2 mb-1",children:c.name}),c.petType&&a.jsx(Ke,{variant:"outline",className:"text-xs mb-2",children:c.petType}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center text-purple-400 font-bold",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),c.price.toFixed(2)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{size:"sm",className:"bg-purple-500 hover:bg-purple-600 h-8 px-3",onClick:()=>o(c.id),disabled:c.stock===0,children:[a.jsx(hs,{className:"h-3 w-3 mr-1"}),"Add to Cart"]}),a.jsx(ee,{size:"icon",variant:"ghost",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>r(c.id),children:a.jsx(lc,{className:"h-3 w-3"})})]})]}),c.stock===0&&a.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Out of stock"})]})]})},c.id))}),a.jsx("div",{className:"pt-4",children:a.jsx(ee,{variant:"outline",className:"w-full bg-slate-800 border-slate-600 text-white hover:bg-slate-700",onClick:l,children:"Clear Wishlist"})})]})})]})})},JI=({title:t,actionText:e,onActionClick:n})=>a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-xl font-semibold text-white tracking-wide",children:t}),e&&n&&a.jsxs(ee,{variant:"ghost",size:"sm",className:"text-purple-400 hover:text-white",onClick:n,children:[e,a.jsx(Hf,{className:"h-4 w-4 ml-1"})]})]}),eP=({product:t,isCompact:e,onWishlistToggle:n,onAddToCart:r,onProductClick:s,isInWishlist:i})=>{const o="bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 cursor-pointer hover:border-purple-500/50 transition-all duration-300 group overflow-hidden flex flex-col";return e?a.jsx(Ye,{className:"bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 cursor-pointer hover:border-purple-500/50 transition-all duration-300 group overflow-hidden",onClick:()=>s(t),children:a.jsxs(it,{className:"flex p-0",children:[a.jsx("div",{className:"relative w-28 h-auto flex-shrink-0",children:a.jsx("img",{src:t.imageUrl||"https://via.placeholder.com/300",alt:t.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-3 flex flex-col flex-1 min-w-0",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsxs("div",{className:"flex gap-2 mb-1",children:[t.isFeatured&&a.jsxs(Ke,{className:"bg-yellow-500/90 text-black text-xs",children:[a.jsx(Qg,{className:"h-3 w-3 mr-1"}),"Featured"]}),t.isBestSeller&&a.jsxs(Ke,{className:"bg-orange-500/90 text-white text-xs",children:[a.jsx(g_,{className:"h-3 w-3 mr-1"}),"Best Seller"]})]}),a.jsx("h3",{className:"text-white font-medium text-sm line-clamp-2 mb-1",children:t.name}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("p",{className:"text-purple-400 text-lg font-bold",children:["",t.price.toFixed(2)]}),a.jsx(Ke,{variant:"outline",className:"text-xs text-purple-300 border-purple-300/50",children:t.petType})]})]}),a.jsxs(ee,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 mt-auto",onClick:l=>r(l,t),disabled:t.stock===0,children:[a.jsx(hs,{className:"h-4 w-4 mr-2"}),t.stock===0?"Out of Stock":"Add to Cart"]})]})]})}):a.jsx(Ye,{className:o,onClick:()=>s(t),children:a.jsxs(it,{className:"p-0 flex flex-col flex-1",children:[a.jsxs("div",{className:"relative h-44 sm:h-48 overflow-hidden",children:[a.jsx("img",{src:t.imageUrl||"https://via.placeholder.com/300",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),a.jsx(ee,{size:"icon",variant:"ghost",className:`absolute top-2 right-2 h-8 w-8 rounded-full backdrop-blur-sm transition-all duration-300 ${i?"text-red-400 bg-red-900/50 hover:bg-red-900/80":"text-white bg-slate-900/50 hover:bg-slate-900/80"}`,onClick:l=>n(l,t),children:a.jsx(Ta,{className:`h-4 w-4 transition-all ${i?"fill-current":""}`})}),a.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[t.isFeatured&&a.jsxs(Ke,{className:"bg-yellow-500/90 text-black",children:[a.jsx(Qg,{className:"h-3 w-3 mr-1"}),"Featured"]}),t.isBestSeller&&a.jsxs(Ke,{className:"bg-orange-500/90 text-white",children:[a.jsx(g_,{className:"h-3 w-3 mr-1"}),"Best Seller"]})]})]}),a.jsxs("div",{className:"p-2 flex flex-col flex-1",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"text-white font-medium text-sm line-clamp-2 mb-2",children:t.name}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("p",{className:"text-purple-400 text-base font-bold",children:["",t.price.toFixed(2)]}),a.jsx(Ke,{variant:"outline",className:"text-xs text-purple-300 border-purple-300/50",children:t.petType})]})]}),a.jsxs(ee,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 mt-auto",onClick:l=>r(l,t),disabled:t.stock===0,children:[a.jsx(hs,{className:"h-4 w-4 mr-2"}),t.stock===0?"Out of Stock":"Add to Cart"]})]})]})})},tP=({category:t,selectedCategory:e,onClick:n})=>a.jsx("button",{onClick:()=>n(t.id),className:`flex-shrink-0 px-4 py-2 text-sm font-medium rounded-full transition-all duration-300 border
      ${e===t.id?"bg-purple-600 text-white border-purple-600":"bg-slate-800/80 border-slate-700 text-slate-300 hover:bg-slate-700 hover:border-slate-600"}`,children:t.name}),Nle=({open:t,onOpenChange:e,categories:n,selectedCategory:r,selectedPetType:s,sortBy:i,onCategoryChange:o,onPetTypeChange:l,onSortByChange:c,onClear:u,hasActiveFilters:d})=>a.jsx(SE,{open:t,onOpenChange:e,children:a.jsxs(b0,{side:"left",className:"bg-slate-900 border-slate-700 w-[85vw] max-w-sm",children:[a.jsx(C0,{children:a.jsx(S0,{className:"text-white text-xl",children:"Filters & Sort"})}),a.jsxs("div",{className:"space-y-6 mt-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Category"}),a.jsxs(ps,{value:r||"all",onValueChange:h=>o(h==="all"?"":h),children:[a.jsx(Xr,{className:"bg-slate-800 border-slate-700 text-white",children:a.jsx(gs,{placeholder:"All Categories"})}),a.jsxs(Zr,{className:"bg-slate-800 border-slate-700 text-white",children:[a.jsx(mt,{value:"all",children:"All Categories"}),n.map(h=>a.jsx(mt,{value:h.id,children:h.name},h.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Pet Type"}),a.jsxs(ps,{value:s||"all",onValueChange:h=>l(h==="all"?"":h),children:[a.jsx(Xr,{className:"bg-slate-800 border-slate-700 text-white",children:a.jsx(gs,{placeholder:"All Pets"})}),a.jsxs(Zr,{className:"bg-slate-800 border-slate-700 text-white",children:[a.jsx(mt,{value:"all",children:"All Pets"}),a.jsx(mt,{value:"Dog",children:"Dog"}),a.jsx(mt,{value:"Cat",children:"Cat"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Sort By"}),a.jsxs(ps,{value:i,onValueChange:c,children:[a.jsx(Xr,{className:"bg-slate-800 border-slate-700 text-white",children:a.jsx(gs,{placeholder:"Sort By"})}),a.jsxs(Zr,{className:"bg-slate-800 border-slate-700 text-white",children:[a.jsx(mt,{value:"name",children:"Name"}),a.jsx(mt,{value:"price-low",children:"Price: Low to High"}),a.jsx(mt,{value:"price-high",children:"Price: High to Low"})]})]})]}),d&&a.jsx(ee,{variant:"outline",onClick:()=>{u(),e(!1)},className:"w-full",children:"Clear All Filters"})]})]})}),Tle=()=>{var H;const t=Fr(),[e,n]=p.useState(""),[r,s]=p.useState(""),[i,o]=p.useState(""),[l,c]=p.useState("name"),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(!1),{categories:v,isLoading:x}=CE(),{products:_,isLoading:w}=u5(),{cartItemsCount:b,wishlistCount:T,addToCart:I,addToWishlist:O,removeFromWishlist:j,isInWishlist:S}=Wm(),N=p.useMemo(()=>_.filter(M=>(r?M.categoryId===r:!0)&&(i?M.petType===i:!0)&&(M.name.toLowerCase().includes(e.toLowerCase())||M.description&&M.description.toLowerCase().includes(e.toLowerCase()))).sort((M,U)=>{switch(l){case"price-low":return M.price-U.price;case"price-high":return U.price-M.price;case"name":return M.name.localeCompare(U.name);default:return 0}}),[_,r,i,e,l]),P=p.useMemo(()=>_.filter(M=>M.isFeatured),[_]),k=!!(r||i||e),D=M=>t("/product-detail",{state:{product:M}}),R=(M,U)=>{M.stopPropagation(),S(U.id)?j(U.id):O(U)},$=(M,U)=>{M.stopPropagation(),I(U,1)},G=()=>{s(""),o(""),n(""),c("name")},q=M=>{s(U=>U===M?"":M)};return x||w?a.jsxs("div",{className:"min-h-screen bg-slate-900 p-4 space-y-6 animate-pulse",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(st,{className:"h-10 w-48"}),a.jsx(st,{className:"h-10 w-24"})]}),a.jsx(st,{className:"h-14 w-full rounded-xl"}),a.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-3",children:[a.jsx(st,{className:"h-10 w-24 rounded-full"}),a.jsx(st,{className:"h-10 w-28 rounded-full"}),a.jsx(st,{className:"h-10 w-24 rounded-full"})]}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[...Array(8)].map((M,U)=>a.jsx(st,{className:"h-72 w-full rounded-lg"},U))})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-black to-slate-900 text-white",children:[a.jsxs("header",{className:"flex items-center justify-between p-4 bg-slate-900/70 backdrop-blur-lg sticky top-0 z-20 border-b border-slate-700/50",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tighter",children:"Shop"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{size:"icon",variant:"ghost",className:"relative",onClick:()=>y(!0),children:[a.jsx(Ta,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Wishlist"}),T>0&&a.jsx(Ke,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 bg-red-500 text-white",children:T})]}),a.jsxs(ee,{size:"icon",variant:"ghost",className:"relative",onClick:()=>f(!0),children:[a.jsx(hs,{className:"h-5 w-5"}),a.jsx("span",{className:"sr-only",children:"Cart"}),b>0&&a.jsx(Ke,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 bg-purple-500 text-white",children:b})]})]})]}),a.jsxs("main",{className:"p-4 md:p-6 space-y-8 pb-24",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gf,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx(Fe,{placeholder:"Search for food, toys, treats...",value:e,onChange:M=>n(M.target.value),className:"w-full h-14 bg-slate-800/80 border-2 border-slate-700 pl-12 pr-12 rounded-xl text-base focus:border-purple-500"}),e&&a.jsx(ee,{size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>n(""),children:a.jsx(cc,{})})]}),a.jsxs("div",{className:"flex items-center justify-between gap-3",children:[a.jsxs(ee,{variant:"outline",onClick:()=>d(!0),className:"lg:hidden bg-slate-800 border-slate-700",children:[a.jsx(QU,{className:"h-4 w-4 mr-2"})," Filters",k&&a.jsx("span",{className:"ml-2 h-2 w-2 rounded-full bg-purple-500 animate-pulse"})]}),a.jsx("div",{className:"hidden lg:flex gap-2",children:a.jsxs(ps,{value:i||"all",onValueChange:M=>o(M==="all"?"":M),children:[a.jsx(Xr,{className:"w-40 bg-slate-800 border-slate-700",children:a.jsx(gs,{placeholder:"All Pets"})}),a.jsxs(Zr,{className:"bg-slate-800 border-slate-700 text-white",children:[a.jsx(mt,{value:"all",children:"All Pets"}),a.jsx(mt,{value:"Dog",children:"Dog"}),a.jsx(mt,{value:"Cat",children:"Cat"})]})]})}),a.jsxs(ps,{value:l,onValueChange:c,children:[a.jsx(Xr,{className:"w-48 bg-slate-800 border-slate-700",children:a.jsx(gs,{placeholder:"Sort By"})}),a.jsxs(Zr,{className:"bg-slate-800 border-slate-700 text-white",children:[a.jsx(mt,{value:"name",children:"Name"}),a.jsx(mt,{value:"price-low",children:"Price: Low to High"}),a.jsx(mt,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),a.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-3 -mx-4 px-4 scrollbar-hide",children:[a.jsx(tP,{category:{id:"",name:"All"},selectedCategory:r,onClick:()=>q("")}),v.map(M=>a.jsx(tP,{category:M,selectedCategory:r,onClick:q},M.id))]}),P.length>0&&!k&&a.jsxs("section",{children:[a.jsx(JI,{title:"Featured Products"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:P.slice(0,2).map(M=>a.jsx(eP,{product:M,isCompact:!0,onAddToCart:$,onWishlistToggle:R,onProductClick:D,isInWishlist:S(M.id)},M.id))})]}),a.jsxs("section",{children:[a.jsx(JI,{title:r?((H=v.find(M=>M.id===r))==null?void 0:H.name)||"Products":"All Products"}),N.length>0?a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:N.map(M=>a.jsx(eP,{product:M,onAddToCart:$,onWishlistToggle:R,onProductClick:D,isInWishlist:S(M.id)},M.id))}):a.jsxs("div",{className:"text-center py-20 rounded-lg bg-slate-800/50",children:[a.jsx("div",{className:"w-24 h-24 bg-slate-900/70 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(hs,{className:"h-12 w-12 text-slate-500"})}),a.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No Products Found"}),a.jsx("p",{className:"text-slate-400 mb-6",children:"Try adjusting your search or filter settings."}),k&&a.jsx(ee,{variant:"outline",onClick:G,children:"Clear All Filters"})]})]})]}),a.jsx(Nle,{open:u,onOpenChange:d,categories:v,selectedCategory:r,selectedPetType:i,sortBy:l,onCategoryChange:s,onPetTypeChange:o,onSortByChange:c,onClear:G,hasActiveFilters:k}),a.jsx(h5,{open:h,onOpenChange:f}),a.jsx(f5,{open:g,onOpenChange:y})]})},Rle=()=>{var $;const t=Fr(),e=yo(),[n,r]=p.useState(!1),[s,i]=p.useState(0),[o,l]=p.useState(1),[c,u]=p.useState(!1),[d,h]=p.useState(!1),{cartItemsCount:f,wishlistCount:g,addToCart:y,addToWishlist:v,removeFromWishlist:x,isInWishlist:_}=Wm(),w={id:1,name:"Long Line Leash 5 meters 10 m The Company Of Animals",price:38,imageUrl:"https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&cs=tinysrgb&w=600",galleryImages:["https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&cs=tinysrgb&w=600","https://images.pexels.com/photos/2253275/pexels-photo-2253275.jpeg?auto=compress&cs=tinysrgb&w=600","https://images.pexels.com/photos/1805164/pexels-photo-1805164.jpeg?auto=compress&cs=tinysrgb&w=600"],description:"The Company of Animals Recall Line gives your dog the freedom to explore while you remain in control, making it a perfect tool for recall training and socialisation. A must-have for recall training, this lead allows you to keep control of your dog while gently encouraging them back to you to reinforce the command. The Recall Line is also ideal for allowing the safe and controlled socialisation of puppies, young or nervous dogs, and those with behavioural issues. The Recall Line is available in a choice of lengths - 5m or 10m. With the longer lead better suited for larger dogs. Soft padded webbing ensures this lead is comfortable for you to hold.",categoryId:"1",stock:15,isFeatured:!0,petType:"Dog"},b=(($=e.state)==null?void 0:$.product)||w,T=[b.imageUrl||b.image,...b.galleryImages||[]].filter(Boolean),I=()=>{t(-1)},O=()=>{r(!n)},j=()=>{i(G=>G===0?T.length-1:G-1)},S=()=>{i(G=>G===T.length-1?0:G+1)},N=()=>{y(b,o)},P=()=>{_(b.id)?x(b.id):v(b)},k=G=>{const q=o+G;q>=1&&q<=(b.stock||99)&&l(q)},D=b.description||"",R=D.length>200?D.slice(0,200)+"...":D;return a.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsx(ee,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:I,children:a.jsx(Mu,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-lg font-semibold truncate mx-4",children:"Product Details"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700 relative",onClick:()=>h(!0),children:[a.jsx(Ta,{className:"h-5 w-5"}),g>0&&a.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold",children:g})})]}),a.jsxs(ee,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700 relative",onClick:()=>u(!0),children:[a.jsx(hs,{className:"h-5 w-5"}),f>0&&a.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold",children:f})})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative h-80 sm:h-96 overflow-hidden",children:[a.jsx("img",{src:T[s],alt:b.name,className:"w-full h-full object-cover transition-transform duration-300"}),T.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ee,{size:"icon",variant:"ghost",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:j,children:a.jsx(r2,{className:"h-5 w-5"})}),a.jsx(ee,{size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:S,children:a.jsx(Hf,{className:"h-5 w-5"})})]}),T.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:T.map((G,q)=>a.jsx("button",{className:`w-2 h-2 rounded-full transition-colors ${q===s?"bg-white":"bg-white/50"}`,onClick:()=>i(q)},q))}),a.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[b.isFeatured&&a.jsxs(Ke,{className:"bg-yellow-500/90 text-black",children:[a.jsx(Qg,{className:"h-3 w-3 mr-1"}),"Featured"]}),b.isBestSeller&&a.jsx(Ke,{className:"bg-orange-500/90 text-white",children:"Best Seller"})]})]}),T.length>1&&a.jsx("div",{className:"p-4 bg-slate-800/50",children:a.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:T.map((G,q)=>a.jsx("button",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${q===s?"border-purple-500":"border-slate-600 hover:border-slate-500"}`,onClick:()=>i(q),children:a.jsx("img",{src:G,alt:`${b.name} ${q+1}`,className:"w-full h-full object-cover"})},q))})})]}),a.jsxs("div",{className:"p-4 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-2 leading-tight",children:b.name}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-purple-400",children:["",b.price.toFixed(2)]}),b.petType&&a.jsxs(Ke,{variant:"outline",className:"text-purple-300 border-purple-300",children:["For ",b.petType,"s"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm text-slate-400",children:b.stock?a.jsxs("span",{className:"text-green-400",children:["In Stock (",b.stock," available)"]}):a.jsx("span",{className:"text-red-400",children:"Out of Stock"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm text-slate-400",children:"Quantity:"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{size:"icon",variant:"outline",className:"h-8 w-8 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>k(-1),disabled:o<=1,children:a.jsx(u2,{className:"h-4 w-4"})}),a.jsx("span",{className:"w-8 text-center font-medium",children:o}),a.jsx(ee,{size:"icon",variant:"outline",className:"h-8 w-8 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>k(1),disabled:o>=(b.stock||99),children:a.jsx(Fu,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ee,{variant:"outline",className:`bg-slate-700 border-slate-600 hover:bg-slate-600 h-12 px-6 ${_(b.id)?"text-red-400 border-red-400":"text-white"}`,onClick:P,children:[a.jsx(Ta,{className:`h-5 w-5 mr-2 ${_(b.id)?"fill-current":""}`}),_(b.id)?"Wishlisted":"Wishlist"]}),a.jsxs(ee,{className:"flex-1 bg-purple-500 hover:bg-purple-600 text-white h-12 font-semibold",onClick:N,disabled:!b.stock||b.stock===0,children:[a.jsx(hs,{className:"h-5 w-5 mr-2"}),"Add To Cart"]})]}),D&&a.jsx(Ye,{className:"bg-slate-800/50 border-slate-700",children:a.jsxs(it,{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Product Details"}),a.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[n?D:R,D.length>200&&a.jsx("button",{onClick:O,className:"text-purple-400 ml-2 hover:text-purple-300 font-medium",children:n?"Read Less":"Read More"})]})]})}),a.jsx(Ye,{className:"bg-slate-800/50 border-slate-700",children:a.jsxs(it,{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Shipping & Returns"}),a.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[a.jsx("p",{children:" Free shipping on orders over 999"}),a.jsx("p",{children:" 30-day return policy"}),a.jsx("p",{children:" Secure payment processing"}),a.jsx("p",{children:" Customer support available 24/7"})]})]})})]}),a.jsx(h5,{open:c,onOpenChange:u}),a.jsx(f5,{open:d,onOpenChange:h})]})},jle=()=>{const[t,e]=p.useState(""),{transactions:n,isLoading:r}=Sd(),s=u=>{switch(u.toLowerCase()){case"successful":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-orange-500/20 text-orange-300 border-orange-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},i=u=>{switch(u.toLowerCase()){case"successful":return"Confirmed";case"failed":return"Failed";case"pending":return"Pending";default:return u}},o=u=>{switch(u.toLowerCase()){case"successful":return a.jsx(Fl,{className:"h-4 w-4"});case"failed":return a.jsx(s2,{className:"h-4 w-4"});default:return a.jsx(Ll,{className:"h-4 w-4"})}},l=(n==null?void 0:n.filter(u=>u.service.toLowerCase().includes("home vaccination")||u.service.toLowerCase().includes("vaccination")))||[],c=l.filter(u=>u.service.toLowerCase().includes(t.toLowerCase())||u.dogName&&u.dogName.toLowerCase().includes(t.toLowerCase()));return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bookings"}),a.jsx(mu,{})]})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:[a.jsxs("div",{className:"px-4 pt-8 pb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Bookings"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-slate-600 rounded-full"}),a.jsx("div",{className:"w-6 h-2 bg-slate-600 rounded-full"})]})]}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Fe,{type:"text",placeholder:"Search bookings...",value:t,onChange:u=>e(u.target.value),className:"w-full bg-slate-800/50 border-slate-700 text-white placeholder-slate-400 pl-10 rounded-xl h-12"})]})]}),a.jsx("div",{className:"px-4 space-y-4",children:c.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(xs,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:l.length===0?"No bookings yet":"No bookings found"}),a.jsx("p",{className:"text-slate-400 text-sm",children:l.length===0?"Your home vaccination bookings will appear here":"Try adjusting your search terms"})]}):c.map(u=>{const d=u.id.slice(-3).toUpperCase();return a.jsx(Ye,{className:"bg-slate-800/50 border-slate-700 overflow-hidden",children:a.jsxs(it,{className:"p-0",children:[a.jsxs("div",{className:"p-4 pb-2",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsxs(Ke,{className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0 rounded-full",children:[a.jsx(d2,{className:"h-4 w-4 mr-2"}),"Home Vaccination"]})}),a.jsxs("div",{className:"text-center mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["#",d]}),a.jsxs("p",{className:"text-slate-400 text-sm",children:["Booking status: ",a.jsx("span",{className:`font-medium ${u.status==="successful"?"text-green-400":u.status==="failed"?"text-red-400":"text-orange-400"}`,children:i(u.status)})]})]})]}),a.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[a.jsx("div",{className:"text-center mb-4",children:a.jsx("p",{className:"text-white font-medium text-sm",children:u.service})}),u.dogName&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_d,{className:"h-12 w-12",children:a.jsx(bd,{className:"bg-purple-500 text-white",children:u.dogName.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white font-medium",children:u.dogName}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Your pet"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[a.jsx(Ll,{className:"h-4 w-4"}),"Booked On"]}),a.jsx("span",{className:"text-white font-medium",children:u.createdAt?ot(u.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]}),u.slotDatetime&&a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[a.jsx(xs,{className:"h-4 w-4"}),"Scheduled"]}),a.jsx("span",{className:"text-white font-medium",children:ot(u.slotDatetime.toDate(),"MMM d, yyyy, p")})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[a.jsx(Bt,{className:"h-4 w-4"}),"Amount"]}),a.jsxs("span",{className:"text-green-400 font-bold text-lg",children:["",u.amount.toFixed(2)]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Payment ID"}),a.jsx("span",{className:"text-white font-mono text-xs",children:u.paymentId?u.paymentId.slice(-8):"N/A"})]}),u.customer&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[a.jsx(od,{className:"h-4 w-4"}),"Contact"]}),a.jsx("span",{className:"text-white font-medium",children:u.customer.name})]}),u.customer.address&&a.jsxs("div",{className:"flex items-start justify-between text-sm",children:[a.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[a.jsx(qf,{className:"h-4 w-4 mt-0.5"}),"Address"]}),a.jsx("div",{className:"text-right text-white max-w-48",children:a.jsxs("p",{className:"text-xs leading-relaxed",children:[u.customer.address,", ",u.customer.city," - ",u.customer.postalCode]})})]})]}),u.vaccines&&u.vaccines.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-slate-700/30 rounded-lg",children:[a.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Vaccines:"}),a.jsx("div",{className:"space-y-1",children:u.vaccines.map((h,f)=>a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-white",children:h.name}),a.jsxs("span",{className:"text-slate-300",children:["",h.price]})]},f))})]})]}),a.jsx("div",{className:"px-4 pb-4",children:a.jsxs("div",{className:`flex items-center justify-center gap-2 p-3 rounded-xl ${s(u.status)}`,children:[o(u.status),a.jsx("span",{className:"font-medium",children:u.status==="successful"?"Payment Successful - Home Visit Scheduled":u.status==="failed"?"Payment Failed - Please Try Again":"Payment Processing"})]})})]})},u.id)})})]})};var EE="Radio",[Ile,m5]=wr(EE),[Ple,kle]=Ile(EE),p5=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[h,f]=p.useState(null),g=He(e,x=>f(x)),y=p.useRef(!1),v=h?u||!!h.closest("form"):!0;return a.jsxs(Ple,{scope:n,checked:s,disabled:o,children:[a.jsx(Ce.button,{type:"button",role:"radio","aria-checked":s,"data-state":y5(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:g,onClick:ie(t.onClick,x=>{s||c==null||c(),v&&(y.current=x.isPropagationStopped(),y.current||x.stopPropagation())})}),v&&a.jsx(Ale,{control:h,bubbles:!y.current,name:r,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});p5.displayName=EE;var g5="RadioIndicator",v5=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...s}=t,i=kle(g5,n);return a.jsx(En,{present:r||i.checked,children:a.jsx(Ce.span,{"data-state":y5(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e})})});v5.displayName=g5;var Ale=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=y0(n),l=Cy(e);return p.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),a.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function y5(t){return t?"checked":"unchecked"}var Dle=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],NE="RadioGroup",[Mle,ede]=wr(NE,[Td,m5]),x5=Td(),w5=m5(),[Ole,Fle]=Mle(NE),_5=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=t,g=x5(n),y=Nd(u),[v,x]=$s({prop:i,defaultProp:s,onChange:h});return a.jsx(Ole,{scope:n,name:r,required:o,disabled:l,value:v,onValueChange:x,children:a.jsx(VS,{asChild:!0,...g,orientation:c,dir:y,loop:d,children:a.jsx(Ce.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...f,ref:e})})})});_5.displayName=NE;var b5="RadioGroupItem",C5=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...s}=t,i=Fle(b5,n),o=i.disabled||r,l=x5(n),c=w5(n),u=p.useRef(null),d=He(e,u),h=i.value===s.value,f=p.useRef(!1);return p.useEffect(()=>{const g=v=>{Dle.includes(v.key)&&(f.current=!0)},y=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",y)}},[]),a.jsx($S,{asChild:!0,...l,focusable:!o,active:h,children:a.jsx(p5,{disabled:o,required:i.required,checked:h,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:ie(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ie(s.onFocus,()=>{var g;f.current&&((g=u.current)==null||g.click())})})})});C5.displayName=b5;var Lle="RadioGroupIndicator",S5=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,s=w5(n);return a.jsx(v5,{...s,...r,ref:e})});S5.displayName=Lle;var E5=_5,N5=C5,Vle=S5;const T5=p.forwardRef(({className:t,...e},n)=>a.jsx(E5,{className:te("grid gap-2",t),...e,ref:n}));T5.displayName=E5.displayName;const Wb=p.forwardRef(({className:t,...e},n)=>a.jsx(N5,{ref:n,className:te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(Vle,{className:"flex items-center justify-center",children:a.jsx(i2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Wb.displayName=N5.displayName;var $le="Separator",nP="horizontal",Ule=["horizontal","vertical"],R5=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=nP,...s}=t,i=Ble(r)?r:nP,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(Ce.div,{"data-orientation":i,...l,...s,ref:e})});R5.displayName=$le;function Ble(t){return Ule.includes(t)}var j5=R5;const qb=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>a.jsx(j5,{ref:s,decorative:n,orientation:e,className:te("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));qb.displayName=j5.displayName;const zle=()=>{const t=Date.now().toString().slice(-6),e=Math.random().toString(36).substring(2,5).toUpperCase();return`ORD${t}${e}`},I5=()=>{const{user:t}=rs(),e=Or(),{data:n=[],isLoading:r}=Gs({queryKey:["orders",t==null?void 0:t.uid],queryFn:async()=>{if(!t)return[];const i=Ct(je,"users",t.uid,"orders"),o=Ci(i,lm("createdAt","desc"));return(await pn(o)).docs.map(c=>({id:c.id,...c.data()}))},enabled:!!t}),s=Gt({mutationFn:async i=>{if(!t)throw new Error("User not authenticated");const o=zle(),l=Ct(je,"users",t.uid,"orders"),c={...i,userId:t.uid,orderNumber:o,createdAt:Hs(),updatedAt:Hs()};return{id:(await wd(l,c)).id,...c}},onSuccess:()=>{e.invalidateQueries({queryKey:["orders",t==null?void 0:t.uid]}),e.invalidateQueries({queryKey:["adminOrders"]}),ne.success("Order placed successfully!")},onError:i=>{ne.error(i.message||"Failed to place order")}});return{orders:n,isLoading:r,createOrder:s.mutateAsync,isCreatingOrder:s.isPending}},Hle=()=>{const{isAdmin:t}=rs(),e=Or(),{data:n=[],isLoading:r}=Gs({queryKey:["adminOrders"],queryFn:async()=>{if(!t)return[];const i=[],o=await pn(Ct(je,"users"));for(const l of o.docs){const c=l.id;l.data();const u=Ct(je,"users",c,"orders");(await pn(u)).docs.forEach(h=>{const f=h.data();i.push({...f,id:h.id,customerName:f.shippingAddress.fullName,customerPhone:f.shippingAddress.phone})})}return i.sort((l,c)=>!l.createdAt||!c.createdAt?0:c.createdAt.toMillis()-l.createdAt.toMillis())},enabled:!!t}),s=Gt({mutationFn:async({userId:i,orderId:o,status:l,trackingNumber:c})=>{const u=sn(je,"users",i,"orders",o),d={orderStatus:l,updatedAt:Hs()};return c&&(d.trackingNumber=c),Va(u,d)},onSuccess:()=>{e.invalidateQueries({queryKey:["adminOrders"]}),ne.success("Order status updated successfully!")},onError:i=>{ne.error(i.message||"Failed to update order status")}});return{adminOrders:n,isLoading:r,updateOrderStatus:s.mutateAsync,isUpdatingStatus:s.isPending}},Wle="rzp_test_2n6MS8hK3tgdba",qle=$m({fullName:Qn().min(2,"Full name must be at least 2 characters"),phone:Qn().min(10,"Phone number must be at least 10 digits"),address:Qn().min(10,"Address must be at least 10 characters"),city:Qn().min(2,"City must be at least 2 characters"),state:Qn().min(2,"State must be at least 2 characters"),postalCode:Qn().min(6,"Postal code must be 6 digits").max(6),landmark:Qn().optional(),paymentMethod:yE(["razorpay","cod"])}),Gle=()=>{const t=Fr(),{cartItems:e,cartTotal:n,clearCart:r}=Wm(),{createOrder:s,isCreatingOrder:i}=I5(),{user:o}=rs(),l=YV(),[c,u]=p.useState(!1),d=Lm({resolver:Vm(qle),defaultValues:{fullName:"",phone:(o==null?void 0:o.phoneNumber)||"",address:"",city:"",state:"",postalCode:"",landmark:"",paymentMethod:"razorpay"}}),h=n>=999?0:50,f=n+h,g=()=>{t("/shop")},y=async x=>{if(e.length===0){ne.error("Your cart is empty");return}if(!o){ne.error("Please login to continue");return}u(!0);try{const _={items:e.map(w=>({id:w.id,name:w.name,price:w.price,quantity:w.quantity,imageUrl:w.imageUrl})),subtotal:n,shippingFee:h,total:f,paymentMethod:x.paymentMethod,paymentStatus:(x.paymentMethod==="cod","pending"),orderStatus:"confirmed",shippingAddress:{fullName:x.fullName,phone:x.phone,address:x.address,city:x.city,state:x.state,postalCode:x.postalCode,landmark:x.landmark},estimatedDelivery:new Date(Date.now()+6048e5)};x.paymentMethod==="razorpay"?await v(_):(await s({..._,paymentStatus:"pending"}),r(),ne.success("Order placed successfully! You can pay when the order is delivered."),t("/my-orders"))}catch(_){console.error("Error placing order:",_),ne.error("Failed to place order. Please try again.")}finally{u(!1)}},v=async x=>{if(!l){ne.error("Payment gateway is not ready. Please try again.");return}const _={key:Wle,amount:(f*100).toString(),currency:"INR",name:"VaxDog Shop",description:`Order for ${e.length} items`,image:"/favicon.ico",handler:async function(w){try{await s({...x,paymentStatus:"paid",razorpayPaymentId:w.razorpay_payment_id,razorpayOrderId:w.razorpay_order_id}),r(),ne.success("Payment successful! Your order has been placed."),t("/my-orders")}catch(b){console.error("Error saving order:",b),ne.error("Payment successful but failed to save order. Please contact support.")}},prefill:{name:x.shippingAddress.fullName,contact:x.shippingAddress.phone},theme:{color:"#8b5cf6"},modal:{ondismiss:function(){u(!1)}}};try{new window.Razorpay(_).open()}catch(w){console.error("Error opening Razorpay:",w),ne.error("Failed to open payment gateway. Please try again."),u(!1)}};return e.length===0?a.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ui,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),a.jsx("p",{className:"text-slate-400 mb-6",children:"Add some products to proceed with checkout"}),a.jsx(ee,{onClick:()=>t("/shop"),className:"bg-purple-500 hover:bg-purple-600",children:"Continue Shopping"})]})}):a.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsx(ee,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:g,children:a.jsx(Mu,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-lg font-semibold",children:"Checkout"}),a.jsx("div",{className:"w-10"})," "]}),a.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:a.jsx(Um,{...d,children:a.jsx("form",{onSubmit:d.handleSubmit(y),className:"space-y-6",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(St,{children:a.jsxs(Rt,{className:"flex items-center text-white",children:[a.jsx(qf,{className:"h-5 w-5 mr-2 text-purple-400"}),"Shipping Address"]})}),a.jsxs(it,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Lt,{control:d.control,name:"fullName",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Full Name"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Enter your full name"})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:d.control,name:"phone",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Phone Number"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Enter phone number"})}),a.jsx(Vt,{})]})})]}),a.jsx(Lt,{control:d.control,name:"address",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Address"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"House no, Building, Street, Area"})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:d.control,name:"landmark",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Landmark (Optional)"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Near landmark"})}),a.jsx(Vt,{})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(Lt,{control:d.control,name:"city",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"City"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"City"})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:d.control,name:"state",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"State"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"State"})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:d.control,name:"postalCode",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(qt,{className:"text-white",children:"Postal Code"}),a.jsx(Mt,{children:a.jsx(Fe,{...x,className:"bg-slate-700 border-slate-600 text-white",placeholder:"400001"})}),a.jsx(Vt,{})]})})]})]})]}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(St,{children:a.jsxs(Rt,{className:"flex items-center text-white",children:[a.jsx(Yg,{className:"h-5 w-5 mr-2 text-purple-400"}),"Payment Method"]})}),a.jsx(it,{children:a.jsx(Lt,{control:d.control,name:"paymentMethod",render:({field:x})=>a.jsxs(Dt,{children:[a.jsx(Mt,{children:a.jsxs(T5,{onValueChange:x.onChange,defaultValue:x.value,className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-slate-600 rounded-lg hover:border-purple-500 transition-colors",children:[a.jsx(Wb,{value:"razorpay",id:"razorpay"}),a.jsx(qe,{htmlFor:"razorpay",className:"flex-1 cursor-pointer text-white",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yg,{className:"h-5 w-5 mr-2 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Pay Online"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Credit/Debit Card, UPI, Net Banking"})]})]}),a.jsx(Ke,{className:"bg-green-500/20 text-green-300",children:"Recommended"})]})})]}),a.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-slate-600 rounded-lg hover:border-purple-500 transition-colors",children:[a.jsx(Wb,{value:"cod",id:"cod"}),a.jsx(qe,{htmlFor:"cod",className:"flex-1 cursor-pointer text-white",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(tC,{className:"h-5 w-5 mr-2 text-purple-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Cash on Delivery"}),a.jsx("p",{className:"text-sm text-slate-400",children:"Pay when your order is delivered"})]})]})})]})]})}),a.jsx(Vt,{})]})})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700 sticky top-24",children:[a.jsx(St,{children:a.jsx(Rt,{className:"text-white",children:"Order Summary"})}),a.jsxs(it,{className:"space-y-4",children:[a.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:e.map(x=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:x.imageUrl?a.jsx("img",{src:x.imageUrl,alt:x.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ui,{className:"h-6 w-6 text-slate-500"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white text-sm font-medium line-clamp-1",children:x.name}),a.jsxs("p",{className:"text-slate-400 text-xs",children:["Qty: ",x.quantity]})]}),a.jsxs("div",{className:"text-white text-sm font-medium",children:["",(x.price*x.quantity).toFixed(2)]})]},x.id))}),a.jsx(qb,{className:"bg-slate-600"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Subtotal"}),a.jsxs("span",{className:"text-white",children:["",n.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Shipping"}),a.jsx("span",{className:"text-white",children:h===0?"Free":`${h.toFixed(2)}`})]}),n<999&&a.jsxs("p",{className:"text-xs text-slate-400",children:["Add ",(999-n).toFixed(2)," more for free shipping"]}),a.jsx(qb,{className:"bg-slate-600"}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{className:"text-white",children:"Total"}),a.jsxs("div",{className:"flex items-center text-purple-400",children:[a.jsx(Bt,{className:"h-5 w-5 mr-1"}),f.toFixed(2)]})]})]}),a.jsx(ee,{type:"submit",className:"w-full bg-purple-500 hover:bg-purple-600 h-12 text-base font-semibold",disabled:c||i,children:c||i?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):`Place Order  ${f.toFixed(2)}`}),a.jsx("p",{className:"text-xs text-slate-400 text-center",children:"By placing your order, you agree to our Terms & Conditions"})]})]})})]})})})})]})},Kle=()=>{const t=Fr(),{orders:e,isLoading:n}=I5(),[r,s]=p.useState(""),i=()=>{t("/profile")},o=h=>{switch(h){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"processing":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"shipped":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},l=h=>{switch(h){case"confirmed":return a.jsx(Fl,{className:"h-4 w-4"});case"processing":return a.jsx(Ll,{className:"h-4 w-4"});case"shipped":return a.jsx(tC,{className:"h-4 w-4"});case"delivered":return a.jsx(Fl,{className:"h-4 w-4"});case"cancelled":return a.jsx(ui,{className:"h-4 w-4"});default:return a.jsx(ui,{className:"h-4 w-4"})}},c=h=>{switch(h){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";case"failed":return"bg-red-500/20 text-red-300";default:return"bg-slate-500/20 text-slate-300"}},u=h=>{navigator.clipboard.writeText(h),ne.success("Copied to clipboard")},d=e.filter(h=>h.orderNumber.toLowerCase().includes(r.toLowerCase())||h.items.some(f=>f.name.toLowerCase().includes(r.toLowerCase())));return n?a.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsx(ee,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",children:a.jsx(Mu,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-lg font-semibold",children:"My Orders"}),a.jsx("div",{className:"w-10"})]}),a.jsx("div",{className:"p-4 space-y-4",children:[...Array(3)].map((h,f)=>a.jsx(st,{className:"h-32 w-full bg-slate-800"},f))})]}):a.jsxs("div",{className:"min-h-screen bg-slate-900 text-white pb-20",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[a.jsx(ee,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:i,children:a.jsx(Mu,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-lg font-semibold",children:"My Orders"}),a.jsx("div",{className:"w-10"})," "]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Fe,{type:"text",placeholder:"Search orders...",value:r,onChange:h=>s(h.target.value),className:"w-full bg-slate-800/60 border-slate-700 text-white placeholder-slate-400 pl-10 rounded-xl h-12"})]}),d.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(ui,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:e.length===0?"No orders yet":"No orders found"}),a.jsx("p",{className:"text-slate-400 text-sm mb-6",children:e.length===0?"Your orders will appear here once you make a purchase":"Try adjusting your search terms"}),e.length===0&&a.jsx(ee,{onClick:()=>t("/shop"),className:"bg-purple-500 hover:bg-purple-600",children:"Start Shopping"})]}):a.jsx("div",{className:"space-y-4",children:d.map(h=>a.jsx(Ye,{className:"bg-slate-800/50 border-slate-700",children:a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs("h3",{className:"text-white font-semibold",children:["#",h.orderNumber]}),a.jsx(ee,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-white",onClick:()=>u(h.orderNumber),children:a.jsx(VT,{className:"h-3 w-3"})})]}),a.jsx("p",{className:"text-slate-400 text-sm",children:h.createdAt?ot(h.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]}),a.jsx("div",{className:"text-right",children:a.jsxs(Ke,{className:o(h.orderStatus),children:[l(h.orderStatus),a.jsx("span",{className:"ml-1 capitalize",children:h.orderStatus})]})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex gap-2 mb-2",children:[h.items.slice(0,3).map((f,g)=>a.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:f.imageUrl?a.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ui,{className:"h-6 w-6 text-slate-500"})})},g)),h.items.length>3&&a.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg flex items-center justify-center",children:a.jsxs("span",{className:"text-slate-400 text-xs",children:["+",h.items.length-3]})})]}),a.jsxs("p",{className:"text-slate-300 text-sm",children:[h.items.length," item",h.items.length>1?"s":""]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Total Amount"}),a.jsxs("div",{className:"flex items-center text-white font-semibold",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),h.total.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Payment"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ke,{className:c(h.paymentStatus),children:h.paymentStatus==="paid"?"Paid":h.paymentStatus==="pending"?"Pending":"Failed"}),a.jsx("span",{className:"text-slate-400 text-xs",children:h.paymentMethod==="cod"?"COD":"Online"})]})]})]}),h.trackingNumber&&a.jsxs("div",{className:"mb-4 p-3 bg-slate-700/30 rounded-lg",children:[a.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Tracking Number"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-white font-mono text-sm",children:h.trackingNumber}),a.jsx(ee,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-white",onClick:()=>u(h.trackingNumber),children:a.jsx(VT,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Vn,{children:[a.jsx(Pi,{asChild:!0,children:a.jsx(ee,{variant:"outline",size:"sm",className:"flex-1 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"View Details"})}),a.jsxs(jn,{className:"max-w-2xl bg-slate-800 border-slate-700 max-h-[90vh] overflow-y-auto",children:[a.jsx(In,{children:a.jsxs(Pn,{className:"text-white",children:["Order Details - #",h.orderNumber]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-2",children:"Order Status"}),a.jsxs(Ke,{className:o(h.orderStatus),children:[l(h.orderStatus),a.jsx("span",{className:"ml-1 capitalize",children:h.orderStatus})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-3",children:"Items Ordered"}),a.jsx("div",{className:"space-y-3",children:h.items.map((f,g)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg",children:[a.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:f.imageUrl?a.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ui,{className:"h-8 w-8 text-slate-500"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h5",{className:"text-white font-medium",children:f.name}),a.jsxs("p",{className:"text-slate-400 text-sm",children:["Quantity: ",f.quantity]})]}),a.jsxs("div",{className:"text-white font-medium",children:["",(f.price*f.quantity).toFixed(2)]})]},g))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center",children:[a.jsx(qf,{className:"h-4 w-4 mr-2"}),"Shipping Address"]}),a.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[a.jsx("p",{className:"text-white font-medium",children:h.shippingAddress.fullName}),a.jsx("p",{className:"text-slate-300 text-sm",children:h.shippingAddress.phone}),a.jsxs("p",{className:"text-slate-300 text-sm mt-1",children:[h.shippingAddress.address,h.shippingAddress.landmark&&`, ${h.shippingAddress.landmark}`]}),a.jsxs("p",{className:"text-slate-300 text-sm",children:[h.shippingAddress.city,", ",h.shippingAddress.state," - ",h.shippingAddress.postalCode]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center",children:[a.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Payment Details"]}),a.jsxs("div",{className:"space-y-2 p-3 bg-slate-700/30 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Subtotal"}),a.jsxs("span",{className:"text-white",children:["",h.subtotal.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-slate-400",children:"Shipping"}),a.jsxs("span",{className:"text-white",children:["",h.shippingFee.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-semibold border-t border-slate-600 pt-2",children:[a.jsx("span",{className:"text-white",children:"Total"}),a.jsxs("span",{className:"text-white",children:["",h.total.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Payment Method"}),a.jsx("span",{className:"text-white capitalize",children:h.paymentMethod==="cod"?"Cash on Delivery":"Online Payment"})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Payment Status"}),a.jsx(Ke,{className:c(h.paymentStatus),children:h.paymentStatus==="paid"?"Paid":h.paymentStatus==="pending"?"Pending":"Failed"})]}),h.razorpayPaymentId&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-slate-400",children:"Payment ID"}),a.jsx("span",{className:"text-white font-mono text-xs",children:h.razorpayPaymentId})]})]})]})]})]})]}),h.orderStatus==="shipped"&&h.trackingNumber&&a.jsx(ee,{size:"sm",className:"bg-purple-500 hover:bg-purple-600",children:"Track Order"})]})]})},h.id))})]})]})},Yle=()=>{const t=Gs({queryKey:["allTransactions"],queryFn:async()=>{console.log("=== STARTING FETCH ALL TRANSACTIONS ==="),console.log("Database reference:",je);const e=[];try{console.log("Checking users collection accessibility...");const n=Ct(je,"users");console.log("Users collection reference:",n),console.log("Fetching all users...");const r=await pn(n);if(console.log("Total users found:",r.docs.length),console.log("Users snapshot:",r),r.docs.forEach((i,o)=>{console.log(`User ${o+1} - ID: ${i.id}, Data:`,i.data())}),r.docs.length===0){console.log(" NO USERS FOUND IN DATABASE"),console.log("This could mean:"),console.log("1. No users have signed up and made transactions yet"),console.log("2. Firestore security rules are blocking access"),console.log("3. The users collection structure is different"),console.log("4. Users are stored in a different collection"),console.log("Checking for any existing data in Firestore...");try{const i=await pn(Ct(je,"products"));console.log("Products collection accessible, count:",i.docs.length)}catch(i){console.error("Cannot access products collection:",i)}try{const i=await pn(Ct(je,"admins"));console.log("Admins collection accessible, count:",i.docs.length)}catch(i){console.error("Cannot access admins collection:",i)}console.log(" ALTERNATIVE DEBUGGING APPROACHES:"),console.log("Checking if this is an auth vs firestore mismatch...");try{console.log("Checking if there are any documents in root collections...");const i=["user","customers","clients","profiles"];for(const o of i)try{const l=await pn(Ct(je,o));l.docs.length>0&&(console.log(`Found ${l.docs.length} documents in '${o}' collection`),l.docs.forEach((c,u)=>{console.log(`${o} ${u+1}:`,{id:c.id,data:c.data()})}))}catch{console.log(`Collection '${o}' doesn't exist or isn't accessible`)}}catch(i){console.error("Error checking alternative collections:",i)}try{console.log("Testing security rules by trying to access a test document...");const i=sn(je,"users","test-user-id"),o=await Jy(i);console.log("Test document access result:",o.exists()?o.data():"Document does not exist")}catch(i){console.error(" SECURITY RULE ERROR detected:",i),console.error("This confirms that security rules are blocking access to users collection")}return[]}for(const i of r.docs){const o=i.id;console.log(`Processing user: ${o}`),console.log("User data:",i.data());try{const l=Ct(je,"users",o,"transactions");console.log(`Transactions collection ref for user ${o}:`,l);const c=Ci(l,lm("createdAt","desc")),u=await pn(c);console.log(`User ${o} has ${u.docs.length} transactions`),u.docs.forEach((g,y)=>{console.log(`Transaction ${y+1} for user ${o}:`,{id:g.id,data:g.data()})});const d=Ct(je,"users",o,"dogs"),f=(await pn(d)).docs.map(g=>({id:g.id,...g.data()}));console.log(`User ${o} has ${f.length} dogs:`,f);for(const g of u.docs){const y=g.data();console.log(`Processing transaction ${g.id}:`,y);let v=null;if(y.dogName){const _=f.find(w=>w.name===y.dogName);_&&(v={name:_.name,breed:_.breed,petType:_.petType||"Dog",dateOfBirth:_.dateOfBirth||"",age:_.age||0},console.log(`Found pet details for ${y.dogName}:`,v))}const x={id:g.id,userId:o,petDetails:v,...y};e.push(x),console.log("Added transaction:",x)}}catch(l){console.error(`Error processing user ${o}:`,l),console.error("Error details:",{name:l.name,message:l.message,code:l.code})}}const s=e.sort((i,o)=>!i.createdAt||!o.createdAt?0:o.createdAt.toMillis()-i.createdAt.toMillis());return console.log("Final sorted transactions:",s),console.log(`Total transactions found: ${s.length}`),console.log("=== FETCH ALL TRANSACTIONS COMPLETE ==="),s}catch(n){return console.error(" Error in useAllTransactions:",n),console.error("Error details:",{name:n.name,message:n.message,code:n.code,stack:n.stack}),n.code==="permission-denied"&&(console.error(" PERMISSION DENIED - This is definitely a security rules issue"),console.error("Check your Firestore security rules for the users collection")),[]}}});return console.log("useAllTransactions result:",t.data),t.error&&console.error("useAllTransactions error:",t.error),{transactions:t.data||[],isLoading:t.isLoading,error:t.error}};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function la(t,e){return typeof t=="function"?t(e):t}function es(t,e){return n=>{e.setState(r=>({...r,[t]:la(n,r[t])}))}}function E0(t){return t instanceof Function}function Qle(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Xle(t,e){const n=[],r=s=>{s.forEach(i=>{n.push(i);const o=e(i);o!=null&&o.length&&r(o)})};return r(t),n}function Ae(t,e,n){let r=[],s;return i=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(i);if(!(l.length!==r.length||l.some((d,h)=>r[h]!==d)))return s;r=l;let u;if(n.key&&n.debug&&(u=Date.now()),s=e(...l),n==null||n.onChange==null||n.onChange(s),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-u)*100)/100,f=h/16,g=(y,v)=>{for(y=String(y);y.length<v;)y=" "+y;return y};console.info(`%c ${g(h,5)} /${g(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return s}}function De(t,e,n,r){return{debug:()=>{var s;return(s=t==null?void 0:t.debugAll)!=null?s:t[e]},key:!1,onChange:r}}function Zle(t,e,n,r){const s=()=>{var o;return(o=i.getValue())!=null?o:t.options.renderFallbackValue},i={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(r),renderValue:s,getContext:Ae(()=>[t,n,e,i],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),De(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(i,n,e,t)},{}),i}function Jle(t,e,n,r){var s,i;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let u=(s=(i=l.id)!=null?i:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?s:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=f=>{let g=f;for(const v of c.split(".")){var y;g=(y=g)==null?void 0:y[v]}return g}:d=f=>f[l.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:d,parent:r,depth:n,columnDef:l,columns:[],getFlatColumns:Ae(()=>[!0],()=>{var f;return[h,...(f=h.columns)==null?void 0:f.flatMap(g=>g.getFlatColumns())]},De(t.options,"debugColumns")),getLeafColumns:Ae(()=>[t._getOrderColumnsFn()],f=>{var g;if((g=h.columns)!=null&&g.length){let y=h.columns.flatMap(v=>v.getLeafColumns());return f(y)}return[h]},De(t.options,"debugColumns"))};for(const f of t._features)f.createColumn==null||f.createColumn(h,t);return h}const Gn="debugHeaders";function rP(t,e,n){var r;let i={id:(r=n.id)!=null?r:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(i),o},getContext:()=>({table:t,header:i,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(i,t)}),i}const ece={createTable:t=>{t.getHeaderGroups=Ae(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>{var i,o;const l=(i=r==null?void 0:r.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?i:[],c=(o=s==null?void 0:s.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?o:[],u=n.filter(h=>!(r!=null&&r.includes(h.id))&&!(s!=null&&s.includes(h.id)));return Kp(e,[...l,...u,...c],t)},De(t.options,Gn)),t.getCenterHeaderGroups=Ae(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r,s)=>(n=n.filter(i=>!(r!=null&&r.includes(i.id))&&!(s!=null&&s.includes(i.id))),Kp(e,n,t,"center")),De(t.options,Gn)),t.getLeftHeaderGroups=Ae(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?s:[];return Kp(e,i,t,"left")},De(t.options,Gn)),t.getRightHeaderGroups=Ae(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,r)=>{var s;const i=(s=r==null?void 0:r.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?s:[];return Kp(e,i,t,"right")},De(t.options,Gn)),t.getFooterGroups=Ae(()=>[t.getHeaderGroups()],e=>[...e].reverse(),De(t.options,Gn)),t.getLeftFooterGroups=Ae(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),De(t.options,Gn)),t.getCenterFooterGroups=Ae(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),De(t.options,Gn)),t.getRightFooterGroups=Ae(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),De(t.options,Gn)),t.getFlatHeaders=Ae(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,Gn)),t.getLeftFlatHeaders=Ae(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,Gn)),t.getCenterFlatHeaders=Ae(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,Gn)),t.getRightFlatHeaders=Ae(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),De(t.options,Gn)),t.getCenterLeafHeaders=Ae(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),De(t.options,Gn)),t.getLeftLeafHeaders=Ae(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),De(t.options,Gn)),t.getRightLeafHeaders=Ae(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),De(t.options,Gn)),t.getLeafHeaders=Ae(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,r)=>{var s,i,o,l,c,u;return[...(s=(i=e[0])==null?void 0:i.headers)!=null?s:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=r[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},De(t.options,Gn))}};function Kp(t,e,n,r){var s,i;let o=0;const l=function(f,g){g===void 0&&(g=1),o=Math.max(o,g),f.filter(y=>y.getIsVisible()).forEach(y=>{var v;(v=y.columns)!=null&&v.length&&l(y.columns,g+1)},0)};l(t);let c=[];const u=(f,g)=>{const y={depth:g,id:[r,`${g}`].filter(Boolean).join("_"),headers:[]},v=[];f.forEach(x=>{const _=[...v].reverse()[0],w=x.column.depth===y.depth;let b,T=!1;if(w&&x.column.parent?b=x.column.parent:(b=x.column,T=!0),_&&(_==null?void 0:_.column)===b)_.subHeaders.push(x);else{const I=rP(n,b,{id:[r,g,b.id,x==null?void 0:x.id].filter(Boolean).join("_"),isPlaceholder:T,placeholderId:T?`${v.filter(O=>O.column===b).length}`:void 0,depth:g,index:v.length});I.subHeaders.push(x),v.push(I)}y.headers.push(x),x.headerGroup=y}),c.push(y),g>0&&u(v,g-1)},d=e.map((f,g)=>rP(n,f,{depth:o,index:g}));u(d,o-1),c.reverse();const h=f=>f.filter(y=>y.column.getIsVisible()).map(y=>{let v=0,x=0,_=[0];y.subHeaders&&y.subHeaders.length?(_=[],h(y.subHeaders).forEach(b=>{let{colSpan:T,rowSpan:I}=b;v+=T,_.push(I)})):v=1;const w=Math.min(..._);return x=x+w,y.colSpan=v,y.rowSpan=x,{colSpan:v,rowSpan:x}});return h((s=(i=c[0])==null?void 0:i.headers)!=null?s:[]),c}const TE=(t,e,n,r,s,i,o)=>{let l={id:e,index:r,original:n,depth:s,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,r),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,r),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Xle(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:Ae(()=>[t.getAllLeafColumns()],c=>c.map(u=>Zle(t,l,u,u.id)),De(t.options,"debugRows")),_getAllCellsByColumnId:Ae(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),De(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const u=t._features[c];u==null||u.createRow==null||u.createRow(l,t)}return l},tce={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},P5=(t,e,n)=>{var r,s;const i=n==null||(r=n.toString())==null?void 0:r.toLowerCase();return!!(!((s=t.getValue(e))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(i))};P5.autoRemove=t=>Ls(t);const k5=(t,e,n)=>{var r;return!!(!((r=t.getValue(e))==null||(r=r.toString())==null)&&r.includes(n))};k5.autoRemove=t=>Ls(t);const A5=(t,e,n)=>{var r;return((r=t.getValue(e))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};A5.autoRemove=t=>Ls(t);const D5=(t,e,n)=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(n)};D5.autoRemove=t=>Ls(t);const M5=(t,e,n)=>!n.some(r=>{var s;return!((s=t.getValue(e))!=null&&s.includes(r))});M5.autoRemove=t=>Ls(t)||!(t!=null&&t.length);const O5=(t,e,n)=>n.some(r=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(r)});O5.autoRemove=t=>Ls(t)||!(t!=null&&t.length);const F5=(t,e,n)=>t.getValue(e)===n;F5.autoRemove=t=>Ls(t);const L5=(t,e,n)=>t.getValue(e)==n;L5.autoRemove=t=>Ls(t);const RE=(t,e,n)=>{let[r,s]=n;const i=t.getValue(e);return i>=r&&i<=s};RE.resolveFilterValue=t=>{let[e,n]=t,r=typeof e!="number"?parseFloat(e):e,s=typeof n!="number"?parseFloat(n):n,i=e===null||Number.isNaN(r)?-1/0:r,o=n===null||Number.isNaN(s)?1/0:s;if(i>o){const l=i;i=o,o=l}return[i,o]};RE.autoRemove=t=>Ls(t)||Ls(t[0])&&Ls(t[1]);const Bi={includesString:P5,includesStringSensitive:k5,equalsString:A5,arrIncludes:D5,arrIncludesAll:M5,arrIncludesSome:O5,equals:F5,weakEquals:L5,inNumberRange:RE};function Ls(t){return t==null||t===""}const nce={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:es("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);return typeof r=="string"?Bi.includesString:typeof r=="number"?Bi.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?Bi.equals:Array.isArray(r)?Bi.arrIncludes:Bi.weakEquals},t.getFilterFn=()=>{var n,r;return E0(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(r=e.options.filterFns)==null?void 0:r[t.columnDef.filterFn])!=null?n:Bi[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,r,s;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((r=e.options.enableColumnFilters)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(r=>r.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,r;return(n=(r=e.getState().columnFilters)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(r=>{const s=t.getFilterFn(),i=r==null?void 0:r.find(d=>d.id===t.id),o=la(n,i?i.value:void 0);if(sP(s,o,t)){var l;return(l=r==null?void 0:r.filter(d=>d.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(i){var u;return(u=r==null?void 0:r.map(d=>d.id===t.id?c:d))!=null?u:[]}return r!=null&&r.length?[...r,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),r=s=>{var i;return(i=la(e,s))==null?void 0:i.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(sP(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(r)},t.resetColumnFilters=e=>{var n,r;t.setColumnFilters(e?[]:(n=(r=t.initialState)==null?void 0:r.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function sP(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const rce=(t,e,n)=>n.reduce((r,s)=>{const i=s.getValue(t);return r+(typeof i=="number"?i:0)},0),sce=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}),r},ice=(t,e,n)=>{let r;return n.forEach(s=>{const i=s.getValue(t);i!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}),r},oce=(t,e,n)=>{let r,s;return n.forEach(i=>{const o=i.getValue(t);o!=null&&(r===void 0?o>=o&&(r=s=o):(r>o&&(r=o),s<o&&(s=o)))}),[r,s]},ace=(t,e)=>{let n=0,r=0;if(e.forEach(s=>{let i=s.getValue(t);i!=null&&(i=+i)>=i&&(++n,r+=i)}),n)return r/n},lce=(t,e)=>{if(!e.length)return;const n=e.map(i=>i.getValue(t));if(!Qle(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),s=n.sort((i,o)=>i-o);return n.length%2!==0?s[r]:(s[r-1]+s[r])/2},cce=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),uce=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,dce=(t,e)=>e.length,dw={sum:rce,min:sce,max:ice,extent:oce,mean:ace,median:lce,unique:cce,uniqueCount:uce,count:dce},hce={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:es("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(r=>r!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,r;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((r=e.options.enableGrouping)!=null?r:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(t.id);if(typeof r=="number")return dw.sum;if(Object.prototype.toString.call(r)==="[object Date]")return dw.extent},t.getAggregationFn=()=>{var n,r;if(!t)throw new Error;return E0(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(r=e.options.aggregationFns)==null?void 0:r[t.columnDef.aggregationFn])!=null?n:dw[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,r;t.setGrouping(e?[]:(n=(r=t.initialState)==null?void 0:r.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const r=e.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(t._groupingValuesCache[n]=r.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,r)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var s;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((s=n.subRows)!=null&&s.length)}}};function fce(t,e,n){if(!(e!=null&&e.length)||!n)return t;const r=t.filter(i=>!e.includes(i.id));return n==="remove"?r:[...e.map(i=>t.find(o=>o.id===i)).filter(Boolean),...r]}const mce={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:es("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=Ae(n=>[Hh(e,n)],n=>n.findIndex(r=>r.id===t.id),De(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var r;return((r=Hh(e,n)[0])==null?void 0:r.id)===t.id},t.getIsLastColumn=n=>{var r;const s=Hh(e,n);return((r=s[s.length-1])==null?void 0:r.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=Ae(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,r)=>s=>{let i=[];if(!(e!=null&&e.length))i=s;else{const o=[...e],l=[...s];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&i.push(l.splice(u,1)[0])}i=[...i,...l]}return fce(i,n,r)},De(t.options,"debugTable"))}},hw=()=>({left:[],right:[]}),pce={getInitialState:t=>({columnPinning:hw(),...t}),getDefaultOptions:t=>({onColumnPinningChange:es("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const r=t.getLeafColumns().map(s=>s.id).filter(Boolean);e.setColumnPinning(s=>{var i,o;if(n==="right"){var l,c;return{left:((l=s==null?void 0:s.left)!=null?l:[]).filter(h=>!(r!=null&&r.includes(h))),right:[...((c=s==null?void 0:s.right)!=null?c:[]).filter(h=>!(r!=null&&r.includes(h))),...r]}}if(n==="left"){var u,d;return{left:[...((u=s==null?void 0:s.left)!=null?u:[]).filter(h=>!(r!=null&&r.includes(h))),...r],right:((d=s==null?void 0:s.right)!=null?d:[]).filter(h=>!(r!=null&&r.includes(h)))}}return{left:((i=s==null?void 0:s.left)!=null?i:[]).filter(h=>!(r!=null&&r.includes(h))),right:((o=s==null?void 0:s.right)!=null?o:[]).filter(h=>!(r!=null&&r.includes(h)))}})},t.getCanPin=()=>t.getLeafColumns().some(r=>{var s,i,o;return((s=r.columnDef.enablePinning)!=null?s:!0)&&((i=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?i:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:r,right:s}=e.getState().columnPinning,i=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>s==null?void 0:s.includes(l));return i?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();return s?(n=(r=e.getState().columnPinning)==null||(r=r[s])==null?void 0:r.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=Ae(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,r,s)=>{const i=[...r??[],...s??[]];return n.filter(o=>!i.includes(o.column.id))},De(e.options,"debugRows")),t.getLeftVisibleCells=Ae(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),De(e.options,"debugRows")),t.getRightVisibleCells=Ae(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,r)=>(r??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),De(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,r;return t.setColumnPinning(e?hw():(n=(r=t.initialState)==null?void 0:r.columnPinning)!=null?n:hw())},t.getIsSomeColumnsPinned=e=>{var n;const r=t.getState().columnPinning;if(!e){var s,i;return!!((s=r.left)!=null&&s.length||(i=r.right)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t.getLeftLeafColumns=Ae(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),De(t.options,"debugColumns")),t.getRightLeafColumns=Ae(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(r=>e.find(s=>s.id===r)).filter(Boolean),De(t.options,"debugColumns")),t.getCenterLeafColumns=Ae(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,r)=>{const s=[...n??[],...r??[]];return e.filter(i=>!s.includes(i.id))},De(t.options,"debugColumns"))}};function gce(t){return t||(typeof document<"u"?document:null)}const Yp={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},fw=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),vce={getDefaultColumnDef:()=>Yp,getInitialState:t=>({columnSizing:{},columnSizingInfo:fw(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:es("columnSizing",t),onColumnSizingInfoChange:es("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,r,s;const i=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:Yp.minSize,(r=i??t.columnDef.size)!=null?r:Yp.size),(s=t.columnDef.maxSize)!=null?s:Yp.maxSize)},t.getStart=Ae(n=>[n,Hh(e,n),e.getState().columnSizing],(n,r)=>r.slice(0,t.getIndex(n)).reduce((s,i)=>s+i.getSize(),0),De(e.options,"debugColumns")),t.getAfter=Ae(n=>[n,Hh(e,n),e.getState().columnSizing],(n,r)=>r.slice(t.getIndex(n)+1).reduce((s,i)=>s+i.getSize(),0),De(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:r,...s}=n;return s})},t.getCanResize=()=>{var n,r;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((r=e.options.enableColumnResizing)!=null?r:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const r=s=>{if(s.subHeaders.length)s.subHeaders.forEach(r);else{var i;n+=(i=s.column.getSize())!=null?i:0}};return r(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const r=e.getColumn(t.column.id),s=r==null?void 0:r.getCanResize();return i=>{if(!r||!s||(i.persist==null||i.persist(),mw(i)&&i.touches&&i.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(_=>[_.column.id,_.column.getSize()]):[[r.id,r.getSize()]],c=mw(i)?Math.round(i.touches[0].clientX):i.clientX,u={},d=(_,w)=>{typeof w=="number"&&(e.setColumnSizingInfo(b=>{var T,I;const O=e.options.columnResizeDirection==="rtl"?-1:1,j=(w-((T=b==null?void 0:b.startOffset)!=null?T:0))*O,S=Math.max(j/((I=b==null?void 0:b.startSize)!=null?I:0),-.999999);return b.columnSizingStart.forEach(N=>{let[P,k]=N;u[P]=Math.round(Math.max(k+k*S,0)*100)/100}),{...b,deltaOffset:j,deltaPercentage:S}}),(e.options.columnResizeMode==="onChange"||_==="end")&&e.setColumnSizing(b=>({...b,...u})))},h=_=>d("move",_),f=_=>{d("end",_),e.setColumnSizingInfo(w=>({...w,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=gce(n),y={moveHandler:_=>h(_.clientX),upHandler:_=>{g==null||g.removeEventListener("mousemove",y.moveHandler),g==null||g.removeEventListener("mouseup",y.upHandler),f(_.clientX)}},v={moveHandler:_=>(_.cancelable&&(_.preventDefault(),_.stopPropagation()),h(_.touches[0].clientX),!1),upHandler:_=>{var w;g==null||g.removeEventListener("touchmove",v.moveHandler),g==null||g.removeEventListener("touchend",v.upHandler),_.cancelable&&(_.preventDefault(),_.stopPropagation()),f((w=_.touches[0])==null?void 0:w.clientX)}},x=yce()?{passive:!1}:!1;mw(i)?(g==null||g.addEventListener("touchmove",v.moveHandler,x),g==null||g.addEventListener("touchend",v.upHandler,x)):(g==null||g.addEventListener("mousemove",y.moveHandler,x),g==null||g.addEventListener("mouseup",y.upHandler,x)),e.setColumnSizingInfo(_=>({..._,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:r.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?fw():(n=t.initialState.columnSizingInfo)!=null?n:fw())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,s)=>r+s.getSize(),0))!=null?e:0}}};let Qp=null;function yce(){if(typeof Qp=="boolean")return Qp;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return Qp=t,Qp}function mw(t){return t.type==="touchstart"}const xce={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:es("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(r=>({...r,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,r;const s=t.columns;return(n=s.length?s.some(i=>i.getIsVisible()):(r=e.getState().columnVisibility)==null?void 0:r[t.id])!=null?n:!0},t.getCanHide=()=>{var n,r;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((r=e.options.enableHiding)!=null?r:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=Ae(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),De(e.options,"debugRows")),t.getVisibleCells=Ae(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,r,s)=>[...n,...r,...s],De(e.options,"debugRows"))},createTable:t=>{const e=(n,r)=>Ae(()=>[r(),r().filter(s=>s.getIsVisible()).map(s=>s.id).join("_")],s=>s.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),De(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var r;t.setColumnVisibility(n?{}:(r=t.initialState.columnVisibility)!=null?r:{})},t.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((s,i)=>({...s,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;t.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}};function Hh(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const wce={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},_ce={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:es("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const r=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,r,s,i;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=e.options.enableGlobalFilter)!=null?r:!0)&&((s=e.options.enableFilters)!=null?s:!0)&&((i=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?i:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>Bi.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:r}=t.options;return E0(r)?r:r==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[r])!=null?e:Bi[r]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},bce={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:es("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetExpanded)!=null?r:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=r=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(r),t.toggleAllRowsExpanded=r=>{r??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=r=>{var s,i;t.setExpanded(r?{}:(s=(i=t.initialState)==null?void 0:i.expanded)!=null?s:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const r=t.getState().expanded;return r===!0||Object.values(r).some(Boolean)},t.getIsAllRowsExpanded=()=>{const r=t.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||t.getRowModel().flatRows.some(s=>!s.getIsExpanded()))},t.getExpandedDepth=()=>{let r=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(i=>{const o=i.split(".");r=Math.max(r,o.length)}),r},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(r=>{var s;const i=r===!0?!0:!!(r!=null&&r[t.id]);let o={};if(r===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=r,n=(s=n)!=null?s:!i,!i&&n)return{...o,[t.id]:!0};if(i&&!n){const{[t.id]:l,...c}=o;return c}return r})},t.getIsExpanded=()=>{var n;const r=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:r===!0||r!=null&&r[t.id])},t.getCanExpand=()=>{var n,r,s;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((r=e.options.enableExpanding)!=null?r:!0)&&!!((s=t.subRows)!=null&&s.length)},t.getIsAllParentsExpanded=()=>{let n=!0,r=t;for(;n&&r.parentId;)r=e.getRow(r.parentId,!0),n=r.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},Gb=0,Kb=10,pw=()=>({pageIndex:Gb,pageSize:Kb}),Cce={getInitialState:t=>({...t,pagination:{...pw(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:es("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var r,s;if(!e){t._queue(()=>{e=!0});return}if((r=(s=t.options.autoResetAll)!=null?s:t.options.autoResetPageIndex)!=null?r:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=r=>{const s=i=>la(r,i);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(s)},t.resetPagination=r=>{var s;t.setPagination(r?pw():(s=t.initialState.pagination)!=null?s:pw())},t.setPageIndex=r=>{t.setPagination(s=>{let i=la(r,s.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...s,pageIndex:i}})},t.resetPageIndex=r=>{var s,i;t.setPageIndex(r?Gb:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?s:Gb)},t.resetPageSize=r=>{var s,i;t.setPageSize(r?Kb:(s=(i=t.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?s:Kb)},t.setPageSize=r=>{t.setPagination(s=>{const i=Math.max(1,la(r,s.pageSize)),o=s.pageSize*s.pageIndex,l=Math.floor(o/i);return{...s,pageIndex:l,pageSize:i}})},t.setPageCount=r=>t.setPagination(s=>{var i;let o=la(r,(i=t.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...s,pageCount:o}}),t.getPageOptions=Ae(()=>[t.getPageCount()],r=>{let s=[];return r&&r>0&&(s=[...new Array(r)].fill(null).map((i,o)=>o)),s},De(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:r}=t.getState().pagination,s=t.getPageCount();return s===-1?!0:s===0?!1:r<s-1},t.previousPage=()=>t.setPageIndex(r=>r-1),t.nextPage=()=>t.setPageIndex(r=>r+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var r;return(r=t.options.pageCount)!=null?r:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var r;return(r=t.options.rowCount)!=null?r:t.getPrePaginationRowModel().rows.length}}},gw=()=>({top:[],bottom:[]}),Sce={getInitialState:t=>({rowPinning:gw(),...t}),getDefaultOptions:t=>({onRowPinningChange:es("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,r,s)=>{const i=r?t.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=s?t.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,t.id,...i]);e.setRowPinning(c=>{var u,d;if(n==="bottom"){var h,f;return{top:((h=c==null?void 0:c.top)!=null?h:[]).filter(v=>!(l!=null&&l.has(v))),bottom:[...((f=c==null?void 0:c.bottom)!=null?f:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)]}}if(n==="top"){var g,y;return{top:[...((g=c==null?void 0:c.top)!=null?g:[]).filter(v=>!(l!=null&&l.has(v))),...Array.from(l)],bottom:((y=c==null?void 0:c.bottom)!=null?y:[]).filter(v=>!(l!=null&&l.has(v)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(v=>!(l!=null&&l.has(v))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(v=>!(l!=null&&l.has(v)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:s}=e.options;return typeof r=="function"?r(t):(n=r??s)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:r,bottom:s}=e.getState().rowPinning,i=n.some(l=>r==null?void 0:r.includes(l)),o=n.some(l=>s==null?void 0:s.includes(l));return i?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,r;const s=t.getIsPinned();if(!s)return-1;const i=(n=s==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(r=i==null?void 0:i.indexOf(t.id))!=null?r:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,r;return t.setRowPinning(e?gw():(n=(r=t.initialState)==null?void 0:r.rowPinning)!=null?n:gw())},t.getIsSomeRowsPinned=e=>{var n;const r=t.getState().rowPinning;if(!e){var s,i;return!!((s=r.top)!=null&&s.length||(i=r.bottom)!=null&&i.length)}return!!((n=r[e])!=null&&n.length)},t._getPinnedRows=(e,n,r)=>{var s;return((s=t.options.keepPinnedRows)==null||s?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:r}))},t.getTopRows=Ae(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),De(t.options,"debugRows")),t.getBottomRows=Ae(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),De(t.options,"debugRows")),t.getCenterRows=Ae(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,r)=>{const s=new Set([...n??[],...r??[]]);return e.filter(i=>!s.has(i.id))},De(t.options,"debugRows"))}},Ece={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:es("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const r={...n},s=t.getPreGroupedRowModel().flatRows;return e?s.forEach(i=>{i.getCanSelect()&&(r[i.id]=!0)}):s.forEach(i=>{delete r[i.id]}),r})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const r=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),s={...n};return t.getRowModel().rows.forEach(i=>{Yb(s,i.id,r,!0,t)}),s}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=Ae(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?vw(t,n):{rows:[],flatRows:[],rowsById:{}},De(t.options,"debugTable")),t.getFilteredSelectedRowModel=Ae(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?vw(t,n):{rows:[],flatRows:[],rowsById:{}},De(t.options,"debugTable")),t.getGroupedSelectedRowModel=Ae(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?vw(t,n):{rows:[],flatRows:[],rowsById:{}},De(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let r=!!(e.length&&Object.keys(n).length);return r&&e.some(s=>s.getCanSelect()&&!n[s.id])&&(r=!1),r},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(s=>s.getCanSelect()),{rowSelection:n}=t.getState();let r=!!e.length;return r&&e.some(s=>!n[s.id])&&(r=!1),r},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,r)=>{const s=t.getIsSelected();e.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!s,t.getCanSelect()&&s===n)return i;const l={...i};return Yb(l,t.id,n,(o=r==null?void 0:r.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return jE(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return Qb(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return Qb(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return r=>{var s;n&&t.toggleSelected((s=r.target)==null?void 0:s.checked)}}}},Yb=(t,e,n,r,s)=>{var i;const o=s.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],r&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>Yb(t,l.id,n,r,s))};function vw(t,e){const n=t.getState().rowSelection,r=[],s={},i=function(o,l){return o.map(c=>{var u;const d=jE(c,n);if(d&&(r.push(c),s[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:i(c.subRows)}),d)return c}).filter(Boolean)};return{rows:i(e.rows),flatRows:r,rowsById:s}}function jE(t,e){var n;return(n=e[t.id])!=null?n:!1}function Qb(t,e,n){var r;if(!((r=t.subRows)!=null&&r.length))return!1;let s=!0,i=!1;return t.subRows.forEach(o=>{if(!(i&&!s)&&(o.getCanSelect()&&(jE(o,e)?i=!0:s=!1),o.subRows&&o.subRows.length)){const l=Qb(o,e);l==="all"?i=!0:(l==="some"&&(i=!0),s=!1)}}),s?"all":i?"some":!1}const Xb=/([0-9]+)/gm,Nce=(t,e,n)=>V5(Ba(t.getValue(n)).toLowerCase(),Ba(e.getValue(n)).toLowerCase()),Tce=(t,e,n)=>V5(Ba(t.getValue(n)),Ba(e.getValue(n))),Rce=(t,e,n)=>IE(Ba(t.getValue(n)).toLowerCase(),Ba(e.getValue(n)).toLowerCase()),jce=(t,e,n)=>IE(Ba(t.getValue(n)),Ba(e.getValue(n))),Ice=(t,e,n)=>{const r=t.getValue(n),s=e.getValue(n);return r>s?1:r<s?-1:0},Pce=(t,e,n)=>IE(t.getValue(n),e.getValue(n));function IE(t,e){return t===e?0:t>e?1:-1}function Ba(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function V5(t,e){const n=t.split(Xb).filter(Boolean),r=e.split(Xb).filter(Boolean);for(;n.length&&r.length;){const s=n.shift(),i=r.shift(),o=parseInt(s,10),l=parseInt(i,10),c=[o,l].sort();if(isNaN(c[0])){if(s>i)return 1;if(i>s)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-r.length}const nh={alphanumeric:Nce,alphanumericCaseSensitive:Tce,text:Rce,textCaseSensitive:jce,datetime:Ice,basic:Pce},kce={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:es("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const s of n){const i=s==null?void 0:s.getValue(t.id);if(Object.prototype.toString.call(i)==="[object Date]")return nh.datetime;if(typeof i=="string"&&(r=!0,i.split(Xb).length>1))return nh.alphanumeric}return r?nh.text:nh.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,r;if(!t)throw new Error;return E0(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(r=e.options.sortingFns)==null?void 0:r[t.columnDef.sortingFn])!=null?n:nh[t.columnDef.sortingFn]},t.toggleSorting=(n,r)=>{const s=t.getNextSortingOrder(),i=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(g=>g.id===t.id),c=o==null?void 0:o.findIndex(g=>g.id===t.id);let u=[],d,h=i?n:s==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&r?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(i||s||(d="remove")),d==="add"){var f;u=[...o,{id:t.id,desc:h}],u.splice(0,u.length-((f=e.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(g=>g.id===t.id?{...g,desc:h}:g):d==="remove"?u=o.filter(g=>g.id!==t.id):u=[{id:t.id,desc:h}];return u})},t.getFirstSortDir=()=>{var n,r;return((n=(r=t.columnDef.sortDescFirst)!=null?r:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var r,s;const i=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==i&&((r=e.options.enableSortingRemoval)==null||r)&&(!(n&&(s=e.options.enableMultiRemove)!=null)||s)?!1:o==="desc"?"asc":"desc":i},t.getCanSort=()=>{var n,r;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((r=e.options.enableSorting)!=null?r:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,r;return(n=(r=t.columnDef.enableMultiSort)!=null?r:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const r=(n=e.getState().sorting)==null?void 0:n.find(s=>s.id===t.id);return r?r.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,r;return(n=(r=e.getState().sorting)==null?void 0:r.findIndex(s=>s.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return r=>{n&&(r.persist==null||r.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(r):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,r;t.setSorting(e?[]:(n=(r=t.initialState)==null?void 0:r.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},Ace=[ece,xce,mce,pce,tce,nce,wce,_ce,kce,hce,bce,Cce,Sce,Ece,vce];function Dce(t){var e,n;const r=[...Ace,...(e=t._features)!=null?e:[]];let s={_features:r};const i=s._features.reduce((f,g)=>Object.assign(f,g.getDefaultOptions==null?void 0:g.getDefaultOptions(s)),{}),o=f=>s.options.mergeOptions?s.options.mergeOptions(i,f):{...i,...f};let c={...{},...(n=t.initialState)!=null?n:{}};s._features.forEach(f=>{var g;c=(g=f.getInitialState==null?void 0:f.getInitialState(c))!=null?g:c});const u=[];let d=!1;const h={_features:r,options:{...i,...t},initialState:c,_queue:f=>{u.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{s.setState(s.initialState)},setOptions:f=>{const g=la(f,s.options);s.options=o(g)},getState:()=>s.options.state,setState:f=>{s.options.onStateChange==null||s.options.onStateChange(f)},_getRowId:(f,g,y)=>{var v;return(v=s.options.getRowId==null?void 0:s.options.getRowId(f,g,y))!=null?v:`${y?[y.id,g].join("."):g}`},getCoreRowModel:()=>(s._getCoreRowModel||(s._getCoreRowModel=s.options.getCoreRowModel(s)),s._getCoreRowModel()),getRowModel:()=>s.getPaginationRowModel(),getRow:(f,g)=>{let y=(g?s.getPrePaginationRowModel():s.getRowModel()).rowsById[f];if(!y&&(y=s.getCoreRowModel().rowsById[f],!y))throw new Error;return y},_getDefaultColumnDef:Ae(()=>[s.options.defaultColumn],f=>{var g;return f=(g=f)!=null?g:{},{header:y=>{const v=y.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:y=>{var v,x;return(v=(x=y.renderValue())==null||x.toString==null?void 0:x.toString())!=null?v:null},...s._features.reduce((y,v)=>Object.assign(y,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...f}},De(t,"debugColumns")),_getColumnDefs:()=>s.options.columns,getAllColumns:Ae(()=>[s._getColumnDefs()],f=>{const g=function(y,v,x){return x===void 0&&(x=0),y.map(_=>{const w=Jle(s,_,x,v),b=_;return w.columns=b.columns?g(b.columns,w,x+1):[],w})};return g(f)},De(t,"debugColumns")),getAllFlatColumns:Ae(()=>[s.getAllColumns()],f=>f.flatMap(g=>g.getFlatColumns()),De(t,"debugColumns")),_getAllFlatColumnsById:Ae(()=>[s.getAllFlatColumns()],f=>f.reduce((g,y)=>(g[y.id]=y,g),{}),De(t,"debugColumns")),getAllLeafColumns:Ae(()=>[s.getAllColumns(),s._getOrderColumnsFn()],(f,g)=>{let y=f.flatMap(v=>v.getLeafColumns());return g(y)},De(t,"debugColumns")),getColumn:f=>s._getAllFlatColumnsById()[f]};Object.assign(s,h);for(let f=0;f<s._features.length;f++){const g=s._features[f];g==null||g.createTable==null||g.createTable(s)}return s}function Mce(){return t=>Ae(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(s,i,o){i===void 0&&(i=0);const l=[];for(let u=0;u<s.length;u++){const d=TE(t,t._getRowId(s[u],u,o),s[u],u,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),t.options.getSubRows){var c;d.originalSubRows=t.options.getSubRows(s[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=r(d.originalSubRows,i+1,d))}}return l};return n.rows=r(e),n},De(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function Oce(t){const e=[],n=r=>{var s;e.push(r),(s=r.subRows)!=null&&s.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function Fce(t,e,n){return n.options.filterFromLeafRows?Lce(t,e,n):Vce(t,e,n)}function Lce(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let f=0;f<c.length;f++){var h;let g=c[f];const y=TE(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(y.columnFilters=g.columnFilters,(h=g.subRows)!=null&&h.length&&u<o){if(y.subRows=l(g.subRows,u+1),g=y,e(g)&&!y.subRows.length){d.push(g),i[g.id]=g,s.push(g);continue}if(e(g)||y.subRows.length){d.push(g),i[g.id]=g,s.push(g);continue}}else g=y,e(g)&&(d.push(g),i[g.id]=g,s.push(g))}return d};return{rows:l(t),flatRows:s,rowsById:i}}function Vce(t,e,n){var r;const s=[],i={},o=(r=n.options.maxLeafRowFilterDepth)!=null?r:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let f=0;f<c.length;f++){let g=c[f];if(e(g)){var h;if((h=g.subRows)!=null&&h.length&&u<o){const v=TE(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);v.subRows=l(g.subRows,u+1),g=v}d.push(g),s.push(g),i[g.id]=g}}return d};return{rows:l(t),flatRows:s,rowsById:i}}function $ce(){return t=>Ae(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,r)=>{if(!e.rows.length||!(n!=null&&n.length)&&!r){for(let f=0;f<e.flatRows.length;f++)e.flatRows[f].columnFilters={},e.flatRows[f].columnFiltersMeta={};return e}const s=[],i=[];(n??[]).forEach(f=>{var g;const y=t.getColumn(f.id);if(!y)return;const v=y.getFilterFn();v&&s.push({id:f.id,filterFn:v,resolvedValue:(g=v.resolveFilterValue==null?void 0:v.resolveFilterValue(f.value))!=null?g:f.value})});const o=(n??[]).map(f=>f.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());r&&l&&c.length&&(o.push("__global__"),c.forEach(f=>{var g;i.push({id:f.id,filterFn:l,resolvedValue:(g=l.resolveFilterValue==null?void 0:l.resolveFilterValue(r))!=null?g:r})}));let u,d;for(let f=0;f<e.flatRows.length;f++){const g=e.flatRows[f];if(g.columnFilters={},s.length)for(let y=0;y<s.length;y++){u=s[y];const v=u.id;g.columnFilters[v]=u.filterFn(g,v,u.resolvedValue,x=>{g.columnFiltersMeta[v]=x})}if(i.length){for(let y=0;y<i.length;y++){d=i[y];const v=d.id;if(d.filterFn(g,v,d.resolvedValue,x=>{g.columnFiltersMeta[v]=x})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const h=f=>{for(let g=0;g<o.length;g++)if(f.columnFilters[o[g]]===!1)return!1;return!0};return Fce(e.rows,h,t)},De(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Uce(t){return e=>Ae(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:s,pageIndex:i}=n;let{rows:o,flatRows:l,rowsById:c}=r;const u=s*i,d=u+s;o=o.slice(u,d);let h;e.options.paginateExpandedRows?h={rows:o,flatRows:l,rowsById:c}:h=Oce({rows:o,flatRows:l,rowsById:c}),h.flatRows=[];const f=g=>{h.flatRows.push(g),g.subRows.length&&g.subRows.forEach(f)};return h.rows.forEach(f),h},De(e.options,"debugTable"))}function Bce(){return t=>Ae(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const r=t.getState().sorting,s=[],i=r.filter(c=>{var u;return(u=t.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};i.forEach(c=>{const u=t.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=c=>{const u=c.map(d=>({...d}));return u.sort((d,h)=>{for(let g=0;g<i.length;g+=1){var f;const y=i[g],v=o[y.id],x=v.sortUndefined,_=(f=y==null?void 0:y.desc)!=null?f:!1;let w=0;if(x){const b=d.getValue(y.id),T=h.getValue(y.id),I=b===void 0,O=T===void 0;if(I||O){if(x==="first")return I?-1:1;if(x==="last")return I?1:-1;w=I&&O?0:I?x:-x}}if(w===0&&(w=v.sortingFn(d,h,y.id)),w!==0)return _&&(w*=-1),v.invertSorting&&(w*=-1),w}return d.index-h.index}),u.forEach(d=>{var h;s.push(d),(h=d.subRows)!=null&&h.length&&(d.subRows=l(d.subRows))}),u};return{rows:l(n.rows),flatRows:s,rowsById:n.rowsById}},De(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function iP(t,e){return t?zce(t)?p.createElement(t,e):t:null}function zce(t){return Hce(t)||typeof t=="function"||Wce(t)}function Hce(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function Wce(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function qce(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=p.useState(()=>({current:Dce(e)})),[r,s]=p.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...t,state:{...r,...t.state},onStateChange:o=>{s(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const mo=p.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:te("w-full caption-bottom text-sm",t),...e})}));mo.displayName="Table";const il=p.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:te("[&_tr]:border-b",t),...e}));il.displayName="TableHeader";const po=p.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:te("[&_tr:last-child]:border-0",t),...e}));po.displayName="TableBody";const Gce=p.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:te("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Gce.displayName="TableFooter";const zt=p.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:te("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));zt.displayName="TableRow";const ht=p.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:te("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ht.displayName="TableHead";const Pe=p.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:te("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Pe.displayName="TableCell";const Kce=p.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:te("mt-4 text-sm text-muted-foreground",t),...e}));Kce.displayName="TableCaption";function Yce({table:t}){var e;return a.jsx("div",{className:"rounded-md border",children:a.jsxs(mo,{children:[a.jsx(il,{children:t.getHeaderGroups().map(n=>a.jsx(zt,{children:n.headers.map(r=>a.jsx(ht,{children:r.isPlaceholder?null:iP(r.column.columnDef.header,r.getContext())},r.id))},n.id))}),a.jsx(po,{children:(e=t.getRowModel().rows)!=null&&e.length?t.getRowModel().rows.map(n=>a.jsx(zt,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(r=>a.jsx(Pe,{children:iP(r.column.columnDef.cell,r.getContext())},r.id))},n.id)):a.jsx(zt,{children:a.jsx(Pe,{colSpan:t.getAllColumns().length,className:"h-24 text-center",children:"No results."})})})]})})}const Qce=t=>[{id:"customerName",accessorFn:e=>{var n;return(n=e.customer)==null?void 0:n.name},header:"Customer",cell:({row:e})=>{var r;const n=(r=e.original.customer)==null?void 0:r.name;return n?a.jsx("div",{className:"font-medium",children:n}):a.jsx("span",{className:"text-muted-foreground",children:"N/A"})}},{accessorKey:"service",header:"Service"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const n=e.getValue("status"),r=n==="successful"?"default":"destructive",s=n==="successful"?"Paid":"Failed",i=n==="successful"?"bg-green-600 hover:bg-green-600/90":"";return a.jsx(Ke,{variant:r,className:i,children:s})}},{accessorKey:"amount",header:()=>a.jsx("div",{className:"text-right",children:"Amount"}),cell:({row:e})=>{const n=parseFloat(e.getValue("amount")),r=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(n);return a.jsx("div",{className:"text-right font-medium",children:r})}},{accessorKey:"createdAt",header:"Booking Date",cell:({row:e})=>{var r;const n=(r=e.original.createdAt)==null?void 0:r.toDate();return n?ot(n,"PP"):"N/A"}},{id:"actions",cell:({row:e})=>{const n=e.original;return a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(Wf,{className:"h-4 w-4"})]})}),a.jsxs(xo,{align:"end",children:[a.jsx(ZS,{children:"Actions"}),a.jsx(mr,{onClick:()=>t(n),children:"View details"})]})]})}}],yw=768;function $5(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${yw-1}px)`),r=()=>{e(window.innerWidth<yw)};return n.addEventListener("change",r),e(window.innerWidth<yw),()=>n.removeEventListener("change",r)},[]),!!t}const Xce=()=>{const t=Or(),e=Gt({mutationFn:async({userId:r,reminderId:s})=>{const i=sn(je,"users",r,"reminders",s);return Va(i,{status:"completed",completedDate:ot(new Date,"MMMM d, yyyy")})},onSuccess:()=>{t.invalidateQueries({queryKey:["allTransactions"]}),t.invalidateQueries({queryKey:["reminders"]}),ne.success("Home visit marked as completed!")},onError:r=>{ne.error(r.message||"Failed to mark booking as complete.")}});return{markBookingAsComplete:(r,s)=>{e.mutate({userId:r,reminderId:s})},isMarkingComplete:e.isPending}},Zce=()=>{var w,b,T,I,O,j;const{transactions:t,isLoading:e,error:n}=Yle(),[r,s]=p.useState(null),{markBookingAsComplete:i,isMarkingComplete:o}=Xce(),l=$5(),{user:c}=rs(),[u,d]=Z.useState([]),[h,f]=Z.useState([]);p.useEffect(()=>{(async()=>{if(c!=null&&c.uid){console.log(" DEBUGGING: Checking current user access..."),console.log("Current user UID:",c.uid);try{const N=sn(je,"users",c.uid),P=await Jy(N);if(P.exists()){console.log(" Current user document exists:",P.data());const k=Ct(je,"users",c.uid,"transactions"),D=await pn(k);console.log(`Current user has ${D.docs.length} transactions`),D.docs.forEach((R,$)=>{console.log(`Current user transaction ${$+1}:`,{id:R.id,data:R.data()})})}else console.log(" Current user document does not exist in Firestore"),console.log("This means the user signed up but their profile was never created in Firestore")}catch(N){console.error(" Error accessing current user data:",N)}}})()},[c]);const g=()=>{r!=null&&r.reminderId&&(r!=null&&r.userId)&&(i(r.userId,r.reminderId),s(null))},y=p.useMemo(()=>Qce(s),[]),v=qce({data:t,columns:y,getCoreRowModel:Mce(),getPaginationRowModel:Uce(),onSortingChange:d,getSortedRowModel:Bce(),onColumnFiltersChange:f,getFilteredRowModel:$ce(),state:{sorting:u,columnFilters:h},initialState:{pagination:{pageSize:10}}});if(e)return a.jsx(mu,{});if(n)return console.error("Error fetching all bookings:",n),a.jsxs("div",{className:"text-center py-10",children:[a.jsx(qU,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),a.jsx("p",{className:"text-destructive font-medium mb-2",children:"Error fetching bookings"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Make sure you've set up the Firestore index and security rules."}),a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded-lg max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium mb-2",children:"Possible issues:"}),a.jsxs("ul",{className:"text-left space-y-1",children:[a.jsx("li",{children:" Firestore security rules blocking admin access"}),a.jsx("li",{children:" Missing user documents in Firestore"}),a.jsx("li",{children:" Authentication vs Firestore user mismatch"})]})]})]});if(!t||t.length===0)return a.jsxs("div",{className:"text-center py-10",children:[a.jsx(LT,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4 opacity-50"}),a.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No bookings found"}),a.jsxs("div",{className:"text-sm text-muted-foreground space-y-2 mb-4",children:[a.jsx("p",{children:"This could mean:"}),a.jsx("div",{className:"bg-muted/30 p-3 rounded-lg text-xs max-w-md mx-auto",children:a.jsxs("ul",{className:"text-left space-y-1",children:[a.jsx("li",{children:" No users have completed bookings yet"}),a.jsx("li",{children:" Users created accounts but never made transactions"}),a.jsx("li",{children:" Firestore security rules are blocking access"}),a.jsx("li",{children:" User documents aren't being created in Firestore"})]})})]}),a.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-800 max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium mb-1",children:" Debugging Tip:"}),a.jsx("p",{children:"Check the browser console for detailed logs about user data access and security rules."})]})]});const x=a.jsxs("div",{className:"flex items-center py-4 gap-2",children:[a.jsx(Fe,{placeholder:"Filter by customer name...",value:((w=v.getColumn("customerName"))==null?void 0:w.getFilterValue())??"",onChange:S=>{var N;return(N=v.getColumn("customerName"))==null?void 0:N.setFilterValue(S.target.value)},className:"max-w-sm"}),a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(ee,{variant:"outline",className:"ml-auto",children:"Filter by Status"})}),a.jsxs(xo,{align:"end",children:[a.jsx(ZS,{children:"Payment Status"}),a.jsx(bb,{}),a.jsx(_b,{checked:((b=v.getColumn("status"))==null?void 0:b.getFilterValue())==="successful",onCheckedChange:S=>{var N;return(N=v.getColumn("status"))==null?void 0:N.setFilterValue(S?"successful":void 0)},children:"Paid"}),a.jsx(_b,{checked:((T=v.getColumn("status"))==null?void 0:T.getFilterValue())==="failed",onCheckedChange:S=>{var N;return(N=v.getColumn("status"))==null?void 0:N.setFilterValue(S?"failed":void 0)},children:"Failed"}),a.jsx(bb,{}),a.jsx(ee,{variant:"ghost",className:"w-full justify-start font-normal h-8 px-2",onClick:()=>{var S;return(S=v.getColumn("status"))==null?void 0:S.setFilterValue(void 0)},children:"Clear filter"})]})]})]}),_=a.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>v.previousPage(),disabled:!v.getCanPreviousPage(),children:"Previous"}),a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>v.nextPage(),disabled:!v.getCanNextPage(),children:"Next"})]});return a.jsxs(a.Fragment,{children:[l?a.jsxs("div",{children:[x,a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:v.getRowModel().rows.map(({original:S})=>{var N;return a.jsxs(Ye,{onClick:()=>s(S),className:"cursor-pointer hover:shadow-md transition-shadow",children:[a.jsxs(St,{children:[a.jsx(Rt,{className:"truncate text-lg",children:((N=S.customer)==null?void 0:N.name)||S.service}),a.jsx(Yc,{children:S.createdAt?ot(S.createdAt.toDate(),"PP"):"N/A"})]}),a.jsxs(it,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"font-semibold flex items-center",children:[a.jsx(Bt,{className:"h-4 w-4 mr-0.5"}),new Intl.NumberFormat("en-IN").format(S.amount)]}),a.jsx(Ke,{variant:S.status==="successful"?"default":"destructive",className:`${S.status==="successful"?"bg-green-600 hover:bg-green-600/90":""} whitespace-nowrap`,children:S.status==="successful"?"Paid":"Failed"})]})]},S.id)})}),v.getRowModel().rows.length===0&&a.jsx("p",{className:"text-center text-muted-foreground py-10",children:"No results."}),v.getPageCount()>1&&_]}):a.jsxs("div",{children:[x,a.jsx(Yce,{table:v}),v.getPageCount()>1&&_]}),a.jsx(Vn,{open:!!r,onOpenChange:S=>!S&&s(null),children:a.jsx(jn,{className:"max-w-[90vw] sm:max-w-lg rounded-lg",children:r&&a.jsxs(a.Fragment,{children:[a.jsxs(In,{children:[a.jsx(Pn,{className:"text-balance",children:r.service}),a.jsx(nl,{children:"Booking Details"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-center text-2xl font-bold",children:[a.jsx(Bt,{className:"h-6 w-6 mr-1"}),new Intl.NumberFormat("en-IN").format(r.amount)]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(xs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:r.createdAt?ot(r.createdAt.toDate(),"PPP p"):"N/A"})]}),r.petDetails&&a.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[a.jsxs("h4",{className:"font-semibold flex items-center mb-2",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),"Pet Details"]}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.petDetails.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",r.petDetails.petType]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Breed:"})," ",r.petDetails.breed]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Age:"})," ",r.petDetails.age," years"]}),r.petDetails.dateOfBirth&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(J1,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"font-medium",children:"D.O.B:"}),a.jsx("span",{className:"ml-1",children:ot(new Date(r.petDetails.dateOfBirth),"MMM d, yyyy")})]})]})]}),((I=r.customer)==null?void 0:I.name)&&a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(LT,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:["Customer: ",r.customer.name]})]}),((O=r.customer)==null?void 0:O.phone)&&a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(KU,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:["Contact: ",r.customer.phone]})]}),((j=r.customer)==null?void 0:j.address)&&a.jsxs("div",{className:"flex items-start text-sm text-muted-foreground",children:[a.jsx(Ou,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),a.jsxs("span",{className:"break-words",children:["Address: ",`${r.customer.address}, ${r.customer.city} - ${r.customer.postalCode}`]})]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(od,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{className:"font-mono text-xs break-all",children:["User ID: ",r.userId]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Payment ID: ",a.jsx("span",{className:"font-mono text-xs break-all",children:r.paymentId})]}),a.jsxs(Ke,{variant:r.status==="successful"?"default":"destructive",className:`${r.status==="successful"?"bg-green-600 hover:bg-green-600/90":""} whitespace-nowrap`,children:["Status: ",r.status==="successful"?"Paid":"Failed"]})]}),a.jsxs(_o,{className:"flex gap-2",children:[a.jsx(ee,{onClick:()=>s(null),variant:"outline",children:"Close"}),r.status==="successful"&&r.reminderId&&a.jsxs(ee,{onClick:g,disabled:o,className:"bg-green-600 hover:bg-green-700",children:[a.jsx(eC,{className:"h-4 w-4 mr-2"}),o?"Marking Complete...":"Mark Home Visit Done"]})]})]})})})]})};var PE="Checkbox",[Jce,tde]=wr(PE),[eue,tue]=Jce(PE),U5=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,g]=p.useState(null),y=He(e,T=>g(T)),v=p.useRef(!1),x=f?d||!!f.closest("form"):!0,[_=!1,w]=$s({prop:s,defaultProp:i,onChange:u}),b=p.useRef(_);return p.useEffect(()=>{const T=f==null?void 0:f.form;if(T){const I=()=>w(b.current);return T.addEventListener("reset",I),()=>T.removeEventListener("reset",I)}},[f,w]),a.jsxs(eue,{scope:n,state:_,disabled:l,children:[a.jsx(Ce.button,{type:"button",role:"checkbox","aria-checked":Sa(_)?"mixed":_,"aria-required":o,"data-state":H5(_),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onKeyDown:ie(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:ie(t.onClick,T=>{w(I=>Sa(I)?!0:!I),x&&(v.current=T.isPropagationStopped(),v.current||T.stopPropagation())})}),x&&a.jsx(nue,{control:f,bubbles:!v.current,name:r,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Sa(i)?!1:i})]})});U5.displayName=PE;var B5="CheckboxIndicator",z5=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=tue(B5,n);return a.jsx(En,{present:r||Sa(i.state)||i.state===!0,children:a.jsx(Ce.span,{"data-state":H5(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});z5.displayName=B5;var nue=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=p.useRef(null),l=y0(n),c=Cy(e);p.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const y=new Event("click",{bubbles:r});d.indeterminate=Sa(n),g.call(d,Sa(n)?!1:n),d.dispatchEvent(y)}},[l,n,r]);const u=p.useRef(Sa(n)?!1:n);return a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sa(t){return t==="indeterminate"}function H5(t){return Sa(t)?"indeterminate":t?"checked":"unchecked"}var W5=U5,rue=z5;const Wh=p.forwardRef(({className:t,...e},n)=>a.jsx(W5,{ref:n,className:te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(rue,{className:te("flex items-center justify-center text-current"),children:a.jsx(yy,{className:"h-4 w-4"})})}));Wh.displayName=W5.displayName;const sue=$m({name:Qn().min(3,"Vaccine name must be at least 3 characters."),price:kb.number({invalid_type_error:"Price must be a number."}).min(0,"Price must be a positive number.").finite("Price must be a valid number."),category:yE(["Dog","Cat","Both"],{required_error:"Please select a category."}),includeServiceCharge:eoe().default(!1).optional(),serviceCharge:kb.number({invalid_type_error:"Service charge must be a number."}).min(0).optional()}).refine(t=>!(t.includeServiceCharge&&(t.serviceCharge===void 0||t.serviceCharge<0)),{message:"Service charge is required when included.",path:["serviceCharge"]}),iue=async t=>await wd(Ct(je,"products"),{...t,createdAt:Hs()}),oue=({onSuccess:t})=>{const e=Or(),n=Lm({resolver:Vm(sue),defaultValues:{name:"",price:0,category:void 0,includeServiceCharge:!1,serviceCharge:300}}),r=n.watch("includeServiceCharge"),s=Gt({mutationFn:iue,onSuccess:()=>{ne.success("Product added successfully!"),n.reset(),e.invalidateQueries({queryKey:["products"]}),t&&t()},onError:o=>{ne.error(`Failed to add product: ${o.message}`)}}),i=o=>{const l={name:o.name,price:o.price,category:o.category};o.includeServiceCharge&&(l.serviceCharge=o.serviceCharge),s.mutate(l)};return a.jsx(Um,{...n,children:a.jsxs("form",{onSubmit:n.handleSubmit(i),className:"space-y-4",children:[a.jsx(Lt,{control:n.control,name:"name",render:({field:o})=>a.jsxs(Dt,{children:[a.jsx(qt,{children:"Vaccine Name"}),a.jsx(Mt,{children:a.jsx(Fe,{placeholder:"e.g., Rabies Booster",...o})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:n.control,name:"price",render:({field:o})=>a.jsxs(Dt,{children:[a.jsx(qt,{children:"Price (INR)"}),a.jsx(Mt,{children:a.jsx(Fe,{type:"number",placeholder:"e.g., 500.00",...o})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:n.control,name:"category",render:({field:o})=>a.jsxs(Dt,{children:[a.jsx(qt,{children:"Category"}),a.jsxs(ps,{onValueChange:o.onChange,defaultValue:o.value,children:[a.jsx(Mt,{children:a.jsx(Xr,{children:a.jsx(gs,{placeholder:"Select pet category"})})}),a.jsxs(Zr,{children:[a.jsx(mt,{value:"Dog",children:"Dog"}),a.jsx(mt,{value:"Cat",children:"Cat"}),a.jsx(mt,{value:"Both",children:"Both (Dog & Cat)"})]})]}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:n.control,name:"includeServiceCharge",render:({field:o})=>a.jsxs(Dt,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[a.jsx(Mt,{children:a.jsx(Wh,{checked:o.value,onCheckedChange:o.onChange})}),a.jsx("div",{className:"space-y-1 leading-none",children:a.jsx(qt,{children:"Include Service Charge"})})]})}),r&&a.jsx(Lt,{control:n.control,name:"serviceCharge",render:({field:o})=>a.jsxs(Dt,{className:"animate-in fade-in",children:[a.jsx(qt,{children:"Service Charge (INR)"}),a.jsx(Mt,{children:a.jsx(Fe,{type:"number",...o})}),a.jsx(Vt,{})]})}),a.jsx(ee,{type:"submit",disabled:s.isPending,className:"w-full sm:w-auto",children:s.isPending?"Adding...":"Add Product"})]})})},aue=$m({name:Qn().min(3,"Vaccine name must be at least 3 characters."),price:kb.number({invalid_type_error:"Price must be a number."}).min(0,"Price must be a positive number."),category:yE(["Dog","Cat","Both"],{required_error:"Please select a category."})}),lue=({product:t,open:e,onOpenChange:n})=>{const r=Or(),s=Lm({resolver:Vm(aue),defaultValues:{name:t.name,price:t.price,category:t.category}}),i=Gt({mutationFn:async l=>{const c=sn(je,"products",t.id);await Va(c,l)},onSuccess:()=>{ne.success("Product updated successfully!"),r.invalidateQueries({queryKey:["products"]}),n(!1)},onError:l=>ne.error(`Failed to update product: ${l.message}`)}),o=l=>i.mutate(l);return a.jsx(Vn,{open:e,onOpenChange:n,children:a.jsxs(jn,{children:[a.jsx(In,{children:a.jsx(Pn,{children:"Edit Product"})}),a.jsx(Um,{...s,children:a.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[a.jsx(Lt,{control:s.control,name:"name",render:({field:l})=>a.jsxs(Dt,{children:[a.jsx(qt,{children:"Vaccine Name"}),a.jsx(Mt,{children:a.jsx(Fe,{...l})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:s.control,name:"price",render:({field:l})=>a.jsxs(Dt,{children:[a.jsx(qt,{children:"Price (INR)"}),a.jsx(Mt,{children:a.jsx(Fe,{type:"number",...l})}),a.jsx(Vt,{})]})}),a.jsx(Lt,{control:s.control,name:"category",render:({field:l})=>a.jsxs(Dt,{children:[a.jsx(qt,{children:"Category"}),a.jsxs(ps,{onValueChange:l.onChange,defaultValue:l.value,children:[a.jsx(Mt,{children:a.jsx(Xr,{children:a.jsx(gs,{placeholder:"Select pet category"})})}),a.jsxs(Zr,{children:[a.jsx(mt,{value:"Dog",children:"Dog"}),a.jsx(mt,{value:"Cat",children:"Cat"}),a.jsx(mt,{value:"Both",children:"Both (Dog & Cat)"})]})]}),a.jsx(Vt,{})]})}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Ju,{asChild:!0,children:a.jsx(ee,{variant:"outline",children:"Cancel"})}),a.jsx(ee,{type:"submit",disabled:i.isPending,children:i.isPending?"Saving...":"Save Changes"})]})]})})]})})},cue=()=>{const{data:t,isLoading:e,error:n}=QV(),r=Or(),[s,i]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(null),f=Gt({mutationFn:async y=>{const v=sn(je,"products",y);await cm(v)},onSuccess:()=>{ne.success("Product deleted successfully!"),r.invalidateQueries({queryKey:["products"]}),u(!1),h(null)},onError:y=>ne.error(`Failed to delete product: ${y.message}`)}),g=()=>{d&&f.mutate(d.id)};return n?a.jsxs("p",{children:["Error loading products: ",n.message]}):a.jsxs(a.Fragment,{children:[a.jsxs(Ye,{children:[a.jsxs(St,{className:"flex flex-row items-center justify-between",children:[a.jsx(Rt,{children:"Manage Products"}),a.jsxs(Vn,{open:s,onOpenChange:i,children:[a.jsx(Pi,{asChild:!0,children:a.jsxs(ee,{size:"sm",children:[a.jsx(xy,{className:"mr-2"})," Add Product"]})}),a.jsxs(jn,{children:[a.jsx(In,{children:a.jsx(Pn,{children:"Add New Vaccine Product"})}),a.jsx(oue,{onSuccess:()=>i(!1)})]})]})]}),a.jsx(it,{children:a.jsxs(mo,{children:[a.jsx(il,{children:a.jsxs(zt,{children:[a.jsx(ht,{children:"Vaccine Name"}),a.jsx(ht,{children:"Category"}),a.jsx(ht,{children:"Price (INR)"}),a.jsx(ht,{className:"text-right",children:"Actions"})]})}),a.jsx(po,{children:e?Array.from({length:3}).map((y,v)=>a.jsxs(zt,{children:[a.jsx(Pe,{children:a.jsx(st,{className:"h-6 w-48"})}),a.jsx(Pe,{children:a.jsx(st,{className:"h-6 w-20"})}),a.jsx(Pe,{children:a.jsx(st,{className:"h-6 w-24"})}),a.jsx(Pe,{className:"text-right",children:a.jsx(st,{className:"h-8 w-8 ml-auto"})})]},v)):t&&t.length>0?t.map(y=>a.jsxs(zt,{children:[a.jsx(Pe,{className:"font-medium",children:y.name}),a.jsx(Pe,{children:a.jsx(Ke,{variant:y.category==="Both"?"default":"secondary",children:y.category})}),a.jsxs(Pe,{children:["",y.price.toFixed(2)]}),a.jsx(Pe,{className:"text-right",children:a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Open menu"}),a.jsx(Wf,{className:"h-4 w-4"})]})}),a.jsxs(xo,{align:"end",children:[a.jsxs(mr,{onClick:()=>{h(y),l(!0)},children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"})," Edit"]}),a.jsxs(mr,{className:"text-destructive",onClick:()=>{h(y),u(!0)},children:[a.jsx(lc,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},y.id)):a.jsx(zt,{children:a.jsx(Pe,{colSpan:4,className:"text-center",children:"No products found."})})})]})})]}),d&&o&&a.jsx(lue,{product:d,open:o,onOpenChange:l}),a.jsx(c0,{open:c,onOpenChange:u,children:a.jsxs(Nm,{children:[a.jsxs(Tm,{children:[a.jsx(jm,{children:"Are you sure?"}),a.jsxs(Im,{children:['This action cannot be undone. This will permanently delete the product "',d==null?void 0:d.name,'".']})]}),a.jsxs(Rm,{children:[a.jsx(km,{children:"Cancel"}),a.jsx(Pm,{onClick:g,disabled:f.isPending,children:f.isPending?"Deleting...":"Delete"})]})]})})]})},uue=()=>{const t=Or(),{isAdmin:e}=rs(),n=async()=>{if(!e)return[];const u=Ct(je,"bookingSlots"),d=Ci(u,lm("datetime","desc"));return(await pn(d)).docs.map(f=>({id:f.id,...f.data()}))},{data:r,isLoading:s,error:i}=Gs({queryKey:["bookingSlots"],queryFn:n,enabled:!!e}),o=Gt({mutationFn:u=>wd(Ct(je,"bookingSlots"),{datetime:rn.fromDate(u),isBooked:!1,createdAt:Hs()}),onSuccess:()=>{t.invalidateQueries({queryKey:["bookingSlots"]})}}),l=Gt({mutationFn:async({date:u,startTime:d,endTime:h,interval:f})=>{const g=Cv(je),y=Ct(je,"bookingSlots");let v=aI(pee(gee(mee(u,0),0),0),d);const x=aI(u,h);for(;v<x;){const _=sn(y);g.set(_,{datetime:rn.fromDate(v),isBooked:!1,createdAt:Hs()}),v=JZ(v,f)}return g.commit()},onSuccess:()=>{t.invalidateQueries({queryKey:["bookingSlots"]})}}),c=Gt({mutationFn:u=>cm(sn(je,"bookingSlots",u)),onSuccess:()=>{t.invalidateQueries({queryKey:["bookingSlots"]})}});return{slots:r,isLoading:s,error:i,addSlot:o.mutateAsync,addSlotsBatch:l.mutateAsync,deleteSlot:c.mutateAsync}},due=$m({date:toe({required_error:"A date is required."})}),hue=()=>{const{slots:t,isLoading:e,error:n,addSlotsBatch:r,deleteSlot:s}=uue(),i=Lm({resolver:Vm(due)}),o=async c=>{try{const u=t==null?void 0:t.filter(d=>er(d.datetime.toDate(),c.date)).length;if(u&&u>0){ne.warning("Slots already exist for this date. Delete them first to regenerate.",{description:"This prevents creating duplicate time slots."});return}await r({date:c.date,startTime:9,endTime:17,interval:30}),ne.success("Booking slots generated for "+ot(c.date,"PPP")),i.reset({date:void 0})}catch(u){console.error("Failed to add slots:",u),ne.error("Failed to generate booking slots.")}},l=async c=>{if(c.isBooked){ne.warning("Cannot delete a booked slot.");return}if(window.confirm("Are you sure you want to delete this slot?"))try{await s(c.id),ne.success("Slot deleted successfully.")}catch(u){console.error("Failed to delete slot:",u),ne.error("Failed to delete slot.")}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(Um,{...i,children:a.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4 md:space-y-0 md:flex md:items-end md:gap-4",children:[a.jsx(Lt,{control:i.control,name:"date",render:({field:c})=>a.jsxs(Dt,{className:"flex flex-col",children:[a.jsx(qt,{children:"Generate Slots for Date"}),a.jsxs(vm,{children:[a.jsx(ym,{asChild:!0,children:a.jsx(Mt,{children:a.jsxs(ee,{variant:"outline",className:te("w-full sm:w-[240px] pl-3 text-left font-normal",!c.value&&"text-muted-foreground"),children:[c.value?ot(c.value,"PPP"):a.jsx("span",{children:"Pick a date"}),a.jsx(xs,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),a.jsx(Ed,{className:"w-auto p-0",align:"start",children:a.jsx(Om,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:u=>u<$a(),initialFocus:!0})})]}),a.jsx(Vt,{})]})}),a.jsx(ee,{type:"submit",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Generating...":"Generate Slots"})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(mo,{children:[a.jsx(il,{children:a.jsxs(zt,{children:[a.jsx(ht,{children:"Date & Time"}),a.jsx(ht,{children:"Status"}),a.jsx(ht,{className:"text-right",children:"Actions"})]})}),a.jsx(po,{children:e?a.jsx(zt,{children:a.jsx(Pe,{colSpan:3,children:a.jsx(mu,{})})}):n?a.jsx(zt,{children:a.jsx(Pe,{colSpan:3,className:"h-24 text-center text-destructive",children:"Failed to load slots."})}):t&&t.length>0?t.map(c=>a.jsxs(zt,{className:te(c.isBooked&&"bg-muted/50"),children:[a.jsx(Pe,{className:"font-medium",children:ot(c.datetime.toDate(),"PPP p")}),a.jsx(Pe,{children:a.jsx("span",{className:te("px-2 py-1 rounded-full text-xs",c.isBooked?"bg-red-200 text-red-800":"bg-green-200 text-green-800"),children:c.isBooked?"Booked":"Available"})}),a.jsx(Pe,{className:"text-right",children:a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>l(c),disabled:c.isBooked,"aria-label":"Delete slot",children:a.jsx(lc,{className:"h-4 w-4"})})})]},c.id)):a.jsx(zt,{children:a.jsx(Pe,{colSpan:3,className:"h-24 text-center",children:"No slots found."})})})]})})]})},Qv=p.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:te("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Qv.displayName="Textarea";var kE="Switch",[fue,nde]=wr(kE),[mue,pue]=fue(kE),q5=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,g]=p.useState(null),y=He(e,b=>g(b)),v=p.useRef(!1),x=f?d||!!f.closest("form"):!0,[_=!1,w]=$s({prop:s,defaultProp:i,onChange:u});return a.jsxs(mue,{scope:n,checked:_,disabled:l,children:[a.jsx(Ce.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Y5(_),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:ie(t.onClick,b=>{w(T=>!T),x&&(v.current=b.isPropagationStopped(),v.current||b.stopPropagation())})}),x&&a.jsx(gue,{control:f,bubbles:!v.current,name:r,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});q5.displayName=kE;var G5="SwitchThumb",K5=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=pue(G5,n);return a.jsx(Ce.span,{"data-state":Y5(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});K5.displayName=G5;var gue=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=p.useRef(null),o=y0(n),l=Cy(e);return p.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(f)}},[o,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Y5(t){return t?"checked":"unchecked"}var Q5=q5,vue=K5;const Xv=p.forwardRef(({className:t,...e},n)=>a.jsx(Q5,{className:te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:a.jsx(vue,{className:te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Xv.displayName=Q5.displayName;const yue=()=>{const{allCategories:t,isLoading:e,addCategory:n,updateCategory:r,deleteCategory:s,isAddingCategory:i,isUpdatingCategory:o,isDeletingCategory:l}=CE(),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(!1),[y,v]=p.useState(null),[x,_]=p.useState({name:"",description:"",isActive:!0}),[w,b]=p.useState(null),[T,I]=p.useState(""),O=()=>{_({name:"",description:"",isActive:!0}),b(null),I("")},j=R=>{var G;const $=(G=R.target.files)==null?void 0:G[0];$&&(b($),I(URL.createObjectURL($)))},S=async()=>{if(!x.name.trim()){ne.error("Category name is required");return}try{await n({categoryData:x,imageFile:w||void 0}),u(!1),O()}catch(R){console.error("Error adding category:",R)}},N=async()=>{if(!y||!x.name.trim()){ne.error("Category name is required");return}try{await r({categoryId:y.id,categoryData:x,imageFile:w||void 0}),h(!1),v(null),O()}catch(R){console.error("Error updating category:",R)}},P=async()=>{if(y)try{await s(y.id),g(!1),v(null)}catch(R){console.error("Error deleting category:",R)}},k=R=>{v(R),_({name:R.name,description:R.description||"",isActive:R.isActive}),I(R.imageUrl||""),h(!0)},D=R=>{v(R),g(!0)};return e?a.jsxs(Ye,{children:[a.jsx(St,{children:a.jsx(Rt,{children:"Category Management"})}),a.jsx(it,{children:a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((R,$)=>a.jsx(st,{className:"h-16 w-full"},$))})})]}):a.jsxs(a.Fragment,{children:[a.jsxs(Ye,{children:[a.jsxs(St,{className:"flex flex-row items-center justify-between",children:[a.jsx(Rt,{children:"Category Management"}),a.jsxs(Vn,{open:c,onOpenChange:u,children:[a.jsx(Pi,{asChild:!0,children:a.jsxs(ee,{onClick:O,children:[a.jsx(xy,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),a.jsxs(jn,{className:"max-w-md",children:[a.jsx(In,{children:a.jsx(Pn,{children:"Add New Category"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"name",children:"Category Name *"}),a.jsx(Fe,{id:"name",value:x.name,onChange:R=>_({...x,name:R.target.value}),placeholder:"e.g., Food and Treats"})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"description",children:"Description"}),a.jsx(Qv,{id:"description",value:x.description,onChange:R=>_({...x,description:R.target.value}),placeholder:"Category description...",rows:3})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"image",children:"Category Image"}),a.jsx(Fe,{id:"image",type:"file",accept:"image/*",onChange:j}),T&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:T,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xv,{id:"isActive",checked:x.isActive,onCheckedChange:R=>_({...x,isActive:R})}),a.jsx(qe,{htmlFor:"isActive",children:"Active"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Ju,{asChild:!0,children:a.jsx(ee,{variant:"outline",children:"Cancel"})}),a.jsx(ee,{onClick:S,disabled:i,children:i?"Adding...":"Add Category"})]})]})]})]})]}),a.jsx(it,{children:a.jsxs(mo,{children:[a.jsx(il,{children:a.jsxs(zt,{children:[a.jsx(ht,{children:"Image"}),a.jsx(ht,{children:"Name"}),a.jsx(ht,{children:"Description"}),a.jsx(ht,{children:"Status"}),a.jsx(ht,{className:"text-right",children:"Actions"})]})}),a.jsx(po,{children:t.length>0?t.map(R=>a.jsxs(zt,{children:[a.jsx(Pe,{children:R.imageUrl?a.jsx("img",{src:R.imageUrl,alt:R.name,className:"w-12 h-12 object-cover rounded"}):a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:a.jsx(a2,{className:"h-6 w-6 text-gray-400"})})}),a.jsx(Pe,{className:"font-medium",children:R.name}),a.jsx(Pe,{className:"max-w-xs truncate",children:R.description||"No description"}),a.jsx(Pe,{children:a.jsx(Ke,{variant:R.isActive?"default":"secondary",children:R.isActive?"Active":"Inactive"})}),a.jsx(Pe,{className:"text-right",children:a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(ee,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Wf,{className:"h-4 w-4"})})}),a.jsxs(xo,{align:"end",children:[a.jsxs(mr,{onClick:()=>k(R),children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(mr,{className:"text-destructive",onClick:()=>D(R),children:[a.jsx(lc,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},R.id)):a.jsx(zt,{children:a.jsx(Pe,{colSpan:5,className:"text-center",children:"No categories found."})})})]})})]}),a.jsx(Vn,{open:d,onOpenChange:h,children:a.jsxs(jn,{className:"max-w-md",children:[a.jsx(In,{children:a.jsx(Pn,{children:"Edit Category"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"edit-name",children:"Category Name *"}),a.jsx(Fe,{id:"edit-name",value:x.name,onChange:R=>_({...x,name:R.target.value}),placeholder:"e.g., Food and Treats"})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"edit-description",children:"Description"}),a.jsx(Qv,{id:"edit-description",value:x.description,onChange:R=>_({...x,description:R.target.value}),placeholder:"Category description...",rows:3})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"edit-image",children:"Category Image"}),a.jsx(Fe,{id:"edit-image",type:"file",accept:"image/*",onChange:j}),T&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:T,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xv,{id:"edit-isActive",checked:x.isActive,onCheckedChange:R=>_({...x,isActive:R})}),a.jsx(qe,{htmlFor:"edit-isActive",children:"Active"})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Ju,{asChild:!0,children:a.jsx(ee,{variant:"outline",children:"Cancel"})}),a.jsx(ee,{onClick:N,disabled:o,children:o?"Updating...":"Update Category"})]})]})]})}),a.jsx(c0,{open:f,onOpenChange:g,children:a.jsxs(Nm,{children:[a.jsxs(Tm,{children:[a.jsx(jm,{children:"Are you sure?"}),a.jsxs(Im,{children:['This action cannot be undone. This will permanently delete the category "',y==null?void 0:y.name,'".']})]}),a.jsxs(Rm,{children:[a.jsx(km,{children:"Cancel"}),a.jsx(Pm,{onClick:P,disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})},xue=()=>{const{products:t,isLoading:e,addProduct:n,updateProduct:r,deleteProduct:s,isAddingProduct:i,isUpdatingProduct:o,isDeletingProduct:l}=u5(),{categories:c}=CE(),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[g,y]=p.useState(!1),[v,x]=p.useState(null),[_,w]=p.useState({name:"",description:"",price:0,categoryId:"",petType:"",isFeatured:!1,isBestSeller:!1,isVaccine:!1,serviceCharge:0,isActive:!0,stock:0,sku:""}),[b,T]=p.useState(null),[I,O]=p.useState([]),[j,S]=p.useState(""),[N,P]=p.useState([]),k=()=>{w({name:"",description:"",price:0,categoryId:"",petType:"",isFeatured:!1,isBestSeller:!1,isVaccine:!1,serviceCharge:0,isActive:!0,stock:0,sku:""}),T(null),O([]),S(""),P([])},D=W=>{var Q;const F=(Q=W.target.files)==null?void 0:Q[0];F&&(T(F),S(URL.createObjectURL(F)))},R=W=>{const F=Array.from(W.target.files||[]);O(F),P(F.map(Q=>URL.createObjectURL(Q)))},$=async()=>{if(!_.name.trim()||!_.categoryId||!_.petType){ne.error("Please fill in all required fields");return}try{await n({productData:_,imageFile:b||void 0,galleryFiles:I.length>0?I:void 0}),d(!1),k()}catch(W){console.error("Error adding product:",W)}},G=async()=>{if(!v||!_.name.trim()||!_.categoryId||!_.petType){ne.error("Please fill in all required fields");return}try{await r({productId:v.id,productData:_,imageFile:b||void 0,galleryFiles:I.length>0?I:void 0}),f(!1),x(null),k()}catch(W){console.error("Error updating product:",W)}},q=async()=>{if(v)try{await s(v.id),y(!1),x(null)}catch(W){console.error("Error deleting product:",W)}},H=W=>{x(W),w({name:W.name,description:W.description,price:W.price,categoryId:W.categoryId,petType:W.petType,isFeatured:W.isFeatured,isBestSeller:W.isBestSeller,isVaccine:W.isVaccine,serviceCharge:W.serviceCharge||0,isActive:W.isActive,stock:W.stock||0,sku:W.sku||""}),S(W.imageUrl||""),P(W.galleryImages||[]),f(!0)},M=W=>{x(W),y(!0)},U=W=>{const F=c.find(Q=>Q.id===W);return(F==null?void 0:F.name)||"Unknown Category"};if(e)return a.jsxs(Ye,{children:[a.jsx(St,{children:a.jsx(Rt,{children:"Shop Product Management"})}),a.jsx(it,{children:a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((W,F)=>a.jsx(st,{className:"h-16 w-full"},F))})})]});const re=({isEdit:W=!1})=>a.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"name",children:"Product Name *"}),a.jsx(Fe,{id:"name",value:_.name,onChange:F=>w({..._,name:F.target.value}),placeholder:"e.g., Premium Dog Food"})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"sku",children:"SKU"}),a.jsx(Fe,{id:"sku",value:_.sku,onChange:F=>w({..._,sku:F.target.value}),placeholder:"e.g., PDF001"})]})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"description",children:"Description *"}),a.jsx(Qv,{id:"description",value:_.description,onChange:F=>w({..._,description:F.target.value}),placeholder:"Product description...",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"price",children:"Price () *"}),a.jsx(Fe,{id:"price",type:"number",value:_.price,onChange:F=>w({..._,price:Number(F.target.value)}),placeholder:"0.00",min:"0",step:"0.01"})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"stock",children:"Stock Quantity"}),a.jsx(Fe,{id:"stock",type:"number",value:_.stock,onChange:F=>w({..._,stock:Number(F.target.value)}),placeholder:"0",min:"0"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"category",children:"Category *"}),a.jsxs(ps,{value:_.categoryId,onValueChange:F=>w({..._,categoryId:F}),children:[a.jsx(Xr,{children:a.jsx(gs,{placeholder:"Select category"})}),a.jsx(Zr,{children:c.map(F=>a.jsx(mt,{value:F.id,children:F.name},F.id))})]})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"petType",children:"Pet Type *"}),a.jsxs(ps,{value:_.petType,onValueChange:F=>w({..._,petType:F}),children:[a.jsx(Xr,{children:a.jsx(gs,{placeholder:"Select pet type"})}),a.jsxs(Zr,{children:[a.jsx(mt,{value:"Dog",children:"Dog"}),a.jsx(mt,{value:"Cat",children:"Cat"}),a.jsx(mt,{value:"Both",children:"Both"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"image",children:"Product Image"}),a.jsx(Fe,{id:"image",type:"file",accept:"image/*",onChange:D}),j&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:j,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"gallery",children:"Gallery Images (Multiple)"}),a.jsx(Fe,{id:"gallery",type:"file",accept:"image/*",multiple:!0,onChange:R}),N.length>0&&a.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:N.map((F,Q)=>a.jsx("img",{src:F,alt:`Gallery ${Q+1}`,className:"w-16 h-16 object-cover rounded"},Q))})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wh,{id:"isVaccine",checked:_.isVaccine,onCheckedChange:F=>w({..._,isVaccine:!!F})}),a.jsx(qe,{htmlFor:"isVaccine",children:"This is a vaccine product"})]}),_.isVaccine&&a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"serviceCharge",children:"Service Charge ()"}),a.jsx(Fe,{id:"serviceCharge",type:"number",value:_.serviceCharge,onChange:F=>w({..._,serviceCharge:Number(F.target.value)}),placeholder:"0.00",min:"0",step:"0.01"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wh,{id:"isFeatured",checked:_.isFeatured,onCheckedChange:F=>w({..._,isFeatured:!!F})}),a.jsx(qe,{htmlFor:"isFeatured",children:"Featured Product"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wh,{id:"isBestSeller",checked:_.isBestSeller,onCheckedChange:F=>w({..._,isBestSeller:!!F})}),a.jsx(qe,{htmlFor:"isBestSeller",children:"Best Seller"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xv,{id:"isActive",checked:_.isActive,onCheckedChange:F=>w({..._,isActive:F})}),a.jsx(qe,{htmlFor:"isActive",children:"Active"})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[a.jsx(Ju,{asChild:!0,children:a.jsx(ee,{variant:"outline",children:"Cancel"})}),a.jsx(ee,{onClick:W?G:$,disabled:W?o:i,children:W?o?"Updating...":"Update Product":i?"Adding...":"Add Product"})]})]});return a.jsxs(a.Fragment,{children:[a.jsxs(Ye,{children:[a.jsxs(St,{className:"flex flex-row items-center justify-between",children:[a.jsx(Rt,{children:"Shop Product Management"}),a.jsxs(Vn,{open:u,onOpenChange:d,children:[a.jsx(Pi,{asChild:!0,children:a.jsxs(ee,{onClick:k,children:[a.jsx(xy,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),a.jsxs(jn,{className:"max-w-2xl",children:[a.jsx(In,{children:a.jsx(Pn,{children:"Add New Product"})}),a.jsx(re,{})]})]})]}),a.jsx(it,{children:a.jsxs(mo,{children:[a.jsx(il,{children:a.jsxs(zt,{children:[a.jsx(ht,{children:"Image"}),a.jsx(ht,{children:"Name"}),a.jsx(ht,{children:"Category"}),a.jsx(ht,{children:"Pet Type"}),a.jsx(ht,{children:"Price"}),a.jsx(ht,{children:"Tags"}),a.jsx(ht,{children:"Status"}),a.jsx(ht,{className:"text-right",children:"Actions"})]})}),a.jsx(po,{children:t.length>0?t.map(W=>a.jsxs(zt,{children:[a.jsx(Pe,{children:W.imageUrl?a.jsx("img",{src:W.imageUrl,alt:W.name,className:"w-12 h-12 object-cover rounded"}):a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:a.jsx(a2,{className:"h-6 w-6 text-gray-400"})})}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:W.name}),W.sku&&a.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",W.sku]})]})}),a.jsx(Pe,{children:U(W.categoryId)}),a.jsx(Pe,{children:a.jsx(Ke,{variant:"outline",children:W.petType})}),a.jsxs(Pe,{children:["",W.price.toFixed(2)]}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex gap-1 flex-wrap",children:[W.isFeatured&&a.jsxs(Ke,{variant:"secondary",className:"text-xs",children:[a.jsx(Qg,{className:"h-3 w-3 mr-1"}),"Featured"]}),W.isBestSeller&&a.jsxs(Ke,{variant:"secondary",className:"text-xs",children:[a.jsx(g_,{className:"h-3 w-3 mr-1"}),"Best Seller"]}),W.isVaccine&&a.jsx(Ke,{variant:"outline",className:"text-xs",children:"Vaccine"})]})}),a.jsx(Pe,{children:a.jsx(Ke,{variant:W.isActive?"default":"secondary",children:W.isActive?"Active":"Inactive"})}),a.jsx(Pe,{className:"text-right",children:a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(ee,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Wf,{className:"h-4 w-4"})})}),a.jsxs(xo,{align:"end",children:[a.jsxs(mr,{onClick:()=>H(W),children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(mr,{className:"text-destructive",onClick:()=>M(W),children:[a.jsx(lc,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},W.id)):a.jsx(zt,{children:a.jsx(Pe,{colSpan:8,className:"text-center",children:"No products found."})})})]})})]}),a.jsx(Vn,{open:h,onOpenChange:f,children:a.jsxs(jn,{className:"max-w-2xl",children:[a.jsx(In,{children:a.jsx(Pn,{children:"Edit Product"})}),a.jsx(re,{isEdit:!0})]})}),a.jsx(c0,{open:g,onOpenChange:y,children:a.jsxs(Nm,{children:[a.jsxs(Tm,{children:[a.jsx(jm,{children:"Are you sure?"}),a.jsxs(Im,{children:['This action cannot be undone. This will permanently delete the product "',v==null?void 0:v.name,'".']})]}),a.jsxs(Rm,{children:[a.jsx(km,{children:"Cancel"}),a.jsx(Pm,{onClick:q,disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})},wue=()=>{const{adminOrders:t,isLoading:e,updateOrderStatus:n,isUpdatingStatus:r}=Hle(),[s,i]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(null),[d,h]=p.useState(""),[f,g]=p.useState(""),[y,v]=p.useState(!1),[x,_]=p.useState(!1),w=$5(),b=N=>{switch(N){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"processing":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"shipped":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},T=N=>{switch(N){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";case"failed":return"bg-red-500/20 text-red-300";default:return"bg-slate-500/20 text-slate-300"}},I=t.filter(N=>N.orderNumber.toLowerCase().includes(s.toLowerCase())||N.customerName.toLowerCase().includes(s.toLowerCase())||N.customerPhone.includes(s)),O=N=>{l(N),v(!0)},j=N=>{u(N),h(N.orderStatus),g(N.trackingNumber||""),_(!0)},S=async()=>{if(!(!c||!d))try{await n({userId:c.userId,orderId:c.id,status:d,trackingNumber:d==="shipped"?f:void 0}),_(!1),u(null),h(""),g("")}catch(N){console.error("Error updating order status:",N)}};return e?a.jsxs(Ye,{children:[a.jsx(St,{children:a.jsx(Rt,{children:"Order Management"})}),a.jsx(it,{children:a.jsx("div",{className:"space-y-4",children:[...Array(5)].map((N,P)=>a.jsx(st,{className:"h-16 w-full"},P))})})]}):a.jsxs(Ye,{children:[a.jsx(St,{children:a.jsxs(Rt,{className:"flex items-center justify-between",children:[a.jsx("span",{children:"Order Management"}),a.jsxs(Ke,{variant:"secondary",children:[t.length," Orders"]})]})}),a.jsxs(it,{children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx(Gf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Fe,{type:"text",placeholder:"Search by order number, customer name, or phone...",value:s,onChange:N=>i(N.target.value),className:"pl-10"})]}),I.length===0?a.jsxs("div",{className:"text-center py-16",children:[a.jsx(ui,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t.length===0?"No orders yet":"No orders found"}),a.jsx("p",{className:"text-muted-foreground text-sm",children:t.length===0?"Orders will appear here when customers place them":"Try adjusting your search terms"})]}):w?a.jsx("div",{className:"space-y-4",children:I.map(N=>a.jsx(Ye,{className:"border",children:a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold",children:["#",N.orderNumber]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N.customerName})]}),a.jsx(Ke,{className:b(N.orderStatus),children:N.orderStatus})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Total:"}),a.jsxs("div",{className:"flex items-center font-medium",children:[a.jsx(Bt,{className:"h-3 w-3 mr-1"}),N.total.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Payment:"}),a.jsx(Ke,{className:T(N.paymentStatus),size:"sm",children:N.paymentStatus})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>O(N),children:[a.jsx($T,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs(ee,{size:"sm",className:"flex-1",onClick:()=>j(N),children:[a.jsx(Lu,{className:"h-4 w-4 mr-1"}),"Update"]})]})]})},N.id))}):a.jsxs(mo,{children:[a.jsx(il,{children:a.jsxs(zt,{children:[a.jsx(ht,{children:"Order"}),a.jsx(ht,{children:"Customer"}),a.jsx(ht,{children:"Items"}),a.jsx(ht,{children:"Total"}),a.jsx(ht,{children:"Payment"}),a.jsx(ht,{children:"Status"}),a.jsx(ht,{children:"Date"}),a.jsx(ht,{className:"text-right",children:"Actions"})]})}),a.jsx(po,{children:I.map(N=>a.jsxs(zt,{children:[a.jsxs(Pe,{className:"font-medium",children:["#",N.orderNumber]}),a.jsx(Pe,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.customerName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:N.customerPhone})]})}),a.jsxs(Pe,{children:[N.items.length," items"]}),a.jsx(Pe,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),N.total.toFixed(2)]})}),a.jsx(Pe,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ke,{className:T(N.paymentStatus),children:N.paymentStatus}),a.jsx("p",{className:"text-xs text-muted-foreground",children:N.paymentMethod==="cod"?"COD":"Online"})]})}),a.jsx(Pe,{children:a.jsx(Ke,{className:b(N.orderStatus),children:N.orderStatus})}),a.jsx(Pe,{children:N.createdAt?ot(N.createdAt.toDate(),"MMM d, yyyy"):"N/A"}),a.jsx(Pe,{className:"text-right",children:a.jsxs(el,{children:[a.jsx(tl,{asChild:!0,children:a.jsx(ee,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Wf,{className:"h-4 w-4"})})}),a.jsxs(xo,{align:"end",children:[a.jsxs(mr,{onClick:()=>O(N),children:[a.jsx($T,{className:"mr-2 h-4 w-4"}),"View Details"]}),a.jsxs(mr,{onClick:()=>j(N),children:[a.jsx(Lu,{className:"mr-2 h-4 w-4"}),"Update Status"]})]})]})})]},N.id))})]}),a.jsx(Vn,{open:y,onOpenChange:v,children:a.jsxs(jn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(In,{children:a.jsxs(Pn,{children:["Order Details - #",o==null?void 0:o.orderNumber]})}),o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(Ye,{children:a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(od,{className:"h-4 w-4 mr-2 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Customer"})]}),a.jsx("p",{className:"font-semibold",children:o.customerName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.customerPhone})]})}),a.jsx(Ye,{children:a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(xs,{className:"h-4 w-4 mr-2 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Order Date"})]}),a.jsx("p",{className:"font-semibold",children:o.createdAt?ot(o.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]})}),a.jsx(Ye,{children:a.jsxs(it,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Bt,{className:"h-4 w-4 mr-2 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Total Amount"})]}),a.jsxs("p",{className:"font-semibold text-lg",children:["",o.total.toFixed(2)]})]})})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Items Ordered"}),a.jsx("div",{className:"space-y-2",children:o.items.map((N,P)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg overflow-hidden",children:N.imageUrl?a.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center",children:a.jsx(ui,{className:"h-6 w-6 text-muted-foreground"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:N.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",N.quantity]})]})]}),a.jsxs("p",{className:"font-medium",children:["",(N.price*N.quantity).toFixed(2)]})]},P))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[a.jsx(qf,{className:"h-4 w-4 mr-2"}),"Shipping Address"]}),a.jsxs("div",{className:"p-3 border rounded-lg",children:[a.jsx("p",{className:"font-medium",children:o.shippingAddress.fullName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:o.shippingAddress.phone}),a.jsxs("p",{className:"text-sm mt-1",children:[o.shippingAddress.address,o.shippingAddress.landmark&&`, ${o.shippingAddress.landmark}`]}),a.jsxs("p",{className:"text-sm",children:[o.shippingAddress.city,", ",o.shippingAddress.state," - ",o.shippingAddress.postalCode]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[a.jsx(Yg,{className:"h-4 w-4 mr-2"}),"Payment Details"]}),a.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Method:"}),a.jsx("span",{className:"capitalize",children:o.paymentMethod==="cod"?"Cash on Delivery":"Online Payment"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Status:"}),a.jsx(Ke,{className:T(o.paymentStatus),children:o.paymentStatus})]}),o.razorpayPaymentId&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Payment ID:"}),a.jsx("span",{className:"font-mono",children:o.razorpayPaymentId})]})]})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[a.jsx(tC,{className:"h-4 w-4 mr-2"}),"Order Status"]}),a.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Status:"}),a.jsx(Ke,{className:b(o.orderStatus),children:o.orderStatus})]}),o.trackingNumber&&a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Tracking:"}),a.jsx("span",{className:"font-mono",children:o.trackingNumber})]})]})]})]})]})]})}),a.jsx(Vn,{open:x,onOpenChange:_,children:a.jsxs(jn,{children:[a.jsx(In,{children:a.jsxs(Pn,{children:["Update Order Status - #",c==null?void 0:c.orderNumber]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"status",children:"Order Status"}),a.jsxs(ps,{value:d,onValueChange:h,children:[a.jsx(Xr,{children:a.jsx(gs,{placeholder:"Select status"})}),a.jsxs(Zr,{children:[a.jsx(mt,{value:"confirmed",children:"Confirmed"}),a.jsx(mt,{value:"processing",children:"Processing"}),a.jsx(mt,{value:"shipped",children:"Shipped"}),a.jsx(mt,{value:"delivered",children:"Delivered"}),a.jsx(mt,{value:"cancelled",children:"Cancelled"})]})]})]}),d==="shipped"&&a.jsxs("div",{children:[a.jsx(qe,{htmlFor:"tracking",children:"Tracking Number"}),a.jsx(Fe,{id:"tracking",value:f,onChange:N=>g(N.target.value),placeholder:"Enter tracking number"})]})]}),a.jsxs(_o,{children:[a.jsx(ee,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsx(ee,{onClick:S,disabled:r,children:r?"Updating...":"Update Status"})]})]})})]})]})},_ue=()=>a.jsxs(AF,{defaultValue:"orders",className:"w-full",children:[a.jsxs(zS,{className:"grid w-full grid-cols-6",children:[a.jsx(ai,{value:"orders",children:"Orders"}),a.jsx(ai,{value:"bookings",children:"Bookings"}),a.jsx(ai,{value:"vaccines",children:"Vaccines"}),a.jsx(ai,{value:"categories",children:"Categories"}),a.jsx(ai,{value:"products",children:"Shop Products"}),a.jsx(ai,{value:"slots",children:"Manage Slots"})]}),a.jsx(li,{value:"orders",className:"mt-4",children:a.jsx(wue,{})}),a.jsx(li,{value:"bookings",className:"mt-4",children:a.jsxs(Ye,{children:[a.jsx(St,{children:a.jsx(Rt,{children:"All User Bookings"})}),a.jsx(it,{children:a.jsx(Zce,{})})]})}),a.jsx(li,{value:"vaccines",className:"mt-4",children:a.jsx(cue,{})}),a.jsx(li,{value:"categories",className:"mt-4",children:a.jsx(yue,{})}),a.jsx(li,{value:"products",className:"mt-4",children:a.jsx(xue,{})}),a.jsx(li,{value:"slots",className:"mt-4",children:a.jsxs(Ye,{children:[a.jsx(St,{children:a.jsx(Rt,{children:"Manage Booking Slots"})}),a.jsx(it,{children:a.jsx(hue,{})})]})})]}),bue=[{href:"/home",label:"Home",icon:Ou},{href:"/dashboard",label:"Bookings",icon:xs},{href:"/shop",label:"Shop",icon:hs},{href:"/my-orders",label:"Orders",icon:Rh},{href:"/profile",label:"Profile",icon:od}],Cue=()=>{const t=yo();return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 shadow-lg",children:a.jsx("div",{className:"flex justify-around max-w-lg mx-auto",children:bue.map(e=>{const n=t.pathname===e.href||e.href==="/home"&&t.pathname==="/"||e.href==="/dashboard"&&(t.pathname.startsWith("/dashboard")||t.pathname.startsWith("/my-dogs"));return a.jsxs(mH,{to:e.href,className:te("flex flex-col items-center justify-center w-full pt-3 pb-2 text-xs font-medium transition-all duration-200 rounded-t-lg mx-1 relative",n?"text-purple-400":"text-slate-400 hover:text-purple-300"),children:[n&&a.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-purple-400 rounded-full"}),a.jsx("div",{className:te("p-2 rounded-xl transition-all duration-200",n?"bg-purple-500/20":"hover:bg-slate-800/50"),children:a.jsx(e.icon,{className:"h-5 w-5"})}),a.jsx("span",{className:"mt-1 truncate",children:e.label})]},e.href)})})})},Sue=()=>{const t=yo(),n=!["/"].includes(t.pathname);return a.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[a.jsx("main",{className:"flex-grow",children:a.jsx(vD,{})}),n&&a.jsx(Cue,{})]})},Eue=()=>{const t=Fr(),e=async()=>{try{await kC(Pl),ne.success("Logged out successfully."),t("/")}catch{ne.error("Failed to log out.")}};return a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-background border-b sticky top-0 z-10",children:a.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold",children:"VaxDog Admin"}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:e,children:[a.jsx(c2,{className:"mr-2 h-4 w-4"}),"Logout"]})]})}),a.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:a.jsx(vD,{})})]})},Nue=()=>{const{dogName:t}=Hz(),e=decodeURIComponent(t||""),n=Fr(),{dogs:r=[],isLoadingDogs:s}=dm(),i=r.find(w=>w.name===e),{reminders:o,isLoadingReminders:l,addReminder:c,markReminderAsComplete:u,deleteReminder:d,editReminder:h}=hm(i==null?void 0:i.name),f=w=>{if(!w)return null;const b=new Date(w),T=new Date,I=TS(T,b),O=t0(T,b)%12;return I>0&&O>0?`${I} ${I===1?"year":"years"} ${O} ${O===1?"month":"months"} old`:I>0?`${I} ${I===1?"year":"years"} old`:O>0?`${O} ${O===1?"month":"months"} old`:"Less than a month old"},g=w=>{u(w)},y=({dog:w,vaccine:b,due:T})=>{c({dog:w,vaccine:b,due:T})},v=w=>{d(w)},x=(w,b)=>{h(w,b)};if(s)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8 space-y-6",children:[a.jsx(st,{className:"h-9 w-40 bg-slate-700"}),a.jsx(Ye,{className:"bg-slate-800/50 border-slate-700",children:a.jsx(St,{children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[a.jsx(st,{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-slate-700"}),a.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[a.jsx(st,{className:"h-10 w-48 bg-slate-700"}),a.jsx(st,{className:"h-7 w-32 bg-slate-700"}),a.jsx(st,{className:"h-6 w-24 bg-slate-700"})]})]})})}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700",children:[a.jsx(St,{children:a.jsx(st,{className:"h-8 w-60 bg-slate-700"})}),a.jsx(it,{children:a.jsx(st,{className:"h-20 w-full bg-slate-700"})})]})]})});if(!i)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Dog not found"}),a.jsx(ee,{onClick:()=>n("/my-dogs"),className:"bg-purple-500 hover:bg-purple-600",children:"Back to My Dogs"})]})});const _=f(i.dateOfBirth);return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8 pb-6 space-y-6 max-w-4xl mx-auto",children:[a.jsxs(ee,{variant:"ghost",onClick:()=>n("/my-dogs"),className:"pl-0 text-white hover:text-purple-300 hover:bg-white/10",children:[a.jsx(Mu,{className:"mr-2 h-4 w-4"}),"Back to My Dogs"]}),a.jsx(Ye,{className:"overflow-hidden bg-slate-800/50 border-slate-700",children:a.jsx(St,{className:"pb-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[i.imageUrl?a.jsx("div",{className:"relative",children:a.jsx("picture",{children:a.jsx("img",{src:i.imageUrl,alt:i.name,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover border-4 border-purple-500/30 shadow-lg",loading:"lazy",decoding:"async",sizes:"(max-width: 640px) 96px, 128px"})})}):a.jsx(_d,{className:"h-24 w-24 sm:h-32 sm:w-32 border-4 border-purple-500/30 shadow-lg",children:a.jsx(bd,{className:"text-3xl sm:text-4xl bg-purple-500/20 text-purple-300 font-bold",children:i.name.charAt(0).toUpperCase()})}),a.jsxs("div",{className:"text-center sm:text-left space-y-1",children:[a.jsx(Rt,{className:"text-2xl sm:text-3xl font-bold tracking-tight text-white",children:i.name}),a.jsx("p",{className:"text-base sm:text-lg text-slate-300 font-medium",children:i.breed}),a.jsxs("div",{className:"flex items-center justify-center sm:justify-start text-sm sm:text-base text-slate-300 mt-2",children:[a.jsx(J1,{className:"w-4 h-4 mr-2 text-pink-400 flex-shrink-0"}),a.jsx("span",{className:"font-medium",children:_||"Age not available"})]})]})]})})}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700",children:[a.jsxs(St,{className:"flex flex-row items-center justify-between pb-4",children:[a.jsx(Rt,{className:"text-lg sm:text-xl font-semibold text-white",children:"Vaccination Schedule"}),a.jsx(c5,{dogs:r,onAddReminder:y,defaultDogName:i.name,children:a.jsxs(ee,{size:"sm",className:"text-xs sm:text-sm bg-purple-500 hover:bg-purple-600",children:[a.jsx(Fu,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Reminder"]})})]}),a.jsxs(it,{className:"space-y-6 pt-0",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Upcoming Vaccinations"}),a.jsx(S3,{reminders:l?[]:o,onMarkAsComplete:g,onDeleteReminder:v,onEditReminder:x,showDogName:!1,title:""})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vaccination History"}),a.jsx(E3,{reminders:l?[]:o,showDogName:!1,title:""})]})]})]})]})})},Tue=()=>a.jsx("div",{className:"space-y-3",children:[...Array(3)].map((t,e)=>a.jsxs(Ye,{className:"p-4 bg-slate-800/50 border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(st,{className:"h-5 w-32 bg-slate-700"}),a.jsx(st,{className:"h-4 w-24 bg-slate-700"})]}),a.jsx(st,{className:"h-5 w-20 bg-slate-700"})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsx(st,{className:"h-8 w-28 bg-slate-700"}),a.jsx(st,{className:"h-9 w-24 bg-slate-700"})]})]},e))}),Rue=()=>a.jsx(a.Fragment,{children:[...Array(3)].map((t,e)=>a.jsxs(zt,{className:"border-slate-700",children:[a.jsx(Pe,{children:a.jsx(st,{className:"h-5 w-24 bg-slate-700"})}),a.jsx(Pe,{children:a.jsx(st,{className:"h-5 w-48 bg-slate-700"})}),a.jsx(Pe,{children:a.jsx(st,{className:"h-5 w-20 bg-slate-700"})}),a.jsx(Pe,{children:a.jsx(st,{className:"h-5 w-24 bg-slate-700"})}),a.jsx(Pe,{className:"text-right",children:a.jsx(st,{className:"h-8 w-16 ml-auto bg-slate-700"})})]},e))}),jue=()=>{const{transactions:t,isLoading:e,error:n}=Sd();if(n)return a.jsxs("div",{className:"text-center py-10",children:[a.jsx(v_,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),a.jsx("p",{className:"text-red-400 font-medium mb-2",children:"Error loading transactions"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Please try again later"})]});const r=()=>e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"sm:hidden",children:a.jsx(Tue,{})}),a.jsx("div",{className:"hidden sm:block",children:a.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-800/30",children:a.jsx(mo,{children:a.jsx(po,{children:a.jsx(Rue,{})})})})})]}):!t||t.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(v_,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-slate-400 text-sm",children:"Your payment history will appear here"})]}):a.jsxs(LS,{className:"h-[400px] w-full",children:[a.jsx("div",{className:"space-y-3 sm:hidden",children:t.map(s=>a.jsxs(Ye,{className:"p-4 bg-slate-800/50 border-slate-700",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0 pr-2",children:[a.jsx("p",{className:"font-semibold text-base break-words text-white",children:s.service}),a.jsx("p",{className:"text-sm text-slate-400",children:s.createdAt?ot(s.createdAt.toDate(),"PP"):"N/A"})]}),a.jsx(Ke,{className:`flex-shrink-0 text-sm font-medium ${s.status==="successful"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-red-500/20 text-red-300 border-red-500/30"}`,children:s.status==="successful"?"Paid":"Failed"})]}),a.jsxs("div",{className:"flex justify-between items-center mt-4",children:[a.jsxs("div",{className:"flex items-center text-lg font-bold text-white",children:[a.jsx(Bt,{className:"h-5 w-5 mr-1"}),new Intl.NumberFormat("en-IN").format(s.amount)]}),a.jsx(ee,{variant:"outline",size:"sm",disabled:!0,className:"bg-slate-700/50 border-slate-600 text-slate-300 hover:bg-slate-600/50",children:"View Invoice"})]})]},s.id))}),a.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-800/30 hidden sm:block",children:a.jsxs(mo,{children:[a.jsx(il,{children:a.jsxs(zt,{className:"border-slate-700 hover:bg-slate-700/30",children:[a.jsx(ht,{className:"text-slate-300",children:"Date"}),a.jsx(ht,{className:"text-slate-300",children:"Service"}),a.jsx(ht,{className:"text-slate-300",children:"Amount"}),a.jsx(ht,{className:"text-slate-300",children:"Status"}),a.jsx(ht,{className:"text-right text-slate-300",children:"Invoice"})]})}),a.jsx(po,{children:t.map(s=>a.jsxs(zt,{className:"border-slate-700 hover:bg-slate-700/30",children:[a.jsx(Pe,{className:"font-medium whitespace-nowrap text-white",children:s.createdAt?ot(s.createdAt.toDate(),"PP"):"N/A"}),a.jsx(Pe,{className:"text-white",children:s.service}),a.jsx(Pe,{className:"whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center text-white font-medium",children:[a.jsx(Bt,{className:"h-4 w-4 mr-1"}),new Intl.NumberFormat("en-IN").format(s.amount)]})}),a.jsx(Pe,{children:a.jsx(Ke,{className:`font-medium ${s.status==="successful"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-red-500/20 text-red-300 border-red-500/30"}`,children:s.status==="successful"?"Paid":"Failed"})}),a.jsx(Pe,{className:"text-right",children:a.jsx(ee,{variant:"outline",size:"sm",disabled:!0,className:"bg-slate-700/50 border-slate-600 text-slate-300 hover:bg-slate-600/50",children:"View"})})]},s.id))})]})})]});return a.jsx("div",{className:"w-full",children:r()})},Iue=({reminderDueSoonDays:t,setReminderDueSoonDays:e})=>{const[n,r]=p.useState(t),{user:s}=rs(),i=Fr(),o=()=>{n>0?(e(n),ne.success("Reminder settings saved!")):ne.error("Please enter a valid number of days.")},l=async()=>{try{await kC(Pl),ne.info("You have been logged out.")}catch(u){console.error("Logout error:",u),ne.error("Failed to log out. Please try again.")}},c=()=>s!=null&&s.displayName?s.displayName:s!=null&&s.phoneNumber?`User ${s.phoneNumber.slice(-4)}`:"Pet Parent";return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:a.jsxs("div",{className:"px-4 pt-8 pb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Profile & Settings"}),a.jsx(Ye,{className:"bg-slate-800/50 border-slate-700 mb-6",children:a.jsx(it,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center",children:a.jsx(od,{className:"h-8 w-8 text-purple-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:c()}),a.jsx("p",{className:"text-slate-400",children:s==null?void 0:s.phoneNumber})]})]})})}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700 mb-6",children:[a.jsxs(St,{children:[a.jsxs(Rt,{className:"text-xl flex items-center text-white",children:[a.jsx(ui,{className:"mr-2 h-5 w-5 text-purple-400"}),"My Orders"]}),a.jsx(Yc,{className:"text-slate-400",children:"View and track your orders."})]}),a.jsx(it,{children:a.jsx(ee,{className:"bg-purple-500 hover:bg-purple-600",onClick:()=>i("/my-orders"),children:"View Orders"})})]}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700 mb-6",children:[a.jsxs(St,{children:[a.jsxs(Rt,{className:"text-xl flex items-center text-white",children:[a.jsx(v_,{className:"mr-2 h-5 w-5 text-purple-400"}),"Transaction History"]}),a.jsx(Yc,{className:"text-slate-400",children:"View your past payments and invoices."})]}),a.jsx(it,{children:a.jsxs(Vn,{children:[a.jsx(Pi,{asChild:!0,children:a.jsx(ee,{className:"bg-purple-500 hover:bg-purple-600",children:"View Transactions"})}),a.jsxs(jn,{className:"max-w-3xl w-[95vw] sm:max-w-3xl bg-slate-800 border-slate-700",children:[a.jsxs(In,{children:[a.jsx(Pn,{className:"text-white",children:"Transaction History"}),a.jsx(nl,{className:"text-slate-400",children:"A record of all your payments."})]}),a.jsx(jue,{})]})]})})]}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700 mb-6",children:[a.jsxs(St,{children:[a.jsxs(Rt,{className:"text-xl text-white flex items-center",children:[a.jsx(YU,{className:"mr-2 h-5 w-5 text-purple-400"}),"Reminder Settings"]}),a.jsx(Yc,{className:"text-slate-400",children:'Set how many days in advance you want a "due soon" notification.'})]}),a.jsx(it,{children:a.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[a.jsx(qe,{htmlFor:"days",className:"text-white",children:"Due Soon Threshold (in days)"}),a.jsx(Fe,{type:"number",id:"days",value:n,onChange:u=>r(Number(u.target.value)),placeholder:"e.g., 30",min:"1",className:"bg-slate-700/50 border-slate-600 text-white"})]})}),a.jsx(gb,{children:a.jsx(ee,{onClick:o,className:"bg-purple-500 hover:bg-purple-600",children:"Save Changes"})})]}),a.jsxs(Ye,{className:"bg-slate-800/50 border-slate-700",children:[a.jsxs(St,{children:[a.jsx(Rt,{className:"text-xl text-white",children:"Account"}),a.jsx(Yc,{className:"text-slate-400",children:"Manage your account details."})]}),a.jsx(it,{children:a.jsx("p",{className:"text-sm text-slate-400",children:"This is where you can manage your account."})}),a.jsx(gb,{children:a.jsxs(ee,{variant:"destructive",onClick:l,className:"flex items-center gap-2",children:[a.jsx(c2,{className:"h-4 w-4"}),"Log Out"]})})]})]})})},Pue=new X7,kue=()=>{const{user:t,loading:e,isAdmin:n}=rs(),[r,s]=p.useState(30);return e?a.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:a.jsx("h1",{className:"text-2xl font-semibold animate-pulse",children:"Loading VaxDog..."})}):a.jsxs(sH,{children:[a.jsx(yn,{path:"/",element:t?a.jsx(Ip,{to:n?"/admin":"/home",replace:!0}):a.jsx($Z,{})}),t?n?a.jsxs(yn,{element:a.jsx(Eue,{}),children:[a.jsx(yn,{path:"/admin",element:a.jsx(_ue,{})}),a.jsx(yn,{path:"*",element:a.jsx(Ip,{to:"/admin",replace:!0})})]}):a.jsxs(yn,{element:a.jsx(Sue,{}),children:[a.jsx(yn,{path:"/home",element:a.jsx(Vte,{})}),a.jsx(yn,{path:"/dashboard",element:a.jsx(vle,{})}),a.jsx(yn,{path:"/my-dogs",element:a.jsx(wle,{reminderDueSoonDays:r})}),a.jsx(yn,{path:"/my-dogs/:dogName",element:a.jsx(Nue,{})}),a.jsx(yn,{path:"/shop",element:a.jsx(Tle,{})}),a.jsx(yn,{path:"/product-detail",element:a.jsx(Rle,{})}),a.jsx(yn,{path:"/checkout",element:a.jsx(Gle,{})}),a.jsx(yn,{path:"/my-orders",element:a.jsx(Kle,{})}),a.jsx(yn,{path:"/bookings",element:a.jsx(jle,{})}),a.jsx(yn,{path:"/profile",element:a.jsx(Iue,{reminderDueSoonDays:r,setReminderDueSoonDays:s})}),a.jsx(yn,{path:"*",element:a.jsx(Ip,{to:"/home",replace:!0})})]}):a.jsx(yn,{path:"*",element:a.jsx(Ip,{to:"/",replace:!0})}),a.jsx(yn,{path:"*",element:a.jsx(UZ,{})})]})},Aue=()=>a.jsx(nz,{client:Pue,children:a.jsxs(M7,{children:[a.jsx(D8,{}),a.jsx(cB,{}),a.jsx(GZ,{children:a.jsx(dH,{children:a.jsx(kue,{})})})]})});jA(document.getElementById("root")).render(a.jsx(Aue,{}));
