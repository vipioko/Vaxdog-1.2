var cE=t=>{throw TypeError(t)};var vy=(t,e,n)=>e.has(t)||cE("Cannot "+n);var U=(t,e,n)=>(vy(t,e,"read from private field"),n?n.call(t):e.get(t)),We=(t,e,n)=>e.has(t)?cE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Se=(t,e,n,s)=>(vy(t,e,"write to private field"),s?s.call(t,n):e.set(t,n),n),ht=(t,e,n)=>(vy(t,e,"access private method"),n);var Fp=(t,e,n,s)=>({set _(r){Se(t,e,r,n)},get _(){return U(t,e,s)}});function UV(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function tk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nk={exports:{}},Rv={},sk={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=Symbol.for("react.element"),BV=Symbol.for("react.portal"),zV=Symbol.for("react.fragment"),HV=Symbol.for("react.strict_mode"),WV=Symbol.for("react.profiler"),qV=Symbol.for("react.provider"),GV=Symbol.for("react.context"),KV=Symbol.for("react.forward_ref"),QV=Symbol.for("react.suspense"),YV=Symbol.for("react.memo"),XV=Symbol.for("react.lazy"),uE=Symbol.iterator;function ZV(t){return t===null||typeof t!="object"?null:(t=uE&&t[uE]||t["@@iterator"],typeof t=="function"?t:null)}var rk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ik=Object.assign,ak={};function Ud(t,e,n){this.props=t,this.context=e,this.refs=ak,this.updater=n||rk}Ud.prototype.isReactComponent={};Ud.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ud.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ok(){}ok.prototype=Ud.prototype;function R_(t,e,n){this.props=t,this.context=e,this.refs=ak,this.updater=n||rk}var P_=R_.prototype=new ok;P_.constructor=R_;ik(P_,Ud.prototype);P_.isPureReactComponent=!0;var dE=Array.isArray,lk=Object.prototype.hasOwnProperty,I_={current:null},ck={key:!0,ref:!0,__self:!0,__source:!0};function uk(t,e,n){var s,r={},a=null,o=null;if(e!=null)for(s in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)lk.call(e,s)&&!ck.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return{$$typeof:Tm,type:t,key:a,ref:o,props:r,_owner:I_.current}}function JV(t,e){return{$$typeof:Tm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function k_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tm}function e$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hE=/\/+/g;function yy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e$(""+t.key):e.toString(36)}function Cg(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tm:case BV:o=!0}}if(o)return o=t,r=r(o),t=s===""?"."+yy(o,0):s,dE(r)?(n="",t!=null&&(n=t.replace(hE,"$&/")+"/"),Cg(r,e,n,"",function(u){return u})):r!=null&&(k_(r)&&(r=JV(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(hE,"$&/")+"/")+t)),e.push(r)),1;if(o=0,s=s===""?".":s+":",dE(t))for(var l=0;l<t.length;l++){a=t[l];var c=s+yy(a,l);o+=Cg(a,e,n,c,r)}else if(c=ZV(t),typeof c=="function")for(t=c.call(t),l=0;!(a=t.next()).done;)a=a.value,c=s+yy(a,l++),o+=Cg(a,e,n,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Lp(t,e,n){if(t==null)return t;var s=[],r=0;return Cg(t,s,"","",function(a){return e.call(n,a,r++)}),s}function t$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zs={current:null},Sg={transition:null},n$={ReactCurrentDispatcher:zs,ReactCurrentBatchConfig:Sg,ReactCurrentOwner:I_};function dk(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:Lp,forEach:function(t,e,n){Lp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lp(t,function(){e++}),e},toArray:function(t){return Lp(t,function(e){return e})||[]},only:function(t){if(!k_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gt.Component=Ud;gt.Fragment=zV;gt.Profiler=WV;gt.PureComponent=R_;gt.StrictMode=HV;gt.Suspense=QV;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n$;gt.act=dk;gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var s=ik({},t.props),r=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=I_.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)lk.call(e,c)&&!ck.hasOwnProperty(c)&&(s[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}return{$$typeof:Tm,type:t.type,key:r,ref:a,props:s,_owner:o}};gt.createContext=function(t){return t={$$typeof:GV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qV,_context:t},t.Consumer=t};gt.createElement=uk;gt.createFactory=function(t){var e=uk.bind(null,t);return e.type=t,e};gt.createRef=function(){return{current:null}};gt.forwardRef=function(t){return{$$typeof:KV,render:t}};gt.isValidElement=k_;gt.lazy=function(t){return{$$typeof:XV,_payload:{_status:-1,_result:t},_init:t$}};gt.memo=function(t,e){return{$$typeof:YV,type:t,compare:e===void 0?null:e}};gt.startTransition=function(t){var e=Sg.transition;Sg.transition={};try{t()}finally{Sg.transition=e}};gt.unstable_act=dk;gt.useCallback=function(t,e){return zs.current.useCallback(t,e)};gt.useContext=function(t){return zs.current.useContext(t)};gt.useDebugValue=function(){};gt.useDeferredValue=function(t){return zs.current.useDeferredValue(t)};gt.useEffect=function(t,e){return zs.current.useEffect(t,e)};gt.useId=function(){return zs.current.useId()};gt.useImperativeHandle=function(t,e,n){return zs.current.useImperativeHandle(t,e,n)};gt.useInsertionEffect=function(t,e){return zs.current.useInsertionEffect(t,e)};gt.useLayoutEffect=function(t,e){return zs.current.useLayoutEffect(t,e)};gt.useMemo=function(t,e){return zs.current.useMemo(t,e)};gt.useReducer=function(t,e,n){return zs.current.useReducer(t,e,n)};gt.useRef=function(t){return zs.current.useRef(t)};gt.useState=function(t){return zs.current.useState(t)};gt.useSyncExternalStore=function(t,e,n){return zs.current.useSyncExternalStore(t,e,n)};gt.useTransition=function(){return zs.current.useTransition()};gt.version="18.3.1";sk.exports=gt;var p=sk.exports;const se=tk(p),A_=UV({__proto__:null,default:se},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s$=p,r$=Symbol.for("react.element"),i$=Symbol.for("react.fragment"),a$=Object.prototype.hasOwnProperty,o$=s$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l$={key:!0,ref:!0,__self:!0,__source:!0};function hk(t,e,n){var s,r={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(s in e)a$.call(e,s)&&!l$.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps,e)r[s]===void 0&&(r[s]=e[s]);return{$$typeof:r$,type:t,key:a,ref:o,props:r,_owner:o$.current}}Rv.Fragment=i$;Rv.jsx=hk;Rv.jsxs=hk;nk.exports=Rv;var i=nk.exports,fk={exports:{}},kr={},mk={exports:{}},pk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,V){var Z=O.length;O.push(V);e:for(;0<Z;){var F=Z-1>>>1,L=O[F];if(0<r(L,V))O[F]=V,O[Z]=L,Z=F;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var V=O[0],Z=O.pop();if(Z!==V){O[0]=Z;e:for(var F=0,L=O.length,B=L>>>1;F<B;){var K=2*(F+1)-1,ne=O[K],ae=K+1,oe=O[ae];if(0>r(ne,Z))ae<L&&0>r(oe,ne)?(O[F]=oe,O[ae]=Z,F=ae):(O[F]=ne,O[K]=Z,F=K);else if(ae<L&&0>r(oe,Z))O[F]=oe,O[ae]=Z,F=ae;else break e}}return V}function r(O,V){var Z=O.sortIndex-V.sortIndex;return Z!==0?Z:O.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,g=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(O){for(var V=n(u);V!==null;){if(V.callback===null)s(u);else if(V.startTime<=O)s(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function E(O){if(x=!1,N(O),!v)if(n(c)!==null)v=!0,te(I);else{var V=n(u);V!==null&&Q(E,V.startTime-O)}}function I(O,V){v=!1,x&&(x=!1,y(_),_=-1),g=!0;var Z=f;try{for(N(V),h=n(c);h!==null&&(!(h.expirationTime>V)||O&&!k());){var F=h.callback;if(typeof F=="function"){h.callback=null,f=h.priorityLevel;var L=F(h.expirationTime<=V);V=t.unstable_now(),typeof L=="function"?h.callback=L:h===n(c)&&s(c),N(V)}else s(c);h=n(c)}if(h!==null)var B=!0;else{var K=n(u);K!==null&&Q(E,K.startTime-V),B=!1}return B}finally{h=null,f=Z,g=!1}}var A=!1,C=null,_=-1,S=5,T=-1;function k(){return!(t.unstable_now()-T<S)}function D(){if(C!==null){var O=t.unstable_now();T=O;var V=!0;try{V=C(!0,O)}finally{V?P():(A=!1,C=null)}}else A=!1}var P;if(typeof b=="function")P=function(){b(D)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=D,P=function(){ee.postMessage(null)}}else P=function(){w(D,0)};function te(O){C=O,A||(A=!0,P())}function Q(O,V){_=w(function(){O(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,te(I))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(O){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var Z=f;f=V;try{return O()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Z=f;f=O;try{return V()}finally{f=Z}},t.unstable_scheduleCallback=function(O,V,Z){var F=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?F+Z:F):Z=F,O){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Z+L,O={id:d++,callback:V,priorityLevel:O,startTime:Z,expirationTime:L,sortIndex:-1},Z>F?(O.sortIndex=Z,e(u,O),n(c)===null&&O===n(u)&&(x?(y(_),_=-1):x=!0,Q(E,Z-F))):(O.sortIndex=L,e(c,O),v||g||(v=!0,te(I))),O},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(O){var V=f;return function(){var Z=f;f=V;try{return O.apply(this,arguments)}finally{f=Z}}}})(pk);mk.exports=pk;var c$=mk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u$=p,Pr=c$;function fe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gk=new Set,Ff={};function Wc(t,e){gd(t,e),gd(t+"Capture",e)}function gd(t,e){for(Ff[t]=e,t=0;t<e.length;t++)gk.add(e[t])}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xw=Object.prototype.hasOwnProperty,d$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fE={},mE={};function h$(t){return Xw.call(mE,t)?!0:Xw.call(fE,t)?!1:d$.test(t)?mE[t]=!0:(fE[t]=!0,!1)}function f$(t,e,n,s){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m$(t,e,n,s){if(e===null||typeof e>"u"||f$(t,e,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Hs(t,e,n,s,r,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=s,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var os={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){os[t]=new Hs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];os[e]=new Hs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){os[t]=new Hs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){os[t]=new Hs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){os[t]=new Hs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){os[t]=new Hs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){os[t]=new Hs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){os[t]=new Hs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){os[t]=new Hs(t,5,!1,t.toLowerCase(),null,!1,!1)});var D_=/[\-:]([a-z])/g;function M_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(D_,M_);os[e]=new Hs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(D_,M_);os[e]=new Hs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(D_,M_);os[e]=new Hs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){os[t]=new Hs(t,1,!1,t.toLowerCase(),null,!1,!1)});os.xlinkHref=new Hs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){os[t]=new Hs(t,1,!1,t.toLowerCase(),null,!0,!0)});function O_(t,e,n,s){var r=os.hasOwnProperty(e)?os[e]:null;(r!==null?r.type!==0:s||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m$(e,n,r,s)&&(n=null),s||r===null?h$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,s=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}var to=u$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vp=Symbol.for("react.element"),Nu=Symbol.for("react.portal"),_u=Symbol.for("react.fragment"),F_=Symbol.for("react.strict_mode"),Zw=Symbol.for("react.profiler"),xk=Symbol.for("react.provider"),vk=Symbol.for("react.context"),L_=Symbol.for("react.forward_ref"),Jw=Symbol.for("react.suspense"),eb=Symbol.for("react.suspense_list"),V_=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),yk=Symbol.for("react.offscreen"),pE=Symbol.iterator;function Th(t){return t===null||typeof t!="object"?null:(t=pE&&t[pE]||t["@@iterator"],typeof t=="function"?t:null)}var mn=Object.assign,wy;function qh(t){if(wy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wy=e&&e[1]||""}return`
`+wy+t}var by=!1;function Ny(t,e){if(!t||by)return"";by=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var s=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){s=u}t.call(e.prototype)}else{try{throw Error()}catch(u){s=u}t()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=s.stack.split(`
`),o=r.length-1,l=a.length-1;1<=o&&0<=l&&r[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(r[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||r[o]!==a[l]){var c=`
`+r[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{by=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?qh(t):""}function p$(t){switch(t.tag){case 5:return qh(t.type);case 16:return qh("Lazy");case 13:return qh("Suspense");case 19:return qh("SuspenseList");case 0:case 2:case 15:return t=Ny(t.type,!1),t;case 11:return t=Ny(t.type.render,!1),t;case 1:return t=Ny(t.type,!0),t;default:return""}}function tb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _u:return"Fragment";case Nu:return"Portal";case Zw:return"Profiler";case F_:return"StrictMode";case Jw:return"Suspense";case eb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vk:return(t.displayName||"Context")+".Consumer";case xk:return(t._context.displayName||"Context")+".Provider";case L_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V_:return e=t.displayName||null,e!==null?e:tb(t.type)||"Memo";case Ro:e=t._payload,t=t._init;try{return tb(t(e))}catch{}}return null}function g$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tb(e);case 8:return e===F_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x$(t){var e=wk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $p(t){t._valueTracker||(t._valueTracker=x$(t))}function bk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=wk(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function ex(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nb(t,e){var n=e.checked;return mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function gE(t,e){var n=e.defaultValue==null?"":e.defaultValue,s=e.checked!=null?e.checked:e.defaultChecked;n=pl(e.value!=null?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Nk(t,e){e=e.checked,e!=null&&O_(t,"checked",e,!1)}function sb(t,e){Nk(t,e);var n=pl(e.value),s=e.type;if(n!=null)s==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(s==="submit"||s==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rb(t,e.type,n):e.hasOwnProperty("defaultValue")&&rb(t,e.type,pl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!(s!=="submit"&&s!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rb(t,e,n){(e!=="number"||ex(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gh=Array.isArray;function Lu(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+pl(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ib(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(fe(92));if(Gh(n)){if(1<n.length)throw Error(fe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pl(n)}}function _k(t,e){var n=pl(e.value),s=pl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),s!=null&&(t.defaultValue=""+s)}function yE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ab(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Up,Ck=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,s,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,s,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Up=Up||document.createElement("div"),Up.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Up.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v$=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(t){v$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),of[e]=of[t]})});function Sk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||of.hasOwnProperty(t)&&of[t]?(""+e).trim():e+"px"}function Ek(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var s=n.indexOf("--")===0,r=Sk(n,e[n],s);n==="float"&&(n="cssFloat"),s?t.setProperty(n,r):t[n]=r}}var y$=mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ob(t,e){if(e){if(y$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function lb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cb=null;function $_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ub=null,Vu=null,$u=null;function wE(t){if(t=Im(t)){if(typeof ub!="function")throw Error(fe(280));var e=t.stateNode;e&&(e=Dv(e),ub(t.stateNode,t.type,e))}}function Tk(t){Vu?$u?$u.push(t):$u=[t]:Vu=t}function Rk(){if(Vu){var t=Vu,e=$u;if($u=Vu=null,wE(t),e)for(t=0;t<e.length;t++)wE(e[t])}}function Pk(t,e){return t(e)}function Ik(){}var _y=!1;function kk(t,e,n){if(_y)return t(e,n);_y=!0;try{return Pk(t,e,n)}finally{_y=!1,(Vu!==null||$u!==null)&&(Ik(),Rk())}}function Vf(t,e){var n=t.stateNode;if(n===null)return null;var s=Dv(n);if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(fe(231,e,typeof n));return n}var db=!1;if(Oa)try{var Rh={};Object.defineProperty(Rh,"passive",{get:function(){db=!0}}),window.addEventListener("test",Rh,Rh),window.removeEventListener("test",Rh,Rh)}catch{db=!1}function w$(t,e,n,s,r,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var lf=!1,tx=null,nx=!1,hb=null,b$={onError:function(t){lf=!0,tx=t}};function N$(t,e,n,s,r,a,o,l,c){lf=!1,tx=null,w$.apply(b$,arguments)}function _$(t,e,n,s,r,a,o,l,c){if(N$.apply(this,arguments),lf){if(lf){var u=tx;lf=!1,tx=null}else throw Error(fe(198));nx||(nx=!0,hb=u)}}function qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ak(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bE(t){if(qc(t)!==t)throw Error(fe(188))}function j$(t){var e=t.alternate;if(!e){if(e=qc(t),e===null)throw Error(fe(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return bE(r),t;if(a===s)return bE(r),e;a=a.sibling}throw Error(fe(188))}if(n.return!==s.return)n=r,s=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,s=a;break}if(l===s){o=!0,s=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,s=r;break}if(l===s){o=!0,s=a,n=r;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(n.alternate!==s)throw Error(fe(190))}if(n.tag!==3)throw Error(fe(188));return n.stateNode.current===n?t:e}function Dk(t){return t=j$(t),t!==null?Mk(t):null}function Mk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mk(t);if(e!==null)return e;t=t.sibling}return null}var Ok=Pr.unstable_scheduleCallback,NE=Pr.unstable_cancelCallback,C$=Pr.unstable_shouldYield,S$=Pr.unstable_requestPaint,Tn=Pr.unstable_now,E$=Pr.unstable_getCurrentPriorityLevel,U_=Pr.unstable_ImmediatePriority,Fk=Pr.unstable_UserBlockingPriority,sx=Pr.unstable_NormalPriority,T$=Pr.unstable_LowPriority,Lk=Pr.unstable_IdlePriority,Pv=null,Wi=null;function R$(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(Pv,t,void 0,(t.current.flags&128)===128)}catch{}}var hi=Math.clz32?Math.clz32:k$,P$=Math.log,I$=Math.LN2;function k$(t){return t>>>=0,t===0?32:31-(P$(t)/I$|0)|0}var Bp=64,zp=4194304;function Kh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rx(t,e){var n=t.pendingLanes;if(n===0)return 0;var s=0,r=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~r;l!==0?s=Kh(l):(a&=o,a!==0&&(s=Kh(a)))}else o=n&~r,o!==0?s=Kh(o):a!==0&&(s=Kh(a));if(s===0)return 0;if(e!==0&&e!==s&&!(e&r)&&(r=s&-s,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(s&4&&(s|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=s;0<e;)n=31-hi(e),r=1<<n,s|=t[n],e&=~r;return s}function A$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D$(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-hi(a),l=1<<o,c=r[o];c===-1?(!(l&n)||l&s)&&(r[o]=A$(l,e)):c<=e&&(t.expiredLanes|=l),a&=~l}}function fb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vk(){var t=Bp;return Bp<<=1,!(Bp&4194240)&&(Bp=64),t}function jy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Rm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-hi(e),t[e]=n}function M$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-hi(n),a=1<<r;e[r]=0,s[r]=-1,t[r]=-1,n&=~a}}function B_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-hi(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}var Ut=0;function $k(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uk,z_,Bk,zk,Hk,mb=!1,Hp=[],el=null,tl=null,nl=null,$f=new Map,Uf=new Map,Io=[],O$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _E(t,e){switch(t){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":$f.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uf.delete(e.pointerId)}}function Ph(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=Im(e),e!==null&&z_(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function F$(t,e,n,s,r){switch(e){case"focusin":return el=Ph(el,t,e,n,s,r),!0;case"dragenter":return tl=Ph(tl,t,e,n,s,r),!0;case"mouseover":return nl=Ph(nl,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return $f.set(a,Ph($f.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,Uf.set(a,Ph(Uf.get(a)||null,t,e,n,s,r)),!0}return!1}function Wk(t){var e=tc(t.target);if(e!==null){var n=qc(e);if(n!==null){if(e=n.tag,e===13){if(e=Ak(n),e!==null){t.blockedOn=e,Hk(t.priority,function(){Bk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);cb=s,n.target.dispatchEvent(s),cb=null}else return e=Im(n),e!==null&&z_(e),t.blockedOn=n,!1;e.shift()}return!0}function jE(t,e,n){Eg(t)&&n.delete(e)}function L$(){mb=!1,el!==null&&Eg(el)&&(el=null),tl!==null&&Eg(tl)&&(tl=null),nl!==null&&Eg(nl)&&(nl=null),$f.forEach(jE),Uf.forEach(jE)}function Ih(t,e){t.blockedOn===e&&(t.blockedOn=null,mb||(mb=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,L$)))}function Bf(t){function e(r){return Ih(r,t)}if(0<Hp.length){Ih(Hp[0],t);for(var n=1;n<Hp.length;n++){var s=Hp[n];s.blockedOn===t&&(s.blockedOn=null)}}for(el!==null&&Ih(el,t),tl!==null&&Ih(tl,t),nl!==null&&Ih(nl,t),$f.forEach(e),Uf.forEach(e),n=0;n<Io.length;n++)s=Io[n],s.blockedOn===t&&(s.blockedOn=null);for(;0<Io.length&&(n=Io[0],n.blockedOn===null);)Wk(n),n.blockedOn===null&&Io.shift()}var Uu=to.ReactCurrentBatchConfig,ix=!0;function V$(t,e,n,s){var r=Ut,a=Uu.transition;Uu.transition=null;try{Ut=1,H_(t,e,n,s)}finally{Ut=r,Uu.transition=a}}function $$(t,e,n,s){var r=Ut,a=Uu.transition;Uu.transition=null;try{Ut=4,H_(t,e,n,s)}finally{Ut=r,Uu.transition=a}}function H_(t,e,n,s){if(ix){var r=pb(t,e,n,s);if(r===null)Dy(t,e,s,ax,n),_E(t,s);else if(F$(r,t,e,n,s))s.stopPropagation();else if(_E(t,s),e&4&&-1<O$.indexOf(t)){for(;r!==null;){var a=Im(r);if(a!==null&&Uk(a),a=pb(t,e,n,s),a===null&&Dy(t,e,s,ax,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else Dy(t,e,s,null,n)}}var ax=null;function pb(t,e,n,s){if(ax=null,t=$_(s),t=tc(t),t!==null)if(e=qc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ak(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ax=t,null}function qk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E$()){case U_:return 1;case Fk:return 4;case sx:case T$:return 16;case Lk:return 536870912;default:return 16}default:return 16}}var Ko=null,W_=null,Tg=null;function Gk(){if(Tg)return Tg;var t,e=W_,n=e.length,s,r="value"in Ko?Ko.value:Ko.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(s=1;s<=o&&e[n-s]===r[a-s];s++);return Tg=r.slice(t,1<s?1-s:void 0)}function Rg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wp(){return!0}function CE(){return!1}function Ar(t){function e(n,s,r,a,o){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wp:CE,this.isPropagationStopped=CE,this}return mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wp)},persist:function(){},isPersistent:Wp}),e}var Bd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q_=Ar(Bd),Pm=mn({},Bd,{view:0,detail:0}),U$=Ar(Pm),Cy,Sy,kh,Iv=mn({},Pm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:G_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kh&&(kh&&t.type==="mousemove"?(Cy=t.screenX-kh.screenX,Sy=t.screenY-kh.screenY):Sy=Cy=0,kh=t),Cy)},movementY:function(t){return"movementY"in t?t.movementY:Sy}}),SE=Ar(Iv),B$=mn({},Iv,{dataTransfer:0}),z$=Ar(B$),H$=mn({},Pm,{relatedTarget:0}),Ey=Ar(H$),W$=mn({},Bd,{animationName:0,elapsedTime:0,pseudoElement:0}),q$=Ar(W$),G$=mn({},Bd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K$=Ar(G$),Q$=mn({},Bd,{data:0}),EE=Ar(Q$),Y$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z$[t])?!!e[t]:!1}function G_(){return J$}var eU=mn({},Pm,{key:function(t){if(t.key){var e=Y$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:G_,charCode:function(t){return t.type==="keypress"?Rg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tU=Ar(eU),nU=mn({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),TE=Ar(nU),sU=mn({},Pm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:G_}),rU=Ar(sU),iU=mn({},Bd,{propertyName:0,elapsedTime:0,pseudoElement:0}),aU=Ar(iU),oU=mn({},Iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lU=Ar(oU),cU=[9,13,27,32],K_=Oa&&"CompositionEvent"in window,cf=null;Oa&&"documentMode"in document&&(cf=document.documentMode);var uU=Oa&&"TextEvent"in window&&!cf,Kk=Oa&&(!K_||cf&&8<cf&&11>=cf),RE=" ",PE=!1;function Qk(t,e){switch(t){case"keyup":return cU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ju=!1;function dU(t,e){switch(t){case"compositionend":return Yk(e);case"keypress":return e.which!==32?null:(PE=!0,RE);case"textInput":return t=e.data,t===RE&&PE?null:t;default:return null}}function hU(t,e){if(ju)return t==="compositionend"||!K_&&Qk(t,e)?(t=Gk(),Tg=W_=Ko=null,ju=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Kk&&e.locale!=="ko"?null:e.data;default:return null}}var fU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fU[t.type]:e==="textarea"}function Xk(t,e,n,s){Tk(s),e=ox(e,"onChange"),0<e.length&&(n=new q_("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var uf=null,zf=null;function mU(t){lA(t,0)}function kv(t){var e=Eu(t);if(bk(e))return t}function pU(t,e){if(t==="change")return e}var Zk=!1;if(Oa){var Ty;if(Oa){var Ry="oninput"in document;if(!Ry){var kE=document.createElement("div");kE.setAttribute("oninput","return;"),Ry=typeof kE.oninput=="function"}Ty=Ry}else Ty=!1;Zk=Ty&&(!document.documentMode||9<document.documentMode)}function AE(){uf&&(uf.detachEvent("onpropertychange",Jk),zf=uf=null)}function Jk(t){if(t.propertyName==="value"&&kv(zf)){var e=[];Xk(e,zf,t,$_(t)),kk(mU,e)}}function gU(t,e,n){t==="focusin"?(AE(),uf=e,zf=n,uf.attachEvent("onpropertychange",Jk)):t==="focusout"&&AE()}function xU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kv(zf)}function vU(t,e){if(t==="click")return kv(e)}function yU(t,e){if(t==="input"||t==="change")return kv(e)}function wU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vi=typeof Object.is=="function"?Object.is:wU;function Hf(t,e){if(vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!Xw.call(e,r)||!vi(t[r],e[r]))return!1}return!0}function DE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ME(t,e){var n=DE(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DE(n)}}function eA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tA(){for(var t=window,e=ex();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ex(t.document)}return e}function Q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function bU(t){var e=tA(),n=t.focusedElem,s=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eA(n.ownerDocument.documentElement,n)){if(s!==null&&Q_(n)){if(e=s.start,t=s.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(s.start,r);s=s.end===void 0?a:Math.min(s.end,r),!t.extend&&a>s&&(r=s,s=a,a=r),r=ME(n,a);var o=ME(n,s);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NU=Oa&&"documentMode"in document&&11>=document.documentMode,Cu=null,gb=null,df=null,xb=!1;function OE(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xb||Cu==null||Cu!==ex(s)||(s=Cu,"selectionStart"in s&&Q_(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),df&&Hf(df,s)||(df=s,s=ox(gb,"onSelect"),0<s.length&&(e=new q_("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Cu)))}function qp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Su={animationend:qp("Animation","AnimationEnd"),animationiteration:qp("Animation","AnimationIteration"),animationstart:qp("Animation","AnimationStart"),transitionend:qp("Transition","TransitionEnd")},Py={},nA={};Oa&&(nA=document.createElement("div").style,"AnimationEvent"in window||(delete Su.animationend.animation,delete Su.animationiteration.animation,delete Su.animationstart.animation),"TransitionEvent"in window||delete Su.transitionend.transition);function Av(t){if(Py[t])return Py[t];if(!Su[t])return t;var e=Su[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nA)return Py[t]=e[n];return t}var sA=Av("animationend"),rA=Av("animationiteration"),iA=Av("animationstart"),aA=Av("transitionend"),oA=new Map,FE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(t,e){oA.set(t,e),Wc(e,[t])}for(var Iy=0;Iy<FE.length;Iy++){var ky=FE[Iy],_U=ky.toLowerCase(),jU=ky[0].toUpperCase()+ky.slice(1);Pl(_U,"on"+jU)}Pl(sA,"onAnimationEnd");Pl(rA,"onAnimationIteration");Pl(iA,"onAnimationStart");Pl("dblclick","onDoubleClick");Pl("focusin","onFocus");Pl("focusout","onBlur");Pl(aA,"onTransitionEnd");gd("onMouseEnter",["mouseout","mouseover"]);gd("onMouseLeave",["mouseout","mouseover"]);gd("onPointerEnter",["pointerout","pointerover"]);gd("onPointerLeave",["pointerout","pointerover"]);Wc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qh));function LE(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,_$(s,e,void 0,t),t.currentTarget=null}function lA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var o=s.length-1;0<=o;o--){var l=s[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&r.isPropagationStopped())break e;LE(r,l,u),a=c}else for(o=0;o<s.length;o++){if(l=s[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&r.isPropagationStopped())break e;LE(r,l,u),a=c}}}if(nx)throw t=hb,nx=!1,hb=null,t}function Xt(t,e){var n=e[Nb];n===void 0&&(n=e[Nb]=new Set);var s=t+"__bubble";n.has(s)||(cA(e,t,2,!1),n.add(s))}function Ay(t,e,n){var s=0;e&&(s|=4),cA(n,t,s,e)}var Gp="_reactListening"+Math.random().toString(36).slice(2);function Wf(t){if(!t[Gp]){t[Gp]=!0,gk.forEach(function(n){n!=="selectionchange"&&(CU.has(n)||Ay(n,!1,t),Ay(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gp]||(e[Gp]=!0,Ay("selectionchange",!1,e))}}function cA(t,e,n,s){switch(qk(e)){case 1:var r=V$;break;case 4:r=$$;break;default:r=H_}n=r.bind(null,e,n,t),r=void 0,!db||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Dy(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var l=s.stateNode.containerInfo;if(l===r||l.nodeType===8&&l.parentNode===r)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;o=o.return}for(;l!==null;){if(o=tc(l),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}l=l.parentNode}}s=s.return}kk(function(){var u=a,d=$_(n),h=[];e:{var f=oA.get(t);if(f!==void 0){var g=q_,v=t;switch(t){case"keypress":if(Rg(n)===0)break e;case"keydown":case"keyup":g=tU;break;case"focusin":v="focus",g=Ey;break;case"focusout":v="blur",g=Ey;break;case"beforeblur":case"afterblur":g=Ey;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=SE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=z$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=rU;break;case sA:case rA:case iA:g=q$;break;case aA:g=aU;break;case"scroll":g=U$;break;case"wheel":g=lU;break;case"copy":case"cut":case"paste":g=K$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=TE}var x=(e&4)!==0,w=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var b=u,N;b!==null;){N=b;var E=N.stateNode;if(N.tag===5&&E!==null&&(N=E,y!==null&&(E=Vf(b,y),E!=null&&x.push(qf(b,E,N)))),w)break;b=b.return}0<x.length&&(f=new g(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==cb&&(v=n.relatedTarget||n.fromElement)&&(tc(v)||v[Fa]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?tc(v):null,v!==null&&(w=qc(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=SE,E="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=TE,E="onPointerLeave",y="onPointerEnter",b="pointer"),w=g==null?f:Eu(g),N=v==null?f:Eu(v),f=new x(E,b+"leave",g,n,d),f.target=w,f.relatedTarget=N,E=null,tc(d)===u&&(x=new x(y,b+"enter",v,n,d),x.target=N,x.relatedTarget=w,E=x),w=E,g&&v)t:{for(x=g,y=v,b=0,N=x;N;N=lu(N))b++;for(N=0,E=y;E;E=lu(E))N++;for(;0<b-N;)x=lu(x),b--;for(;0<N-b;)y=lu(y),N--;for(;b--;){if(x===y||y!==null&&x===y.alternate)break t;x=lu(x),y=lu(y)}x=null}else x=null;g!==null&&VE(h,f,g,x,!1),v!==null&&w!==null&&VE(h,w,v,x,!0)}}e:{if(f=u?Eu(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var I=pU;else if(IE(f))if(Zk)I=yU;else{I=xU;var A=gU}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(I=vU);if(I&&(I=I(t,u))){Xk(h,I,n,d);break e}A&&A(t,f,u),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&rb(f,"number",f.value)}switch(A=u?Eu(u):window,t){case"focusin":(IE(A)||A.contentEditable==="true")&&(Cu=A,gb=u,df=null);break;case"focusout":df=gb=Cu=null;break;case"mousedown":xb=!0;break;case"contextmenu":case"mouseup":case"dragend":xb=!1,OE(h,n,d);break;case"selectionchange":if(NU)break;case"keydown":case"keyup":OE(h,n,d)}var C;if(K_)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ju?Qk(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Kk&&n.locale!=="ko"&&(ju||_!=="onCompositionStart"?_==="onCompositionEnd"&&ju&&(C=Gk()):(Ko=d,W_="value"in Ko?Ko.value:Ko.textContent,ju=!0)),A=ox(u,_),0<A.length&&(_=new EE(_,t,null,n,d),h.push({event:_,listeners:A}),C?_.data=C:(C=Yk(n),C!==null&&(_.data=C)))),(C=uU?dU(t,n):hU(t,n))&&(u=ox(u,"onBeforeInput"),0<u.length&&(d=new EE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=C))}lA(h,e)})}function qf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ox(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=Vf(t,n),a!=null&&s.unshift(qf(t,a,r)),a=Vf(t,e),a!=null&&s.push(qf(t,a,r))),t=t.return}return s}function lu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function VE(t,e,n,s,r){for(var a=e._reactName,o=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===s)break;l.tag===5&&u!==null&&(l=u,r?(c=Vf(n,a),c!=null&&o.unshift(qf(n,c,l))):r||(c=Vf(n,a),c!=null&&o.push(qf(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SU=/\r\n?/g,EU=/\u0000|\uFFFD/g;function $E(t){return(typeof t=="string"?t:""+t).replace(SU,`
`).replace(EU,"")}function Kp(t,e,n){if(e=$E(e),$E(t)!==e&&n)throw Error(fe(425))}function lx(){}var vb=null,yb=null;function wb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bb=typeof setTimeout=="function"?setTimeout:void 0,TU=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,RU=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(t){return UE.resolve(null).then(t).catch(PU)}:bb;function PU(t){setTimeout(function(){throw t})}function My(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0){t.removeChild(r),Bf(e);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=r}while(n);Bf(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function BE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zd=Math.random().toString(36).slice(2),$i="__reactFiber$"+zd,Gf="__reactProps$"+zd,Fa="__reactContainer$"+zd,Nb="__reactEvents$"+zd,IU="__reactListeners$"+zd,kU="__reactHandles$"+zd;function tc(t){var e=t[$i];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fa]||n[$i]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=BE(t);t!==null;){if(n=t[$i])return n;t=BE(t)}return e}t=n,n=t.parentNode}return null}function Im(t){return t=t[$i]||t[Fa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fe(33))}function Dv(t){return t[Gf]||null}var _b=[],Tu=-1;function Il(t){return{current:t}}function Zt(t){0>Tu||(t.current=_b[Tu],_b[Tu]=null,Tu--)}function qt(t,e){Tu++,_b[Tu]=t.current,t.current=e}var gl={},js=Il(gl),nr=Il(!1),gc=gl;function xd(t,e){var n=t.type.contextTypes;if(!n)return gl;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function sr(t){return t=t.childContextTypes,t!=null}function cx(){Zt(nr),Zt(js)}function zE(t,e,n){if(js.current!==gl)throw Error(fe(168));qt(js,e),qt(nr,n)}function uA(t,e,n){var s=t.stateNode;if(e=e.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var r in s)if(!(r in e))throw Error(fe(108,g$(t)||"Unknown",r));return mn({},n,s)}function ux(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gl,gc=js.current,qt(js,t),qt(nr,nr.current),!0}function HE(t,e,n){var s=t.stateNode;if(!s)throw Error(fe(169));n?(t=uA(t,e,gc),s.__reactInternalMemoizedMergedChildContext=t,Zt(nr),Zt(js),qt(js,t)):Zt(nr),qt(nr,n)}var Ca=null,Mv=!1,Oy=!1;function dA(t){Ca===null?Ca=[t]:Ca.push(t)}function AU(t){Mv=!0,dA(t)}function kl(){if(!Oy&&Ca!==null){Oy=!0;var t=0,e=Ut;try{var n=Ca;for(Ut=1;t<n.length;t++){var s=n[t];do s=s(!0);while(s!==null)}Ca=null,Mv=!1}catch(r){throw Ca!==null&&(Ca=Ca.slice(t+1)),Ok(U_,kl),r}finally{Ut=e,Oy=!1}}return null}var Ru=[],Pu=0,dx=null,hx=0,Lr=[],Vr=0,xc=null,Ea=1,Ta="";function Ql(t,e){Ru[Pu++]=hx,Ru[Pu++]=dx,dx=t,hx=e}function hA(t,e,n){Lr[Vr++]=Ea,Lr[Vr++]=Ta,Lr[Vr++]=xc,xc=t;var s=Ea;t=Ta;var r=32-hi(s)-1;s&=~(1<<r),n+=1;var a=32-hi(e)+r;if(30<a){var o=r-r%5;a=(s&(1<<o)-1).toString(32),s>>=o,r-=o,Ea=1<<32-hi(e)+r|n<<r|s,Ta=a+t}else Ea=1<<a|n<<r|s,Ta=t}function Y_(t){t.return!==null&&(Ql(t,1),hA(t,1,0))}function X_(t){for(;t===dx;)dx=Ru[--Pu],Ru[Pu]=null,hx=Ru[--Pu],Ru[Pu]=null;for(;t===xc;)xc=Lr[--Vr],Lr[Vr]=null,Ta=Lr[--Vr],Lr[Vr]=null,Ea=Lr[--Vr],Lr[Vr]=null}var Sr=null,_r=null,nn=!1,ai=null;function fA(t,e){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Sr=t,_r=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Sr=t,_r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xc!==null?{id:Ea,overflow:Ta}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Sr=t,_r=null,!0):!1;default:return!1}}function jb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cb(t){if(nn){var e=_r;if(e){var n=e;if(!WE(t,e)){if(jb(t))throw Error(fe(418));e=sl(n.nextSibling);var s=Sr;e&&WE(t,e)?fA(s,n):(t.flags=t.flags&-4097|2,nn=!1,Sr=t)}}else{if(jb(t))throw Error(fe(418));t.flags=t.flags&-4097|2,nn=!1,Sr=t}}}function qE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Sr=t}function Qp(t){if(t!==Sr)return!1;if(!nn)return qE(t),nn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wb(t.type,t.memoizedProps)),e&&(e=_r)){if(jb(t))throw mA(),Error(fe(418));for(;e;)fA(t,e),e=sl(e.nextSibling)}if(qE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_r=sl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_r=null}}else _r=Sr?sl(t.stateNode.nextSibling):null;return!0}function mA(){for(var t=_r;t;)t=sl(t.nextSibling)}function vd(){_r=Sr=null,nn=!1}function Z_(t){ai===null?ai=[t]:ai.push(t)}var DU=to.ReactCurrentBatchConfig;function Ah(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(fe(309));var s=n.stateNode}if(!s)throw Error(fe(147,t));var r=s,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var l=r.refs;o===null?delete l[a]:l[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(fe(284));if(!n._owner)throw Error(fe(290,t))}return t}function Yp(t,e){throw t=Object.prototype.toString.call(e),Error(fe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GE(t){var e=t._init;return e(t._payload)}function pA(t){function e(y,b){if(t){var N=y.deletions;N===null?(y.deletions=[b],y.flags|=16):N.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function s(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function r(y,b){return y=ol(y,b),y.index=0,y.sibling=null,y}function a(y,b,N){return y.index=N,t?(N=y.alternate,N!==null?(N=N.index,N<b?(y.flags|=2,b):N):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,b,N,E){return b===null||b.tag!==6?(b=zy(N,y.mode,E),b.return=y,b):(b=r(b,N),b.return=y,b)}function c(y,b,N,E){var I=N.type;return I===_u?d(y,b,N.props.children,E,N.key):b!==null&&(b.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ro&&GE(I)===b.type)?(E=r(b,N.props),E.ref=Ah(y,b,N),E.return=y,E):(E=Og(N.type,N.key,N.props,null,y.mode,E),E.ref=Ah(y,b,N),E.return=y,E)}function u(y,b,N,E){return b===null||b.tag!==4||b.stateNode.containerInfo!==N.containerInfo||b.stateNode.implementation!==N.implementation?(b=Hy(N,y.mode,E),b.return=y,b):(b=r(b,N.children||[]),b.return=y,b)}function d(y,b,N,E,I){return b===null||b.tag!==7?(b=mc(N,y.mode,E,I),b.return=y,b):(b=r(b,N),b.return=y,b)}function h(y,b,N){if(typeof b=="string"&&b!==""||typeof b=="number")return b=zy(""+b,y.mode,N),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Vp:return N=Og(b.type,b.key,b.props,null,y.mode,N),N.ref=Ah(y,null,b),N.return=y,N;case Nu:return b=Hy(b,y.mode,N),b.return=y,b;case Ro:var E=b._init;return h(y,E(b._payload),N)}if(Gh(b)||Th(b))return b=mc(b,y.mode,N,null),b.return=y,b;Yp(y,b)}return null}function f(y,b,N,E){var I=b!==null?b.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return I!==null?null:l(y,b,""+N,E);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vp:return N.key===I?c(y,b,N,E):null;case Nu:return N.key===I?u(y,b,N,E):null;case Ro:return I=N._init,f(y,b,I(N._payload),E)}if(Gh(N)||Th(N))return I!==null?null:d(y,b,N,E,null);Yp(y,N)}return null}function g(y,b,N,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(N)||null,l(b,y,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Vp:return y=y.get(E.key===null?N:E.key)||null,c(b,y,E,I);case Nu:return y=y.get(E.key===null?N:E.key)||null,u(b,y,E,I);case Ro:var A=E._init;return g(y,b,N,A(E._payload),I)}if(Gh(E)||Th(E))return y=y.get(N)||null,d(b,y,E,I,null);Yp(b,E)}return null}function v(y,b,N,E){for(var I=null,A=null,C=b,_=b=0,S=null;C!==null&&_<N.length;_++){C.index>_?(S=C,C=null):S=C.sibling;var T=f(y,C,N[_],E);if(T===null){C===null&&(C=S);break}t&&C&&T.alternate===null&&e(y,C),b=a(T,b,_),A===null?I=T:A.sibling=T,A=T,C=S}if(_===N.length)return n(y,C),nn&&Ql(y,_),I;if(C===null){for(;_<N.length;_++)C=h(y,N[_],E),C!==null&&(b=a(C,b,_),A===null?I=C:A.sibling=C,A=C);return nn&&Ql(y,_),I}for(C=s(y,C);_<N.length;_++)S=g(C,y,_,N[_],E),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?_:S.key),b=a(S,b,_),A===null?I=S:A.sibling=S,A=S);return t&&C.forEach(function(k){return e(y,k)}),nn&&Ql(y,_),I}function x(y,b,N,E){var I=Th(N);if(typeof I!="function")throw Error(fe(150));if(N=I.call(N),N==null)throw Error(fe(151));for(var A=I=null,C=b,_=b=0,S=null,T=N.next();C!==null&&!T.done;_++,T=N.next()){C.index>_?(S=C,C=null):S=C.sibling;var k=f(y,C,T.value,E);if(k===null){C===null&&(C=S);break}t&&C&&k.alternate===null&&e(y,C),b=a(k,b,_),A===null?I=k:A.sibling=k,A=k,C=S}if(T.done)return n(y,C),nn&&Ql(y,_),I;if(C===null){for(;!T.done;_++,T=N.next())T=h(y,T.value,E),T!==null&&(b=a(T,b,_),A===null?I=T:A.sibling=T,A=T);return nn&&Ql(y,_),I}for(C=s(y,C);!T.done;_++,T=N.next())T=g(C,y,_,T.value,E),T!==null&&(t&&T.alternate!==null&&C.delete(T.key===null?_:T.key),b=a(T,b,_),A===null?I=T:A.sibling=T,A=T);return t&&C.forEach(function(D){return e(y,D)}),nn&&Ql(y,_),I}function w(y,b,N,E){if(typeof N=="object"&&N!==null&&N.type===_u&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Vp:e:{for(var I=N.key,A=b;A!==null;){if(A.key===I){if(I=N.type,I===_u){if(A.tag===7){n(y,A.sibling),b=r(A,N.props.children),b.return=y,y=b;break e}}else if(A.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ro&&GE(I)===A.type){n(y,A.sibling),b=r(A,N.props),b.ref=Ah(y,A,N),b.return=y,y=b;break e}n(y,A);break}else e(y,A);A=A.sibling}N.type===_u?(b=mc(N.props.children,y.mode,E,N.key),b.return=y,y=b):(E=Og(N.type,N.key,N.props,null,y.mode,E),E.ref=Ah(y,b,N),E.return=y,y=E)}return o(y);case Nu:e:{for(A=N.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===N.containerInfo&&b.stateNode.implementation===N.implementation){n(y,b.sibling),b=r(b,N.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=Hy(N,y.mode,E),b.return=y,y=b}return o(y);case Ro:return A=N._init,w(y,b,A(N._payload),E)}if(Gh(N))return v(y,b,N,E);if(Th(N))return x(y,b,N,E);Yp(y,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,b!==null&&b.tag===6?(n(y,b.sibling),b=r(b,N),b.return=y,y=b):(n(y,b),b=zy(N,y.mode,E),b.return=y,y=b),o(y)):n(y,b)}return w}var yd=pA(!0),gA=pA(!1),fx=Il(null),mx=null,Iu=null,J_=null;function ej(){J_=Iu=mx=null}function tj(t){var e=fx.current;Zt(fx),t._currentValue=e}function Sb(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Bu(t,e){mx=t,J_=Iu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tr=!0),t.firstContext=null)}function Gr(t){var e=t._currentValue;if(J_!==t)if(t={context:t,memoizedValue:e,next:null},Iu===null){if(mx===null)throw Error(fe(308));Iu=t,mx.dependencies={lanes:0,firstContext:t}}else Iu=Iu.next=t;return e}var nc=null;function nj(t){nc===null?nc=[t]:nc.push(t)}function xA(t,e,n,s){var r=e.interleaved;return r===null?(n.next=n,nj(e)):(n.next=r.next,r.next=n),e.interleaved=n,La(t,s)}function La(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Po=!1;function sj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vA(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ka(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rl(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,It&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,La(t,n)}return r=s.interleaved,r===null?(e.next=e,nj(s)):(e.next=r.next,r.next=e),s.interleaved=e,La(t,n)}function Pg(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,B_(t,n)}}function KE(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,effects:s.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function px(t,e,n,s){var r=t.updateQueue;Po=!1;var a=r.firstBaseUpdate,o=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=r.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,g=l.eventTime;if((s&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(f=e,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(g,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(g,h,f):v,f==null)break e;h=mn({},h,f);break e;case 2:Po=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[l]:f.push(l))}else g={eventTime:g,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,o|=f;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;f=l,l=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);yc|=o,t.lanes=o,t.memoizedState=h}}function QE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var s=t[e],r=s.callback;if(r!==null){if(s.callback=null,s=n,typeof r!="function")throw Error(fe(191,r));r.call(s)}}}var km={},qi=Il(km),Kf=Il(km),Qf=Il(km);function sc(t){if(t===km)throw Error(fe(174));return t}function rj(t,e){switch(qt(Qf,e),qt(Kf,t),qt(qi,km),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ab(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ab(e,t)}Zt(qi),qt(qi,e)}function wd(){Zt(qi),Zt(Kf),Zt(Qf)}function yA(t){sc(Qf.current);var e=sc(qi.current),n=ab(e,t.type);e!==n&&(qt(Kf,t),qt(qi,n))}function ij(t){Kf.current===t&&(Zt(qi),Zt(Kf))}var ln=Il(0);function gx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Fy=[];function aj(){for(var t=0;t<Fy.length;t++)Fy[t]._workInProgressVersionPrimary=null;Fy.length=0}var Ig=to.ReactCurrentDispatcher,Ly=to.ReactCurrentBatchConfig,vc=0,un=null,$n=null,Kn=null,xx=!1,hf=!1,Yf=0,MU=0;function ms(){throw Error(fe(321))}function oj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vi(t[n],e[n]))return!1;return!0}function lj(t,e,n,s,r,a){if(vc=a,un=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ig.current=t===null||t.memoizedState===null?VU:$U,t=n(s,r),hf){a=0;do{if(hf=!1,Yf=0,25<=a)throw Error(fe(301));a+=1,Kn=$n=null,e.updateQueue=null,Ig.current=UU,t=n(s,r)}while(hf)}if(Ig.current=vx,e=$n!==null&&$n.next!==null,vc=0,Kn=$n=un=null,xx=!1,e)throw Error(fe(300));return t}function cj(){var t=Yf!==0;return Yf=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?un.memoizedState=Kn=t:Kn=Kn.next=t,Kn}function Kr(){if($n===null){var t=un.alternate;t=t!==null?t.memoizedState:null}else t=$n.next;var e=Kn===null?un.memoizedState:Kn.next;if(e!==null)Kn=e,$n=t;else{if(t===null)throw Error(fe(310));$n=t,t={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Kn===null?un.memoizedState=Kn=t:Kn=Kn.next=t}return Kn}function Xf(t,e){return typeof e=="function"?e(t):e}function Vy(t){var e=Kr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var s=$n,r=s.baseQueue,a=n.pending;if(a!==null){if(r!==null){var o=r.next;r.next=a.next,a.next=o}s.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,s=s.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((vc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:t(s,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=s):c=c.next=h,un.lanes|=d,yc|=d}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=l,vi(s,e.memoizedState)||(tr=!0),e.memoizedState=s,e.baseState=o,e.baseQueue=c,n.lastRenderedState=s}if(t=n.interleaved,t!==null){r=t;do a=r.lane,un.lanes|=a,yc|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $y(t){var e=Kr(),n=e.queue;if(n===null)throw Error(fe(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do a=t(a,o.action),o=o.next;while(o!==r);vi(a,e.memoizedState)||(tr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function wA(){}function bA(t,e){var n=un,s=Kr(),r=e(),a=!vi(s.memoizedState,r);if(a&&(s.memoizedState=r,tr=!0),s=s.queue,uj(jA.bind(null,n,s,t),[t]),s.getSnapshot!==e||a||Kn!==null&&Kn.memoizedState.tag&1){if(n.flags|=2048,Zf(9,_A.bind(null,n,s,r,e),void 0,null),es===null)throw Error(fe(349));vc&30||NA(n,e,r)}return r}function NA(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _A(t,e,n,s){e.value=n,e.getSnapshot=s,CA(e)&&SA(t)}function jA(t,e,n){return n(function(){CA(e)&&SA(t)})}function CA(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vi(t,n)}catch{return!0}}function SA(t){var e=La(t,1);e!==null&&fi(e,t,1,-1)}function YE(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:t},e.queue=t,t=t.dispatch=LU.bind(null,un,t),[e.memoizedState,t]}function Zf(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},e=un.updateQueue,e===null?(e={lastEffect:null,stores:null},un.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t)),t}function EA(){return Kr().memoizedState}function kg(t,e,n,s){var r=Di();un.flags|=t,r.memoizedState=Zf(1|e,n,void 0,s===void 0?null:s)}function Ov(t,e,n,s){var r=Kr();s=s===void 0?null:s;var a=void 0;if($n!==null){var o=$n.memoizedState;if(a=o.destroy,s!==null&&oj(s,o.deps)){r.memoizedState=Zf(e,n,a,s);return}}un.flags|=t,r.memoizedState=Zf(1|e,n,a,s)}function XE(t,e){return kg(8390656,8,t,e)}function uj(t,e){return Ov(2048,8,t,e)}function TA(t,e){return Ov(4,2,t,e)}function RA(t,e){return Ov(4,4,t,e)}function PA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IA(t,e,n){return n=n!=null?n.concat([t]):null,Ov(4,4,PA.bind(null,e,t),n)}function dj(){}function kA(t,e){var n=Kr();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&oj(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function AA(t,e){var n=Kr();e=e===void 0?null:e;var s=n.memoizedState;return s!==null&&e!==null&&oj(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function DA(t,e,n){return vc&21?(vi(n,e)||(n=Vk(),un.lanes|=n,yc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tr=!0),t.memoizedState=n)}function OU(t,e){var n=Ut;Ut=n!==0&&4>n?n:4,t(!0);var s=Ly.transition;Ly.transition={};try{t(!1),e()}finally{Ut=n,Ly.transition=s}}function MA(){return Kr().memoizedState}function FU(t,e,n){var s=al(t);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},OA(t))FA(e,n);else if(n=xA(t,e,n,s),n!==null){var r=Ms();fi(n,t,s,r),LA(n,e,s)}}function LU(t,e,n){var s=al(t),r={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(OA(t))FA(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,n);if(r.hasEagerState=!0,r.eagerState=l,vi(l,o)){var c=e.interleaved;c===null?(r.next=r,nj(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=xA(t,e,r,s),n!==null&&(r=Ms(),fi(n,t,s,r),LA(n,e,s))}}function OA(t){var e=t.alternate;return t===un||e!==null&&e===un}function FA(t,e){hf=xx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function LA(t,e,n){if(n&4194240){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,B_(t,n)}}var vx={readContext:Gr,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},VU={readContext:Gr,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Gr,useEffect:XE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,kg(4194308,4,PA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kg(4194308,4,t,e)},useInsertionEffect:function(t,e){return kg(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=Di();return e=n!==void 0?n(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=FU.bind(null,un,t),[s.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:YE,useDebugValue:dj,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=YE(!1),e=t[0];return t=OU.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var s=un,r=Di();if(nn){if(n===void 0)throw Error(fe(407));n=n()}else{if(n=e(),es===null)throw Error(fe(349));vc&30||NA(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,XE(jA.bind(null,s,a,t),[t]),s.flags|=2048,Zf(9,_A.bind(null,s,a,n,e),void 0,null),n},useId:function(){var t=Di(),e=es.identifierPrefix;if(nn){var n=Ta,s=Ea;n=(s&~(1<<32-hi(s)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MU++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$U={readContext:Gr,useCallback:kA,useContext:Gr,useEffect:uj,useImperativeHandle:IA,useInsertionEffect:TA,useLayoutEffect:RA,useMemo:AA,useReducer:Vy,useRef:EA,useState:function(){return Vy(Xf)},useDebugValue:dj,useDeferredValue:function(t){var e=Kr();return DA(e,$n.memoizedState,t)},useTransition:function(){var t=Vy(Xf)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:wA,useSyncExternalStore:bA,useId:MA,unstable_isNewReconciler:!1},UU={readContext:Gr,useCallback:kA,useContext:Gr,useEffect:uj,useImperativeHandle:IA,useInsertionEffect:TA,useLayoutEffect:RA,useMemo:AA,useReducer:$y,useRef:EA,useState:function(){return $y(Xf)},useDebugValue:dj,useDeferredValue:function(t){var e=Kr();return $n===null?e.memoizedState=t:DA(e,$n.memoizedState,t)},useTransition:function(){var t=$y(Xf)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:wA,useSyncExternalStore:bA,useId:MA,unstable_isNewReconciler:!1};function si(t,e){if(t&&t.defaultProps){e=mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Eb(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fv={isMounted:function(t){return(t=t._reactInternals)?qc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ms(),r=al(t),a=ka(s,r);a.payload=e,n!=null&&(a.callback=n),e=rl(t,a,r),e!==null&&(fi(e,t,r,s),Pg(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ms(),r=al(t),a=ka(s,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=rl(t,a,r),e!==null&&(fi(e,t,r,s),Pg(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ms(),s=al(t),r=ka(n,s);r.tag=2,e!=null&&(r.callback=e),e=rl(t,r,s),e!==null&&(fi(e,t,s,n),Pg(e,t,s))}};function ZE(t,e,n,s,r,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,o):e.prototype&&e.prototype.isPureReactComponent?!Hf(n,s)||!Hf(r,a):!0}function VA(t,e,n){var s=!1,r=gl,a=e.contextType;return typeof a=="object"&&a!==null?a=Gr(a):(r=sr(e)?gc:js.current,s=e.contextTypes,a=(s=s!=null)?xd(t,r):gl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fv,t.stateNode=e,e._reactInternals=t,s&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function JE(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Fv.enqueueReplaceState(e,e.state,null)}function Tb(t,e,n,s){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},sj(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=Gr(a):(a=sr(e)?gc:js.current,r.context=xd(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Eb(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Fv.enqueueReplaceState(r,r.state,null),px(t,n,r,s),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function bd(t,e){try{var n="",s=e;do n+=p$(s),s=s.return;while(s);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function Uy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BU=typeof WeakMap=="function"?WeakMap:Map;function $A(t,e,n){n=ka(-1,n),n.tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){wx||(wx=!0,Vb=s),Rb(t,e)},n}function UA(t,e,n){n=ka(-1,n),n.tag=3;var s=t.type.getDerivedStateFromError;if(typeof s=="function"){var r=e.value;n.payload=function(){return s(r)},n.callback=function(){Rb(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Rb(t,e),typeof s!="function"&&(il===null?il=new Set([this]):il.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function eT(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new BU;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(r.add(n),t=n7.bind(null,t,e,n),e.then(t,t))}function tT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function nT(t,e,n,s,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ka(-1,1),e.tag=2,rl(n,e,1))),n.lanes|=1),t)}var zU=to.ReactCurrentOwner,tr=!1;function Is(t,e,n,s){e.child=t===null?gA(e,null,n,s):yd(e,t.child,n,s)}function sT(t,e,n,s,r){n=n.render;var a=e.ref;return Bu(e,r),s=lj(t,e,n,s,a,r),n=cj(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Va(t,e,r)):(nn&&n&&Y_(e),e.flags|=1,Is(t,e,s,r),e.child)}function rT(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!yj(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,BA(t,e,a,s,r)):(t=Og(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hf,n(o,s)&&t.ref===e.ref)return Va(t,e,r)}return e.flags|=1,t=ol(a,s),t.ref=e.ref,t.return=e,e.child=t}function BA(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(Hf(a,s)&&t.ref===e.ref)if(tr=!1,e.pendingProps=s=a,(t.lanes&r)!==0)t.flags&131072&&(tr=!0);else return e.lanes=t.lanes,Va(t,e,r)}return Pb(t,e,n,s,r)}function zA(t,e,n){var s=e.pendingProps,r=s.children,a=t!==null?t.memoizedState:null;if(s.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qt(Au,br),br|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qt(Au,br),br|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,qt(Au,br),br|=s}else a!==null?(s=a.baseLanes|n,e.memoizedState=null):s=n,qt(Au,br),br|=s;return Is(t,e,r,n),e.child}function HA(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pb(t,e,n,s,r){var a=sr(n)?gc:js.current;return a=xd(e,a),Bu(e,r),n=lj(t,e,n,s,a,r),s=cj(),t!==null&&!tr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Va(t,e,r)):(nn&&s&&Y_(e),e.flags|=1,Is(t,e,n,r),e.child)}function iT(t,e,n,s,r){if(sr(n)){var a=!0;ux(e)}else a=!1;if(Bu(e,r),e.stateNode===null)Ag(t,e),VA(e,n,s),Tb(e,n,s,r),s=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Gr(u):(u=sr(n)?gc:js.current,u=xd(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==s||c!==u)&&JE(e,o,s,u),Po=!1;var f=e.memoizedState;o.state=f,px(e,s,o,r),c=e.memoizedState,l!==s||f!==c||nr.current||Po?(typeof d=="function"&&(Eb(e,n,d,s),c=e.memoizedState),(l=Po||ZE(e,n,l,s,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=c),o.props=s,o.state=c,o.context=u,s=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,vA(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:si(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Gr(c):(c=sr(n)?gc:js.current,c=xd(e,c));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&JE(e,o,s,c),Po=!1,f=e.memoizedState,o.state=f,px(e,s,o,r);var v=e.memoizedState;l!==h||f!==v||nr.current||Po?(typeof g=="function"&&(Eb(e,n,g,s),v=e.memoizedState),(u=Po||ZE(e,n,u,s,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=v),o.props=s,o.state=v,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),s=!1)}return Ib(t,e,n,s,a,r)}function Ib(t,e,n,s,r,a){HA(t,e);var o=(e.flags&128)!==0;if(!s&&!o)return r&&HE(e,n,!1),Va(t,e,a);s=e.stateNode,zU.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return e.flags|=1,t!==null&&o?(e.child=yd(e,t.child,null,a),e.child=yd(e,null,l,a)):Is(t,e,l,a),e.memoizedState=s.state,r&&HE(e,n,!0),e.child}function WA(t){var e=t.stateNode;e.pendingContext?zE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zE(t,e.context,!1),rj(t,e.containerInfo)}function aT(t,e,n,s,r){return vd(),Z_(r),e.flags|=256,Is(t,e,n,s),e.child}var kb={dehydrated:null,treeContext:null,retryLane:0};function Ab(t){return{baseLanes:t,cachePool:null,transitions:null}}function qA(t,e,n){var s=e.pendingProps,r=ln.current,a=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(r&2)!==0),l?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qt(ln,r&1),t===null)return Cb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=s.children,t=s.fallback,a?(s=e.mode,a=e.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=$v(o,s,0,null),t=mc(t,s,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Ab(n),e.memoizedState=kb,t):hj(e,o));if(r=t.memoizedState,r!==null&&(l=r.dehydrated,l!==null))return HU(t,e,o,s,l,r,n);if(a){a=s.fallback,o=e.mode,r=t.child,l=r.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&e.child!==r?(s=e.child,s.childLanes=0,s.pendingProps=c,e.deletions=null):(s=ol(r,c),s.subtreeFlags=r.subtreeFlags&14680064),l!==null?a=ol(l,a):(a=mc(a,o,n,null),a.flags|=2),a.return=e,s.return=e,s.sibling=a,e.child=s,s=a,a=e.child,o=t.child.memoizedState,o=o===null?Ab(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=kb,s}return a=t.child,t=a.sibling,s=ol(a,{mode:"visible",children:s.children}),!(e.mode&1)&&(s.lanes=n),s.return=e,s.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=s,e.memoizedState=null,s}function hj(t,e){return e=$v({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xp(t,e,n,s){return s!==null&&Z_(s),yd(e,t.child,null,n),t=hj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function HU(t,e,n,s,r,a,o){if(n)return e.flags&256?(e.flags&=-257,s=Uy(Error(fe(422))),Xp(t,e,o,s)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=s.fallback,r=e.mode,s=$v({mode:"visible",children:s.children},r,0,null),a=mc(a,r,o,null),a.flags|=2,s.return=e,a.return=e,s.sibling=a,e.child=s,e.mode&1&&yd(e,t.child,null,o),e.child.memoizedState=Ab(o),e.memoizedState=kb,a);if(!(e.mode&1))return Xp(t,e,o,null);if(r.data==="$!"){if(s=r.nextSibling&&r.nextSibling.dataset,s)var l=s.dgst;return s=l,a=Error(fe(419)),s=Uy(a,s,void 0),Xp(t,e,o,s)}if(l=(o&t.childLanes)!==0,tr||l){if(s=es,s!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(s.suspendedLanes|o)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,La(t,r),fi(s,t,r,-1))}return vj(),s=Uy(Error(fe(421))),Xp(t,e,o,s)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=s7.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,_r=sl(r.nextSibling),Sr=e,nn=!0,ai=null,t!==null&&(Lr[Vr++]=Ea,Lr[Vr++]=Ta,Lr[Vr++]=xc,Ea=t.id,Ta=t.overflow,xc=e),e=hj(e,s.children),e.flags|=4096,e)}function oT(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Sb(t.return,e,n)}function By(t,e,n,s,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r)}function GA(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;if(Is(t,e,s.children,n),s=ln.current,s&2)s=s&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&oT(t,n,e);else if(t.tag===19)oT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(qt(ln,s),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&gx(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),By(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&gx(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}By(e,!0,n,null,a);break;case"together":By(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ag(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Va(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(fe(153));if(e.child!==null){for(t=e.child,n=ol(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WU(t,e,n){switch(e.tag){case 3:WA(e),vd();break;case 5:yA(e);break;case 1:sr(e.type)&&ux(e);break;case 4:rj(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,r=e.memoizedProps.value;qt(fx,s._currentValue),s._currentValue=r;break;case 13:if(s=e.memoizedState,s!==null)return s.dehydrated!==null?(qt(ln,ln.current&1),e.flags|=128,null):n&e.child.childLanes?qA(t,e,n):(qt(ln,ln.current&1),t=Va(t,e,n),t!==null?t.sibling:null);qt(ln,ln.current&1);break;case 19:if(s=(n&e.childLanes)!==0,t.flags&128){if(s)return GA(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qt(ln,ln.current),s)break;return null;case 22:case 23:return e.lanes=0,zA(t,e,n)}return Va(t,e,n)}var KA,Db,QA,YA;KA=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Db=function(){};QA=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,sc(qi.current);var a=null;switch(n){case"input":r=nb(t,r),s=nb(t,s),a=[];break;case"select":r=mn({},r,{value:void 0}),s=mn({},s,{value:void 0}),a=[];break;case"textarea":r=ib(t,r),s=ib(t,s),a=[];break;default:typeof r.onClick!="function"&&typeof s.onClick=="function"&&(t.onclick=lx)}ob(n,s);var o;n=null;for(u in r)if(!s.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ff.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(l=r!=null?r[u]:void 0,s.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ff.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xt("scroll",t),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};YA=function(t,e,n,s){n!==s&&(e.flags|=4)};function Dh(t,e){if(!nn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ps(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&14680064,s|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function qU(t,e,n){var s=e.pendingProps;switch(X_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(e),null;case 1:return sr(e.type)&&cx(),ps(e),null;case 3:return s=e.stateNode,wd(),Zt(nr),Zt(js),aj(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Qp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(Bb(ai),ai=null))),Db(t,e),ps(e),null;case 5:ij(e);var r=sc(Qf.current);if(n=e.type,t!==null&&e.stateNode!=null)QA(t,e,n,s,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(e.stateNode===null)throw Error(fe(166));return ps(e),null}if(t=sc(qi.current),Qp(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[$i]=e,s[Gf]=a,t=(e.mode&1)!==0,n){case"dialog":Xt("cancel",s),Xt("close",s);break;case"iframe":case"object":case"embed":Xt("load",s);break;case"video":case"audio":for(r=0;r<Qh.length;r++)Xt(Qh[r],s);break;case"source":Xt("error",s);break;case"img":case"image":case"link":Xt("error",s),Xt("load",s);break;case"details":Xt("toggle",s);break;case"input":gE(s,a),Xt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Xt("invalid",s);break;case"textarea":vE(s,a),Xt("invalid",s)}ob(n,a),r=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?s.textContent!==l&&(a.suppressHydrationWarning!==!0&&Kp(s.textContent,l,t),r=["children",l]):typeof l=="number"&&s.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Kp(s.textContent,l,t),r=["children",""+l]):Ff.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xt("scroll",s)}switch(n){case"input":$p(s),xE(s,a,!0);break;case"textarea":$p(s),yE(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=lx)}s=r,e.updateQueue=s,s!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof s.is=="string"?t=o.createElement(n,{is:s.is}):(t=o.createElement(n),n==="select"&&(o=t,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):t=o.createElementNS(t,n),t[$i]=e,t[Gf]=s,KA(t,e,!1,!1),e.stateNode=t;e:{switch(o=lb(n,s),n){case"dialog":Xt("cancel",t),Xt("close",t),r=s;break;case"iframe":case"object":case"embed":Xt("load",t),r=s;break;case"video":case"audio":for(r=0;r<Qh.length;r++)Xt(Qh[r],t);r=s;break;case"source":Xt("error",t),r=s;break;case"img":case"image":case"link":Xt("error",t),Xt("load",t),r=s;break;case"details":Xt("toggle",t),r=s;break;case"input":gE(t,s),r=nb(t,s),Xt("invalid",t);break;case"option":r=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=mn({},s,{value:void 0}),Xt("invalid",t);break;case"textarea":vE(t,s),r=ib(t,s),Xt("invalid",t);break;default:r=s}ob(n,r),l=r;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Ek(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ck(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lf(t,c):typeof c=="number"&&Lf(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ff.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xt("scroll",t):c!=null&&O_(t,a,c,o))}switch(n){case"input":$p(t),xE(t,s,!1);break;case"textarea":$p(t),yE(t);break;case"option":s.value!=null&&t.setAttribute("value",""+pl(s.value));break;case"select":t.multiple=!!s.multiple,a=s.value,a!=null?Lu(t,!!s.multiple,a,!1):s.defaultValue!=null&&Lu(t,!!s.multiple,s.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=lx)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ps(e),null;case 6:if(t&&e.stateNode!=null)YA(t,e,t.memoizedProps,s);else{if(typeof s!="string"&&e.stateNode===null)throw Error(fe(166));if(n=sc(Qf.current),sc(qi.current),Qp(e)){if(s=e.stateNode,n=e.memoizedProps,s[$i]=e,(a=s.nodeValue!==n)&&(t=Sr,t!==null))switch(t.tag){case 3:Kp(s.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kp(s.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[$i]=e,e.stateNode=s}return ps(e),null;case 13:if(Zt(ln),s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nn&&_r!==null&&e.mode&1&&!(e.flags&128))mA(),vd(),e.flags|=98560,a=!1;else if(a=Qp(e),s!==null&&s.dehydrated!==null){if(t===null){if(!a)throw Error(fe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[$i]=e}else vd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ps(e),a=!1}else ai!==null&&(Bb(ai),ai=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(s=s!==null,s!==(t!==null&&t.memoizedState!==null)&&s&&(e.child.flags|=8192,e.mode&1&&(t===null||ln.current&1?Bn===0&&(Bn=3):vj())),e.updateQueue!==null&&(e.flags|=4),ps(e),null);case 4:return wd(),Db(t,e),t===null&&Wf(e.stateNode.containerInfo),ps(e),null;case 10:return tj(e.type._context),ps(e),null;case 17:return sr(e.type)&&cx(),ps(e),null;case 19:if(Zt(ln),a=e.memoizedState,a===null)return ps(e),null;if(s=(e.flags&128)!==0,o=a.rendering,o===null)if(s)Dh(a,!1);else{if(Bn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gx(t),o!==null){for(e.flags|=128,Dh(a,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=n,n=e.child;n!==null;)a=n,t=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qt(ln,ln.current&1|2),e.child}t=t.sibling}a.tail!==null&&Tn()>Nd&&(e.flags|=128,s=!0,Dh(a,!1),e.lanes=4194304)}else{if(!s)if(t=gx(o),t!==null){if(e.flags|=128,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Dh(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!nn)return ps(e),null}else 2*Tn()-a.renderingStartTime>Nd&&n!==1073741824&&(e.flags|=128,s=!0,Dh(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Tn(),e.sibling=null,n=ln.current,qt(ln,s?n&1|2:n&1),e):(ps(e),null);case 22:case 23:return xj(),s=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==s&&(e.flags|=8192),s&&e.mode&1?br&1073741824&&(ps(e),e.subtreeFlags&6&&(e.flags|=8192)):ps(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function GU(t,e){switch(X_(e),e.tag){case 1:return sr(e.type)&&cx(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wd(),Zt(nr),Zt(js),aj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ij(e),null;case 13:if(Zt(ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));vd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Zt(ln),null;case 4:return wd(),null;case 10:return tj(e.type._context),null;case 22:case 23:return xj(),null;case 24:return null;default:return null}}var Zp=!1,ws=!1,KU=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function ku(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){wn(t,e,s)}else n.current=null}function Mb(t,e,n){try{n()}catch(s){wn(t,e,s)}}var lT=!1;function QU(t,e){if(vb=ix,t=tA(),Q_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(l=o+r),h!==a||s!==0&&h.nodeType!==3||(c=o+s),h.nodeType===3&&(o+=h.nodeValue.length),(g=h.firstChild)!==null;)f=h,h=g;for(;;){if(h===t)break t;if(f===n&&++u===r&&(l=o),f===a&&++d===s&&(c=o),(g=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yb={focusedElem:t,selectionRange:n},ix=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:si(e.type,x),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(E){wn(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return v=lT,lT=!1,v}function ff(t,e,n){var s=e.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&Mb(e,n,a)}r=r.next}while(r!==s)}}function Lv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var s=n.create;n.destroy=s()}n=n.next}while(n!==e)}}function Ob(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XA(t){var e=t.alternate;e!==null&&(t.alternate=null,XA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$i],delete e[Gf],delete e[Nb],delete e[IU],delete e[kU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZA(t){return t.tag===5||t.tag===3||t.tag===4}function cT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fb(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=lx));else if(s!==4&&(t=t.child,t!==null))for(Fb(t,e,n),t=t.sibling;t!==null;)Fb(t,e,n),t=t.sibling}function Lb(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(t=t.child,t!==null))for(Lb(t,e,n),t=t.sibling;t!==null;)Lb(t,e,n),t=t.sibling}var ss=null,ii=!1;function wo(t,e,n){for(n=n.child;n!==null;)JA(t,e,n),n=n.sibling}function JA(t,e,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(Pv,n)}catch{}switch(n.tag){case 5:ws||ku(n,e);case 6:var s=ss,r=ii;ss=null,wo(t,e,n),ss=s,ii=r,ss!==null&&(ii?(t=ss,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ss.removeChild(n.stateNode));break;case 18:ss!==null&&(ii?(t=ss,n=n.stateNode,t.nodeType===8?My(t.parentNode,n):t.nodeType===1&&My(t,n),Bf(t)):My(ss,n.stateNode));break;case 4:s=ss,r=ii,ss=n.stateNode.containerInfo,ii=!0,wo(t,e,n),ss=s,ii=r;break;case 0:case 11:case 14:case 15:if(!ws&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){r=s=s.next;do{var a=r,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Mb(n,e,o),r=r.next}while(r!==s)}wo(t,e,n);break;case 1:if(!ws&&(ku(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(l){wn(n,e,l)}wo(t,e,n);break;case 21:wo(t,e,n);break;case 22:n.mode&1?(ws=(s=ws)||n.memoizedState!==null,wo(t,e,n),ws=s):wo(t,e,n);break;default:wo(t,e,n)}}function uT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new KU),e.forEach(function(s){var r=r7.bind(null,t,s);n.has(s)||(n.add(s),s.then(r,r))})}}function ti(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s];try{var a=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ss=l.stateNode,ii=!1;break e;case 3:ss=l.stateNode.containerInfo,ii=!0;break e;case 4:ss=l.stateNode.containerInfo,ii=!0;break e}l=l.return}if(ss===null)throw Error(fe(160));JA(a,o,r),ss=null,ii=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){wn(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e2(e,t),e=e.sibling}function e2(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ti(e,t),Ai(t),s&4){try{ff(3,t,t.return),Lv(3,t)}catch(x){wn(t,t.return,x)}try{ff(5,t,t.return)}catch(x){wn(t,t.return,x)}}break;case 1:ti(e,t),Ai(t),s&512&&n!==null&&ku(n,n.return);break;case 5:if(ti(e,t),Ai(t),s&512&&n!==null&&ku(n,n.return),t.flags&32){var r=t.stateNode;try{Lf(r,"")}catch(x){wn(t,t.return,x)}}if(s&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Nk(r,a),lb(l,o);var u=lb(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Ek(r,h):d==="dangerouslySetInnerHTML"?Ck(r,h):d==="children"?Lf(r,h):O_(r,d,h,u)}switch(l){case"input":sb(r,a);break;case"textarea":_k(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?Lu(r,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?Lu(r,!!a.multiple,a.defaultValue,!0):Lu(r,!!a.multiple,a.multiple?[]:"",!1))}r[Gf]=a}catch(x){wn(t,t.return,x)}}break;case 6:if(ti(e,t),Ai(t),s&4){if(t.stateNode===null)throw Error(fe(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(x){wn(t,t.return,x)}}break;case 3:if(ti(e,t),Ai(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Bf(e.containerInfo)}catch(x){wn(t,t.return,x)}break;case 4:ti(e,t),Ai(t);break;case 13:ti(e,t),Ai(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(pj=Tn())),s&4&&uT(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ws=(u=ws)||d,ti(e,t),ws=u):ti(e,t),Ai(t),s&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ie=t,d=t.child;d!==null;){for(h=Ie=d;Ie!==null;){switch(f=Ie,g=f.child,f.tag){case 0:case 11:case 14:case 15:ff(4,f,f.return);break;case 1:ku(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,n=f.return;try{e=s,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){wn(s,n,x)}}break;case 5:ku(f,f.return);break;case 22:if(f.memoizedState!==null){hT(h);continue}}g!==null?(g.return=f,Ie=g):hT(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Sk("display",o))}catch(x){wn(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){wn(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ti(e,t),Ai(t),s&4&&uT(t);break;case 21:break;default:ti(e,t),Ai(t)}}function Ai(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZA(n)){var s=n;break e}n=n.return}throw Error(fe(160))}switch(s.tag){case 5:var r=s.stateNode;s.flags&32&&(Lf(r,""),s.flags&=-33);var a=cT(t);Lb(t,a,r);break;case 3:case 4:var o=s.stateNode.containerInfo,l=cT(t);Fb(t,l,o);break;default:throw Error(fe(161))}}catch(c){wn(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YU(t,e,n){Ie=t,t2(t)}function t2(t,e,n){for(var s=(t.mode&1)!==0;Ie!==null;){var r=Ie,a=r.child;if(r.tag===22&&s){var o=r.memoizedState!==null||Zp;if(!o){var l=r.alternate,c=l!==null&&l.memoizedState!==null||ws;l=Zp;var u=ws;if(Zp=o,(ws=c)&&!u)for(Ie=r;Ie!==null;)o=Ie,c=o.child,o.tag===22&&o.memoizedState!==null?fT(r):c!==null?(c.return=o,Ie=c):fT(r);for(;a!==null;)Ie=a,t2(a),a=a.sibling;Ie=r,Zp=l,ws=u}dT(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,Ie=a):dT(t)}}function dT(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ws||Lv(5,e);break;case 1:var s=e.stateNode;if(e.flags&4&&!ws)if(n===null)s.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:si(e.type,n.memoizedProps);s.componentDidUpdate(r,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&QE(e,a,s);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QE(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Bf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}ws||e.flags&512&&Ob(e)}catch(f){wn(e,e.return,f)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function hT(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function fT(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lv(4,e)}catch(c){wn(e,n,c)}break;case 1:var s=e.stateNode;if(typeof s.componentDidMount=="function"){var r=e.return;try{s.componentDidMount()}catch(c){wn(e,r,c)}}var a=e.return;try{Ob(e)}catch(c){wn(e,a,c)}break;case 5:var o=e.return;try{Ob(e)}catch(c){wn(e,o,c)}}}catch(c){wn(e,e.return,c)}if(e===t){Ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ie=l;break}Ie=e.return}}var XU=Math.ceil,yx=to.ReactCurrentDispatcher,fj=to.ReactCurrentOwner,Br=to.ReactCurrentBatchConfig,It=0,es=null,Mn=null,as=0,br=0,Au=Il(0),Bn=0,Jf=null,yc=0,Vv=0,mj=0,mf=null,er=null,pj=0,Nd=1/0,_a=null,wx=!1,Vb=null,il=null,Jp=!1,Qo=null,bx=0,pf=0,$b=null,Dg=-1,Mg=0;function Ms(){return It&6?Tn():Dg!==-1?Dg:Dg=Tn()}function al(t){return t.mode&1?It&2&&as!==0?as&-as:DU.transition!==null?(Mg===0&&(Mg=Vk()),Mg):(t=Ut,t!==0||(t=window.event,t=t===void 0?16:qk(t.type)),t):1}function fi(t,e,n,s){if(50<pf)throw pf=0,$b=null,Error(fe(185));Rm(t,n,s),(!(It&2)||t!==es)&&(t===es&&(!(It&2)&&(Vv|=n),Bn===4&&ko(t,as)),rr(t,s),n===1&&It===0&&!(e.mode&1)&&(Nd=Tn()+500,Mv&&kl()))}function rr(t,e){var n=t.callbackNode;D$(t,e);var s=rx(t,t===es?as:0);if(s===0)n!==null&&NE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(n!=null&&NE(n),e===1)t.tag===0?AU(mT.bind(null,t)):dA(mT.bind(null,t)),RU(function(){!(It&6)&&kl()}),n=null;else{switch($k(s)){case 1:n=U_;break;case 4:n=Fk;break;case 16:n=sx;break;case 536870912:n=Lk;break;default:n=sx}n=c2(n,n2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n2(t,e){if(Dg=-1,Mg=0,It&6)throw Error(fe(327));var n=t.callbackNode;if(zu()&&t.callbackNode!==n)return null;var s=rx(t,t===es?as:0);if(s===0)return null;if(s&30||s&t.expiredLanes||e)e=Nx(t,s);else{e=s;var r=It;It|=2;var a=r2();(es!==t||as!==e)&&(_a=null,Nd=Tn()+500,fc(t,e));do try{e7();break}catch(l){s2(t,l)}while(!0);ej(),yx.current=a,It=r,Mn!==null?e=0:(es=null,as=0,e=Bn)}if(e!==0){if(e===2&&(r=fb(t),r!==0&&(s=r,e=Ub(t,r))),e===1)throw n=Jf,fc(t,0),ko(t,s),rr(t,Tn()),n;if(e===6)ko(t,s);else{if(r=t.current.alternate,!(s&30)&&!ZU(r)&&(e=Nx(t,s),e===2&&(a=fb(t),a!==0&&(s=a,e=Ub(t,a))),e===1))throw n=Jf,fc(t,0),ko(t,s),rr(t,Tn()),n;switch(t.finishedWork=r,t.finishedLanes=s,e){case 0:case 1:throw Error(fe(345));case 2:Yl(t,er,_a);break;case 3:if(ko(t,s),(s&130023424)===s&&(e=pj+500-Tn(),10<e)){if(rx(t,0)!==0)break;if(r=t.suspendedLanes,(r&s)!==s){Ms(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=bb(Yl.bind(null,t,er,_a),e);break}Yl(t,er,_a);break;case 4:if(ko(t,s),(s&4194240)===s)break;for(e=t.eventTimes,r=-1;0<s;){var o=31-hi(s);a=1<<o,o=e[o],o>r&&(r=o),s&=~a}if(s=r,s=Tn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*XU(s/1960))-s,10<s){t.timeoutHandle=bb(Yl.bind(null,t,er,_a),s);break}Yl(t,er,_a);break;case 5:Yl(t,er,_a);break;default:throw Error(fe(329))}}}return rr(t,Tn()),t.callbackNode===n?n2.bind(null,t):null}function Ub(t,e){var n=mf;return t.current.memoizedState.isDehydrated&&(fc(t,e).flags|=256),t=Nx(t,e),t!==2&&(e=er,er=n,e!==null&&Bb(e)),t}function Bb(t){er===null?er=t:er.push.apply(er,t)}function ZU(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!vi(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ko(t,e){for(e&=~mj,e&=~Vv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-hi(e),s=1<<n;t[n]=-1,e&=~s}}function mT(t){if(It&6)throw Error(fe(327));zu();var e=rx(t,0);if(!(e&1))return rr(t,Tn()),null;var n=Nx(t,e);if(t.tag!==0&&n===2){var s=fb(t);s!==0&&(e=s,n=Ub(t,s))}if(n===1)throw n=Jf,fc(t,0),ko(t,e),rr(t,Tn()),n;if(n===6)throw Error(fe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yl(t,er,_a),rr(t,Tn()),null}function gj(t,e){var n=It;It|=1;try{return t(e)}finally{It=n,It===0&&(Nd=Tn()+500,Mv&&kl())}}function wc(t){Qo!==null&&Qo.tag===0&&!(It&6)&&zu();var e=It;It|=1;var n=Br.transition,s=Ut;try{if(Br.transition=null,Ut=1,t)return t()}finally{Ut=s,Br.transition=n,It=e,!(It&6)&&kl()}}function xj(){br=Au.current,Zt(Au)}function fc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,TU(n)),Mn!==null)for(n=Mn.return;n!==null;){var s=n;switch(X_(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&cx();break;case 3:wd(),Zt(nr),Zt(js),aj();break;case 5:ij(s);break;case 4:wd();break;case 13:Zt(ln);break;case 19:Zt(ln);break;case 10:tj(s.type._context);break;case 22:case 23:xj()}n=n.return}if(es=t,Mn=t=ol(t.current,null),as=br=e,Bn=0,Jf=null,mj=Vv=yc=0,er=mf=null,nc!==null){for(e=0;e<nc.length;e++)if(n=nc[e],s=n.interleaved,s!==null){n.interleaved=null;var r=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=r,s.next=o}n.pending=s}nc=null}return t}function s2(t,e){do{var n=Mn;try{if(ej(),Ig.current=vx,xx){for(var s=un.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}xx=!1}if(vc=0,Kn=$n=un=null,hf=!1,Yf=0,fj.current=null,n===null||n.return===null){Bn=1,Jf=e,Mn=null;break}e:{var a=t,o=n.return,l=n,c=e;if(e=as,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=tT(o);if(g!==null){g.flags&=-257,nT(g,o,l,a,e),g.mode&1&&eT(a,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){eT(a,u,e),vj();break e}c=Error(fe(426))}}else if(nn&&l.mode&1){var w=tT(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nT(w,o,l,a,e),Z_(bd(c,l));break e}}a=c=bd(c,l),Bn!==4&&(Bn=2),mf===null?mf=[a]:mf.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var y=$A(a,c,e);KE(a,y);break e;case 1:l=c;var b=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(il===null||!il.has(N)))){a.flags|=65536,e&=-e,a.lanes|=e;var E=UA(a,l,e);KE(a,E);break e}}a=a.return}while(a!==null)}a2(n)}catch(I){e=I,Mn===n&&n!==null&&(Mn=n=n.return);continue}break}while(!0)}function r2(){var t=yx.current;return yx.current=vx,t===null?vx:t}function vj(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),es===null||!(yc&268435455)&&!(Vv&268435455)||ko(es,as)}function Nx(t,e){var n=It;It|=2;var s=r2();(es!==t||as!==e)&&(_a=null,fc(t,e));do try{JU();break}catch(r){s2(t,r)}while(!0);if(ej(),It=n,yx.current=s,Mn!==null)throw Error(fe(261));return es=null,as=0,Bn}function JU(){for(;Mn!==null;)i2(Mn)}function e7(){for(;Mn!==null&&!C$();)i2(Mn)}function i2(t){var e=l2(t.alternate,t,br);t.memoizedProps=t.pendingProps,e===null?a2(t):Mn=e,fj.current=null}function a2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GU(n,e),n!==null){n.flags&=32767,Mn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bn=6,Mn=null;return}}else if(n=qU(n,e,br),n!==null){Mn=n;return}if(e=e.sibling,e!==null){Mn=e;return}Mn=e=t}while(e!==null);Bn===0&&(Bn=5)}function Yl(t,e,n){var s=Ut,r=Br.transition;try{Br.transition=null,Ut=1,t7(t,e,n,s)}finally{Br.transition=r,Ut=s}return null}function t7(t,e,n,s){do zu();while(Qo!==null);if(It&6)throw Error(fe(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(fe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(M$(t,a),t===es&&(Mn=es=null,as=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jp||(Jp=!0,c2(sx,function(){return zu(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Br.transition,Br.transition=null;var o=Ut;Ut=1;var l=It;It|=4,fj.current=null,QU(t,n),e2(n,t),bU(yb),ix=!!vb,yb=vb=null,t.current=n,YU(n),S$(),It=l,Ut=o,Br.transition=a}else t.current=n;if(Jp&&(Jp=!1,Qo=t,bx=r),a=t.pendingLanes,a===0&&(il=null),R$(n.stateNode),rr(t,Tn()),e!==null)for(s=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],s(r.value,{componentStack:r.stack,digest:r.digest});if(wx)throw wx=!1,t=Vb,Vb=null,t;return bx&1&&t.tag!==0&&zu(),a=t.pendingLanes,a&1?t===$b?pf++:(pf=0,$b=t):pf=0,kl(),null}function zu(){if(Qo!==null){var t=$k(bx),e=Br.transition,n=Ut;try{if(Br.transition=null,Ut=16>t?16:t,Qo===null)var s=!1;else{if(t=Qo,Qo=null,bx=0,It&6)throw Error(fe(331));var r=It;for(It|=4,Ie=t.current;Ie!==null;){var a=Ie,o=a.child;if(Ie.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Ie=u;Ie!==null;){var d=Ie;switch(d.tag){case 0:case 11:case 15:ff(8,d,a)}var h=d.child;if(h!==null)h.return=d,Ie=h;else for(;Ie!==null;){d=Ie;var f=d.sibling,g=d.return;if(XA(d),d===u){Ie=null;break}if(f!==null){f.return=g,Ie=f;break}Ie=g}}}var v=a.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}Ie=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Ie=o;else e:for(;Ie!==null;){if(a=Ie,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ff(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,Ie=y;break e}Ie=a.return}}var b=t.current;for(Ie=b;Ie!==null;){o=Ie;var N=o.child;if(o.subtreeFlags&2064&&N!==null)N.return=o,Ie=N;else e:for(o=b;Ie!==null;){if(l=Ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Lv(9,l)}}catch(I){wn(l,l.return,I)}if(l===o){Ie=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,Ie=E;break e}Ie=l.return}}if(It=r,kl(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(Pv,t)}catch{}s=!0}return s}finally{Ut=n,Br.transition=e}}return!1}function pT(t,e,n){e=bd(n,e),e=$A(t,e,1),t=rl(t,e,1),e=Ms(),t!==null&&(Rm(t,1,e),rr(t,e))}function wn(t,e,n){if(t.tag===3)pT(t,t,n);else for(;e!==null;){if(e.tag===3){pT(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(il===null||!il.has(s))){t=bd(n,t),t=UA(e,t,1),e=rl(e,t,1),t=Ms(),e!==null&&(Rm(e,1,t),rr(e,t));break}}e=e.return}}function n7(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),e=Ms(),t.pingedLanes|=t.suspendedLanes&n,es===t&&(as&n)===n&&(Bn===4||Bn===3&&(as&130023424)===as&&500>Tn()-pj?fc(t,0):mj|=n),rr(t,e)}function o2(t,e){e===0&&(t.mode&1?(e=zp,zp<<=1,!(zp&130023424)&&(zp=4194304)):e=1);var n=Ms();t=La(t,e),t!==null&&(Rm(t,e,n),rr(t,n))}function s7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o2(t,n)}function r7(t,e){var n=0;switch(t.tag){case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(fe(314))}s!==null&&s.delete(e),o2(t,n)}var l2;l2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nr.current)tr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tr=!1,WU(t,e,n);tr=!!(t.flags&131072)}else tr=!1,nn&&e.flags&1048576&&hA(e,hx,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ag(t,e),t=e.pendingProps;var r=xd(e,js.current);Bu(e,n),r=lj(null,e,s,t,r,n);var a=cj();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(s)?(a=!0,ux(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,sj(e),r.updater=Fv,e.stateNode=r,r._reactInternals=e,Tb(e,s,t,n),e=Ib(null,e,s,!0,a,n)):(e.tag=0,nn&&a&&Y_(e),Is(null,e,r,n),e=e.child),e;case 16:s=e.elementType;e:{switch(Ag(t,e),t=e.pendingProps,r=s._init,s=r(s._payload),e.type=s,r=e.tag=a7(s),t=si(s,t),r){case 0:e=Pb(null,e,s,t,n);break e;case 1:e=iT(null,e,s,t,n);break e;case 11:e=sT(null,e,s,t,n);break e;case 14:e=rT(null,e,s,si(s.type,t),n);break e}throw Error(fe(306,s,""))}return e;case 0:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:si(s,r),Pb(t,e,s,r,n);case 1:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:si(s,r),iT(t,e,s,r,n);case 3:e:{if(WA(e),t===null)throw Error(fe(387));s=e.pendingProps,a=e.memoizedState,r=a.element,vA(t,e),px(e,s,null,n);var o=e.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=bd(Error(fe(423)),e),e=aT(t,e,s,n,r);break e}else if(s!==r){r=bd(Error(fe(424)),e),e=aT(t,e,s,n,r);break e}else for(_r=sl(e.stateNode.containerInfo.firstChild),Sr=e,nn=!0,ai=null,n=gA(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vd(),s===r){e=Va(t,e,n);break e}Is(t,e,s,n)}e=e.child}return e;case 5:return yA(e),t===null&&Cb(e),s=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,o=r.children,wb(s,r)?o=null:a!==null&&wb(s,a)&&(e.flags|=32),HA(t,e),Is(t,e,o,n),e.child;case 6:return t===null&&Cb(e),null;case 13:return qA(t,e,n);case 4:return rj(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=yd(e,null,s,n):Is(t,e,s,n),e.child;case 11:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:si(s,r),sT(t,e,s,r,n);case 7:return Is(t,e,e.pendingProps,n),e.child;case 8:return Is(t,e,e.pendingProps.children,n),e.child;case 12:return Is(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(s=e.type._context,r=e.pendingProps,a=e.memoizedProps,o=r.value,qt(fx,s._currentValue),s._currentValue=o,a!==null)if(vi(a.value,o)){if(a.children===r.children&&!nr.current){e=Va(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=ka(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Sb(a.return,n,e),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(fe(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sb(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Is(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,s=e.pendingProps.children,Bu(e,n),r=Gr(r),s=s(r),e.flags|=1,Is(t,e,s,n),e.child;case 14:return s=e.type,r=si(s,e.pendingProps),r=si(s.type,r),rT(t,e,s,r,n);case 15:return BA(t,e,e.type,e.pendingProps,n);case 17:return s=e.type,r=e.pendingProps,r=e.elementType===s?r:si(s,r),Ag(t,e),e.tag=1,sr(s)?(t=!0,ux(e)):t=!1,Bu(e,n),VA(e,s,r),Tb(e,s,r,n),Ib(null,e,s,!0,t,n);case 19:return GA(t,e,n);case 22:return zA(t,e,n)}throw Error(fe(156,e.tag))};function c2(t,e){return Ok(t,e)}function i7(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,n,s){return new i7(t,e,n,s)}function yj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a7(t){if(typeof t=="function")return yj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L_)return 11;if(t===V_)return 14}return 2}function ol(t,e){var n=t.alternate;return n===null?(n=Ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Og(t,e,n,s,r,a){var o=2;if(s=t,typeof t=="function")yj(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _u:return mc(n.children,r,a,e);case F_:o=8,r|=8;break;case Zw:return t=Ur(12,n,e,r|2),t.elementType=Zw,t.lanes=a,t;case Jw:return t=Ur(13,n,e,r),t.elementType=Jw,t.lanes=a,t;case eb:return t=Ur(19,n,e,r),t.elementType=eb,t.lanes=a,t;case yk:return $v(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xk:o=10;break e;case vk:o=9;break e;case L_:o=11;break e;case V_:o=14;break e;case Ro:o=16,s=null;break e}throw Error(fe(130,t==null?t:typeof t,""))}return e=Ur(o,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function mc(t,e,n,s){return t=Ur(7,t,s,e),t.lanes=n,t}function $v(t,e,n,s){return t=Ur(22,t,s,e),t.elementType=yk,t.lanes=n,t.stateNode={isHidden:!1},t}function zy(t,e,n){return t=Ur(6,t,null,e),t.lanes=n,t}function Hy(t,e,n){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function o7(t,e,n,s,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jy(0),this.expirationTimes=jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jy(0),this.identifierPrefix=s,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function wj(t,e,n,s,r,a,o,l,c){return t=new o7(t,e,n,l,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=Ur(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sj(a),t}function l7(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nu,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}function u2(t){if(!t)return gl;t=t._reactInternals;e:{if(qc(t)!==t||t.tag!==1)throw Error(fe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(t.tag===1){var n=t.type;if(sr(n))return uA(t,n,e)}return e}function d2(t,e,n,s,r,a,o,l,c){return t=wj(n,s,!0,t,r,a,o,l,c),t.context=u2(null),n=t.current,s=Ms(),r=al(n),a=ka(s,r),a.callback=e??null,rl(n,a,r),t.current.lanes=r,Rm(t,r,s),rr(t,s),t}function Uv(t,e,n,s){var r=e.current,a=Ms(),o=al(r);return n=u2(n),e.context===null?e.context=n:e.pendingContext=n,e=ka(a,o),e.payload={element:t},s=s===void 0?null:s,s!==null&&(e.callback=s),t=rl(r,e,o),t!==null&&(fi(t,r,o,a),Pg(t,r,o)),o}function _x(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function bj(t,e){gT(t,e),(t=t.alternate)&&gT(t,e)}function c7(){return null}var h2=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nj(t){this._internalRoot=t}Bv.prototype.render=Nj.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(fe(409));Uv(t,e,null,null)};Bv.prototype.unmount=Nj.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wc(function(){Uv(null,t,null,null)}),e[Fa]=null}};function Bv(t){this._internalRoot=t}Bv.prototype.unstable_scheduleHydration=function(t){if(t){var e=zk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Io.length&&e!==0&&e<Io[n].priority;n++);Io.splice(n,0,t),n===0&&Wk(t)}};function _j(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xT(){}function u7(t,e,n,s,r){if(r){if(typeof s=="function"){var a=s;s=function(){var u=_x(o);a.call(u)}}var o=d2(e,s,t,0,null,!1,!1,"",xT);return t._reactRootContainer=o,t[Fa]=o.current,Wf(t.nodeType===8?t.parentNode:t),wc(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof s=="function"){var l=s;s=function(){var u=_x(c);l.call(u)}}var c=wj(t,0,!1,null,null,!1,!1,"",xT);return t._reactRootContainer=c,t[Fa]=c.current,Wf(t.nodeType===8?t.parentNode:t),wc(function(){Uv(e,c,n,s)}),c}function Hv(t,e,n,s,r){var a=n._reactRootContainer;if(a){var o=a;if(typeof r=="function"){var l=r;r=function(){var c=_x(o);l.call(c)}}Uv(e,o,t,r)}else o=u7(n,e,t,r,s);return _x(o)}Uk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kh(e.pendingLanes);n!==0&&(B_(e,n|1),rr(e,Tn()),!(It&6)&&(Nd=Tn()+500,kl()))}break;case 13:wc(function(){var s=La(t,1);if(s!==null){var r=Ms();fi(s,t,1,r)}}),bj(t,1)}};z_=function(t){if(t.tag===13){var e=La(t,134217728);if(e!==null){var n=Ms();fi(e,t,134217728,n)}bj(t,134217728)}};Bk=function(t){if(t.tag===13){var e=al(t),n=La(t,e);if(n!==null){var s=Ms();fi(n,t,e,s)}bj(t,e)}};zk=function(){return Ut};Hk=function(t,e){var n=Ut;try{return Ut=t,e()}finally{Ut=n}};ub=function(t,e,n){switch(e){case"input":if(sb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=Dv(s);if(!r)throw Error(fe(90));bk(s),sb(s,r)}}}break;case"textarea":_k(t,n);break;case"select":e=n.value,e!=null&&Lu(t,!!n.multiple,e,!1)}};Pk=gj;Ik=wc;var d7={usingClientEntryPoint:!1,Events:[Im,Eu,Dv,Tk,Rk,gj]},Mh={findFiberByHostInstance:tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h7={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:to.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dk(t),t===null?null:t.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||c7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eg.isDisabled&&eg.supportsFiber)try{Pv=eg.inject(h7),Wi=eg}catch{}}kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d7;kr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_j(e))throw Error(fe(200));return l7(t,e,null,n)};kr.createRoot=function(t,e){if(!_j(t))throw Error(fe(299));var n=!1,s="",r=h2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=wj(t,1,!1,null,null,n,!1,s,r),t[Fa]=e.current,Wf(t.nodeType===8?t.parentNode:t),new Nj(e)};kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(fe(188)):(t=Object.keys(t).join(","),Error(fe(268,t)));return t=Dk(e),t=t===null?null:t.stateNode,t};kr.flushSync=function(t){return wc(t)};kr.hydrate=function(t,e,n){if(!zv(e))throw Error(fe(200));return Hv(null,t,e,!0,n)};kr.hydrateRoot=function(t,e,n){if(!_j(t))throw Error(fe(405));var s=n!=null&&n.hydratedSources||null,r=!1,a="",o=h2;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=d2(e,null,t,1,n??null,r,!1,a,o),t[Fa]=e.current,Wf(t),s)for(t=0;t<s.length;t++)n=s[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Bv(e)};kr.render=function(t,e,n){if(!zv(e))throw Error(fe(200));return Hv(null,t,e,!1,n)};kr.unmountComponentAtNode=function(t){if(!zv(t))throw Error(fe(40));return t._reactRootContainer?(wc(function(){Hv(null,null,t,!1,function(){t._reactRootContainer=null,t[Fa]=null})}),!0):!1};kr.unstable_batchedUpdates=gj;kr.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!zv(n))throw Error(fe(200));if(t==null||t._reactInternals===void 0)throw Error(fe(38));return Hv(t,e,n,!1,s)};kr.version="18.3.1-next-f1338f8080-20240426";function f2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f2)}catch(t){console.error(t)}}f2(),fk.exports=kr;var no=fk.exports;const jj=tk(no);var m2,vT=no;m2=vT.createRoot,vT.hydrateRoot;const f7=1,m7=1e6;let Wy=0;function p7(){return Wy=(Wy+1)%Number.MAX_SAFE_INTEGER,Wy.toString()}const qy=new Map,yT=t=>{if(qy.has(t))return;const e=setTimeout(()=>{qy.delete(t),gf({type:"REMOVE_TOAST",toastId:t})},m7);qy.set(t,e)},g7=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,f7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?yT(n):t.toasts.forEach(s=>{yT(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fg=[];let Lg={toasts:[]};function gf(t){Lg=g7(Lg,t),Fg.forEach(e=>{e(Lg)})}function x7({...t}){const e=p7(),n=r=>gf({type:"UPDATE_TOAST",toast:{...r,id:e}}),s=()=>gf({type:"DISMISS_TOAST",toastId:e});return gf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||s()}}}),{id:e,dismiss:s,update:n}}function v7(){const[t,e]=p.useState(Lg);return p.useEffect(()=>(Fg.push(e),()=>{const n=Fg.indexOf(e);n>-1&&Fg.splice(n,1)}),[t]),{...t,toast:x7,dismiss:n=>gf({type:"DISMISS_TOAST",toastId:n})}}function ue(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function y7(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Wv(...t){return e=>t.forEach(n=>y7(n,e))}function nt(...t){return p.useCallback(Wv(...t),t)}function w7(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:w,children:g})}function d(h,f){const g=(f==null?void 0:f[t][c])||l,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const r=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,b7(r,...e)]}function b7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Ji=p.forwardRef((t,e)=>{const{children:n,...s}=t,r=p.Children.toArray(n),a=r.find(N7);if(a){const o=a.props.children,l=r.map(c=>c===a?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return i.jsx(zb,{...s,ref:e,children:p.isValidElement(o)?p.cloneElement(o,void 0,l):null})}return i.jsx(zb,{...s,ref:e,children:n})});Ji.displayName="Slot";var zb=p.forwardRef((t,e)=>{const{children:n,...s}=t;if(p.isValidElement(n)){const r=j7(n);return p.cloneElement(n,{..._7(s,n.props),ref:e?Wv(e,r):r})}return p.Children.count(n)>1?p.Children.only(null):null});zb.displayName="SlotClone";var Cj=({children:t})=>i.jsx(i.Fragment,{children:t});function N7(t){return p.isValidElement(t)&&t.type===Cj}function _7(t,e){const n={...e};for(const s in e){const r=t[s],a=e[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{a(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}function j7(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qv(t){const e=t+"CollectionProvider",[n,s]=w7(e),[r,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:v,children:x}=g,w=se.useRef(null),y=se.useRef(new Map).current;return i.jsx(r,{scope:v,itemMap:y,collectionRef:w,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=se.forwardRef((g,v)=>{const{scope:x,children:w}=g,y=a(l,x),b=nt(v,y.collectionRef);return i.jsx(Ji,{ref:b,children:w})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=se.forwardRef((g,v)=>{const{scope:x,children:w,...y}=g,b=se.useRef(null),N=nt(v,b),E=a(u,x);return se.useEffect(()=>(E.itemMap.set(b,{ref:b,...y}),()=>void E.itemMap.delete(b))),i.jsx(Ji,{[d]:"",ref:N,children:w})});h.displayName=u;function f(g){const v=a(t+"CollectionConsumer",g);return se.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const y=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((E,I)=>y.indexOf(E.ref.current)-y.indexOf(I.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:h},f,s]}function C7(t,e){const n=p.createContext(e),s=a=>{const{children:o,...l}=a,c=p.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:c,children:o})};s.displayName=t+"Provider";function r(a){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[s,r]}function Ws(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];const u=h=>{var y;const{scope:f,children:g,...v}=h,x=((y=f==null?void 0:f[t])==null?void 0:y[c])||l,w=p.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:w,children:g})};u.displayName=a+"Provider";function d(h,f){var x;const g=((x=f==null?void 0:f[t])==null?void 0:x[c])||l,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const r=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,S7(r,...e)]}function S7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var E7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ae=E7.reduce((t,e)=>{const n=p.forwardRef((s,r)=>{const{asChild:a,...o}=s,l=a?Ji:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:r})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Sj(t,e){t&&no.flushSync(()=>t.dispatchEvent(e))}function sn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function T7(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var R7="DismissableLayer",Hb="dismissableLayer.update",P7="dismissableLayer.pointerDownOutside",I7="dismissableLayer.focusOutside",wT,p2=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Gc=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=p.useContext(p2),[d,h]=p.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),v=nt(e,C=>h(C)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(w),b=d?x.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,E=b>=y,I=A7(C=>{const _=C.target,S=[...u.branches].some(T=>T.contains(_));!E||S||(r==null||r(C),o==null||o(C),C.defaultPrevented||l==null||l())},f),A=D7(C=>{const _=C.target;[...u.branches].some(T=>T.contains(_))||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},f);return T7(C=>{b===u.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},f),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(wT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),bT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=wT)}},[d,f,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),bT())},[d,u]),p.useEffect(()=>{const C=()=>g({});return document.addEventListener(Hb,C),()=>document.removeEventListener(Hb,C)},[]),i.jsx(Ae.div,{...c,ref:v,style:{pointerEvents:N?E?"auto":"none":void 0,...t.style},onFocusCapture:ue(t.onFocusCapture,A.onFocusCapture),onBlurCapture:ue(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:ue(t.onPointerDownCapture,I.onPointerDownCapture)})});Gc.displayName=R7;var k7="DismissableLayerBranch",g2=p.forwardRef((t,e)=>{const n=p.useContext(p2),s=p.useRef(null),r=nt(e,s);return p.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Ae.div,{...t,ref:r})});g2.displayName=k7;function A7(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let c=function(){x2(P7,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function D7(t,e=globalThis==null?void 0:globalThis.document){const n=sn(t),s=p.useRef(!1);return p.useEffect(()=>{const r=a=>{a.target&&!s.current&&x2(I7,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function bT(){const t=new CustomEvent(Hb);document.dispatchEvent(t)}function x2(t,e,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?Sj(r,a):r.dispatchEvent(a)}var M7=Gc,O7=g2,Hn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},F7="Portal",Hd=p.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,a]=p.useState(!1);Hn(()=>a(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?jj.createPortal(i.jsx(Ae.div,{...s,ref:e}),o):null});Hd.displayName=F7;function L7(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var qn=t=>{const{present:e,children:n}=t,s=V7(e),r=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=nt(s.ref,$7(r));return typeof n=="function"||s.isPresent?p.cloneElement(r,{ref:a}):null};qn.displayName="Presence";function V7(t){const[e,n]=p.useState(),s=p.useRef({}),r=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=L7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=tg(s.current);a.current=l==="mounted"?u:"none"},[l]),Hn(()=>{const u=s.current,d=r.current;if(d!==t){const f=a.current,g=tg(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Hn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const x=tg(s.current).includes(g.animationName);if(g.target===e&&x&&(c("ANIMATION_END"),!r.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},f=g=>{g.target===e&&(a.current=tg(s.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(s.current=getComputedStyle(u)),n(u)},[])}}function tg(t){return(t==null?void 0:t.animationName)||"none"}function $7(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function yi({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,r]=U7({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:s,l=sn(n),c=p.useCallback(u=>{if(a){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else r(u)},[a,t,r,l]);return[o,c]}function U7({defaultProp:t,onChange:e}){const n=p.useState(t),[s]=n,r=p.useRef(s),a=sn(e);return p.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),n}var B7="VisuallyHidden",Am=p.forwardRef((t,e)=>i.jsx(Ae.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Am.displayName=B7;var z7=Am,Ej="ToastProvider",[Tj,H7,W7]=qv("Toast"),[v2,Gde]=Ws("Toast",[W7]),[q7,Gv]=v2(Ej),y2=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:a=50,children:o}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),f=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ej}\`. Expected non-empty \`string\`.`),i.jsx(Tj.Provider,{scope:e,children:i.jsx(q7,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:o})})};y2.displayName=Ej;var w2="ToastViewport",G7=["F8"],Wb="toast.viewportPause",qb="toast.viewportResume",b2=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=G7,label:r="Notifications ({hotkey})",...a}=t,o=Gv(w2,n),l=H7(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=nt(e,h,o.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;p.useEffect(()=>{const w=y=>{var N;s.length!==0&&s.every(E=>y[E]||y.code===E)&&((N=h.current)==null||N.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[s]),p.useEffect(()=>{const w=c.current,y=h.current;if(v&&w&&y){const b=()=>{if(!o.isClosePausedRef.current){const A=new CustomEvent(Wb);y.dispatchEvent(A),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const A=new CustomEvent(qb);y.dispatchEvent(A),o.isClosePausedRef.current=!1}},E=A=>{!w.contains(A.relatedTarget)&&N()},I=()=>{w.contains(document.activeElement)||N()};return w.addEventListener("focusin",b),w.addEventListener("focusout",E),w.addEventListener("pointermove",b),w.addEventListener("pointerleave",I),window.addEventListener("blur",b),window.addEventListener("focus",N),()=>{w.removeEventListener("focusin",b),w.removeEventListener("focusout",E),w.removeEventListener("pointermove",b),w.removeEventListener("pointerleave",I),window.removeEventListener("blur",b),window.removeEventListener("focus",N)}}},[v,o.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:w})=>{const b=l().map(N=>{const E=N.ref.current,I=[E,...a9(E)];return w==="forwards"?I:I.reverse()});return(w==="forwards"?b.reverse():b).flat()},[l]);return p.useEffect(()=>{const w=h.current;if(w){const y=b=>{var I,A,C;const N=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!N){const _=document.activeElement,S=b.shiftKey;if(b.target===w&&S){(I=u.current)==null||I.focus();return}const D=x({tabbingDirection:S?"backwards":"forwards"}),P=D.findIndex(G=>G===_);Gy(D.slice(P+1))?b.preventDefault():S?(A=u.current)==null||A.focus():(C=d.current)==null||C.focus()}};return w.addEventListener("keydown",y),()=>w.removeEventListener("keydown",y)}},[l,x]),i.jsxs(O7,{ref:c,role:"region","aria-label":r.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&i.jsx(Gb,{ref:u,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"forwards"});Gy(w)}}),i.jsx(Tj.Slot,{scope:n,children:i.jsx(Ae.ol,{tabIndex:-1,...a,ref:f})}),v&&i.jsx(Gb,{ref:d,onFocusFromOutsideViewport:()=>{const w=x({tabbingDirection:"backwards"});Gy(w)}})]})});b2.displayName=w2;var N2="ToastFocusProxy",Gb=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,a=Gv(N2,n);return i.jsx(Am,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});Gb.displayName=N2;var Kv="Toast",K7="toast.swipeStart",Q7="toast.swipeMove",Y7="toast.swipeCancel",X7="toast.swipeEnd",_2=p.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:a,...o}=t,[l=!0,c]=yi({prop:s,defaultProp:r,onChange:a});return i.jsx(qn,{present:n||l,children:i.jsx(e9,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:sn(t.onPause),onResume:sn(t.onResume),onSwipeStart:ue(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:ue(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});_2.displayName=Kv;var[Z7,J7]=v2(Kv,{onClose(){}}),e9=p.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:g,...v}=t,x=Gv(Kv,n),[w,y]=p.useState(null),b=nt(e,G=>y(G)),N=p.useRef(null),E=p.useRef(null),I=r||x.duration,A=p.useRef(0),C=p.useRef(I),_=p.useRef(0),{onToastAdd:S,onToastRemove:T}=x,k=sn(()=>{var ee;(w==null?void 0:w.contains(document.activeElement))&&((ee=x.viewport)==null||ee.focus()),o()}),D=p.useCallback(G=>{!G||G===1/0||(window.clearTimeout(_.current),A.current=new Date().getTime(),_.current=window.setTimeout(k,G))},[k]);p.useEffect(()=>{const G=x.viewport;if(G){const ee=()=>{D(C.current),u==null||u()},te=()=>{const Q=new Date().getTime()-A.current;C.current=C.current-Q,window.clearTimeout(_.current),c==null||c()};return G.addEventListener(Wb,te),G.addEventListener(qb,ee),()=>{G.removeEventListener(Wb,te),G.removeEventListener(qb,ee)}}},[x.viewport,I,c,u,D]),p.useEffect(()=>{a&&!x.isClosePausedRef.current&&D(I)},[a,I,x.isClosePausedRef,D]),p.useEffect(()=>(S(),()=>T()),[S,T]);const P=p.useMemo(()=>w?P2(w):null,[w]);return x.viewport?i.jsxs(i.Fragment,{children:[P&&i.jsx(t9,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:P}),i.jsx(Z7,{scope:n,onClose:k,children:no.createPortal(i.jsx(Tj.ItemSlot,{scope:n,children:i.jsx(M7,{asChild:!0,onEscapeKeyDown:ue(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ue(t.onKeyDown,G=>{G.key==="Escape"&&(l==null||l(G.nativeEvent),G.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ue(t.onPointerDown,G=>{G.button===0&&(N.current={x:G.clientX,y:G.clientY})}),onPointerMove:ue(t.onPointerMove,G=>{if(!N.current)return;const ee=G.clientX-N.current.x,te=G.clientY-N.current.y,Q=!!E.current,O=["left","right"].includes(x.swipeDirection),V=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Z=O?V(0,ee):0,F=O?0:V(0,te),L=G.pointerType==="touch"?10:2,B={x:Z,y:F},K={originalEvent:G,delta:B};Q?(E.current=B,ng(Q7,h,K,{discrete:!1})):NT(B,x.swipeDirection,L)?(E.current=B,ng(K7,d,K,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(ee)>L||Math.abs(te)>L)&&(N.current=null)}),onPointerUp:ue(t.onPointerUp,G=>{const ee=E.current,te=G.target;if(te.hasPointerCapture(G.pointerId)&&te.releasePointerCapture(G.pointerId),E.current=null,N.current=null,ee){const Q=G.currentTarget,O={originalEvent:G,delta:ee};NT(ee,x.swipeDirection,x.swipeThreshold)?ng(X7,g,O,{discrete:!0}):ng(Y7,f,O,{discrete:!0}),Q.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),t9=t=>{const{__scopeToast:e,children:n,...s}=t,r=Gv(Kv,e),[a,o]=p.useState(!1),[l,c]=p.useState(!1);return r9(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Hd,{asChild:!0,children:i.jsx(Am,{...s,children:a&&i.jsxs(i.Fragment,{children:[r.label," ",n]})})})},n9="ToastTitle",j2=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return i.jsx(Ae.div,{...s,ref:e})});j2.displayName=n9;var s9="ToastDescription",C2=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return i.jsx(Ae.div,{...s,ref:e})});C2.displayName=s9;var S2="ToastAction",E2=p.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?i.jsx(R2,{altText:n,asChild:!0,children:i.jsx(Rj,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${S2}\`. Expected non-empty \`string\`.`),null)});E2.displayName=S2;var T2="ToastClose",Rj=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=J7(T2,n);return i.jsx(R2,{asChild:!0,children:i.jsx(Ae.button,{type:"button",...s,ref:e,onClick:ue(t.onClick,r.onClose)})})});Rj.displayName=T2;var R2=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return i.jsx(Ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function P2(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),i9(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!r)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...P2(s))}}),e}function ng(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?Sj(r,a):r.dispatchEvent(a)}var NT=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),a=s>r;return e==="left"||e==="right"?a&&s>n:!a&&r>n};function r9(t=()=>{}){const e=sn(t);Hn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function i9(t){return t.nodeType===t.ELEMENT_NODE}function a9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Gy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var o9=y2,I2=b2,k2=_2,A2=j2,D2=C2,M2=E2,O2=Rj;function F2(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=F2(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function L2(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=F2(t))&&(s&&(s+=" "),s+=e);return s}const _T=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jT=L2,Dm=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return jT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:a}=e,o=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=a==null?void 0:a[u];if(d===null)return null;const f=_T(d)||_T(h);return r[u][f]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:f,...g}=d;return Object.entries(g).every(v=>{let[x,w]=v;return Array.isArray(w)?w.includes({...a,...l}[x]):{...a,...l}[x]===w})?[...u,h,f]:u},[]);return jT(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V2=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var c9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:o,...l},c)=>p.createElement("svg",{ref:c,...c9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:V2("lucide",r),...l},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=p.forwardRef(({className:s,...r},a)=>p.createElement(u9,{ref:a,iconNode:e,className:V2(`lucide-${l9(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=De("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=De("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=De("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=De("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=De("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=De("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=De("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=De("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=De("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=De("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=De("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=De("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=De("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=De("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=De("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _d=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=De("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=De("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=De("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=De("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=De("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=De("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=De("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=De("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=De("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=De("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fj="-",N9=t=>{const e=j9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(Fj);return l[0]===""&&l.length!==1&&l.shift(),q2(l,e)||_9(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},q2=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?q2(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const a=t.join(Fj);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},ET=/^\[(.+)\]$/,_9=t=>{if(ET.test(t)){const e=ET.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},j9=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return S9(Object.entries(t.classGroups),n).forEach(([a,o])=>{Qb(o,s,a,e)}),s},Qb=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const a=r===""?e:TT(e,r);a.classGroupId=n;return}if(typeof r=="function"){if(C9(r)){Qb(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([a,o])=>{Qb(o,TT(e,a),n,s)})})},TT=(t,e)=>{let n=t;return e.split(Fj).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},C9=t=>t.isThemeGetter,S9=(t,e)=>e?t.map(([n,s])=>{const r=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[n,r]}):t,E9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(a,o)=>{n.set(a,o),e++,e>t&&(e=0,s=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return r(a,o),o},set(a,o){n.has(a)?n.set(a,o):r(a,o)}}},G2="!",T9=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let w=0;w<l.length;w++){let y=l[w];if(u===0){if(y===r&&(s||l.slice(w,w+a)===e)){c.push(l.slice(d,w)),d=w+a;continue}if(y==="/"){h=w;continue}}y==="["?u++:y==="]"&&u--}const f=c.length===0?l:l.substring(d),g=f.startsWith(G2),v=g?f.substring(1):f,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:o}):o},R9=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},P9=t=>({cache:E9(t.cacheSize),parseClassName:T9(t),...N9(t)}),I9=/\s+/,k9=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,a=[],o=t.trim().split(I9);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}=n(u);let v=!!g,x=s(v?f.substring(0,g):f);if(!x){if(!v){l=u+(l.length>0?" "+l:l);continue}if(x=s(f),!x){l=u+(l.length>0?" "+l:l);continue}v=!1}const w=R9(d).join(":"),y=h?w+G2:w,b=y+x;if(a.includes(b))continue;a.push(b);const N=r(x,v);for(let E=0;E<N.length;++E){const I=N[E];a.push(y+I)}l=u+(l.length>0?" "+l:l)}return l};function A9(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=K2(e))&&(s&&(s+=" "),s+=n);return s}const K2=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=K2(t[s]))&&(n&&(n+=" "),n+=e);return n};function D9(t,...e){let n,s,r,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return n=P9(u),s=n.cache.get,r=n.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=k9(c,n);return r(c,d),d}return function(){return a(A9.apply(null,arguments))}}const Yt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q2=/^\[(?:([a-z-]+):)?(.+)\]$/i,M9=/^\d+\/\d+$/,O9=new Set(["px","full","screen"]),F9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,L9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,V9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,va=t=>Hu(t)||O9.has(t)||M9.test(t),bo=t=>Gd(t,"length",Q9),Hu=t=>!!t&&!Number.isNaN(Number(t)),Qy=t=>Gd(t,"number",Hu),Oh=t=>!!t&&Number.isInteger(Number(t)),B9=t=>t.endsWith("%")&&Hu(t.slice(0,-1)),ut=t=>Q2.test(t),No=t=>F9.test(t),z9=new Set(["length","size","percentage"]),H9=t=>Gd(t,z9,Y2),W9=t=>Gd(t,"position",Y2),q9=new Set(["image","url"]),G9=t=>Gd(t,q9,X9),K9=t=>Gd(t,"",Y9),Fh=()=>!0,Gd=(t,e,n)=>{const s=Q2.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},Q9=t=>L9.test(t)&&!V9.test(t),Y2=()=>!1,Y9=t=>$9.test(t),X9=t=>U9.test(t),Z9=()=>{const t=Yt("colors"),e=Yt("spacing"),n=Yt("blur"),s=Yt("brightness"),r=Yt("borderColor"),a=Yt("borderRadius"),o=Yt("borderSpacing"),l=Yt("borderWidth"),c=Yt("contrast"),u=Yt("grayscale"),d=Yt("hueRotate"),h=Yt("invert"),f=Yt("gap"),g=Yt("gradientColorStops"),v=Yt("gradientColorStopPositions"),x=Yt("inset"),w=Yt("margin"),y=Yt("opacity"),b=Yt("padding"),N=Yt("saturate"),E=Yt("scale"),I=Yt("sepia"),A=Yt("skew"),C=Yt("space"),_=Yt("translate"),S=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ut,e],D=()=>[ut,e],P=()=>["",va,bo],G=()=>["auto",Hu,ut],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ut],Z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>[Hu,ut];return{cacheSize:500,separator:":",theme:{colors:[Fh],spacing:[va,bo],blur:["none","",No,ut],brightness:F(),borderColor:[t],borderRadius:["none","","full",No,ut],borderSpacing:D(),borderWidth:P(),contrast:F(),grayscale:V(),hueRotate:F(),invert:V(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[B9,bo],inset:k(),margin:k(),opacity:F(),padding:D(),saturate:F(),scale:F(),sepia:V(),skew:F(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ut]}],container:["container"],columns:[{columns:[No]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ut]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Oh,ut]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ut]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Oh,ut]}],"grid-cols":[{"grid-cols":[Fh]}],"col-start-end":[{col:["auto",{span:["full",Oh,ut]},ut]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Fh]}],"row-start-end":[{row:["auto",{span:[Oh,ut]},ut]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ut]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ut,e]}],"min-w":[{"min-w":[ut,e,"min","max","fit"]}],"max-w":[{"max-w":[ut,e,"none","full","min","max","fit","prose",{screen:[No]},No]}],h:[{h:[ut,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ut,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ut,e,"auto","min","max","fit"]}],"font-size":[{text:["base",No,bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Qy]}],"font-family":[{font:[Fh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ut]}],"line-clamp":[{"line-clamp":["none",Hu,Qy]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",va,ut]}],"list-image":[{"list-image":["none",ut]}],"list-style-type":[{list:["none","disc","decimal",ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",va,bo]}],"underline-offset":[{"underline-offset":["auto",va,ut]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),W9]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H9]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},G9]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:te()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[va,ut]}],"outline-w":[{outline:[va,bo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[va,bo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",No,K9]}],"shadow-color":[{shadow:[Fh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",No,ut]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[N]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ut]}],duration:[{duration:F()}],ease:[{ease:["linear","in","out","in-out",ut]}],delay:[{delay:F()}],animate:[{animate:["none","spin","ping","pulse","bounce",ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Oh,ut]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ut]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ut]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ut]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[va,bo,Qy]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J9=D9(Z9);function ie(...t){return J9(L2(t))}const eB=o9,X2=p.forwardRef(({className:t,...e},n)=>i.jsx(I2,{ref:n,className:ie("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));X2.displayName=I2.displayName;const tB=Dm("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Z2=p.forwardRef(({className:t,variant:e,...n},s)=>i.jsx(k2,{ref:s,className:ie(tB({variant:e}),t),...n}));Z2.displayName=k2.displayName;const nB=p.forwardRef(({className:t,...e},n)=>i.jsx(M2,{ref:n,className:ie("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));nB.displayName=M2.displayName;const J2=p.forwardRef(({className:t,...e},n)=>i.jsx(O2,{ref:n,className:ie("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Kc,{className:"h-4 w-4"})}));J2.displayName=O2.displayName;const eD=p.forwardRef(({className:t,...e},n)=>i.jsx(A2,{ref:n,className:ie("text-sm font-semibold",t),...e}));eD.displayName=A2.displayName;const tD=p.forwardRef(({className:t,...e},n)=>i.jsx(D2,{ref:n,className:ie("text-sm opacity-90",t),...e}));tD.displayName=D2.displayName;function sB(){const{toasts:t}=v7();return i.jsxs(eB,{children:[t.map(function({id:e,title:n,description:s,action:r,...a}){return i.jsxs(Z2,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[n&&i.jsx(eD,{children:n}),s&&i.jsx(tD,{children:s})]}),r,i.jsx(J2,{})]},e)}),i.jsx(X2,{})]})}var RT=["light","dark"],rB="(prefers-color-scheme: dark)",iB=p.createContext(void 0),aB={setTheme:t=>{},themes:[]},oB=()=>{var t;return(t=p.useContext(iB))!=null?t:aB};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=r?RT.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(v,x=!1,w=!0)=>{let y=o?o[v]:v,b=x?v+"|| ''":`'${y}'`,N="";return r&&w&&!x&&RT.includes(v)&&(N+=`d.style.colorScheme = '${v}';`),n==="class"?x||y?N+=`c.add(${b})`:N+="null":y&&(N+=`d[s](n,${b})`),N},g=t?`!function(){${d}${f(t)}}()`:s?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${rB}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}${u?"":"else{"+f(a,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${f(o?"x[e]":"e",!0)}}else{${f(a,!1,!1)};}${h}}catch(t){}}();`;return p.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var lB=t=>{switch(t){case"success":return dB;case"info":return fB;case"warning":return hB;case"error":return mB;default:return null}},cB=Array(12).fill(0),uB=({visible:t})=>se.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},se.createElement("div",{className:"sonner-spinner"},cB.map((e,n)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dB=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hB=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fB=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mB=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pB=()=>{let[t,e]=se.useState(document.hidden);return se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Yb=1,gB=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:s,...r}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Yb++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:s}),{...c,...e,id:a,dismissible:l,title:s}):c):this.addToast({title:s,...r,dismissible:l,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let r=e instanceof Promise?e:e(),a=s!==void 0;return r.then(async o=>{if(vB(o)&&!o.ok){a=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:s,type:"error",message:l,description:c})}else if(n.success!==void 0){a=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:s,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){a=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:s,type:"error",message:l,description:c})}}).finally(()=>{var o;a&&(this.dismiss(s),s=void 0),(o=n.finally)==null||o.call(n)}),s},this.custom=(e,n)=>{let s=(n==null?void 0:n.id)||Yb++;return this.create({jsx:e(s),id:s,...n}),s},this.subscribers=[],this.toasts=[]}},wr=new gB,xB=(t,e)=>{let n=(e==null?void 0:e.id)||Yb++;return wr.addToast({title:t,...e,id:n}),n},vB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",yB=xB,wB=()=>wr.toasts,H=Object.assign(yB,{success:wr.success,info:wr.info,warning:wr.warning,error:wr.error,custom:wr.custom,message:wr.message,promise:wr.promise,dismiss:wr.dismiss,loading:wr.loading},{getHistory:wB});function bB(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}bB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sg(t){return t.label!==void 0}var NB=3,_B="32px",jB=4e3,CB=356,SB=14,EB=20,TB=200;function RB(...t){return t.filter(Boolean).join(" ")}var PB=t=>{var e,n,s,r,a,o,l,c,u,d;let{invert:h,toast:f,unstyled:g,interacting:v,setHeights:x,visibleToasts:w,heights:y,index:b,toasts:N,expanded:E,removeToast:I,defaultRichColors:A,closeButton:C,style:_,cancelButtonStyle:S,actionButtonStyle:T,className:k="",descriptionClassName:D="",duration:P,position:G,gap:ee,loadingIcon:te,expandByDefault:Q,classNames:O,icons:V,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:F,cn:L}=t,[B,K]=se.useState(!1),[ne,ae]=se.useState(!1),[oe,Pe]=se.useState(!1),[Oe,Ue]=se.useState(!1),[it,lt]=se.useState(0),[gn,kn]=se.useState(0),xr=se.useRef(null),us=se.useRef(null),Ri=b===0,$=b+1<=w,W=f.type,X=f.dismissible!==!1,be=f.className||"",ve=f.descriptionClassName||"",ce=se.useMemo(()=>y.findIndex(tt=>tt.toastId===f.id)||0,[y,f.id]),Fe=se.useMemo(()=>{var tt;return(tt=f.closeButton)!=null?tt:C},[f.closeButton,C]),st=se.useMemo(()=>f.duration||P||jB,[f.duration,P]),ft=se.useRef(0),ct=se.useRef(0),Ss=se.useRef(0),Jr=se.useRef(null),[ma,Wl]=G.split("-"),Pi=se.useMemo(()=>y.reduce((tt,Bt,Vt)=>Vt>=ce?tt:tt+Bt.height,0),[y,ce]),po=pB(),su=f.invert||h,Ii=W==="loading";ct.current=se.useMemo(()=>ce*ee+Pi,[ce,Pi]),se.useEffect(()=>{K(!0)},[]),se.useLayoutEffect(()=>{if(!B)return;let tt=us.current,Bt=tt.style.height;tt.style.height="auto";let Vt=tt.getBoundingClientRect().height;tt.style.height=Bt,kn(Vt),x(ds=>ds.find(Ks=>Ks.toastId===f.id)?ds.map(Ks=>Ks.toastId===f.id?{...Ks,height:Vt}:Ks):[{toastId:f.id,height:Vt,position:f.position},...ds])},[B,f.title,f.description,x,f.id]);let ki=se.useCallback(()=>{ae(!0),lt(ct.current),x(tt=>tt.filter(Bt=>Bt.toastId!==f.id)),setTimeout(()=>{I(f)},TB)},[f,I,x,ct]);se.useEffect(()=>{if(f.promise&&W==="loading"||f.duration===1/0||f.type==="loading")return;let tt,Bt=st;return E||v||F&&po?(()=>{if(Ss.current<ft.current){let Vt=new Date().getTime()-ft.current;Bt=Bt-Vt}Ss.current=new Date().getTime()})():Bt!==1/0&&(ft.current=new Date().getTime(),tt=setTimeout(()=>{var Vt;(Vt=f.onAutoClose)==null||Vt.call(f,f),ki()},Bt)),()=>clearTimeout(tt)},[E,v,Q,f,st,ki,f.promise,W,F,po]),se.useEffect(()=>{let tt=us.current;if(tt){let Bt=tt.getBoundingClientRect().height;return kn(Bt),x(Vt=>[{toastId:f.id,height:Bt,position:f.position},...Vt]),()=>x(Vt=>Vt.filter(ds=>ds.toastId!==f.id))}},[x,f.id]),se.useEffect(()=>{f.delete&&ki()},[ki,f.delete]);function iy(){return V!=null&&V.loading?se.createElement("div",{className:"sonner-loader","data-visible":W==="loading"},V.loading):te?se.createElement("div",{className:"sonner-loader","data-visible":W==="loading"},te):se.createElement(uB,{visible:W==="loading"})}return se.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:us,className:L(k,be,O==null?void 0:O.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,O==null?void 0:O.default,O==null?void 0:O[W],(n=f==null?void 0:f.classNames)==null?void 0:n[W]),"data-sonner-toast":"","data-rich-colors":(s=f.richColors)!=null?s:A,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":B,"data-promise":!!f.promise,"data-removed":ne,"data-visible":$,"data-y-position":ma,"data-x-position":Wl,"data-index":b,"data-front":Ri,"data-swiping":oe,"data-dismissible":X,"data-type":W,"data-invert":su,"data-swipe-out":Oe,"data-expanded":!!(E||Q&&B),style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${ne?it:ct.current}px`,"--initial-height":Q?"auto":`${gn}px`,..._,...f.style},onPointerDown:tt=>{Ii||!X||(xr.current=new Date,lt(ct.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(Pe(!0),Jr.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Bt,Vt,ds;if(Oe||!X)return;Jr.current=null;let Ks=Number(((tt=us.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),go=new Date().getTime()-((Bt=xr.current)==null?void 0:Bt.getTime()),pa=Math.abs(Ks)/go;if(Math.abs(Ks)>=EB||pa>.11){lt(ct.current),(Vt=f.onDismiss)==null||Vt.call(f,f),ki(),Ue(!0);return}(ds=us.current)==null||ds.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:tt=>{var Bt;if(!Jr.current||!X)return;let Vt=tt.clientY-Jr.current.y,ds=tt.clientX-Jr.current.x,Ks=(ma==="top"?Math.min:Math.max)(0,Vt),go=tt.pointerType==="touch"?10:2;Math.abs(Ks)>go?(Bt=us.current)==null||Bt.style.setProperty("--swipe-amount",`${Vt}px`):Math.abs(ds)>go&&(Jr.current=null)}},Fe&&!f.jsx?se.createElement("button",{"aria-label":Z,"data-disabled":Ii,"data-close-button":!0,onClick:Ii||!X?()=>{}:()=>{var tt;ki(),(tt=f.onDismiss)==null||tt.call(f,f)},className:L(O==null?void 0:O.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||se.isValidElement(f.title)?f.jsx||f.title:se.createElement(se.Fragment,null,W||f.icon||f.promise?se.createElement("div",{"data-icon":"",className:L(O==null?void 0:O.icon,(a=f==null?void 0:f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||iy():null,f.type!=="loading"?f.icon||(V==null?void 0:V[W])||lB(W):null):null,se.createElement("div",{"data-content":"",className:L(O==null?void 0:O.content,(o=f==null?void 0:f.classNames)==null?void 0:o.content)},se.createElement("div",{"data-title":"",className:L(O==null?void 0:O.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},f.title),f.description?se.createElement("div",{"data-description":"",className:L(D,ve,O==null?void 0:O.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},f.description):null),se.isValidElement(f.cancel)?f.cancel:f.cancel&&sg(f.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||S,onClick:tt=>{var Bt,Vt;sg(f.cancel)&&X&&((Vt=(Bt=f.cancel).onClick)==null||Vt.call(Bt,tt),ki())},className:L(O==null?void 0:O.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,se.isValidElement(f.action)?f.action:f.action&&sg(f.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:tt=>{var Bt,Vt;sg(f.action)&&(tt.defaultPrevented||((Vt=(Bt=f.action).onClick)==null||Vt.call(Bt,tt),ki()))},className:L(O==null?void 0:O.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function PT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var IB=t=>{let{invert:e,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:r,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:h,visibleToasts:f=NB,toastOptions:g,dir:v=PT(),gap:x=SB,loadingIcon:w,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:N,cn:E=RB}=t,[I,A]=se.useState([]),C=se.useMemo(()=>Array.from(new Set([n].concat(I.filter(F=>F.position).map(F=>F.position)))),[I,n]),[_,S]=se.useState([]),[T,k]=se.useState(!1),[D,P]=se.useState(!1),[G,ee]=se.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=se.useRef(null),Q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=se.useRef(null),V=se.useRef(!1),Z=se.useCallback(F=>{var L;(L=I.find(B=>B.id===F.id))!=null&&L.delete||wr.dismiss(F.id),A(B=>B.filter(({id:K})=>K!==F.id))},[I]);return se.useEffect(()=>wr.subscribe(F=>{if(F.dismiss){A(L=>L.map(B=>B.id===F.id?{...B,delete:!0}:B));return}setTimeout(()=>{jj.flushSync(()=>{A(L=>{let B=L.findIndex(K=>K.id===F.id);return B!==-1?[...L.slice(0,B),{...L[B],...F},...L.slice(B+1)]:[F,...L]})})})}),[]),se.useEffect(()=>{if(c!=="system"){ee(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ee("dark"):ee("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:F})=>{ee(F?"dark":"light")})},[c]),se.useEffect(()=>{I.length<=1&&k(!1)},[I]),se.useEffect(()=>{let F=L=>{var B,K;s.every(ne=>L[ne]||L.code===ne)&&(k(!0),(B=te.current)==null||B.focus()),L.code==="Escape"&&(document.activeElement===te.current||(K=te.current)!=null&&K.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),se.useEffect(()=>{if(te.current)return()=>{O.current&&(O.current.focus({preventScroll:!0}),O.current=null,V.current=!1)}},[te.current]),I.length?se.createElement("section",{"aria-label":`${b} ${Q}`,tabIndex:-1},C.map((F,L)=>{var B;let[K,ne]=F.split("-");return se.createElement("ol",{key:F,dir:v==="auto"?PT():v,tabIndex:-1,ref:te,className:o,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":K,"data-x-position":ne,style:{"--front-toast-height":`${((B=_[0])==null?void 0:B.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||_B,"--width":`${CB}px`,"--gap":`${x}px`,...h},onBlur:ae=>{V.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(V.current=!1,O.current&&(O.current.focus({preventScroll:!0}),O.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||V.current||(V.current=!0,O.current=ae.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{D||k(!1)},onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},I.filter(ae=>!ae.position&&L===0||ae.position===F).map((ae,oe)=>{var Pe,Oe;return se.createElement(PB,{key:ae.id,icons:y,index:oe,toast:ae,defaultRichColors:u,duration:(Pe=g==null?void 0:g.duration)!=null?Pe:d,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:e,visibleToasts:f,closeButton:(Oe=g==null?void 0:g.closeButton)!=null?Oe:a,interacting:D,position:F,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:Z,toasts:I.filter(Ue=>Ue.position==ae.position),heights:_.filter(Ue=>Ue.position==ae.position),setHeights:S,expandByDefault:r,gap:x,loadingIcon:w,expanded:T,pauseWhenPageIsHidden:N,cn:E})}))})):null};const kB=({...t})=>{const{theme:e="system"}=oB();return i.jsx(IB,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var AB=A_.useId||(()=>{}),DB=0;function pi(t){const[e,n]=p.useState(AB());return Hn(()=>{t||n(s=>s??String(DB++))},[t]),t||(e?`radix-${e}`:"")}const MB=["top","right","bottom","left"],xl=Math.min,Nr=Math.max,Sx=Math.round,rg=Math.floor,vl=t=>({x:t,y:t}),OB={left:"right",right:"left",bottom:"top",top:"bottom"},FB={start:"end",end:"start"};function Xb(t,e,n){return Nr(t,xl(e,n))}function Ua(t,e){return typeof t=="function"?t(e):t}function Ba(t){return t.split("-")[0]}function Kd(t){return t.split("-")[1]}function Lj(t){return t==="x"?"y":"x"}function Vj(t){return t==="y"?"height":"width"}function yl(t){return["top","bottom"].includes(Ba(t))?"y":"x"}function $j(t){return Lj(yl(t))}function LB(t,e,n){n===void 0&&(n=!1);const s=Kd(t),r=$j(t),a=Vj(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Ex(o)),[o,Ex(o)]}function VB(t){const e=Ex(t);return[Zb(t),e,Zb(e)]}function Zb(t){return t.replace(/start|end/g,e=>FB[e])}function $B(t,e,n){const s=["left","right"],r=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:s:e?s:r;case"left":case"right":return e?a:o;default:return[]}}function UB(t,e,n,s){const r=Kd(t);let a=$B(Ba(t),n==="start",s);return r&&(a=a.map(o=>o+"-"+r),e&&(a=a.concat(a.map(Zb)))),a}function Ex(t){return t.replace(/left|right|bottom|top/g,e=>OB[e])}function BB(t){return{top:0,right:0,bottom:0,left:0,...t}}function nD(t){return typeof t!="number"?BB(t):{top:t,right:t,bottom:t,left:t}}function Tx(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function IT(t,e,n){let{reference:s,floating:r}=t;const a=yl(e),o=$j(e),l=Vj(o),c=Ba(e),u=a==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,f=s[l]/2-r[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-r.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-r.width,y:h};break;default:g={x:s.x,y:s.y}}switch(Kd(e)){case"start":g[o]-=f*(n&&u?-1:1);break;case"end":g[o]+=f*(n&&u?-1:1);break}return g}const zB=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=IT(u,s,c),f=s,g={},v=0;for(let x=0;x<l.length;x++){const{name:w,fn:y}=l[x],{x:b,y:N,data:E,reset:I}=await y({x:d,y:h,initialPlacement:s,placement:f,strategy:r,middlewareData:g,rects:u,platform:o,elements:{reference:t,floating:e}});d=b??d,h=N??h,g={...g,[w]:{...g[w],...E}},I&&v<=50&&(v++,typeof I=="object"&&(I.placement&&(f=I.placement),I.rects&&(u=I.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):I.rects),{x:d,y:h}=IT(u,f,c)),x=-1)}return{x:d,y:h,placement:f,strategy:r,middlewareData:g}};async function tm(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:g=0}=Ua(e,t),v=nD(g),w=l[f?h==="floating"?"reference":"floating":h],y=Tx(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(w)))==null||n?w:w.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,N=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(N))?await(a.getScale==null?void 0:a.getScale(N))||{x:1,y:1}:{x:1,y:1},I=Tx(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:N,strategy:c}):b);return{top:(y.top-I.top+v.top)/E.y,bottom:(I.bottom-y.bottom+v.bottom)/E.y,left:(y.left-I.left+v.left)/E.x,right:(I.right-y.right+v.right)/E.x}}const HB=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Ua(t,e)||{};if(u==null)return{};const h=nD(d),f={x:n,y:s},g=$j(r),v=Vj(g),x=await o.getDimensions(u),w=g==="y",y=w?"top":"left",b=w?"bottom":"right",N=w?"clientHeight":"clientWidth",E=a.reference[v]+a.reference[g]-f[g]-a.floating[v],I=f[g]-a.reference[g],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=A?A[N]:0;(!C||!await(o.isElement==null?void 0:o.isElement(A)))&&(C=l.floating[N]||a.floating[v]);const _=E/2-I/2,S=C/2-x[v]/2-1,T=xl(h[y],S),k=xl(h[b],S),D=T,P=C-x[v]-k,G=C/2-x[v]/2+_,ee=Xb(D,G,P),te=!c.arrow&&Kd(r)!=null&&G!==ee&&a.reference[v]/2-(G<D?T:k)-x[v]/2<0,Q=te?G<D?G-D:G-P:0;return{[g]:f[g]+Q,data:{[g]:ee,centerOffset:G-ee-Q,...te&&{alignmentOffset:Q}},reset:te}}}),WB=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...w}=Ua(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=Ba(r),b=yl(l),N=Ba(l)===l,E=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=f||(N||!x?[Ex(l)]:VB(l)),A=v!=="none";!f&&A&&I.push(...UB(l,x,v,E));const C=[l,...I],_=await tm(e,w),S=[];let T=((s=a.flip)==null?void 0:s.overflows)||[];if(d&&S.push(_[y]),h){const G=LB(r,o,E);S.push(_[G[0]],_[G[1]])}if(T=[...T,{placement:r,overflows:S}],!S.every(G=>G<=0)){var k,D;const G=(((k=a.flip)==null?void 0:k.index)||0)+1,ee=C[G];if(ee)return{data:{index:G,overflows:T},reset:{placement:ee}};let te=(D=T.filter(Q=>Q.overflows[0]<=0).sort((Q,O)=>Q.overflows[1]-O.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(g){case"bestFit":{var P;const Q=(P=T.filter(O=>{if(A){const V=yl(O.placement);return V===b||V==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(V=>V>0).reduce((V,Z)=>V+Z,0)]).sort((O,V)=>O[1]-V[1])[0])==null?void 0:P[0];Q&&(te=Q);break}case"initialPlacement":te=l;break}if(r!==te)return{reset:{placement:te}}}return{}}}};function kT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function AT(t){return MB.some(e=>t[e]>=0)}const qB=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Ua(t,e);switch(s){case"referenceHidden":{const a=await tm(e,{...r,elementContext:"reference"}),o=kT(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:AT(o)}}}case"escaped":{const a=await tm(e,{...r,altBoundary:!0}),o=kT(a,n.floating);return{data:{escapedOffsets:o,escaped:AT(o)}}}default:return{}}}}};async function GB(t,e){const{placement:n,platform:s,elements:r}=t,a=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Ba(n),l=Kd(n),c=yl(n)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,h=Ua(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*d,y:f*u}:{x:f*u,y:g*d}}const KB=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:a,placement:o,middlewareData:l}=e,c=await GB(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:a+c.y,data:{...c,placement:o}}}}},QB=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}},...c}=Ua(t,e),u={x:n,y:s},d=await tm(e,c),h=yl(Ba(r)),f=Lj(h);let g=u[f],v=u[h];if(a){const w=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=g+d[w],N=g-d[y];g=Xb(b,g,N)}if(o){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=v+d[w],N=v-d[y];v=Xb(b,v,N)}const x=l.fn({...e,[f]:g,[h]:v});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[f]:a,[h]:o}}}}}},YB=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ua(t,e),d={x:n,y:s},h=yl(r),f=Lj(h);let g=d[f],v=d[h];const x=Ua(l,e),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const N=f==="y"?"height":"width",E=a.reference[f]-a.floating[N]+w.mainAxis,I=a.reference[f]+a.reference[N]-w.mainAxis;g<E?g=E:g>I&&(g=I)}if(u){var y,b;const N=f==="y"?"width":"height",E=["top","left"].includes(Ba(r)),I=a.reference[h]-a.floating[N]+(E&&((y=o.offset)==null?void 0:y[h])||0)+(E?0:w.crossAxis),A=a.reference[h]+a.reference[N]+(E?0:((b=o.offset)==null?void 0:b[h])||0)-(E?w.crossAxis:0);v<I?v=I:v>A&&(v=A)}return{[f]:g,[h]:v}}}},XB=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Ua(t,e),d=await tm(e,u),h=Ba(r),f=Kd(r),g=yl(r)==="y",{width:v,height:x}=a.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=f===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,w=f==="end"?"top":"bottom");const b=x-d.top-d.bottom,N=v-d.left-d.right,E=xl(x-d[w],b),I=xl(v-d[y],N),A=!e.middlewareData.shift;let C=E,_=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=N),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(C=b),A&&!f){const T=Nr(d.left,0),k=Nr(d.right,0),D=Nr(d.top,0),P=Nr(d.bottom,0);g?_=v-2*(T!==0||k!==0?T+k:Nr(d.left,d.right)):C=x-2*(D!==0||P!==0?D+P:Nr(d.top,d.bottom))}await c({...e,availableWidth:_,availableHeight:C});const S=await o.getDimensions(l.floating);return v!==S.width||x!==S.height?{reset:{rects:!0}}:{}}}};function Yv(){return typeof window<"u"}function Qd(t){return sD(t)?(t.nodeName||"").toLowerCase():"#document"}function Er(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ca(t){var e;return(e=(sD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function sD(t){return Yv()?t instanceof Node||t instanceof Er(t).Node:!1}function wi(t){return Yv()?t instanceof Element||t instanceof Er(t).Element:!1}function na(t){return Yv()?t instanceof HTMLElement||t instanceof Er(t).HTMLElement:!1}function DT(t){return!Yv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Er(t).ShadowRoot}function Lm(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=bi(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(r)}function ZB(t){return["table","td","th"].includes(Qd(t))}function Xv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Uj(t){const e=Bj(),n=wi(t)?bi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function JB(t){let e=wl(t);for(;na(e)&&!jd(e);){if(Uj(e))return e;if(Xv(e))return null;e=wl(e)}return null}function Bj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function jd(t){return["html","body","#document"].includes(Qd(t))}function bi(t){return Er(t).getComputedStyle(t)}function Zv(t){return wi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wl(t){if(Qd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||DT(t)&&t.host||ca(t);return DT(e)?e.host:e}function rD(t){const e=wl(t);return jd(e)?t.ownerDocument?t.ownerDocument.body:t.body:na(e)&&Lm(e)?e:rD(e)}function nm(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=rD(t),a=r===((s=t.ownerDocument)==null?void 0:s.body),o=Er(r);if(a){const l=Jb(o);return e.concat(o,o.visualViewport||[],Lm(r)?r:[],l&&n?nm(l):[])}return e.concat(r,nm(r,[],n))}function Jb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iD(t){const e=bi(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=na(t),a=r?t.offsetWidth:n,o=r?t.offsetHeight:s,l=Sx(n)!==a||Sx(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function zj(t){return wi(t)?t:t.contextElement}function Wu(t){const e=zj(t);if(!na(e))return vl(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:a}=iD(e);let o=(a?Sx(n.width):n.width)/s,l=(a?Sx(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const e8=vl(0);function aD(t){const e=Er(t);return!Bj()||!e.visualViewport?e8:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function t8(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Er(t)?!1:e}function bc(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=zj(t);let o=vl(1);e&&(s?wi(s)&&(o=Wu(s)):o=Wu(t));const l=t8(a,n,s)?aD(a):vl(0);let c=(r.left+l.x)/o.x,u=(r.top+l.y)/o.y,d=r.width/o.x,h=r.height/o.y;if(a){const f=Er(a),g=s&&wi(s)?Er(s):s;let v=f,x=Jb(v);for(;x&&s&&g!==v;){const w=Wu(x),y=x.getBoundingClientRect(),b=bi(x),N=y.left+(x.clientLeft+parseFloat(b.paddingLeft))*w.x,E=y.top+(x.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,h*=w.y,c+=N,u+=E,v=Er(x),x=Jb(v)}}return Tx({width:d,height:h,x:c,y:u})}function n8(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const a=r==="fixed",o=ca(s),l=e?Xv(e.floating):!1;if(s===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=vl(1);const d=vl(0),h=na(s);if((h||!h&&!a)&&((Qd(s)!=="body"||Lm(o))&&(c=Zv(s)),na(s))){const f=bc(s);u=Wu(s),d.x=f.x+s.clientLeft,d.y=f.y+s.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x,y:n.y*u.y-c.scrollTop*u.y+d.y}}function s8(t){return Array.from(t.getClientRects())}function eN(t,e){const n=Zv(t).scrollLeft;return e?e.left+n:bc(ca(t)).left+n}function r8(t){const e=ca(t),n=Zv(t),s=t.ownerDocument.body,r=Nr(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),a=Nr(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+eN(t);const l=-n.scrollTop;return bi(s).direction==="rtl"&&(o+=Nr(e.clientWidth,s.clientWidth)-r),{width:r,height:a,x:o,y:l}}function i8(t,e){const n=Er(t),s=ca(t),r=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,c=0;if(r){a=r.width,o=r.height;const u=Bj();(!u||u&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}return{width:a,height:o,x:l,y:c}}function a8(t,e){const n=bc(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,a=na(t)?Wu(t):vl(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=r*a.x,u=s*a.y;return{width:o,height:l,x:c,y:u}}function MT(t,e,n){let s;if(e==="viewport")s=i8(t,n);else if(e==="document")s=r8(ca(t));else if(wi(e))s=a8(e,n);else{const r=aD(t);s={...e,x:e.x-r.x,y:e.y-r.y}}return Tx(s)}function oD(t,e){const n=wl(t);return n===e||!wi(n)||jd(n)?!1:bi(n).position==="fixed"||oD(n,e)}function o8(t,e){const n=e.get(t);if(n)return n;let s=nm(t,[],!1).filter(l=>wi(l)&&Qd(l)!=="body"),r=null;const a=bi(t).position==="fixed";let o=a?wl(t):t;for(;wi(o)&&!jd(o);){const l=bi(o),c=Uj(o);!c&&l.position==="fixed"&&(r=null),(a?!c&&!r:!c&&l.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Lm(o)&&!c&&oD(t,o))?s=s.filter(d=>d!==o):r=l,o=wl(o)}return e.set(t,s),s}function l8(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const o=[...n==="clippingAncestors"?Xv(e)?[]:o8(e,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,d)=>{const h=MT(e,d,r);return u.top=Nr(h.top,u.top),u.right=xl(h.right,u.right),u.bottom=xl(h.bottom,u.bottom),u.left=Nr(h.left,u.left),u},MT(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function c8(t){const{width:e,height:n}=iD(t);return{width:e,height:n}}function u8(t,e,n){const s=na(e),r=ca(e),a=n==="fixed",o=bc(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=vl(0);if(s||!s&&!a)if((Qd(e)!=="body"||Lm(r))&&(l=Zv(e)),s){const g=bc(e,!0,a,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else r&&(c.x=eN(r));let u=0,d=0;if(r&&!s&&!a){const g=r.getBoundingClientRect();d=g.top+l.scrollTop,u=g.left+l.scrollLeft-eN(r,g)}const h=o.left+l.scrollLeft-c.x-u,f=o.top+l.scrollTop-c.y-d;return{x:h,y:f,width:o.width,height:o.height}}function Yy(t){return bi(t).position==="static"}function OT(t,e){if(!na(t)||bi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ca(t)===n&&(n=n.ownerDocument.body),n}function lD(t,e){const n=Er(t);if(Xv(t))return n;if(!na(t)){let r=wl(t);for(;r&&!jd(r);){if(wi(r)&&!Yy(r))return r;r=wl(r)}return n}let s=OT(t,e);for(;s&&ZB(s)&&Yy(s);)s=OT(s,e);return s&&jd(s)&&Yy(s)&&!Uj(s)?n:s||JB(t)||n}const d8=async function(t){const e=this.getOffsetParent||lD,n=this.getDimensions,s=await n(t.floating);return{reference:u8(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function h8(t){return bi(t).direction==="rtl"}const f8={convertOffsetParentRelativeRectToViewportRelativeRect:n8,getDocumentElement:ca,getClippingRect:l8,getOffsetParent:lD,getElementRects:d8,getClientRects:s8,getDimensions:c8,getScale:Wu,isElement:wi,isRTL:h8};function m8(t,e){let n=null,s;const r=ca(t);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(l||e(),!h||!f)return;const g=rg(d),v=rg(r.clientWidth-(u+h)),x=rg(r.clientHeight-(d+f)),w=rg(u),b={rootMargin:-g+"px "+-v+"px "+-x+"px "+-w+"px",threshold:Nr(0,xl(1,c))||1};let N=!0;function E(I){const A=I[0].intersectionRatio;if(A!==c){if(!N)return o();A?o(!1,A):s=setTimeout(()=>{o(!1,1e-7)},1e3)}N=!1}try{n=new IntersectionObserver(E,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(E,b)}n.observe(t)}return o(!0),a}function p8(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=zj(t),d=r||a?[...u?nm(u):[],...nm(e)]:[];d.forEach(y=>{r&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const h=u&&l?m8(u,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let v,x=c?bc(t):null;c&&w();function w(){const y=bc(t);x&&(y.x!==x.x||y.y!==x.y||y.width!==x.width||y.height!==x.height)&&n(),x=y,v=requestAnimationFrame(w)}return n(),()=>{var y;d.forEach(b=>{r&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),h==null||h(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const g8=KB,x8=QB,v8=WB,y8=XB,w8=qB,FT=HB,b8=YB,N8=(t,e,n)=>{const s=new Map,r={platform:f8,...n},a={...r.platform,_c:s};return zB(t,e,{...r,platform:a})};var Vg=typeof document<"u"?p.useLayoutEffect:p.useEffect;function Rx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Rx(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const a=r[s];if(!(a==="_owner"&&t.$$typeof)&&!Rx(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function cD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LT(t,e){const n=cD(t);return Math.round(e*n)/n}function Xy(t){const e=p.useRef(t);return Vg(()=>{e.current=t}),e}function _8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=p.useState(s);Rx(f,s)||g(s);const[v,x]=p.useState(null),[w,y]=p.useState(null),b=p.useCallback(O=>{O!==A.current&&(A.current=O,x(O))},[]),N=p.useCallback(O=>{O!==C.current&&(C.current=O,y(O))},[]),E=a||v,I=o||w,A=p.useRef(null),C=p.useRef(null),_=p.useRef(d),S=c!=null,T=Xy(c),k=Xy(r),D=Xy(u),P=p.useCallback(()=>{if(!A.current||!C.current)return;const O={placement:e,strategy:n,middleware:f};k.current&&(O.platform=k.current),N8(A.current,C.current,O).then(V=>{const Z={...V,isPositioned:D.current!==!1};G.current&&!Rx(_.current,Z)&&(_.current=Z,no.flushSync(()=>{h(Z)}))})},[f,e,n,k,D]);Vg(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,h(O=>({...O,isPositioned:!1})))},[u]);const G=p.useRef(!1);Vg(()=>(G.current=!0,()=>{G.current=!1}),[]),Vg(()=>{if(E&&(A.current=E),I&&(C.current=I),E&&I){if(T.current)return T.current(E,I,P);P()}},[E,I,P,T,S]);const ee=p.useMemo(()=>({reference:A,floating:C,setReference:b,setFloating:N}),[b,N]),te=p.useMemo(()=>({reference:E,floating:I}),[E,I]),Q=p.useMemo(()=>{const O={position:n,left:0,top:0};if(!te.floating)return O;const V=LT(te.floating,d.x),Z=LT(te.floating,d.y);return l?{...O,transform:"translate("+V+"px, "+Z+"px)",...cD(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Z}},[n,l,te.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:P,refs:ee,elements:te,floatingStyles:Q}),[d,P,ee,te,Q])}const j8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?FT({element:s.current,padding:r}).fn(n):{}:s?FT({element:s,padding:r}).fn(n):{}}}},C8=(t,e)=>({...g8(t),options:[t,e]}),S8=(t,e)=>({...x8(t),options:[t,e]}),E8=(t,e)=>({...b8(t),options:[t,e]}),T8=(t,e)=>({...v8(t),options:[t,e]}),R8=(t,e)=>({...y8(t),options:[t,e]}),P8=(t,e)=>({...w8(t),options:[t,e]}),I8=(t,e)=>({...j8(t),options:[t,e]});var k8="Arrow",uD=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...a}=t;return i.jsx(Ae.svg,{...a,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});uD.displayName=k8;var A8=uD;function D8(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:w,children:g})}function d(h,f){const g=(f==null?void 0:f[t][c])||l,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const r=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,M8(r,...e)]}function M8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Jv(t){const[e,n]=p.useState(void 0);return Hn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Hj="Popper",[dD,Dl]=D8(Hj),[O8,hD]=dD(Hj),fD=t=>{const{__scopePopper:e,children:n}=t,[s,r]=p.useState(null);return i.jsx(O8,{scope:e,anchor:s,onAnchorChange:r,children:n})};fD.displayName=Hj;var mD="PopperAnchor",pD=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,a=hD(mD,n),o=p.useRef(null),l=nt(e,o);return p.useEffect(()=>{a.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:i.jsx(Ae.div,{...r,ref:l})});pD.displayName=mD;var Wj="PopperContent",[F8,L8]=dD(Wj),gD=p.forwardRef((t,e)=>{var oe,Pe,Oe,Ue,it,lt;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=t,w=hD(Wj,n),[y,b]=p.useState(null),N=nt(e,gn=>b(gn)),[E,I]=p.useState(null),A=Jv(E),C=(A==null?void 0:A.width)??0,_=(A==null?void 0:A.height)??0,S=s+(a!=="center"?"-"+a:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},k=Array.isArray(u)?u:[u],D=k.length>0,P={padding:T,boundary:k.filter($8),altBoundary:D},{refs:G,floatingStyles:ee,placement:te,isPositioned:Q,middlewareData:O}=_8({strategy:"fixed",placement:S,whileElementsMounted:(...gn)=>p8(...gn,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[C8({mainAxis:r+_,alignmentAxis:o}),c&&S8({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?E8():void 0,...P}),c&&T8({...P}),R8({...P,apply:({elements:gn,rects:kn,availableWidth:xr,availableHeight:us})=>{const{width:Ri,height:$}=kn.reference,W=gn.floating.style;W.setProperty("--radix-popper-available-width",`${xr}px`),W.setProperty("--radix-popper-available-height",`${us}px`),W.setProperty("--radix-popper-anchor-width",`${Ri}px`),W.setProperty("--radix-popper-anchor-height",`${$}px`)}}),E&&I8({element:E,padding:l}),U8({arrowWidth:C,arrowHeight:_}),f&&P8({strategy:"referenceHidden",...P})]}),[V,Z]=yD(te),F=sn(v);Hn(()=>{Q&&(F==null||F())},[Q,F]);const L=(oe=O.arrow)==null?void 0:oe.x,B=(Pe=O.arrow)==null?void 0:Pe.y,K=((Oe=O.arrow)==null?void 0:Oe.centerOffset)!==0,[ne,ae]=p.useState();return Hn(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Q?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ne,"--radix-popper-transform-origin":[(Ue=O.transformOrigin)==null?void 0:Ue.x,(it=O.transformOrigin)==null?void 0:it.y].join(" "),...((lt=O.hide)==null?void 0:lt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(F8,{scope:n,placedSide:V,onArrowChange:I,arrowX:L,arrowY:B,shouldHideArrow:K,children:i.jsx(Ae.div,{"data-side":V,"data-align":Z,...x,ref:N,style:{...x.style,animation:Q?void 0:"none"}})})})});gD.displayName=Wj;var xD="PopperArrow",V8={top:"bottom",right:"left",bottom:"top",left:"right"},vD=p.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,a=L8(xD,s),o=V8[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(A8,{...r,ref:n,style:{...r.style,display:"block"}})})});vD.displayName=xD;function $8(t){return t!==null}var U8=t=>({name:"transformOrigin",options:t,fn(e){var w,y,b;const{placement:n,rects:s,middlewareData:r}=e,o=((w=r.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=yD(n),h={start:"0%",center:"50%",end:"100%"}[d],f=(((y=r.arrow)==null?void 0:y.x)??0)+l/2,g=(((b=r.arrow)==null?void 0:b.y)??0)+c/2;let v="",x="";return u==="bottom"?(v=o?h:`${f}px`,x=`${-c}px`):u==="top"?(v=o?h:`${f}px`,x=`${s.floating.height+c}px`):u==="right"?(v=`${-c}px`,x=o?h:`${g}px`):u==="left"&&(v=`${s.floating.width+c}px`,x=o?h:`${g}px`),{data:{x:v,y:x}}}});function yD(t){const[e,n="center"]=t.split("-");return[e,n]}var qj=fD,Vm=pD,e0=gD,t0=vD,[n0,Qde]=Ws("Tooltip",[Dl]),Gj=Dl(),wD="TooltipProvider",B8=700,VT="tooltip.open",[z8,bD]=n0(wD),ND=t=>{const{__scopeTooltip:e,delayDuration:n=B8,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:a}=t,[o,l]=p.useState(!0),c=p.useRef(!1),u=p.useRef(0);return p.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(z8,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:p.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),s)},[s]),isPointerInTransitRef:c,onPointerInTransitChange:p.useCallback(d=>{c.current=d},[]),disableHoverableContent:r,children:a})};ND.displayName=wD;var _D="Tooltip",[Yde,s0]=n0(_D),tN="TooltipTrigger",H8=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=s0(tN,n),a=bD(tN,n),o=Gj(n),l=p.useRef(null),c=nt(e,l,r.onTriggerChange),u=p.useRef(!1),d=p.useRef(!1),h=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx(Vm,{asChild:!0,...o,children:i.jsx(Ae.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:c,onPointerMove:ue(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(t.onPointerLeave,()=>{r.onTriggerLeave(),d.current=!1}),onPointerDown:ue(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ue(t.onFocus,()=>{u.current||r.onOpen()}),onBlur:ue(t.onBlur,r.onClose),onClick:ue(t.onClick,r.onClose)})})});H8.displayName=tN;var W8="TooltipPortal",[Xde,q8]=n0(W8,{forceMount:void 0}),Cd="TooltipContent",jD=p.forwardRef((t,e)=>{const n=q8(Cd,t.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...a}=t,o=s0(Cd,t.__scopeTooltip);return i.jsx(qn,{present:s||o.open,children:o.disableHoverableContent?i.jsx(CD,{side:r,...a,ref:e}):i.jsx(G8,{side:r,...a,ref:e})})}),G8=p.forwardRef((t,e)=>{const n=s0(Cd,t.__scopeTooltip),s=bD(Cd,t.__scopeTooltip),r=p.useRef(null),a=nt(e,r),[o,l]=p.useState(null),{trigger:c,onClose:u}=n,d=r.current,{onPointerInTransitChange:h}=s,f=p.useCallback(()=>{l(null),h(!1)},[h]),g=p.useCallback((v,x)=>{const w=v.currentTarget,y={x:v.clientX,y:v.clientY},b=X8(y,w.getBoundingClientRect()),N=Z8(y,b),E=J8(x.getBoundingClientRect()),I=tz([...N,...E]);l(I),h(!0)},[h]);return p.useEffect(()=>()=>f(),[f]),p.useEffect(()=>{if(c&&d){const v=w=>g(w,d),x=w=>g(w,c);return c.addEventListener("pointerleave",v),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",x)}}},[c,d,g,f]),p.useEffect(()=>{if(o){const v=x=>{const w=x.target,y={x:x.clientX,y:x.clientY},b=(c==null?void 0:c.contains(w))||(d==null?void 0:d.contains(w)),N=!ez(y,o);b?f():N&&(f(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[c,d,o,u,f]),i.jsx(CD,{...t,ref:a})}),[K8,Q8]=n0(_D,{isInside:!1}),CD=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=s0(Cd,n),u=Gj(n),{onClose:d}=c;return p.useEffect(()=>(document.addEventListener(VT,d),()=>document.removeEventListener(VT,d)),[d]),p.useEffect(()=>{if(c.trigger){const h=f=>{const g=f.target;g!=null&&g.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),i.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:i.jsxs(e0,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Cj,{children:s}),i.jsx(K8,{scope:n,isInside:!0,children:i.jsx(z7,{id:c.contentId,role:"tooltip",children:r||s})})]})})});jD.displayName=Cd;var SD="TooltipArrow",Y8=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,r=Gj(n);return Q8(SD,n).isInside?null:i.jsx(t0,{...r,...s,ref:e})});Y8.displayName=SD;function X8(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Z8(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function J8(t){const{top:e,right:n,bottom:s,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:s},{x:r,y:s}]}function ez(t,e){const{x:n,y:s}=t;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>s!=d>s&&n<(u-l)*(s-c)/(d-c)+l&&(r=!r)}return r}function tz(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),nz(e)}function nz(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const r=t[s];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const r=t[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var sz=ND,ED=jD;const rz=sz,iz=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>i.jsx(ED,{ref:s,sideOffset:e,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));iz.displayName=ED.displayName;var Yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Nc=typeof window>"u"||"Deno"in globalThis;function Or(){}function az(t,e){return typeof t=="function"?t(e):t}function nN(t){return typeof t=="number"&&t>=0&&t!==1/0}function TD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function qu(t,e){return typeof t=="function"?t(e):t}function oi(t,e){return typeof t=="function"?t(e):t}function $T(t,e){const{type:n="all",exact:s,fetchStatus:r,predicate:a,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==Kj(o,e.options))return!1}else if(!sm(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||r&&r!==e.state.fetchStatus||a&&!a(e))}function UT(t,e){const{exact:n,status:s,predicate:r,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(_c(e.options.mutationKey)!==_c(a))return!1}else if(!sm(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||r&&!r(e))}function Kj(t,e){return((e==null?void 0:e.queryKeyHashFn)||_c)(t)}function _c(t){return JSON.stringify(t,(e,n)=>sN(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function sm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!sm(t[n],e[n])):!1}function RD(t,e){if(t===e)return t;const n=BT(t)&&BT(e);if(n||sN(t)&&sN(e)){const s=n?t:Object.keys(t),r=s.length,a=n?e:Object.keys(e),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:a[u];(!n&&s.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=RD(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return r===o&&c===r?t:l}return e}function Px(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function BT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function sN(t){if(!zT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!zT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function zT(t){return Object.prototype.toString.call(t)==="[object Object]"}function oz(t){return new Promise(e=>{setTimeout(e,t)})}function rN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?RD(t,e):e}function lz(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function cz(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var Qj=Symbol();function PD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Qj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ac,Vo,sd,WI,uz=(WI=class extends Yd{constructor(){super();We(this,ac);We(this,Vo);We(this,sd);Se(this,sd,e=>{if(!Nc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Vo)||this.setEventListener(U(this,sd))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Vo))==null||e.call(this),Se(this,Vo,void 0))}setEventListener(e){var n;Se(this,sd,e),(n=U(this,Vo))==null||n.call(this),Se(this,Vo,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){U(this,ac)!==e&&(Se(this,ac,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,ac)=="boolean"?U(this,ac):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ac=new WeakMap,Vo=new WeakMap,sd=new WeakMap,WI),Yj=new uz,rd,$o,id,qI,dz=(qI=class extends Yd{constructor(){super();We(this,rd,!0);We(this,$o);We(this,id);Se(this,id,e=>{if(!Nc&&window.addEventListener){const n=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){U(this,$o)||this.setEventListener(U(this,id))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,$o))==null||e.call(this),Se(this,$o,void 0))}setEventListener(e){var n;Se(this,id,e),(n=U(this,$o))==null||n.call(this),Se(this,$o,e(this.setOnline.bind(this)))}setOnline(e){U(this,rd)!==e&&(Se(this,rd,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return U(this,rd)}},rd=new WeakMap,$o=new WeakMap,id=new WeakMap,qI),Ix=new dz;function iN(){let t,e;const n=new Promise((r,a)=>{t=r,e=a});n.status="pending",n.catch(()=>{});function s(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{s({status:"fulfilled",value:r}),t(r)},n.reject=r=>{s({status:"rejected",reason:r}),e(r)},n}function hz(t){return Math.min(1e3*2**t,3e4)}function ID(t){return(t??"online")==="online"?Ix.isOnline():!0}var kD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zy(t){return t instanceof kD}function AD(t){let e=!1,n=0,s=!1,r;const a=iN(),o=x=>{var w;s||(f(new kD(x)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Yj.isFocused()&&(t.networkMode==="always"||Ix.isOnline())&&t.canRun(),d=()=>ID(t.networkMode)&&t.canRun(),h=x=>{var w;s||(s=!0,(w=t.onSuccess)==null||w.call(t,x),r==null||r(),a.resolve(x))},f=x=>{var w;s||(s=!0,(w=t.onError)==null||w.call(t,x),r==null||r(),a.reject(x))},g=()=>new Promise(x=>{var w;r=y=>{(s||u())&&x(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var x;r=void 0,s||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(s)return;let x;const w=n===0?t.initialPromise:void 0;try{x=w??t.fn()}catch(y){x=Promise.reject(y)}Promise.resolve(x).then(h).catch(y=>{var A;if(s)return;const b=t.retry??(Nc?0:3),N=t.retryDelay??hz,E=typeof N=="function"?N(n,y):N,I=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!I){f(y);return}n++,(A=t.onFail)==null||A.call(t,n,y),oz(E).then(()=>u()?void 0:g()).then(()=>{e?f(y):v()})})};return{promise:a,cancel:o,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():g().then(v),a)}}function fz(){let t=[],e=0,n=l=>{l()},s=l=>{l()},r=l=>setTimeout(l,0);const a=l=>{e?t.push(l):r(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&r(()=>{s(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{r=l}}}var Un=fz(),oc,GI,DD=(GI=class{constructor(){We(this,oc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),nN(this.gcTime)&&Se(this,oc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Nc?1/0:5*60*1e3))}clearGcTimeout(){U(this,oc)&&(clearTimeout(U(this,oc)),Se(this,oc,void 0))}},oc=new WeakMap,GI),ad,od,Mr,vs,jm,lc,ri,ba,KI,mz=(KI=class extends DD{constructor(n){super();We(this,ri);We(this,ad);We(this,od);We(this,Mr);We(this,vs);We(this,jm);We(this,lc);Se(this,lc,!1),Se(this,jm,n.defaultOptions),this.setOptions(n.options),this.observers=[],Se(this,Mr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Se(this,ad,pz(this.options)),this.state=n.state??U(this,ad),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,vs))==null?void 0:n.promise}setOptions(n){this.options={...U(this,jm),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Mr).remove(this)}setData(n,s){const r=rN(this.state.data,n,this.options);return ht(this,ri,ba).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(n,s){ht(this,ri,ba).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var r,a;const s=(r=U(this,vs))==null?void 0:r.promise;return(a=U(this,vs))==null||a.cancel(n),s?s.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ad))}isActive(){return this.observers.some(n=>oi(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!TD(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=U(this,vs))==null||s.continue()}onOnline(){var s;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=U(this,vs))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Mr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(U(this,vs)&&(U(this,lc)?U(this,vs).cancel({revert:!0}):U(this,vs).cancelRetry()),this.scheduleGc()),U(this,Mr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ht(this,ri,ba).call(this,{type:"invalidate"})}fetch(n,s){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(U(this,vs))return U(this,vs).continueRetry(),U(this,vs).promise}if(n&&this.setOptions(n),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Se(this,lc,!0),r.signal)})},o=()=>{const f=PD(this.options,s),g={queryKey:this.queryKey,meta:this.meta};return a(g),Se(this,lc,!1),this.options.persister?this.options.persister(f,g,this):f(g)},l={fetchOptions:s,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(u=this.options.behavior)==null||u.onFetch(l,this),Se(this,od,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&ht(this,ri,ba).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta});const c=f=>{var g,v,x,w;Zy(f)&&f.silent||ht(this,ri,ba).call(this,{type:"error",error:f}),Zy(f)||((v=(g=U(this,Mr).config).onError)==null||v.call(g,f,this),(w=(x=U(this,Mr).config).onSettled)==null||w.call(x,this.state.data,f,this)),this.scheduleGc()};return Se(this,vs,AD({initialPromise:s==null?void 0:s.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var g,v,x,w;if(f===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){c(y);return}(v=(g=U(this,Mr).config).onSuccess)==null||v.call(g,f,this),(w=(x=U(this,Mr).config).onSettled)==null||w.call(x,f,this.state.error,this),this.scheduleGc()},onError:c,onFail:(f,g)=>{ht(this,ri,ba).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{ht(this,ri,ba).call(this,{type:"pause"})},onContinue:()=>{ht(this,ri,ba).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,vs).start()}},ad=new WeakMap,od=new WeakMap,Mr=new WeakMap,vs=new WeakMap,jm=new WeakMap,lc=new WeakMap,ri=new WeakSet,ba=function(n){const s=r=>{switch(n.type){case"failed":return{...r,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...MD(r.data,this.options),fetchMeta:n.meta??null};case"success":return{...r,data:n.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=n.error;return Zy(a)&&a.revert&&U(this,od)?{...U(this,od),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...n.state}}};this.state=s(this.state),Un.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),U(this,Mr).notify({query:this,type:"updated",action:n})})},KI);function MD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ID(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function pz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Oi,QI,gz=(QI=class extends Yd{constructor(e={}){super();We(this,Oi);this.config=e,Se(this,Oi,new Map)}build(e,n,s){const r=n.queryKey,a=n.queryHash??Kj(r,n);let o=this.get(a);return o||(o=new mz({cache:this,queryKey:r,queryHash:a,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){U(this,Oi).has(e.queryHash)||(U(this,Oi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Oi).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Oi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Oi).get(e)}getAll(){return[...U(this,Oi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(s=>$T(n,s))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(s=>$T(e,s)):n}notify(e){Un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Un.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Un.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Oi=new WeakMap,QI),Fi,Rs,cc,Li,So,YI,xz=(YI=class extends DD{constructor(n){super();We(this,Li);We(this,Fi);We(this,Rs);We(this,cc);this.mutationId=n.mutationId,Se(this,Rs,n.mutationCache),Se(this,Fi,[]),this.state=n.state||OD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Fi).includes(n)||(U(this,Fi).push(n),this.clearGcTimeout(),U(this,Rs).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Se(this,Fi,U(this,Fi).filter(s=>s!==n)),this.scheduleGc(),U(this,Rs).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Fi).length||(this.state.status==="pending"?this.scheduleGc():U(this,Rs).remove(this))}continue(){var n;return((n=U(this,cc))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,l,c,u,d,h,f,g,v,x,w,y,b,N,E,I,A,C,_;Se(this,cc,AD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,T)=>{ht(this,Li,So).call(this,{type:"failed",failureCount:S,error:T})},onPause:()=>{ht(this,Li,So).call(this,{type:"pause"})},onContinue:()=>{ht(this,Li,So).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Rs).canRun(this)}));const s=this.state.status==="pending",r=!U(this,cc).canStart();try{if(!s){ht(this,Li,So).call(this,{type:"pending",variables:n,isPaused:r}),await((o=(a=U(this,Rs).config).onMutate)==null?void 0:o.call(a,n,this));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));T!==this.state.context&&ht(this,Li,So).call(this,{type:"pending",context:T,variables:n,isPaused:r})}const S=await U(this,cc).start();return await((d=(u=U(this,Rs).config).onSuccess)==null?void 0:d.call(u,S,n,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,S,n,this.state.context)),await((v=(g=U(this,Rs).config).onSettled)==null?void 0:v.call(g,S,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,S,null,n,this.state.context)),ht(this,Li,So).call(this,{type:"success",data:S}),S}catch(S){try{throw await((b=(y=U(this,Rs).config).onError)==null?void 0:b.call(y,S,n,this.state.context,this)),await((E=(N=this.options).onError)==null?void 0:E.call(N,S,n,this.state.context)),await((A=(I=U(this,Rs).config).onSettled)==null?void 0:A.call(I,void 0,S,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,S,n,this.state.context)),S}finally{ht(this,Li,So).call(this,{type:"error",error:S})}}finally{U(this,Rs).runNext(this)}}},Fi=new WeakMap,Rs=new WeakMap,cc=new WeakMap,Li=new WeakSet,So=function(n){const s=r=>{switch(n.type){case"failed":return{...r,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...r,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:n.error,failureCount:r.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Un.batch(()=>{U(this,Fi).forEach(r=>{r.onMutationUpdate(n)}),U(this,Rs).notify({mutation:this,type:"updated",action:n})})},YI);function OD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var yr,Cm,XI,vz=(XI=class extends Yd{constructor(e={}){super();We(this,yr);We(this,Cm);this.config=e,Se(this,yr,new Map),Se(this,Cm,Date.now())}build(e,n,s){const r=new xz({mutationCache:this,mutationId:++Fp(this,Cm)._,options:e.defaultMutationOptions(n),state:s});return this.add(r),r}add(e){const n=ig(e),s=U(this,yr).get(n)??[];s.push(e),U(this,yr).set(n,s),this.notify({type:"added",mutation:e})}remove(e){var s;const n=ig(e);if(U(this,yr).has(n)){const r=(s=U(this,yr).get(n))==null?void 0:s.filter(a=>a!==e);r&&(r.length===0?U(this,yr).delete(n):U(this,yr).set(n,r))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const n=(s=U(this,yr).get(ig(e)))==null?void 0:s.find(r=>r.state.status==="pending");return!n||n===e}runNext(e){var s;const n=(s=U(this,yr).get(ig(e)))==null?void 0:s.find(r=>r!==e&&r.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Un.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,yr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(s=>UT(n,s))}findAll(e={}){return this.getAll().filter(n=>UT(e,n))}notify(e){Un.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Un.batch(()=>Promise.all(e.map(n=>n.continue().catch(Or))))}},yr=new WeakMap,Cm=new WeakMap,XI);function ig(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function HT(t){return{onFetch:(e,n)=>{var d,h,f,g,v;const s=e.options,r=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,a=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const w=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},y=PD(e.options,e.fetchOptions),b=async(N,E,I)=>{if(x)return Promise.reject();if(E==null&&N.pages.length)return Promise.resolve(N);const A={queryKey:e.queryKey,pageParam:E,direction:I?"backward":"forward",meta:e.options.meta};w(A);const C=await y(A),{maxPages:_}=e.options,S=I?cz:lz;return{pages:S(N.pages,C,_),pageParams:S(N.pageParams,E,_)}};if(r&&a.length){const N=r==="backward",E=N?yz:WT,I={pages:a,pageParams:o},A=E(s,I);l=await b(I,A,N)}else{const N=t??a.length;do{const E=c===0?o[0]??s.initialPageParam:WT(s,l);if(c>0&&E==null)break;l=await b(l,E),c++}while(c<N)}return l};e.options.persister?e.fetchFn=()=>{var x,w;return(w=(x=e.options).persister)==null?void 0:w.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function WT(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function yz(t,{pages:e,pageParams:n}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,n[0],n):void 0}var vn,Uo,Bo,ld,cd,zo,ud,dd,ZI,wz=(ZI=class{constructor(t={}){We(this,vn);We(this,Uo);We(this,Bo);We(this,ld);We(this,cd);We(this,zo);We(this,ud);We(this,dd);Se(this,vn,t.queryCache||new gz),Se(this,Uo,t.mutationCache||new vz),Se(this,Bo,t.defaultOptions||{}),Se(this,ld,new Map),Se(this,cd,new Map),Se(this,zo,0)}mount(){Fp(this,zo)._++,U(this,zo)===1&&(Se(this,ud,Yj.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,vn).onFocus())})),Se(this,dd,Ix.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,vn).onOnline())})))}unmount(){var t,e;Fp(this,zo)._--,U(this,zo)===0&&((t=U(this,ud))==null||t.call(this),Se(this,ud,void 0),(e=U(this,dd))==null||e.call(this),Se(this,dd,void 0))}isFetching(t){return U(this,vn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Uo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,vn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),s=U(this,vn).build(this,n);return t.revalidateIfStale&&s.isStaleByTime(qu(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,vn).findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),r=U(this,vn).get(s.queryHash),a=r==null?void 0:r.state.data,o=az(e,a);if(o!==void 0)return U(this,vn).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Un.batch(()=>U(this,vn).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,vn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,vn);Un.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,vn),s={type:"active",...t};return Un.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},s=Un.batch(()=>U(this,vn).findAll(t).map(r=>r.cancel(n)));return Promise.all(s).then(Or).catch(Or)}invalidateQueries(t={},e={}){return Un.batch(()=>{if(U(this,vn).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=Un.batch(()=>U(this,vn).findAll(t).filter(r=>!r.isDisabled()).map(r=>{let a=r.fetch(void 0,n);return n.throwOnError||(a=a.catch(Or)),r.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,vn).build(this,e);return n.isStaleByTime(qu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=HT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=HT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ix.isOnline()?U(this,Uo).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,vn)}getMutationCache(){return U(this,Uo)}getDefaultOptions(){return U(this,Bo)}setDefaultOptions(t){Se(this,Bo,t)}setQueryDefaults(t,e){U(this,ld).set(_c(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,ld).values()];let n={};return e.forEach(s=>{sm(t,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(t,e){U(this,cd).set(_c(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,cd).values()];let n={};return e.forEach(s=>{sm(t,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Bo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Kj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Qj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Bo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,vn).clear(),U(this,Uo).clear()}},vn=new WeakMap,Uo=new WeakMap,Bo=new WeakMap,ld=new WeakMap,cd=new WeakMap,zo=new WeakMap,ud=new WeakMap,dd=new WeakMap,ZI),Ys,wt,Sm,Ps,uc,hd,Ho,Vi,Em,fd,md,dc,hc,Wo,pd,Ft,Yh,aN,oN,lN,cN,uN,dN,hN,FD,JI,bz=(JI=class extends Yd{constructor(e,n){super();We(this,Ft);We(this,Ys);We(this,wt);We(this,Sm);We(this,Ps);We(this,uc);We(this,hd);We(this,Ho);We(this,Vi);We(this,Em);We(this,fd);We(this,md);We(this,dc);We(this,hc);We(this,Wo);We(this,pd,new Set);this.options=n,Se(this,Ys,e),Se(this,Vi,null),Se(this,Ho,iN()),this.options.experimental_prefetchInRender||U(this,Ho).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(U(this,wt).addObserver(this),qT(U(this,wt),this.options)?ht(this,Ft,Yh).call(this):this.updateResult(),ht(this,Ft,cN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fN(U(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fN(U(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ht(this,Ft,uN).call(this),ht(this,Ft,dN).call(this),U(this,wt).removeObserver(this)}setOptions(e,n){const s=this.options,r=U(this,wt);if(this.options=U(this,Ys).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oi(this.options.enabled,U(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ht(this,Ft,hN).call(this),U(this,wt).setOptions(this.options),s._defaulted&&!Px(this.options,s)&&U(this,Ys).getQueryCache().notify({type:"observerOptionsUpdated",query:U(this,wt),observer:this});const a=this.hasListeners();a&&GT(U(this,wt),r,this.options,s)&&ht(this,Ft,Yh).call(this),this.updateResult(n),a&&(U(this,wt)!==r||oi(this.options.enabled,U(this,wt))!==oi(s.enabled,U(this,wt))||qu(this.options.staleTime,U(this,wt))!==qu(s.staleTime,U(this,wt)))&&ht(this,Ft,aN).call(this);const o=ht(this,Ft,oN).call(this);a&&(U(this,wt)!==r||oi(this.options.enabled,U(this,wt))!==oi(s.enabled,U(this,wt))||o!==U(this,Wo))&&ht(this,Ft,lN).call(this,o)}getOptimisticResult(e){const n=U(this,Ys).getQueryCache().build(U(this,Ys),e),s=this.createResult(n,e);return _z(this,s)&&(Se(this,Ps,s),Se(this,hd,this.options),Se(this,uc,U(this,wt).state)),s}getCurrentResult(){return U(this,Ps)}trackResult(e,n){const s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n==null||n(r),e[r])})}),s}trackProp(e){U(this,pd).add(e)}getCurrentQuery(){return U(this,wt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=U(this,Ys).defaultQueryOptions(e),s=U(this,Ys).getQueryCache().build(U(this,Ys),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(e){return ht(this,Ft,Yh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),U(this,Ps)))}createResult(e,n){var _;const s=U(this,wt),r=this.options,a=U(this,Ps),o=U(this,uc),l=U(this,hd),u=e!==s?e.state:U(this,Sm),{state:d}=e;let h={...d},f=!1,g;if(n._optimisticResults){const S=this.hasListeners(),T=!S&&qT(e,n),k=S&&GT(e,s,n,r);(T||k)&&(h={...h,...MD(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:w}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===U(this,Em))g=U(this,fd);else try{Se(this,Em,n.select),g=n.select(h.data),g=rN(a==null?void 0:a.data,g,n),Se(this,fd,g),Se(this,Vi,null)}catch(S){Se(this,Vi,S)}else g=h.data;if(n.placeholderData!==void 0&&g===void 0&&w==="pending"){let S;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))S=a.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((_=U(this,md))==null?void 0:_.state.data,U(this,md)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),Se(this,Vi,null)}catch(T){Se(this,Vi,T)}S!==void 0&&(w="success",g=rN(a==null?void 0:a.data,S,n),f=!0)}U(this,Vi)&&(v=U(this,Vi),g=U(this,fd),x=Date.now(),w="error");const y=h.fetchStatus==="fetching",b=w==="pending",N=w==="error",E=b&&y,I=g!==void 0,C={status:w,fetchStatus:h.fetchStatus,isPending:b,isSuccess:w==="success",isError:N,isInitialLoading:E,isLoading:E,data:g,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!b,isLoadingError:N&&!I,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&I,isStale:Xj(e,n),refetch:this.refetch,promise:U(this,Ho)};if(this.options.experimental_prefetchInRender){const S=D=>{C.status==="error"?D.reject(C.error):C.data!==void 0&&D.resolve(C.data)},T=()=>{const D=Se(this,Ho,C.promise=iN());S(D)},k=U(this,Ho);switch(k.status){case"pending":e.queryHash===s.queryHash&&S(k);break;case"fulfilled":(C.status==="error"||C.data!==k.value)&&T();break;case"rejected":(C.status!=="error"||C.error!==k.reason)&&T();break}}return C}updateResult(e){const n=U(this,Ps),s=this.createResult(U(this,wt),this.options);if(Se(this,uc,U(this,wt).state),Se(this,hd,this.options),U(this,uc).data!==void 0&&Se(this,md,U(this,wt)),Px(s,n))return;Se(this,Ps,s);const r={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!U(this,pd).size)return!0;const c=new Set(l??U(this,pd));return this.options.throwOnError&&c.add("error"),Object.keys(U(this,Ps)).some(u=>{const d=u;return U(this,Ps)[d]!==n[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(r.listeners=!0),ht(this,Ft,FD).call(this,{...r,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ht(this,Ft,cN).call(this)}},Ys=new WeakMap,wt=new WeakMap,Sm=new WeakMap,Ps=new WeakMap,uc=new WeakMap,hd=new WeakMap,Ho=new WeakMap,Vi=new WeakMap,Em=new WeakMap,fd=new WeakMap,md=new WeakMap,dc=new WeakMap,hc=new WeakMap,Wo=new WeakMap,pd=new WeakMap,Ft=new WeakSet,Yh=function(e){ht(this,Ft,hN).call(this);let n=U(this,wt).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Or)),n},aN=function(){ht(this,Ft,uN).call(this);const e=qu(this.options.staleTime,U(this,wt));if(Nc||U(this,Ps).isStale||!nN(e))return;const s=TD(U(this,Ps).dataUpdatedAt,e)+1;Se(this,dc,setTimeout(()=>{U(this,Ps).isStale||this.updateResult()},s))},oN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(U(this,wt)):this.options.refetchInterval)??!1},lN=function(e){ht(this,Ft,dN).call(this),Se(this,Wo,e),!(Nc||oi(this.options.enabled,U(this,wt))===!1||!nN(U(this,Wo))||U(this,Wo)===0)&&Se(this,hc,setInterval(()=>{(this.options.refetchIntervalInBackground||Yj.isFocused())&&ht(this,Ft,Yh).call(this)},U(this,Wo)))},cN=function(){ht(this,Ft,aN).call(this),ht(this,Ft,lN).call(this,ht(this,Ft,oN).call(this))},uN=function(){U(this,dc)&&(clearTimeout(U(this,dc)),Se(this,dc,void 0))},dN=function(){U(this,hc)&&(clearInterval(U(this,hc)),Se(this,hc,void 0))},hN=function(){const e=U(this,Ys).getQueryCache().build(U(this,Ys),this.options);if(e===U(this,wt))return;const n=U(this,wt);Se(this,wt,e),Se(this,Sm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},FD=function(e){Un.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(U(this,Ps))}),U(this,Ys).getQueryCache().notify({query:U(this,wt),type:"observerResultsUpdated"})})},JI);function Nz(t,e){return oi(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function qT(t,e){return Nz(t,e)||t.state.data!==void 0&&fN(t,e,e.refetchOnMount)}function fN(t,e,n){if(oi(e.enabled,t)!==!1){const s=typeof n=="function"?n(t):n;return s==="always"||s!==!1&&Xj(t,e)}return!1}function GT(t,e,n,s){return(t!==e||oi(s.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Xj(t,n)}function Xj(t,e){return oi(e.enabled,t)!==!1&&t.isStaleByTime(qu(e.staleTime,t))}function _z(t,e){return!Px(t.getCurrentResult(),e)}var qo,Go,Xs,Sa,Ma,$g,mN,ek,jz=(ek=class extends Yd{constructor(n,s){super();We(this,Ma);We(this,qo);We(this,Go);We(this,Xs);We(this,Sa);Se(this,qo,n),this.setOptions(s),this.bindMethods(),ht(this,Ma,$g).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var r;const s=this.options;this.options=U(this,qo).defaultMutationOptions(n),Px(this.options,s)||U(this,qo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:U(this,Xs),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&_c(s.mutationKey)!==_c(this.options.mutationKey)?this.reset():((r=U(this,Xs))==null?void 0:r.state.status)==="pending"&&U(this,Xs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=U(this,Xs))==null||n.removeObserver(this)}onMutationUpdate(n){ht(this,Ma,$g).call(this),ht(this,Ma,mN).call(this,n)}getCurrentResult(){return U(this,Go)}reset(){var n;(n=U(this,Xs))==null||n.removeObserver(this),Se(this,Xs,void 0),ht(this,Ma,$g).call(this),ht(this,Ma,mN).call(this)}mutate(n,s){var r;return Se(this,Sa,s),(r=U(this,Xs))==null||r.removeObserver(this),Se(this,Xs,U(this,qo).getMutationCache().build(U(this,qo),this.options)),U(this,Xs).addObserver(this),U(this,Xs).execute(n)}},qo=new WeakMap,Go=new WeakMap,Xs=new WeakMap,Sa=new WeakMap,Ma=new WeakSet,$g=function(){var s;const n=((s=U(this,Xs))==null?void 0:s.state)??OD();Se(this,Go,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},mN=function(n){Un.batch(()=>{var s,r,a,o,l,c,u,d;if(U(this,Sa)&&this.hasListeners()){const h=U(this,Go).variables,f=U(this,Go).context;(n==null?void 0:n.type)==="success"?((r=(s=U(this,Sa)).onSuccess)==null||r.call(s,n.data,h,f),(o=(a=U(this,Sa)).onSettled)==null||o.call(a,n.data,null,h,f)):(n==null?void 0:n.type)==="error"&&((c=(l=U(this,Sa)).onError)==null||c.call(l,n.error,h,f),(d=(u=U(this,Sa)).onSettled)==null||d.call(u,void 0,n.error,h,f))}this.listeners.forEach(h=>{h(U(this,Go))})})},ek),LD=p.createContext(void 0),rn=t=>{const e=p.useContext(LD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Cz=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(LD.Provider,{value:t,children:e})),VD=p.createContext(!1),Sz=()=>p.useContext(VD);VD.Provider;function Ez(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Tz=p.createContext(Ez()),Rz=()=>p.useContext(Tz);function $D(t,e){return typeof t=="function"?t(...e):!!t}function UD(){}var Pz=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Iz=t=>{p.useEffect(()=>{t.clearReset()},[t])},kz=({result:t,errorResetBoundary:e,throwOnError:n,query:s})=>t.isError&&!e.isReset()&&!t.isFetching&&s&&$D(n,[t.error,s]),Az=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Dz=(t,e)=>t.isLoading&&t.isFetching&&!e,Mz=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,KT=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Oz(t,e,n){var d,h,f,g,v;const s=rn(),r=Sz(),a=Rz(),o=s.defaultQueryOptions(t);(h=(d=s.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=r?"isRestoring":"optimistic",Az(o),Pz(o,a),Iz(a);const l=!s.getQueryCache().get(o.queryHash),[c]=p.useState(()=>new e(s,o)),u=c.getOptimisticResult(o);if(p.useSyncExternalStore(p.useCallback(x=>{const w=r?()=>{}:c.subscribe(Un.batchCalls(x));return c.updateResult(),w},[c,r]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Mz(o,u))throw KT(o,c,a);if(kz({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw u.error;if((g=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,u),o.experimental_prefetchInRender&&!Nc&&Dz(u,r)){const x=l?KT(o,c,a):(v=s.getQueryCache().get(o.queryHash))==null?void 0:v.promise;x==null||x.catch(UD).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function In(t,e){return Oz(t,bz)}function dt(t,e){const n=rn(),[s]=p.useState(()=>new jz(n,t));p.useEffect(()=>{s.setOptions(t)},[s,t]);const r=p.useSyncExternalStore(p.useCallback(o=>s.subscribe(Un.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),a=p.useCallback((o,l)=>{s.mutate(o,l).catch(UD)},[s]);if(r.error&&$D(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:a,mutateAsync:r.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rm.apply(this,arguments)}var Yo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yo||(Yo={}));const QT="popstate";function Fz(t){t===void 0&&(t={});function e(s,r){let{pathname:a,search:o,hash:l}=s.location;return pN("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:kx(r)}return Vz(e,n,null,t)}function Rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lz(){return Math.random().toString(36).substr(2,8)}function YT(t,e){return{usr:t.state,key:t.key,idx:e}}function pN(t,e,n,s){return n===void 0&&(n=null),rm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xd(e):e,{state:n,key:e&&e.key||s||Lz()})}function kx(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Xd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function Vz(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l=Yo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(rm({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Yo.Pop;let w=d(),y=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:y})}function f(w,y){l=Yo.Push;let b=pN(x.location,w,y);u=d()+1;let N=YT(b,u),E=x.createHref(b);try{o.pushState(N,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(E)}a&&c&&c({action:l,location:x.location,delta:1})}function g(w,y){l=Yo.Replace;let b=pN(x.location,w,y);u=d();let N=YT(b,u),E=x.createHref(b);o.replaceState(N,"",E),a&&c&&c({action:l,location:x.location,delta:0})}function v(w){let y=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof w=="string"?w:kx(w);return b=b.replace(/ $/,"%20"),Rn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let x={get action(){return l},get location(){return t(r,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(QT,h),c=w,()=>{r.removeEventListener(QT,h),c=null}},createHref(w){return e(r,w)},createURL:v,encodeLocation(w){let y=v(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(w){return o.go(w)}};return x}var XT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XT||(XT={}));function $z(t,e,n){return n===void 0&&(n="/"),Uz(t,e,n,!1)}function Uz(t,e,n,s){let r=typeof e=="string"?Xd(e):e,a=Zj(r.pathname||"/",n);if(a==null)return null;let o=zD(t);Bz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Jz(a);l=Xz(o[c],u,s)}return l}function zD(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Rn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=ll([s,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(Rn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zD(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Qz(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))r(a,o);else for(let c of HD(a.path))r(a,o,c)}),e}function HD(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=HD(s.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),r&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bz(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yz(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const zz=/^:[\w-]+$/,Hz=3,Wz=2,qz=1,Gz=10,Kz=-2,ZT=t=>t==="*";function Qz(t,e){let n=t.split("/"),s=n.length;return n.some(ZT)&&(s+=Kz),e&&(s+=Wz),n.filter(r=>!ZT(r)).reduce((r,a)=>r+(zz.test(a)?Hz:a===""?qz:Gz),s)}function Yz(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function Xz(t,e,n){let{routesMeta:s}=t,r={},a="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=JT({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=JT({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:ll([a,h.pathname]),pathnameBase:sH(ll([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=ll([a,h.pathnameBase]))}return o}function JT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=Zz(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:f,isOptional:g}=d;if(f==="*"){let x=l[h]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return g&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Zz(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function Jz(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zj(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function eH(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Xd(t):t;return{pathname:n?n.startsWith("/")?n:tH(n,e):e,search:rH(s),hash:iH(r)}}function tH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Jy(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jj(t,e){let n=nH(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function e1(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Xd(t):(r=rm({},t),Rn(!r.pathname||!r.pathname.includes("?"),Jy("?","pathname","search",r)),Rn(!r.pathname||!r.pathname.includes("#"),Jy("#","pathname","hash",r)),Rn(!r.search||!r.search.includes("#"),Jy("#","search","hash",r)));let a=t===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!s&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=eH(r,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ll=t=>t.join("/").replace(/\/\/+/g,"/"),sH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,iH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WD=["post","put","patch","delete"];new Set(WD);const oH=["get",...WD];new Set(oH);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function im(){return im=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},im.apply(this,arguments)}const t1=p.createContext(null),lH=p.createContext(null),Ml=p.createContext(null),r0=p.createContext(null),ua=p.createContext({outlet:null,matches:[],isDataRoute:!1}),qD=p.createContext(null);function cH(t,e){let{relative:n}=e===void 0?{}:e;Zd()||Rn(!1);let{basename:s,navigator:r}=p.useContext(Ml),{hash:a,pathname:o,search:l}=KD(t,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:ll([s,o])),r.createHref({pathname:c,search:l,hash:a})}function Zd(){return p.useContext(r0)!=null}function so(){return Zd()||Rn(!1),p.useContext(r0).location}function GD(t){p.useContext(Ml).static||p.useLayoutEffect(t)}function cs(){let{isDataRoute:t}=p.useContext(ua);return t?jH():uH()}function uH(){Zd()||Rn(!1);let t=p.useContext(t1),{basename:e,future:n,navigator:s}=p.useContext(Ml),{matches:r}=p.useContext(ua),{pathname:a}=so(),o=JSON.stringify(Jj(r,n.v7_relativeSplatPath)),l=p.useRef(!1);return GD(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=e1(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ll([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,o,a,t])}const dH=p.createContext(null);function hH(t){let e=p.useContext(ua).outlet;return e&&p.createElement(dH.Provider,{value:t},e)}function n1(){let{matches:t}=p.useContext(ua),e=t[t.length-1];return e?e.params:{}}function KD(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=p.useContext(Ml),{matches:r}=p.useContext(ua),{pathname:a}=so(),o=JSON.stringify(Jj(r,s.v7_relativeSplatPath));return p.useMemo(()=>e1(t,JSON.parse(o),a,n==="path"),[t,o,a,n])}function fH(t,e){return mH(t,e)}function mH(t,e,n,s){Zd()||Rn(!1);let{navigator:r}=p.useContext(Ml),{matches:a}=p.useContext(ua),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=so(),d;if(e){var h;let w=typeof e=="string"?Xd(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||Rn(!1),d=w}else d=u;let f=d.pathname||"/",g=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=$z(t,{pathname:g}),x=yH(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ll([c,r.encodeLocation?r.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ll([c,r.encodeLocation?r.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,s);return e&&x?p.createElement(r0.Provider,{value:{location:im({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yo.Pop}},x):x}function pH(){let t=_H(),e=aH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:r},n):null,null)}const gH=p.createElement(pH,null);class xH extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(ua.Provider,{value:this.props.routeContext},p.createElement(qD.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vH(t){let{routeContext:e,match:n,children:s}=t,r=p.useContext(t1);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(ua.Provider,{value:e},s)}function yH(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Rn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:g}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let g,v=!1,x=null,w=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||gH,c&&(u<0&&f===0?(v=!0,w=null):u===f&&(v=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),b=()=>{let N;return g?N=x:v?N=w:h.route.Component?N=p.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,p.createElement(vH,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:N})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?p.createElement(xH,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var QD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(QD||{}),Ax=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ax||{});function wH(t){let e=p.useContext(t1);return e||Rn(!1),e}function bH(t){let e=p.useContext(lH);return e||Rn(!1),e}function NH(t){let e=p.useContext(ua);return e||Rn(!1),e}function YD(t){let e=NH(),n=e.matches[e.matches.length-1];return n.route.id||Rn(!1),n.route.id}function _H(){var t;let e=p.useContext(qD),n=bH(Ax.UseRouteError),s=YD(Ax.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function jH(){let{router:t}=wH(QD.UseNavigateStable),e=YD(Ax.UseNavigateStable),n=p.useRef(!1);return GD(()=>{n.current=!0}),p.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,im({fromRouteId:e},a)))},[t,e])}function Lh(t){let{to:e,replace:n,state:s,relative:r}=t;Zd()||Rn(!1);let{future:a,static:o}=p.useContext(Ml),{matches:l}=p.useContext(ua),{pathname:c}=so(),u=cs(),d=e1(e,Jj(l,a.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(h),{replace:n,state:s,relative:r}),[u,h,r,n,s]),null}function s1(t){return hH(t.context)}function tn(t){Rn(!1)}function CH(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Yo.Pop,navigator:a,static:o=!1,future:l}=t;Zd()&&Rn(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:a,static:o,future:im({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof s=="string"&&(s=Xd(s));let{pathname:d="/",search:h="",hash:f="",state:g=null,key:v="default"}=s,x=p.useMemo(()=>{let w=Zj(d,c);return w==null?null:{location:{pathname:w,search:h,hash:f,state:g,key:v},navigationType:r}},[c,d,h,f,g,v,r]);return x==null?null:p.createElement(Ml.Provider,{value:u},p.createElement(r0.Provider,{children:n,value:x}))}function SH(t){let{children:e,location:n}=t;return fH(gN(e),n)}new Promise(()=>{});function gN(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(s,r)=>{if(!p.isValidElement(s))return;let a=[...e,r];if(s.type===p.Fragment){n.push.apply(n,gN(s.props.children,a));return}s.type!==tn&&Rn(!1),!s.props.index||!s.props.children||Rn(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=gN(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xN(){return xN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},xN.apply(this,arguments)}function EH(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,a;for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function TH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function RH(t,e){return t.button===0&&(!e||e==="_self")&&!TH(t)}const PH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],IH="6";try{window.__reactRouterVersion=IH}catch{}const kH="startTransition",eR=A_[kH];function AH(t){let{basename:e,children:n,future:s,window:r}=t,a=p.useRef();a.current==null&&(a.current=Fz({window:r,v5Compat:!0}));let o=a.current,[l,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},d=p.useCallback(h=>{u&&eR?eR(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.createElement(CH,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:s})}const DH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OH=p.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=EH(e,PH),{basename:g}=p.useContext(Ml),v,x=!1;if(typeof u=="string"&&MH.test(u)&&(v=u,DH))try{let N=new URL(window.location.href),E=u.startsWith("//")?new URL(N.protocol+u):new URL(u),I=Zj(E.pathname,g);E.origin===N.origin&&I!=null?u=I+E.search+E.hash:x=!0}catch{}let w=cH(u,{relative:r}),y=FH(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function b(N){s&&s(N),N.defaultPrevented||y(N)}return p.createElement("a",xN({},f,{href:v||w,onClick:x||a?s:b,ref:n,target:c}))});var tR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tR||(tR={}));var nR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nR||(nR={}));function FH(t,e){let{target:n,replace:s,state:r,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=cs(),u=so(),d=KD(t,{relative:o});return p.useCallback(h=>{if(RH(h,n)){h.preventDefault();let f=s!==void 0?s:kx(u)===kx(d);c(t,{replace:f,state:r,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,s,r,n,t,a,o,l])}const am=Dm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),z=p.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},a)=>{const o=s?Ji:"button";return i.jsx(o,{className:ie(am({variant:e,size:n,className:t})),ref:a,...r})});z.displayName="Button";const xe=p.forwardRef(({className:t,type:e,...n},s)=>i.jsx("input",{type:e,className:ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n}));xe.displayName="Input";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=()=>{};var sR={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},VH=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],o=t[n++],l=t[n++],c=((r&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|o&63)}}return e.join("")},ZD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],o=r+1<t.length,l=o?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=a>>2,h=(a&3)<<4|l>>4;let f=(l&15)<<2|u>>6,g=u&63;c||(g=64,o||(f=64)),s.push(n[d],n[h],n[f],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(XD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||l==null||u==null||h==null)throw new $H;const f=a<<2|l>>4;if(s.push(f),u!==64){const g=l<<4&240|u>>2;if(s.push(g),h!==64){const v=u<<6&192|h;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $H extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UH=function(t){const e=XD(t);return ZD.encodeByteArray(e,!0)},Dx=function(t){return UH(t).replace(/\./g,"")},JD=function(t){try{return ZD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=()=>BH().__FIREBASE_DEFAULTS__,HH=()=>{if(typeof process>"u"||typeof sR>"u")return;const t=sR.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JD(t[1]);return e&&JSON.parse(e)},i0=()=>{try{return LH()||zH()||HH()||WH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},e4=t=>{var e,n;return(n=(e=i0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},t4=t=>{const e=e4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},n4=()=>{var t;return(t=i0())===null||t===void 0?void 0:t.config},s4=t=>{var e;return(e=i0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){return t.endsWith(".cloudworkstations.dev")}async function r1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dx(JSON.stringify(n)),Dx(JSON.stringify(o)),""].join(".")}const vf={};function GH(){const t={prod:[],emulator:[]};for(const e of Object.keys(vf))vf[e]?t.emulator.push(e):t.prod.push(e);return t}function KH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let rR=!1;function i1(t,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||vf[t]===e||vf[t]||rR)return;vf[t]=e;function n(f){return`__firebase__banner__${f}`}const s="__firebase__banner",a=GH().prod.length>0;function o(){const f=document.getElementById(s);f&&f.remove()}function l(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{rR=!0,o()},f}function d(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=KH(s),g=n("text"),v=document.getElementById(g)||document.createElement("span"),x=n("learnmore"),w=document.getElementById(x)||document.createElement("a"),y=n("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const N=f.element;l(N),d(w,x);const E=u();c(b,y),N.append(b,v,w,E),document.body.appendChild(N)}a?(v.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cs())}function YH(){var t;const e=(t=i0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eW(){const t=Cs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function tW(){return!YH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nW(){try{return typeof indexedDB=="object"}catch{return!1}}function sW(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW="FirebaseError";class da extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=rW,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$m.prototype.create)}}class $m{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],o=a?iW(a,s):"Error",l=`${this.serviceName}: ${o} (${r}).`;return new da(r,l,s)}}function iW(t,e){return t.replace(aW,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const aW=/\{\$([^}]+)}/g;function oW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jc(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const a=t[r],o=e[r];if(iR(a)&&iR(o)){if(!jc(a,o))return!1}else if(a!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function iR(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lW(t,e){const n=new cW(t,e);return n.subscribe.bind(n)}class cW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uW(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=ew),r.error===void 0&&(r.error=ew),r.complete===void 0&&(r.complete=ew);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ew(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(t){return t&&t._delegate?t._delegate:t}class bl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qH;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fW(e))try{this.getOrInitializeService({instanceIdentifier:Xl})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});s.resolve(a)}catch{}}}}clearInstance(e=Xl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xl){return this.instances.has(e)}getOptions(e=Xl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);s===l&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),a=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(r,a);const o=this.instances.get(r);return o&&e(o,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hW(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xl){return this.component?this.component.multipleInstances?e:Xl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hW(t){return t===Xl?void 0:t}function fW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const pW={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},gW=xt.INFO,xW={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},vW=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=xW[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class a1{constructor(e){this.name=e,this._logLevel=gW,this._logHandler=vW,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const yW=(t,e)=>e.some(n=>t instanceof n);let aR,oR;function wW(){return aR||(aR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bW(){return oR||(oR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i4=new WeakMap,vN=new WeakMap,a4=new WeakMap,tw=new WeakMap,o1=new WeakMap;function NW(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(cl(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&i4.set(n,t)}).catch(()=>{}),o1.set(e,t),e}function _W(t){if(vN.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});vN.set(t,e)}let yN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||a4.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jW(t){yN=t(yN)}function CW(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(nw(this),e,...n);return a4.set(s,e.sort?e.sort():[e]),cl(s)}:bW().includes(t)?function(...e){return t.apply(nw(this),e),cl(i4.get(this))}:function(...e){return cl(t.apply(nw(this),e))}}function SW(t){return typeof t=="function"?CW(t):(t instanceof IDBTransaction&&_W(t),yW(t,wW())?new Proxy(t,yN):t)}function cl(t){if(t instanceof IDBRequest)return NW(t);if(tw.has(t))return tw.get(t);const e=SW(t);return e!==t&&(tw.set(t,e),o1.set(e,t)),e}const nw=t=>o1.get(t);function EW(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const o=indexedDB.open(t,e),l=cl(o);return s&&o.addEventListener("upgradeneeded",c=>{s(cl(o.result),c.oldVersion,c.newVersion,cl(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const TW=["get","getKey","getAll","getAllKeys","count"],RW=["put","add","delete","clear"],sw=new Map;function lR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sw.get(e))return sw.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=RW.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||TW.includes(n)))return;const a=async function(o,...l){const c=this.transaction(o,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return sw.set(e,a),a}jW(t=>({...t,get:(e,n,s)=>lR(e,n)||t.get(e,n,s),has:(e,n)=>!!lR(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IW(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function IW(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wN="@firebase/app",cR="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new a1("@firebase/app"),kW="@firebase/app-compat",AW="@firebase/analytics-compat",DW="@firebase/analytics",MW="@firebase/app-check-compat",OW="@firebase/app-check",FW="@firebase/auth",LW="@firebase/auth-compat",VW="@firebase/database",$W="@firebase/data-connect",UW="@firebase/database-compat",BW="@firebase/functions",zW="@firebase/functions-compat",HW="@firebase/installations",WW="@firebase/installations-compat",qW="@firebase/messaging",GW="@firebase/messaging-compat",KW="@firebase/performance",QW="@firebase/performance-compat",YW="@firebase/remote-config",XW="@firebase/remote-config-compat",ZW="@firebase/storage",JW="@firebase/storage-compat",eq="@firebase/firestore",tq="@firebase/ai",nq="@firebase/firestore-compat",sq="firebase",rq="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="[DEFAULT]",iq={[wN]:"fire-core",[kW]:"fire-core-compat",[DW]:"fire-analytics",[AW]:"fire-analytics-compat",[OW]:"fire-app-check",[MW]:"fire-app-check-compat",[FW]:"fire-auth",[LW]:"fire-auth-compat",[VW]:"fire-rtdb",[$W]:"fire-data-connect",[UW]:"fire-rtdb-compat",[BW]:"fire-fn",[zW]:"fire-fn-compat",[HW]:"fire-iid",[WW]:"fire-iid-compat",[qW]:"fire-fcm",[GW]:"fire-fcm-compat",[KW]:"fire-perf",[QW]:"fire-perf-compat",[YW]:"fire-rc",[XW]:"fire-rc-compat",[ZW]:"fire-gcs",[JW]:"fire-gcs-compat",[eq]:"fire-fst",[nq]:"fire-fst-compat",[tq]:"fire-vertex","fire-js":"fire-js",[sq]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new Map,aq=new Map,NN=new Map;function uR(t,e){try{t.container.addComponent(e)}catch(n){za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cc(t){const e=t.name;if(NN.has(e))return za.debug(`There were multiple attempts to register component ${e}.`),!1;NN.set(e,t);for(const n of Mx.values())uR(n,t);for(const n of aq.values())uR(n,t);return!0}function a0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new $m("app","Firebase",oq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=rq;function o4(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:bN,automaticDataCollectionEnabled:!0},e),r=s.name;if(typeof r!="string"||!r)throw ul.create("bad-app-name",{appName:String(r)});if(n||(n=n4()),!n)throw ul.create("no-options");const a=Mx.get(r);if(a){if(jc(n,a.options)&&jc(s,a.config))return a;throw ul.create("duplicate-app",{appName:r})}const o=new mW(r);for(const c of NN.values())o.addComponent(c);const l=new lq(n,s,o);return Mx.set(r,l),l}function l1(t=bN){const e=Mx.get(t);if(!e&&t===bN&&n4())return o4();if(!e)throw ul.create("no-app",{appName:t});return e}function Ki(t,e,n){var s;let r=(s=iq[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${r}" with version "${e}":`];a&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),za.warn(l.join(" "));return}Cc(new bl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq="firebase-heartbeat-database",uq=1,om="firebase-heartbeat-store";let rw=null;function l4(){return rw||(rw=EW(cq,uq,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(om)}catch(n){console.warn(n)}}}}).catch(t=>{throw ul.create("idb-open",{originalErrorMessage:t.message})})),rw}async function dq(t){try{const n=(await l4()).transaction(om),s=await n.objectStore(om).get(c4(t));return await n.done,s}catch(e){if(e instanceof da)za.warn(e.message);else{const n=ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});za.warn(n.message)}}}async function dR(t,e){try{const s=(await l4()).transaction(om,"readwrite");await s.objectStore(om).put(e,c4(t)),await s.done}catch(n){if(n instanceof da)za.warn(n.message);else{const s=ul.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});za.warn(s.message)}}}function c4(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq=1024,fq=30;class mq{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gq(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>fq){const o=xq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){za.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hR(),{heartbeatsToSend:s,unsentEntries:r}=pq(this._heartbeatsCache.heartbeats),a=Dx(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return za.warn(n),""}}}function hR(){return new Date().toISOString().substring(0,10)}function pq(t,e=hq){const n=[];let s=t.slice();for(const r of t){const a=n.find(o=>o.agent===r.agent);if(a){if(a.dates.push(r.date),fR(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),fR(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class gq{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nW()?sW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dq(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return dR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return dR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fR(t){return Dx(JSON.stringify({version:2,heartbeats:t})).length}function xq(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(t){Cc(new bl("platform-logger",e=>new PW(e),"PRIVATE")),Cc(new bl("heartbeat",e=>new mq(e),"PRIVATE")),Ki(wN,cR,t),Ki(wN,cR,"esm2017"),Ki("fire-js","")}vq("");var bs=function(){return bs=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},bs.apply(this,arguments)};function eh(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function u4(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,a;s<r;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function d4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yq=d4,h4=new $m("auth","Firebase",d4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=new a1("@firebase/auth");function wq(t,...e){Ox.logLevel<=xt.WARN&&Ox.warn(`Auth (${Qc}): ${t}`,...e)}function Ug(t,...e){Ox.logLevel<=xt.ERROR&&Ox.error(`Auth (${Qc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(t,...e){throw c1(t,...e)}function Tr(t,...e){return c1(t,...e)}function f4(t,e,n){const s=Object.assign(Object.assign({},yq()),{[e]:n});return new $m("auth","Firebase",s).create(e,{appName:t.name})}function dl(t){return f4(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c1(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return h4.create(t,...e)}function ke(t,e,...n){if(!t)throw c1(e,...n)}function Ra(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ug(e),new Error(e)}function Wa(t,e){t||Ra(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function m4(){return mR()==="http:"||mR()==="https:"}function mR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(m4()||ZH()||"connection"in navigator)?navigator.onLine:!0}function Nq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wa(n>e,"Short delay should be less than long delay!"),this.isMobile=QH()||JH()}get(){return bq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t,e){Wa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ra("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ra("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ra("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Cq=new Um(3e4,6e4);function ha(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Si(t,e,n,s,r={}){return g4(t,r,async()=>{let a={},o={};s&&(e==="GET"?o=s:a={body:JSON.stringify(s)});const l=Jd(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},a);return XH()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Ol(t.emulatorConfig.host)&&(u.credentials="include"),p4.fetch()(await x4(t,t.config.apiHost,n,l),u)})}async function g4(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},_q),e);try{const r=new Eq(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Xh(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const l=a.ok?o.errorMessage:o.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Xh(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Xh(t,"user-disabled",o);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw f4(t,d,u);Ha(t,d)}}catch(r){if(r instanceof da)throw r;Ha(t,"network-request-failed",{message:String(r)})}}async function o0(t,e,n,s,r={}){const a=await Si(t,e,n,s,r);return"mfaPendingCredential"in a&&Ha(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function x4(t,e,n,s){const r=`${e}${n}?${s}`,a=t,o=a.config.emulator?u1(t.config,r):`${t.config.apiScheme}://${r}`;return jq.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function Sq(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Eq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Tr(this.auth,"network-request-failed")),Cq.get())})}}function Xh(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Tr(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){return t!==void 0&&t.getResponse!==void 0}function gR(t){return t!==void 0&&t.enterprise!==void 0}class v4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sq(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tq(t){return(await Si(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function y4(t,e){return Si(t,"GET","/v2/recaptchaConfig",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){return Si(t,"POST","/v1/accounts:delete",e)}async function Fx(t,e){return Si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Pq(t,e=!1){const n=Jt(t),s=await n.getIdToken(e),r=d1(s);ke(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:yf(iw(r.auth_time)),issuedAtTime:yf(iw(r.iat)),expirationTime:yf(iw(r.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function iw(t){return Number(t)*1e3}function d1(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ug("JWT malformed, contained fewer than 3 sections"),null;try{const r=JD(n);return r?JSON.parse(r):(Ug("Failed to decode base64 JWT payload"),null)}catch(r){return Ug("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function xR(t){const e=d1(t);return ke(e,"internal-error"),ke(typeof e.exp<"u","internal-error"),ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lm(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof da&&Iq(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Iq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=yf(this.lastLoginAt),this.creationTime=yf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(t){var e;const n=t.auth,s=await t.getIdToken(),r=await lm(t,Fx(n,{idToken:s}));ke(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const o=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?w4(a.providerUserInfo):[],l=Dq(t.providerData,o),c=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),d=c?u:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new jN(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function Aq(t){const e=Jt(t);await Lx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Dq(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function w4(t){return t.map(e=>{var{providerId:n}=e,s=eh(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mq(t,e){const n=await g4(t,{},async()=>{const s=Jd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,o=await x4(t,r,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Ol(t.emulatorConfig.host)&&(c.credentials="include"),p4.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Oq(t,e){return Si(t,"POST","/v2/accounts:revokeToken",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ke(e.idToken,"internal-error"),ke(typeof e.idToken<"u","internal-error"),ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ke(e.length!==0,"internal-error");const n=xR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await Mq(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,o=new Gu;return s&&(ke(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),r&&(ke(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),a&&(ke(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return Ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(t,e){ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,a=eh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jN(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await lm(this,this.stsTokenManager.getToken(this.auth,e));return ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Pq(this,e)}reload(){return Aq(this)}_assign(e){this!==e&&(ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Lx(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(dl(this.auth));const e=await this.getIdToken();return await lm(this,Rq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,a,o,l,c,u,d;const h=(s=n.displayName)!==null&&s!==void 0?s:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:N,emailVerified:E,isAnonymous:I,providerData:A,stsTokenManager:C}=n;ke(N&&C,e,"internal-error");const _=Gu.fromJSON(this.name,C);ke(typeof N=="string",e,"internal-error"),_o(h,e.name),_o(f,e.name),ke(typeof E=="boolean",e,"internal-error"),ke(typeof I=="boolean",e,"internal-error"),_o(g,e.name),_o(v,e.name),_o(x,e.name),_o(w,e.name),_o(y,e.name),_o(b,e.name);const S=new ui({uid:N,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:I,photoURL:v,phoneNumber:g,tenantId:x,stsTokenManager:_,createdAt:y,lastLoginAt:b});return A&&Array.isArray(A)&&(S.providerData=A.map(T=>Object.assign({},T))),w&&(S._redirectEventId=w),S}static async _fromIdTokenResponse(e,n,s=!1){const r=new Gu;r.updateFromServerResponse(n);const a=new ui({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await Lx(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];ke(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?w4(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),l=new Gu;l.updateFromIdToken(s);const c=new ui({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new jN(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=new Map;function Pa(t){Wa(t instanceof Function,"Expected a class definition");let e=vR.get(t);return e?(Wa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vR.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}b4.type="NONE";const yR=b4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e,n){return`firebase:${t}:${e}:${n}`}class Ku{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=Bg(this.userKey,r.apiKey,a),this.fullPersistenceKey=Bg("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Fx(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ku(Pa(yR),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=r[0]||Pa(yR);const o=Bg(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(o);if(d){let h;if(typeof d=="string"){const f=await Fx(e,{idToken:d}).catch(()=>{});if(!f)break;h=await ui._fromGetAccountInfoResponse(e,f,d)}else h=ui._fromJSON(e,d);u!==a&&(l=h),a=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Ku(a,e,s):(a=c[0],l&&await a._set(o,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Ku(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(C4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E4(e))return"Blackberry";if(T4(e))return"Webos";if(_4(e))return"Safari";if((e.includes("chrome/")||j4(e))&&!e.includes("edge/"))return"Chrome";if(S4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function N4(t=Cs()){return/firefox\//i.test(t)}function _4(t=Cs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j4(t=Cs()){return/crios\//i.test(t)}function C4(t=Cs()){return/iemobile/i.test(t)}function S4(t=Cs()){return/android/i.test(t)}function E4(t=Cs()){return/blackberry/i.test(t)}function T4(t=Cs()){return/webos/i.test(t)}function h1(t=Cs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Fq(t=Cs()){var e;return h1(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lq(){return eW()&&document.documentMode===10}function R4(t=Cs()){return h1(t)||S4(t)||T4(t)||E4(t)||/windows phone/i.test(t)||C4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e=[]){let n;switch(t){case"Browser":n=wR(Cs());break;case"Worker":n=`${wR(Cs())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qc}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((o,l)=>{try{const c=e(a);o(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e={}){return Si(t,"GET","/v2/passwordPolicy",ha(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uq=6;class Bq{constructor(e){var n,s,r,a;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Uq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,a,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bR(this),this.idTokenSubscription=new bR(this),this.beforeStateQueue=new Vq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pa(n)),this._initializationPromise=this.queue(async()=>{var s,r,a;if(!this._deleted&&(this.persistenceManager=await Ku.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Fx(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($r(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Nq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(dl(this));const n=e?Jt(e):null;return n&&ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $q(this),n=new Bq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $m("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Oq(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pa(e)||this._popupRedirectResolver;ke(n,this,"argument-error"),this.redirectPersistenceManager=await Ku.create(this,[Pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(l,this,"internal-error"),l.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&wq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Fl(t){return Jt(t)}class bR{constructor(e){this.auth=e,this.observer=null,this.addObserver=lW(n=>this.observer=n)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hq(t){Bm=t}function f1(t){return Bm.loadJS(t)}function Wq(){return Bm.recaptchaV2Script}function qq(){return Bm.recaptchaEnterpriseScript}function Gq(){return Bm.gapiScript}function I4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq=500,Qq=6e4,ag=1e12;class Yq{constructor(e){this.auth=e,this.counter=ag,this._widgets=new Map}render(e,n){const s=this.counter;return this._widgets.set(s,new Jq(e,this.auth.name,n||{})),this.counter++,s}reset(e){var n;const s=e||ag;(n=this._widgets.get(s))===null||n===void 0||n.delete(),this._widgets.delete(s)}getResponse(e){var n;const s=e||ag;return((n=this._widgets.get(s))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const s=e||ag;return(n=this._widgets.get(s))===null||n===void 0||n.execute(),""}}class Xq{constructor(){this.enterprise=new Zq}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Zq{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Jq{constructor(e,n,s){this.params=s,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r=typeof e=="string"?document.getElementById(e):e;ke(r,"argument-error",{appName:n}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=eG(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Qq)},Kq))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function eG(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let s=0;s<t;s++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const tG="recaptcha-enterprise",wf="NO_RECAPTCHA";class k4{constructor(e){this.type=tG,this.auth=Fl(e)}async verify(e="verify",n=!1){async function s(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,l)=>{y4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new v4(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(c=>{l(c)})})}function r(a,o,l){const c=window.grecaptcha;gR(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{o(u)}).catch(()=>{o(wf)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Xq().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{s(this.auth).then(l=>{if(!n&&gR(window.grecaptcha))r(l,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=qq();c.length!==0&&(c+=l),f1(c).then(()=>{r(l,a,o)}).catch(u=>{o(u)})}}).catch(l=>{o(l)})})}}async function aw(t,e,n,s=!1,r=!1){const a=new k4(t);let o;if(r)o=wf;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function ow(t,e,n,s,r){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await aw(t,e,n);return s(t,o).catch(async l=>{var c;if(((c=t._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const u=await aw(t,e,n,!1,!0);return s(t,u)}return Promise.reject(l)})}else{const o=await aw(t,e,n,!1,!0);return s(t,o)}}async function nG(t){const e=Fl(t),n=await y4(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),s=new v4(n);e.tenantId==null?e._agentRecaptchaConfig=s:e._tenantRecaptchaConfigs[e.tenantId]=s,s.isAnyProviderEnabled()&&new k4(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t,e){const n=a0(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(jc(a,e??{}))return r;Ha(r,"already-initialized")}return n.initialize({options:e})}function rG(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Pa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function iG(t,e,n){const s=Fl(t);ke(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!1,a=A4(e),{host:o,port:l}=aG(e),c=l===null?"":`:${l}`,u={url:`${a}//${o}${c}/`},d=Object.freeze({host:o,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){ke(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ke(jc(u,s.config.emulator)&&jc(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Ol(o)?(r1(`${a}//${o}${c}`),i1("Auth",!0)):oG()}function A4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aG(t){const e=A4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const a=r[1];return{host:a,port:NR(s.substr(a.length+1))}}else{const[a,o]=s.split(":");return{host:a,port:NR(o)}}}function NR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ra("not implemented")}_getIdTokenResponse(e){return Ra("not implemented")}_linkToIdToken(e,n){return Ra("not implemented")}_getReauthenticationResolver(e){return Ra("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e){return o0(t,"POST","/v1/accounts:signInWithIdp",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG="http://localhost";class Sc extends m1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ha("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r}=n,a=eh(n,["providerId","signInMethod"]);if(!s||!r)return null;const o=new Sc(s,r);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Qu(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qu(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qu(e,n)}buildRequest(){const e={requestUri:lG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e){return Si(t,"POST","/v1/accounts:sendVerificationCode",ha(t,e))}async function cG(t,e){return o0(t,"POST","/v1/accounts:signInWithPhoneNumber",ha(t,e))}async function uG(t,e){const n=await o0(t,"POST","/v1/accounts:signInWithPhoneNumber",ha(t,e));if(n.temporaryProof)throw Xh(t,"account-exists-with-different-credential",n);return n}const dG={USER_NOT_FOUND:"user-not-found"};async function hG(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return o0(t,"POST","/v1/accounts:signInWithPhoneNumber",ha(t,n),dG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends m1{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new bf({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new bf({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return cG(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return uG(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return hG(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:s,verificationCode:r}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:s,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:s,phoneNumber:r,temporaryProof:a}=e;return!s&&!n&&!r&&!a?null:new bf({verificationId:n,verificationCode:s,phoneNumber:r,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm extends D4{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends zm{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends zm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sc._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Do.credential(n,s)}catch{return null}}}Do.GOOGLE_SIGN_IN_METHOD="google.com";Do.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends zm{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends zm{constructor(){super("twitter.com")}static credential(e,n){return Sc._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Oo.credential(n,s)}catch{return null}}}Oo.TWITTER_SIGN_IN_METHOD="twitter.com";Oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const a=await ui._fromIdTokenResponse(e,s,r),o=jR(s);return new Sd({user:a,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=jR(s);return new Sd({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function jR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends da{constructor(e,n,s,r){var a;super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,Vx.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new Vx(e,n,s,r)}}function M4(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vx._fromErrorAndOperation(t,a,e,s):a})}async function fG(t,e,n=!1){const s=await lm(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Sd._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e,n=!1){const{auth:s}=t;if($r(s.app))return Promise.reject(dl(s));const r="reauthenticate";try{const a=await lm(t,M4(s,r,e,t),n);ke(a.idToken,s,"internal-error");const o=d1(a.idToken);ke(o,s,"internal-error");const{sub:l}=o;return ke(t.uid===l,s,"user-mismatch"),Sd._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Ha(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n=!1){if($r(t.app))return Promise.reject(dl(t));const s="signIn",r=await M4(t,s,e),a=await Sd._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(a.user),a}async function pG(t,e){return O4(Fl(t),e)}function gG(t,e,n,s){return Jt(t).onIdTokenChanged(e,n,s)}function xG(t,e,n){return Jt(t).beforeAuthStateChanged(e,n)}function vG(t,e,n,s){return Jt(t).onAuthStateChanged(e,n,s)}function l0(t){return Jt(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t,e){return Si(t,"POST","/v2/accounts/mfaEnrollment:start",ha(t,e))}const $x="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($x,"1"),this.storage.removeItem($x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=1e3,wG=10;class L4 extends F4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R4(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},a=this.storage.getItem(s);Lq()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,wG):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}L4.type="LOCAL";const bG=L4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4 extends F4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V4.type="SESSION";const $4=V4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new c0(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:a}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(o).map(async u=>u(n.origin,a)),c=await NG(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}c0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,o;return new Promise((l,c)=>{const u=p1("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);o={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(){return window}function jG(t){Dn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}async function CG(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SG(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function EG(){return g1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="firebaseLocalStorageDb",TG=1,Ux="firebaseLocalStorage",B4="fbase_key";class Hm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function u0(t,e){return t.transaction([Ux],e?"readwrite":"readonly").objectStore(Ux)}function RG(){const t=indexedDB.deleteDatabase(U4);return new Hm(t).toPromise()}function CN(){const t=indexedDB.open(U4,TG);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ux,{keyPath:B4})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ux)?e(s):(s.close(),await RG(),e(await CN()))})})}async function SR(t,e,n){const s=u0(t,!0).put({[B4]:e,value:n});return new Hm(s).toPromise()}async function PG(t,e){const n=u0(t,!1).get(e),s=await new Hm(n).toPromise();return s===void 0?null:s.value}function ER(t,e){const n=u0(t,!0).delete(e);return new Hm(n).toPromise()}const IG=800,kG=3;class z4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await CN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>kG)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=c0._getInstance(EG()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CG(),!this.activeServiceWorker)return;this.sender=new _G(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SG()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await CN();return await SR(e,$x,"1"),await ER(e,$x),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>SR(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>PG(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ER(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=u0(r,!1).getAll();return new Hm(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IG)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z4.type="LOCAL";const AG=z4;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e){return Si(t,"POST","/v2/accounts/mfaSignIn:start",ha(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=I4("rcb"),DG=new Um(3e4,6e4);class MG{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Dn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return ke(OG(n),e,"argument-error"),this.shouldResolveImmediately(n)&&pR(Dn().grecaptcha)?Promise.resolve(Dn().grecaptcha):new Promise((s,r)=>{const a=Dn().setTimeout(()=>{r(Tr(e,"network-request-failed"))},DG.get());Dn()[lw]=()=>{Dn().clearTimeout(a),delete Dn()[lw];const l=Dn().grecaptcha;if(!l||!pR(l)){r(Tr(e,"internal-error"));return}const c=l.render;l.render=(u,d)=>{const h=c(u,d);return this.counter++,h},this.hostLanguage=n,s(l)};const o=`${Wq()}?${Jd({onload:lw,render:"explicit",hl:n})}`;f1(o).catch(()=>{clearTimeout(a),r(Tr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=Dn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function OG(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class FG{async load(e){return new Yq(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf="recaptcha",LG={theme:"light",type:"image"};class VG{constructor(e,n,s=Object.assign({},LG)){this.parameters=s,this.type=Nf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Fl(e),this.isInvisible=this.parameters.size==="invisible",ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const r=typeof n=="string"?document.getElementById(n):n;ke(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new FG:new MG,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),s=n.getResponse(e);return s||new Promise(r=>{const a=o=>{o&&(this.tokenChangeListeners.delete(a),r(o))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(s=>s(n)),typeof e=="function")e(n);else if(typeof e=="string"){const s=Dn()[e];typeof s=="function"&&s(n)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ke(m4()&&!g1(),this.auth,"internal-error"),await $G(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Tq(this.auth);ke(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function $G(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=bf._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function H4(t,e,n){if($r(t.app))return Promise.reject(dl(t));const s=Fl(t),r=await BG(s,e,Jt(n));return new UG(r,a=>pG(s,a))}async function BG(t,e,n){var s;if(!t._getRecaptchaConfig())try{await nG(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const a=r.session;if("phoneNumber"in r){ke(a.type==="enroll",t,"internal-error");const o={idToken:a.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ow(t,o,"mfaSmsEnrollment",async(d,h)=>{if(h.phoneEnrollmentInfo.captchaResponse===wf){ke((n==null?void 0:n.type)===Nf,d,"argument-error");const f=await cw(d,h,n);return CR(d,f)}return CR(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{ke(a.type==="signin",t,"internal-error");const o=((s=r.multiFactorHint)===null||s===void 0?void 0:s.uid)||r.multiFactorUid;ke(o,t,"missing-multi-factor-info");const l={mfaPendingCredential:a.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ow(t,l,"mfaSmsSignIn",async(h,f)=>{if(f.phoneSignInInfo.captchaResponse===wf){ke((n==null?void 0:n.type)===Nf,h,"argument-error");const g=await cw(h,f,n);return TR(h,g)}return TR(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneResponseInfo.sessionInfo}}else{const a={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ow(t,a,"sendVerificationCode",async(u,d)=>{if(d.captchaResponse===wf){ke((n==null?void 0:n.type)===Nf,u,"argument-error");const h=await cw(u,d,n);return _R(u,h)}return _R(u,d)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function cw(t,e,n){ke(n.type===Nf,t,"argument-error");const s=await n.verify();ke(typeof s=="string",t,"argument-error");const r=Object.assign({},e);if("phoneEnrollmentInfo"in r){const a=r.phoneEnrollmentInfo.phoneNumber,o=r.phoneEnrollmentInfo.captchaResponse,l=r.phoneEnrollmentInfo.clientType,c=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:s,captchaResponse:o,clientType:l,recaptchaVersion:c}}),r}else if("phoneSignInInfo"in r){const a=r.phoneSignInInfo.captchaResponse,o=r.phoneSignInInfo.clientType,l=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:s,captchaResponse:a,clientType:o,recaptchaVersion:l}}),r}else return Object.assign(r,{recaptchaToken:s}),r}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zG(t,e){return e?Pa(e):(ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1 extends m1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HG(t){return O4(t.auth,new x1(t),t.bypassAuthState)}function WG(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),mG(n,new x1(t),t.bypassAuthState)}async function qG(t){const{auth:e,user:n}=t;return ke(n,e,"internal-error"),fG(n,new x1(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,s,r,a=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:a,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HG;case"linkViaPopup":case"linkViaRedirect":return qG;case"reauthViaPopup":case"reauthViaRedirect":return WG;default:Ha(this.auth,"internal-error")}}resolve(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=new Um(2e3,1e4);class Du extends W4{constructor(e,n,s,r,a){super(e,n,r,a),this.provider=s,this.authWindow=null,this.pollId=null,Du.currentPopupAction&&Du.currentPopupAction.cancel(),Du.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ke(e,this.auth,"internal-error"),e}async onExecution(){Wa(this.filter.length===1,"Popup operations only handle one event");const e=p1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Du.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GG.get())};e()}}Du.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KG="pendingRedirect",zg=new Map;class QG extends W4{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=zg.get(this.auth._key());if(!e){try{const s=await YG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}zg.set(this.auth._key(),e)}return this.bypassAuthState||zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YG(t,e){const n=JG(e),s=ZG(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function XG(t,e){zg.set(t._key(),e)}function ZG(t){return Pa(t._redirectPersistence)}function JG(t){return Bg(KG,t.config.apiKey,t.name)}async function eK(t,e,n=!1){if($r(t.app))return Promise.reject(dl(t));const s=Fl(t),r=zG(s,e),o=await new QG(s,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK=10*60*1e3;class nK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!q4(e)){const r=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Tr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tK&&this.cachedEventUids.clear(),this.cachedEventUids.has(RR(e))}saveEventToCache(e){this.cachedEventUids.add(RR(e)),this.lastProcessedEventTime=Date.now()}}function RR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function q4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rK(t,e={}){return Si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aK=/^https?/;async function oK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rK(t);for(const n of e)try{if(lK(n))return}catch{}Ha(t,"unauthorized-domain")}function lK(t){const e=_N(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!aK.test(n))return!1;if(iK.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new Um(3e4,6e4);function PR(){const t=Dn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uK(t){return new Promise((e,n)=>{var s,r,a;function o(){PR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PR(),n(Tr(t,"network-request-failed"))},timeout:cK.get()})}if(!((r=(s=Dn().gapi)===null||s===void 0?void 0:s.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((a=Dn().gapi)===null||a===void 0)&&a.load)o();else{const l=I4("iframefcb");return Dn()[l]=()=>{gapi.load?o():n(Tr(t,"network-request-failed"))},f1(`${Gq()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw Hg=null,e})}let Hg=null;function dK(t){return Hg=Hg||uK(t),Hg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=new Um(5e3,15e3),fK="__/auth/iframe",mK="emulator/auth/iframe",pK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xK(t){const e=t.config;ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u1(e,mK):`https://${t.config.authDomain}/${fK}`,s={apiKey:e.apiKey,appName:t.name,v:Qc},r=gK.get(t.config.apiHost);r&&(s.eid=r);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${Jd(s).slice(1)}`}async function vK(t){const e=await dK(t),n=Dn().gapi;return ke(n,t,"internal-error"),e.open({where:document.body,url:xK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pK,dontclear:!0},s=>new Promise(async(r,a)=>{await s.restyle({setHideOnLeave:!1});const o=Tr(t,"network-request-failed"),l=Dn().setTimeout(()=>{a(o)},hK.get());function c(){Dn().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wK=500,bK=600,NK="_blank",_K="http://localhost";class IR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jK(t,e,n,s=wK,r=bK){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c=Object.assign(Object.assign({},yK),{width:s.toString(),height:r.toString(),top:a,left:o}),u=Cs().toLowerCase();n&&(l=j4(u)?NK:n),N4(u)&&(e=e||_K,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[g,v])=>`${f}${g}=${v},`,"");if(Fq(u)&&l!=="_self")return CK(e||"",l),new IR(null);const h=window.open(e||"",l,d);ke(h,t,"popup-blocked");try{h.focus()}catch{}return new IR(h)}function CK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK="__/auth/handler",EK="emulator/auth/handler",TK=encodeURIComponent("fac");async function kR(t,e,n,s,r,a){ke(t.config.authDomain,t,"auth-domain-config-required"),ke(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Qc,eventId:r};if(e instanceof D4){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oW(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof zm){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${TK}=${encodeURIComponent(c)}`:"";return`${RK(t)}?${Jd(l).slice(1)}${u}`}function RK({config:t}){return t.emulator?u1(t,EK):`https://${t.authDomain}/${SK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="webStorageSupport";class PK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$4,this._completeRedirectFn=eK,this._overrideRedirectResult=XG}async _openPopup(e,n,s,r){var a;Wa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await kR(e,n,s,_N(),r);return jK(e,o,p1())}async _openRedirect(e,n,s,r){await this._originValidation(e);const a=await kR(e,n,s,_N(),r);return jG(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(Wa(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await vK(e),s=new nK(e);return n.register("authEvent",r=>(ke(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uw,{type:uw},r=>{var a;const o=(a=r==null?void 0:r[0])===null||a===void 0?void 0:a[uw];o!==void 0&&n(!!o),Ha(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R4()||_4()||h1()}}const IK=PK;var AR="@firebase/auth",DR="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DK(t){Cc(new bl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;ke(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P4(t)},u=new zq(s,r,a,c);return rG(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Cc(new bl("auth-internal",e=>{const n=Fl(e.getProvider("auth").getImmediate());return(s=>new kK(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(AR,DR,AK(t)),Ki(AR,DR,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK=5*60,OK=s4("authIdTokenMaxAge")||MK;let MR=null;const FK=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>OK)return;const r=n==null?void 0:n.token;MR!==r&&(MR=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function LK(t=l1()){const e=a0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sG(t,{popupRedirectResolver:IK,persistence:[AG,bG,$4]}),s=s4("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const o=FK(a.toString());xG(n,o,()=>o(n.currentUser)),gG(n,l=>o(l))}}const r=e4("auth");return r&&iG(n,`http://${r}`),n}function VK(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Hq({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const a=Tr("internal-error");a.customData=r,n(a)},s.type="text/javascript",s.charset="UTF-8",VK().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DK("Browser");var $K="firebase",UK="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki($K,UK,"app");var OR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hl,G4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function S(){}S.prototype=_.prototype,C.D=_.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(T,k,D){for(var P=Array(arguments.length-2),G=2;G<arguments.length;G++)P[G-2]=arguments[G];return _.prototype[k].apply(T,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,_,S){S||(S=0);var T=Array(16);if(typeof _=="string")for(var k=0;16>k;++k)T[k]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(k=0;16>k;++k)T[k]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=C.g[0],S=C.g[1],k=C.g[2];var D=C.g[3],P=_+(D^S&(k^D))+T[0]+3614090360&4294967295;_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+T[1]+3905402710&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+T[2]+606105819&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+T[3]+3250441966&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(D^S&(k^D))+T[4]+4118548399&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+T[5]+1200080426&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+T[6]+2821735955&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+T[7]+4249261313&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(D^S&(k^D))+T[8]+1770035416&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+T[9]+2336552879&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+T[10]+4294925233&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+T[11]+2304563134&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(D^S&(k^D))+T[12]+1804603682&4294967295,_=S+(P<<7&4294967295|P>>>25),P=D+(k^_&(S^k))+T[13]+4254626195&4294967295,D=_+(P<<12&4294967295|P>>>20),P=k+(S^D&(_^S))+T[14]+2792965006&4294967295,k=D+(P<<17&4294967295|P>>>15),P=S+(_^k&(D^_))+T[15]+1236535329&4294967295,S=k+(P<<22&4294967295|P>>>10),P=_+(k^D&(S^k))+T[1]+4129170786&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+T[6]+3225465664&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+T[11]+643717713&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+T[0]+3921069994&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^D&(S^k))+T[5]+3593408605&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+T[10]+38016083&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+T[15]+3634488961&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+T[4]+3889429448&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^D&(S^k))+T[9]+568446438&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+T[14]+3275163606&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+T[3]+4107603335&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+T[8]+1163531501&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(k^D&(S^k))+T[13]+2850285829&4294967295,_=S+(P<<5&4294967295|P>>>27),P=D+(S^k&(_^S))+T[2]+4243563512&4294967295,D=_+(P<<9&4294967295|P>>>23),P=k+(_^S&(D^_))+T[7]+1735328473&4294967295,k=D+(P<<14&4294967295|P>>>18),P=S+(D^_&(k^D))+T[12]+2368359562&4294967295,S=k+(P<<20&4294967295|P>>>12),P=_+(S^k^D)+T[5]+4294588738&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+T[8]+2272392833&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+T[11]+1839030562&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+T[14]+4259657740&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^D)+T[1]+2763975236&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+T[4]+1272893353&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+T[7]+4139469664&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+T[10]+3200236656&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^D)+T[13]+681279174&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+T[0]+3936430074&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+T[3]+3572445317&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+T[6]+76029189&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(S^k^D)+T[9]+3654602809&4294967295,_=S+(P<<4&4294967295|P>>>28),P=D+(_^S^k)+T[12]+3873151461&4294967295,D=_+(P<<11&4294967295|P>>>21),P=k+(D^_^S)+T[15]+530742520&4294967295,k=D+(P<<16&4294967295|P>>>16),P=S+(k^D^_)+T[2]+3299628645&4294967295,S=k+(P<<23&4294967295|P>>>9),P=_+(k^(S|~D))+T[0]+4096336452&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+T[7]+1126891415&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+T[14]+2878612391&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+T[5]+4237533241&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~D))+T[12]+1700485571&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+T[3]+2399980690&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+T[10]+4293915773&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+T[1]+2240044497&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~D))+T[8]+1873313359&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+T[15]+4264355552&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+T[6]+2734768916&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+T[13]+1309151649&4294967295,S=k+(P<<21&4294967295|P>>>11),P=_+(k^(S|~D))+T[4]+4149444226&4294967295,_=S+(P<<6&4294967295|P>>>26),P=D+(S^(_|~k))+T[11]+3174756917&4294967295,D=_+(P<<10&4294967295|P>>>22),P=k+(_^(D|~S))+T[2]+718787259&4294967295,k=D+(P<<15&4294967295|P>>>17),P=S+(D^(k|~_))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(k+(P<<21&4294967295|P>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+D&4294967295}s.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var S=_-this.blockSize,T=this.B,k=this.h,D=0;D<_;){if(k==0)for(;D<=S;)r(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<_;)if(T[k++]=C.charCodeAt(D++),k==this.blockSize){r(this,T),k=0;break}}else for(;D<_;)if(T[k++]=C[D++],k==this.blockSize){r(this,T),k=0;break}}this.h=k,this.o+=_},s.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var S=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=S&255,S/=256;for(this.u(C),C=Array(16),_=S=0;4>_;++_)for(var T=0;32>T;T+=8)C[S++]=this.g[_]>>>T&255;return C};function a(C,_){var S=l;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=_(C)}function o(C,_){this.h=_;for(var S=[],T=!0,k=C.length-1;0<=k;k--){var D=C[k]|0;T&&D==_||(S[k]=D,T=!1)}this.g=S}var l={};function c(C){return-128<=C&&128>C?a(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return w(u(-C));for(var _=[],S=1,T=0;C>=S;T++)_[T]=C/S|0,S*=4294967296;return new o(_,0)}function d(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return w(d(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(_,8)),T=h,k=0;k<C.length;k+=8){var D=Math.min(8,C.length-k),P=parseInt(C.substring(k,k+D),_);8>D?(D=u(Math.pow(_,D)),T=T.j(D).add(u(P))):(T=T.j(S),T=T.add(u(P)))}return T}var h=c(0),f=c(1),g=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-w(this).m();for(var C=0,_=1,S=0;S<this.g.length;S++){var T=this.i(S);C+=(0<=T?T:4294967296+T)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(x(this))return"-"+w(this).toString(C);for(var _=u(Math.pow(C,6)),S=this,T="";;){var k=E(S,_).g;S=y(S,k.j(_));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=k,v(S))return D+T;for(;6>D.length;)D="0"+D;T=D+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=y(this,C),x(C)?-1:v(C)?0:1};function w(C){for(var _=C.g.length,S=[],T=0;T<_;T++)S[T]=~C.g[T];return new o(S,~C.h).add(f)}t.abs=function(){return x(this)?w(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0,k=0;k<=_;k++){var D=T+(this.i(k)&65535)+(C.i(k)&65535),P=(D>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);T=P>>>16,D&=65535,P&=65535,S[k]=P<<16|D}return new o(S,S[S.length-1]&-2147483648?-1:0)};function y(C,_){return C.add(w(_))}t.j=function(C){if(v(this)||v(C))return h;if(x(this))return x(C)?w(this).j(w(C)):w(w(this).j(C));if(x(C))return w(this.j(w(C)));if(0>this.l(g)&&0>C.l(g))return u(this.m()*C.m());for(var _=this.g.length+C.g.length,S=[],T=0;T<2*_;T++)S[T]=0;for(T=0;T<this.g.length;T++)for(var k=0;k<C.g.length;k++){var D=this.i(T)>>>16,P=this.i(T)&65535,G=C.i(k)>>>16,ee=C.i(k)&65535;S[2*T+2*k]+=P*ee,b(S,2*T+2*k),S[2*T+2*k+1]+=D*ee,b(S,2*T+2*k+1),S[2*T+2*k+1]+=P*G,b(S,2*T+2*k+1),S[2*T+2*k+2]+=D*G,b(S,2*T+2*k+2)}for(T=0;T<_;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=_;T<2*_;T++)S[T]=0;return new o(S,0)};function b(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function N(C,_){this.g=C,this.h=_}function E(C,_){if(v(_))throw Error("division by zero");if(v(C))return new N(h,h);if(x(C))return _=E(w(C),_),new N(w(_.g),w(_.h));if(x(_))return _=E(C,w(_)),new N(w(_.g),_.h);if(30<C.g.length){if(x(C)||x(_))throw Error("slowDivide_ only works with positive integers.");for(var S=f,T=_;0>=T.l(C);)S=I(S),T=I(T);var k=A(S,1),D=A(T,1);for(T=A(T,2),S=A(S,2);!v(T);){var P=D.add(T);0>=P.l(C)&&(k=k.add(S),D=P),T=A(T,1),S=A(S,1)}return _=y(C,k.j(_)),new N(k,_)}for(k=h;0<=C.l(_);){for(S=Math.max(1,Math.floor(C.m()/_.m())),T=Math.ceil(Math.log(S)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),D=u(S),P=D.j(_);x(P)||0<P.l(C);)S-=T,D=u(S),P=D.j(_);v(D)&&(D=f),k=k.add(D),C=y(C,P)}return new N(k,C)}t.A=function(C){return E(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)&C.i(T);return new o(S,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)|C.i(T);return new o(S,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),S=[],T=0;T<_;T++)S[T]=this.i(T)^C.i(T);return new o(S,this.h^C.h)};function I(C){for(var _=C.g.length+1,S=[],T=0;T<_;T++)S[T]=C.i(T)<<1|C.i(T-1)>>>31;return new o(S,C.h)}function A(C,_){var S=_>>5;_%=32;for(var T=C.g.length-S,k=[],D=0;D<T;D++)k[D]=0<_?C.i(D+S)>>>_|C.i(D+S+1)<<32-_:C.i(D+S);return new o(k,C.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,G4=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,hl=o}).apply(typeof OR<"u"?OR:typeof self<"u"?self:typeof window<"u"?window:{});var og=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K4,Zh,Q4,Wg,SN,Y4,X4,Z4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,j,R){return m==Array.prototype||m==Object.prototype||(m[j]=R.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof og=="object"&&og];for(var j=0;j<m.length;++j){var R=m[j];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var s=n(this);function r(m,j){if(j)e:{var R=s;m=m.split(".");for(var M=0;M<m.length-1;M++){var q=m[M];if(!(q in R))break e;R=R[q]}m=m[m.length-1],M=R[m],j=j(M),j!=M&&j!=null&&e(R,m,{configurable:!0,writable:!0,value:j})}}function a(m,j){m instanceof String&&(m+="");var R=0,M=!1,q={next:function(){if(!M&&R<m.length){var Y=R++;return{value:j(Y,m[Y]),done:!1}}return M=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}r("Array.prototype.values",function(m){return m||function(){return a(this,function(j,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(m){var j=typeof m;return j=j!="object"?j:m?Array.isArray(m)?"array":j:"null",j=="array"||j=="object"&&typeof m.length=="number"}function u(m){var j=typeof m;return j=="object"&&m!=null||j=="function"}function d(m,j,R){return m.call.apply(m.bind,arguments)}function h(m,j,R){if(!m)throw Error();if(2<arguments.length){var M=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,M),m.apply(j,q)}}return function(){return m.apply(j,arguments)}}function f(m,j,R){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function g(m,j){var R=Array.prototype.slice.call(arguments,1);return function(){var M=R.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function v(m,j){function R(){}R.prototype=j.prototype,m.aa=j.prototype,m.prototype=new R,m.prototype.constructor=m,m.Qb=function(M,q,Y){for(var ye=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)ye[Ht-2]=arguments[Ht];return j.prototype[q].apply(M,ye)}}function x(m){const j=m.length;if(0<j){const R=Array(j);for(let M=0;M<j;M++)R[M]=m[M];return R}return[]}function w(m,j){for(let R=1;R<arguments.length;R++){const M=arguments[R];if(c(M)){const q=m.length||0,Y=M.length||0;m.length=q+Y;for(let ye=0;ye<Y;ye++)m[q+ye]=M[ye]}else m.push(M)}}class y{constructor(j,R){this.i=j,this.j=R,this.h=0,this.g=null}get(){let j;return 0<this.h?(this.h--,j=this.g,this.g=j.next,j.next=null):j=this.i(),j}}function b(m){return/^[\s\xa0]*$/.test(m)}function N(){var m=l.navigator;return m&&(m=m.userAgent)?m:""}function E(m){return E[" "](m),m}E[" "]=function(){};var I=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function A(m,j,R){for(const M in m)j.call(R,m[M],M,m)}function C(m,j){for(const R in m)j.call(void 0,m[R],R,m)}function _(m){const j={};for(const R in m)j[R]=m[R];return j}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(m,j){let R,M;for(let q=1;q<arguments.length;q++){M=arguments[q];for(R in M)m[R]=M[R];for(let Y=0;Y<S.length;Y++)R=S[Y],Object.prototype.hasOwnProperty.call(M,R)&&(m[R]=M[R])}}function k(m){var j=1;m=m.split(":");const R=[];for(;0<j&&m.length;)R.push(m.shift()),j--;return m.length&&R.push(m.join(":")),R}function D(m){l.setTimeout(()=>{throw m},0)}function P(){var m=V;let j=null;return m.g&&(j=m.g,m.g=m.g.next,m.g||(m.h=null),j.next=null),j}class G{constructor(){this.h=this.g=null}add(j,R){const M=ee.get();M.set(j,R),this.h?this.h.next=M:this.g=M,this.h=M}}var ee=new y(()=>new te,m=>m.reset());class te{constructor(){this.next=this.g=this.h=null}set(j,R){this.h=j,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,O=!1,V=new G,Z=()=>{const m=l.Promise.resolve(void 0);Q=()=>{m.then(F)}};var F=()=>{for(var m;m=P();){try{m.h.call(m.g)}catch(R){D(R)}var j=ee;j.j(m),100>j.h&&(j.h++,m.next=j.g,j.g=m)}O=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(m,j){this.type=m,this.g=this.target=j,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,j=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const R=()=>{};l.addEventListener("test",R,j),l.removeEventListener("test",R,j)}catch{}return m}();function ne(m,j){if(B.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var R=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=j,j=m.relatedTarget){if(I){e:{try{E(j.nodeName);var q=!0;break e}catch{}q=!1}q||(j=null)}}else R=="mouseover"?j=m.fromElement:R=="mouseout"&&(j=m.toElement);this.relatedTarget=j,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:ae[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ne.aa.h.call(this)}}v(ne,B);var ae={2:"touch",3:"pen",4:"mouse"};ne.prototype.h=function(){ne.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Oe(m,j,R,M,q){this.listener=m,this.proxy=null,this.src=j,this.type=R,this.capture=!!M,this.ha=q,this.key=++Pe,this.da=this.fa=!1}function Ue(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function it(m){this.src=m,this.g={},this.h=0}it.prototype.add=function(m,j,R,M,q){var Y=m.toString();m=this.g[Y],m||(m=this.g[Y]=[],this.h++);var ye=gn(m,j,M,q);return-1<ye?(j=m[ye],R||(j.fa=!1)):(j=new Oe(j,this.src,Y,!!M,q),j.fa=R,m.push(j)),j};function lt(m,j){var R=j.type;if(R in m.g){var M=m.g[R],q=Array.prototype.indexOf.call(M,j,void 0),Y;(Y=0<=q)&&Array.prototype.splice.call(M,q,1),Y&&(Ue(j),m.g[R].length==0&&(delete m.g[R],m.h--))}}function gn(m,j,R,M){for(var q=0;q<m.length;++q){var Y=m[q];if(!Y.da&&Y.listener==j&&Y.capture==!!R&&Y.ha==M)return q}return-1}var kn="closure_lm_"+(1e6*Math.random()|0),xr={};function us(m,j,R,M,q){if(Array.isArray(j)){for(var Y=0;Y<j.length;Y++)us(m,j[Y],R,M,q);return null}return R=st(R),m&&m[oe]?m.K(j,R,u(M)?!!M.capture:!!M,q):Ri(m,j,R,!1,M,q)}function Ri(m,j,R,M,q,Y){if(!j)throw Error("Invalid event type");var ye=u(q)?!!q.capture:!!q,Ht=ce(m);if(Ht||(m[kn]=Ht=new it(m)),R=Ht.add(j,R,M,ye,Y),R.proxy)return R;if(M=$(),R.proxy=M,M.src=m,M.listener=R,m.addEventListener)K||(q=ye),q===void 0&&(q=!1),m.addEventListener(j.toString(),M,q);else if(m.attachEvent)m.attachEvent(be(j.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return R}function $(){function m(R){return j.call(m.src,m.listener,R)}const j=ve;return m}function W(m,j,R,M,q){if(Array.isArray(j))for(var Y=0;Y<j.length;Y++)W(m,j[Y],R,M,q);else M=u(M)?!!M.capture:!!M,R=st(R),m&&m[oe]?(m=m.i,j=String(j).toString(),j in m.g&&(Y=m.g[j],R=gn(Y,R,M,q),-1<R&&(Ue(Y[R]),Array.prototype.splice.call(Y,R,1),Y.length==0&&(delete m.g[j],m.h--)))):m&&(m=ce(m))&&(j=m.g[j.toString()],m=-1,j&&(m=gn(j,R,M,q)),(R=-1<m?j[m]:null)&&X(R))}function X(m){if(typeof m!="number"&&m&&!m.da){var j=m.src;if(j&&j[oe])lt(j.i,m);else{var R=m.type,M=m.proxy;j.removeEventListener?j.removeEventListener(R,M,m.capture):j.detachEvent?j.detachEvent(be(R),M):j.addListener&&j.removeListener&&j.removeListener(M),(R=ce(j))?(lt(R,m),R.h==0&&(R.src=null,j[kn]=null)):Ue(m)}}}function be(m){return m in xr?xr[m]:xr[m]="on"+m}function ve(m,j){if(m.da)m=!0;else{j=new ne(j,this);var R=m.listener,M=m.ha||m.src;m.fa&&X(m),m=R.call(M,j)}return m}function ce(m){return m=m[kn],m instanceof it?m:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function st(m){return typeof m=="function"?m:(m[Fe]||(m[Fe]=function(j){return m.handleEvent(j)}),m[Fe])}function ft(){L.call(this),this.i=new it(this),this.M=this,this.F=null}v(ft,L),ft.prototype[oe]=!0,ft.prototype.removeEventListener=function(m,j,R,M){W(this,m,j,R,M)};function ct(m,j){var R,M=m.F;if(M)for(R=[];M;M=M.F)R.push(M);if(m=m.M,M=j.type||j,typeof j=="string")j=new B(j,m);else if(j instanceof B)j.target=j.target||m;else{var q=j;j=new B(M,m),T(j,q)}if(q=!0,R)for(var Y=R.length-1;0<=Y;Y--){var ye=j.g=R[Y];q=Ss(ye,M,!0,j)&&q}if(ye=j.g=m,q=Ss(ye,M,!0,j)&&q,q=Ss(ye,M,!1,j)&&q,R)for(Y=0;Y<R.length;Y++)ye=j.g=R[Y],q=Ss(ye,M,!1,j)&&q}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var m=this.i,j;for(j in m.g){for(var R=m.g[j],M=0;M<R.length;M++)Ue(R[M]);delete m.g[j],m.h--}}this.F=null},ft.prototype.K=function(m,j,R,M){return this.i.add(String(m),j,!1,R,M)},ft.prototype.L=function(m,j,R,M){return this.i.add(String(m),j,!0,R,M)};function Ss(m,j,R,M){if(j=m.i.g[String(j)],!j)return!0;j=j.concat();for(var q=!0,Y=0;Y<j.length;++Y){var ye=j[Y];if(ye&&!ye.da&&ye.capture==R){var Ht=ye.listener,ns=ye.ha||ye.src;ye.fa&&lt(m.i,ye),q=Ht.call(ns,M)!==!1&&q}}return q&&!M.defaultPrevented}function Jr(m,j,R){if(typeof m=="function")R&&(m=f(m,R));else if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(j)?-1:l.setTimeout(m,j||0)}function ma(m){m.g=Jr(()=>{m.g=null,m.i&&(m.i=!1,ma(m))},m.l);const j=m.h;m.h=null,m.m.apply(null,j)}class Wl extends L{constructor(j,R){super(),this.m=j,this.l=R,this.h=null,this.i=!1,this.g=null}j(j){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pi(m){L.call(this),this.h=m,this.g={}}v(Pi,L);var po=[];function su(m){A(m.g,function(j,R){this.g.hasOwnProperty(R)&&X(j)},m),m.g={}}Pi.prototype.N=function(){Pi.aa.N.call(this),su(this)},Pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ii=l.JSON.stringify,ki=l.JSON.parse,iy=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function tt(){}tt.prototype.h=null;function Bt(m){return m.h||(m.h=m.i())}function Vt(){}var ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ks(){B.call(this,"d")}v(Ks,B);function go(){B.call(this,"c")}v(go,B);var pa={},wS=null;function Np(){return wS=wS||new ft}pa.La="serverreachability";function bS(m){B.call(this,pa.La,m)}v(bS,B);function xh(m){const j=Np();ct(j,new bS(j))}pa.STAT_EVENT="statevent";function NS(m,j){B.call(this,pa.STAT_EVENT,m),this.stat=j}v(NS,B);function Es(m){const j=Np();ct(j,new NS(j,m))}pa.Ma="timingevent";function _S(m,j){B.call(this,pa.Ma,m),this.size=j}v(_S,B);function vh(m,j){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},j)}function yh(){this.g=!0}yh.prototype.xa=function(){this.g=!1};function vV(m,j,R,M,q,Y){m.info(function(){if(m.g)if(Y)for(var ye="",Ht=Y.split("&"),ns=0;ns<Ht.length;ns++){var kt=Ht[ns].split("=");if(1<kt.length){var hs=kt[0];kt=kt[1];var fs=hs.split("_");ye=2<=fs.length&&fs[1]=="type"?ye+(hs+"="+kt+"&"):ye+(hs+"=redacted&")}}else ye=null;else ye=Y;return"XMLHTTP REQ ("+M+") [attempt "+q+"]: "+j+`
`+R+`
`+ye})}function yV(m,j,R,M,q,Y,ye){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+q+"]: "+j+`
`+R+`
`+Y+" "+ye})}function ru(m,j,R,M){m.info(function(){return"XMLHTTP TEXT ("+j+"): "+bV(m,R)+(M?" "+M:"")})}function wV(m,j){m.info(function(){return"TIMEOUT: "+j})}yh.prototype.info=function(){};function bV(m,j){if(!m.g)return j;if(!j)return null;try{var R=JSON.parse(j);if(R){for(m=0;m<R.length;m++)if(Array.isArray(R[m])){var M=R[m];if(!(2>M.length)){var q=M[1];if(Array.isArray(q)&&!(1>q.length)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ye=1;ye<q.length;ye++)q[ye]=""}}}}return Ii(R)}catch{return j}}var _p={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ay;function jp(){}v(jp,tt),jp.prototype.g=function(){return new XMLHttpRequest},jp.prototype.i=function(){return{}},ay=new jp;function xo(m,j,R,M){this.j=m,this.i=j,this.l=R,this.R=M||1,this.U=new Pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new CS}function CS(){this.i=null,this.g="",this.h=!1}var SS={},oy={};function ly(m,j,R){m.L=1,m.v=Tp(ga(j)),m.m=R,m.P=!0,ES(m,null)}function ES(m,j){m.F=Date.now(),Cp(m),m.A=ga(m.v);var R=m.A,M=m.R;Array.isArray(M)||(M=[String(M)]),US(R.i,"t",M),m.C=0,R=m.j.J,m.h=new CS,m.g=iE(m.j,R?j:null,!m.m),0<m.O&&(m.M=new Wl(f(m.Y,m,m.g),m.O)),j=m.U,R=m.g,M=m.ca;var q="readystatechange";Array.isArray(q)||(q&&(po[0]=q.toString()),q=po);for(var Y=0;Y<q.length;Y++){var ye=us(R,q[Y],M||j.handleEvent,!1,j.h||j);if(!ye)break;j.g[ye.key]=ye}j=m.H?_(m.H):{},m.m?(m.u||(m.u="POST"),j["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,j)):(m.u="GET",m.g.ea(m.A,m.u,null,j)),xh(),vV(m.i,m.u,m.A,m.l,m.R,m.m)}xo.prototype.ca=function(m){m=m.target;const j=this.M;j&&xa(m)==3?j.j():this.Y(m)},xo.prototype.Y=function(m){try{if(m==this.g)e:{const fs=xa(this.g);var j=this.g.Ba();const ou=this.g.Z();if(!(3>fs)&&(fs!=3||this.g&&(this.h.h||this.g.oa()||KS(this.g)))){this.J||fs!=4||j==7||(j==8||0>=ou?xh(3):xh(2)),cy(this);var R=this.g.Z();this.X=R;t:if(TS(this)){var M=KS(this.g);m="";var q=M.length,Y=xa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ql(this),wh(this);var ye="";break t}this.h.i=new l.TextDecoder}for(j=0;j<q;j++)this.h.h=!0,m+=this.h.i.decode(M[j],{stream:!(Y&&j==q-1)});M.length=0,this.h.g+=m,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=R==200,yV(this.i,this.u,this.A,this.l,this.R,fs,R),this.o){if(this.T&&!this.K){t:{if(this.g){var Ht,ns=this.g;if((Ht=ns.g?ns.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Ht)){var kt=Ht;break t}}kt=null}if(R=kt)ru(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uy(this,R);else{this.o=!1,this.s=3,Es(12),ql(this),wh(this);break e}}if(this.P){R=!0;let ei;for(;!this.J&&this.C<ye.length;)if(ei=NV(this,ye),ei==oy){fs==4&&(this.s=4,Es(14),R=!1),ru(this.i,this.l,null,"[Incomplete Response]");break}else if(ei==SS){this.s=4,Es(15),ru(this.i,this.l,ye,"[Invalid Chunk]"),R=!1;break}else ru(this.i,this.l,ei,null),uy(this,ei);if(TS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fs!=4||ye.length!=0||this.h.h||(this.s=1,Es(16),R=!1),this.o=this.o&&R,!R)ru(this.i,this.l,ye,"[Invalid Chunked Response]"),ql(this),wh(this);else if(0<ye.length&&!this.W){this.W=!0;var hs=this.j;hs.g==this&&hs.ba&&!hs.M&&(hs.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),gy(hs),hs.M=!0,Es(11))}}else ru(this.i,this.l,ye,null),uy(this,ye);fs==4&&ql(this),this.o&&!this.J&&(fs==4?tE(this.j,this):(this.o=!1,Cp(this)))}else VV(this.g),R==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Es(12)):(this.s=0,Es(13)),ql(this),wh(this)}}}catch{}finally{}};function TS(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function NV(m,j){var R=m.C,M=j.indexOf(`
`,R);return M==-1?oy:(R=Number(j.substring(R,M)),isNaN(R)?SS:(M+=1,M+R>j.length?oy:(j=j.slice(M,M+R),m.C=M+R,j)))}xo.prototype.cancel=function(){this.J=!0,ql(this)};function Cp(m){m.S=Date.now()+m.I,RS(m,m.I)}function RS(m,j){if(m.B!=null)throw Error("WatchDog timer not null");m.B=vh(f(m.ba,m),j)}function cy(m){m.B&&(l.clearTimeout(m.B),m.B=null)}xo.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(wV(this.i,this.A),this.L!=2&&(xh(),Es(17)),ql(this),this.s=2,wh(this)):RS(this,this.S-m)};function wh(m){m.j.G==0||m.J||tE(m.j,m)}function ql(m){cy(m);var j=m.M;j&&typeof j.ma=="function"&&j.ma(),m.M=null,su(m.U),m.g&&(j=m.g,m.g=null,j.abort(),j.ma())}function uy(m,j){try{var R=m.j;if(R.G!=0&&(R.g==m||dy(R.h,m))){if(!m.K&&dy(R.h,m)&&R.G==3){try{var M=R.Da.g.parse(j)}catch{M=null}if(Array.isArray(M)&&M.length==3){var q=M;if(q[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<m.F)Dp(R),kp(R);else break e;py(R),Es(18)}}else R.za=q[1],0<R.za-R.T&&37500>q[2]&&R.F&&R.v==0&&!R.C&&(R.C=vh(f(R.Za,R),6e3));if(1>=kS(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Kl(R,11)}else if((m.K||R.g==m)&&Dp(R),!b(j))for(q=R.Da.g.parse(j),j=0;j<q.length;j++){let kt=q[j];if(R.T=kt[0],kt=kt[1],R.G==2)if(kt[0]=="c"){R.K=kt[1],R.ia=kt[2];const hs=kt[3];hs!=null&&(R.la=hs,R.j.info("VER="+R.la));const fs=kt[4];fs!=null&&(R.Aa=fs,R.j.info("SVER="+R.Aa));const ou=kt[5];ou!=null&&typeof ou=="number"&&0<ou&&(M=1.5*ou,R.L=M,R.j.info("backChannelRequestTimeoutMs_="+M)),M=R;const ei=m.g;if(ei){const Op=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Op){var Y=M.h;Y.g||Op.indexOf("spdy")==-1&&Op.indexOf("quic")==-1&&Op.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(hy(Y,Y.h),Y.h=null))}if(M.D){const xy=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;xy&&(M.ya=xy,Qt(M.I,M.D,xy))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-m.F,R.j.info("Handshake RTT: "+R.R+"ms")),M=R;var ye=m;if(M.qa=rE(M,M.J?M.ia:null,M.W),ye.K){AS(M.h,ye);var Ht=ye,ns=M.L;ns&&(Ht.I=ns),Ht.B&&(cy(Ht),Cp(Ht)),M.g=ye}else JS(M);0<R.i.length&&Ap(R)}else kt[0]!="stop"&&kt[0]!="close"||Kl(R,7);else R.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Kl(R,7):my(R):kt[0]!="noop"&&R.l&&R.l.ta(kt),R.v=0)}}xh(4)}catch{}}var _V=class{constructor(m,j){this.g=m,this.map=j}};function PS(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function IS(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function kS(m){return m.h?1:m.g?m.g.size:0}function dy(m,j){return m.h?m.h==j:m.g?m.g.has(j):!1}function hy(m,j){m.g?m.g.add(j):m.h=j}function AS(m,j){m.h&&m.h==j?m.h=null:m.g&&m.g.has(j)&&m.g.delete(j)}PS.prototype.cancel=function(){if(this.i=DS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function DS(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let j=m.i;for(const R of m.g.values())j=j.concat(R.D);return j}return x(m.i)}function jV(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(c(m)){for(var j=[],R=m.length,M=0;M<R;M++)j.push(m[M]);return j}j=[],R=0;for(M in m)j[R++]=m[M];return j}function CV(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(c(m)||typeof m=="string"){var j=[];m=m.length;for(var R=0;R<m;R++)j.push(R);return j}j=[],R=0;for(const M in m)j[R++]=M;return j}}}function MS(m,j){if(m.forEach&&typeof m.forEach=="function")m.forEach(j,void 0);else if(c(m)||typeof m=="string")Array.prototype.forEach.call(m,j,void 0);else for(var R=CV(m),M=jV(m),q=M.length,Y=0;Y<q;Y++)j.call(void 0,M[Y],R&&R[Y],m)}var OS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SV(m,j){if(m){m=m.split("&");for(var R=0;R<m.length;R++){var M=m[R].indexOf("="),q=null;if(0<=M){var Y=m[R].substring(0,M);q=m[R].substring(M+1)}else Y=m[R];j(Y,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Gl(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Gl){this.h=m.h,Sp(this,m.j),this.o=m.o,this.g=m.g,Ep(this,m.s),this.l=m.l;var j=m.i,R=new _h;R.i=j.i,j.g&&(R.g=new Map(j.g),R.h=j.h),FS(this,R),this.m=m.m}else m&&(j=String(m).match(OS))?(this.h=!1,Sp(this,j[1]||"",!0),this.o=bh(j[2]||""),this.g=bh(j[3]||"",!0),Ep(this,j[4]),this.l=bh(j[5]||"",!0),FS(this,j[6]||"",!0),this.m=bh(j[7]||"")):(this.h=!1,this.i=new _h(null,this.h))}Gl.prototype.toString=function(){var m=[],j=this.j;j&&m.push(Nh(j,LS,!0),":");var R=this.g;return(R||j=="file")&&(m.push("//"),(j=this.o)&&m.push(Nh(j,LS,!0),"@"),m.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&m.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&m.push("/"),m.push(Nh(R,R.charAt(0)=="/"?RV:TV,!0))),(R=this.i.toString())&&m.push("?",R),(R=this.m)&&m.push("#",Nh(R,IV)),m.join("")};function ga(m){return new Gl(m)}function Sp(m,j,R){m.j=R?bh(j,!0):j,m.j&&(m.j=m.j.replace(/:$/,""))}function Ep(m,j){if(j){if(j=Number(j),isNaN(j)||0>j)throw Error("Bad port number "+j);m.s=j}else m.s=null}function FS(m,j,R){j instanceof _h?(m.i=j,kV(m.i,m.h)):(R||(j=Nh(j,PV)),m.i=new _h(j,m.h))}function Qt(m,j,R){m.i.set(j,R)}function Tp(m){return Qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function bh(m,j){return m?j?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Nh(m,j,R){return typeof m=="string"?(m=encodeURI(m).replace(j,EV),R&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function EV(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var LS=/[#\/\?@]/g,TV=/[#\?:]/g,RV=/[#\?]/g,PV=/[#\?@]/g,IV=/#/g;function _h(m,j){this.h=this.g=null,this.i=m||null,this.j=!!j}function vo(m){m.g||(m.g=new Map,m.h=0,m.i&&SV(m.i,function(j,R){m.add(decodeURIComponent(j.replace(/\+/g," ")),R)}))}t=_h.prototype,t.add=function(m,j){vo(this),this.i=null,m=iu(this,m);var R=this.g.get(m);return R||this.g.set(m,R=[]),R.push(j),this.h+=1,this};function VS(m,j){vo(m),j=iu(m,j),m.g.has(j)&&(m.i=null,m.h-=m.g.get(j).length,m.g.delete(j))}function $S(m,j){return vo(m),j=iu(m,j),m.g.has(j)}t.forEach=function(m,j){vo(this),this.g.forEach(function(R,M){R.forEach(function(q){m.call(j,q,M,this)},this)},this)},t.na=function(){vo(this);const m=Array.from(this.g.values()),j=Array.from(this.g.keys()),R=[];for(let M=0;M<j.length;M++){const q=m[M];for(let Y=0;Y<q.length;Y++)R.push(j[M])}return R},t.V=function(m){vo(this);let j=[];if(typeof m=="string")$S(this,m)&&(j=j.concat(this.g.get(iu(this,m))));else{m=Array.from(this.g.values());for(let R=0;R<m.length;R++)j=j.concat(m[R])}return j},t.set=function(m,j){return vo(this),this.i=null,m=iu(this,m),$S(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[j]),this.h+=1,this},t.get=function(m,j){return m?(m=this.V(m),0<m.length?String(m[0]):j):j};function US(m,j,R){VS(m,j),0<R.length&&(m.i=null,m.g.set(iu(m,j),x(R)),m.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],j=Array.from(this.g.keys());for(var R=0;R<j.length;R++){var M=j[R];const Y=encodeURIComponent(String(M)),ye=this.V(M);for(M=0;M<ye.length;M++){var q=Y;ye[M]!==""&&(q+="="+encodeURIComponent(String(ye[M]))),m.push(q)}}return this.i=m.join("&")};function iu(m,j){return j=String(j),m.j&&(j=j.toLowerCase()),j}function kV(m,j){j&&!m.j&&(vo(m),m.i=null,m.g.forEach(function(R,M){var q=M.toLowerCase();M!=q&&(VS(this,M),US(this,q,R))},m)),m.j=j}function AV(m,j){const R=new yh;if(l.Image){const M=new Image;M.onload=g(yo,R,"TestLoadImage: loaded",!0,j,M),M.onerror=g(yo,R,"TestLoadImage: error",!1,j,M),M.onabort=g(yo,R,"TestLoadImage: abort",!1,j,M),M.ontimeout=g(yo,R,"TestLoadImage: timeout",!1,j,M),l.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else j(!1)}function DV(m,j){const R=new yh,M=new AbortController,q=setTimeout(()=>{M.abort(),yo(R,"TestPingServer: timeout",!1,j)},1e4);fetch(m,{signal:M.signal}).then(Y=>{clearTimeout(q),Y.ok?yo(R,"TestPingServer: ok",!0,j):yo(R,"TestPingServer: server error",!1,j)}).catch(()=>{clearTimeout(q),yo(R,"TestPingServer: error",!1,j)})}function yo(m,j,R,M,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),M(R)}catch{}}function MV(){this.g=new iy}function OV(m,j,R){const M=R||"";try{MS(m,function(q,Y){let ye=q;u(q)&&(ye=Ii(q)),j.push(M+Y+"="+encodeURIComponent(ye))})}catch(q){throw j.push(M+"type="+encodeURIComponent("_badmap")),q}}function Rp(m){this.l=m.Ub||null,this.j=m.eb||!1}v(Rp,tt),Rp.prototype.g=function(){return new Pp(this.l,this.j)},Rp.prototype.i=function(m){return function(){return m}}({});function Pp(m,j){ft.call(this),this.D=m,this.o=j,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Pp,ft),t=Pp.prototype,t.open=function(m,j){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=j,this.readyState=1,Ch(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const j={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(j.body=m),(this.D||l).fetch(new Request(this.A,j)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jh(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BS(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function BS(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var j=m.value?m.value:new Uint8Array(0);(j=this.v.decode(j,{stream:!m.done}))&&(this.response=this.responseText+=j)}m.done?jh(this):Ch(this),this.readyState==3&&BS(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,jh(this))},t.Qa=function(m){this.g&&(this.response=m,jh(this))},t.ga=function(){this.g&&jh(this)};function jh(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Ch(m)}t.setRequestHeader=function(m,j){this.u.append(m,j)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],j=this.h.entries();for(var R=j.next();!R.done;)R=R.value,m.push(R[0]+": "+R[1]),R=j.next();return m.join(`\r
`)};function Ch(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function zS(m){let j="";return A(m,function(R,M){j+=M,j+=":",j+=R,j+=`\r
`}),j}function fy(m,j,R){e:{for(M in R){var M=!1;break e}M=!0}M||(R=zS(R),typeof m=="string"?R!=null&&encodeURIComponent(String(R)):Qt(m,j,R))}function xn(m){ft.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(xn,ft);var FV=/^https?$/i,LV=["POST","PUT"];t=xn.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,j,R,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);j=j?j.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ay.g(),this.v=this.o?Bt(this.o):Bt(ay),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(j,String(m),!0),this.B=!1}catch(Y){HS(this,Y);return}if(m=R||"",R=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var q in M)R.set(q,M[q]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const Y of M.keys())R.set(Y,M.get(Y));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(R.keys()).find(Y=>Y.toLowerCase()=="content-type"),q=l.FormData&&m instanceof l.FormData,!(0<=Array.prototype.indexOf.call(LV,j,void 0))||M||q||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ye]of R)this.g.setRequestHeader(Y,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GS(this),this.u=!0,this.g.send(m),this.u=!1}catch(Y){HS(this,Y)}};function HS(m,j){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=j,m.m=5,WS(m),Ip(m)}function WS(m){m.A||(m.A=!0,ct(m,"complete"),ct(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,ct(this,"complete"),ct(this,"abort"),Ip(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ip(this,!0)),xn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qS(this):this.bb())},t.bb=function(){qS(this)};function qS(m){if(m.h&&typeof o<"u"&&(!m.v[1]||xa(m)!=4||m.Z()!=2)){if(m.u&&xa(m)==4)Jr(m.Ea,0,m);else if(ct(m,"readystatechange"),xa(m)==4){m.h=!1;try{const ye=m.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var j=!0;break e;default:j=!1}var R;if(!(R=j)){var M;if(M=ye===0){var q=String(m.D).match(OS)[1]||null;!q&&l.self&&l.self.location&&(q=l.self.location.protocol.slice(0,-1)),M=!FV.test(q?q.toLowerCase():"")}R=M}if(R)ct(m,"complete"),ct(m,"success");else{m.m=6;try{var Y=2<xa(m)?m.g.statusText:""}catch{Y=""}m.l=Y+" ["+m.Z()+"]",WS(m)}}finally{Ip(m)}}}}function Ip(m,j){if(m.g){GS(m);const R=m.g,M=m.v[0]?()=>{}:null;m.g=null,m.v=null,j||ct(m,"ready");try{R.onreadystatechange=M}catch{}}}function GS(m){m.I&&(l.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function xa(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<xa(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var j=this.g.responseText;return m&&j.indexOf(m)==0&&(j=j.substring(m.length)),ki(j)}};function KS(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function VV(m){const j={};m=(m.g&&2<=xa(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(b(m[M]))continue;var R=k(m[M]);const q=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const Y=j[q]||[];j[q]=Y,Y.push(R)}C(j,function(M){return M.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sh(m,j,R){return R&&R.internalChannelParams&&R.internalChannelParams[m]||j}function QS(m){this.Aa=0,this.i=[],this.j=new yh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sh("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sh("baseRetryDelayMs",5e3,m),this.cb=Sh("retryDelaySeedMs",1e4,m),this.Wa=Sh("forwardChannelMaxRetries",2,m),this.wa=Sh("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new PS(m&&m.concurrentRequestLimit),this.Da=new MV,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=QS.prototype,t.la=8,t.G=1,t.connect=function(m,j,R,M){Es(0),this.W=m,this.H=j||{},R&&M!==void 0&&(this.H.OSID=R,this.H.OAID=M),this.F=this.X,this.I=rE(this,null,this.W),Ap(this)};function my(m){if(YS(m),m.G==3){var j=m.U++,R=ga(m.I);if(Qt(R,"SID",m.K),Qt(R,"RID",j),Qt(R,"TYPE","terminate"),Eh(m,R),j=new xo(m,m.j,j),j.L=2,j.v=Tp(ga(R)),R=!1,l.navigator&&l.navigator.sendBeacon)try{R=l.navigator.sendBeacon(j.v.toString(),"")}catch{}!R&&l.Image&&(new Image().src=j.v,R=!0),R||(j.g=iE(j.j,null),j.g.ea(j.v)),j.F=Date.now(),Cp(j)}sE(m)}function kp(m){m.g&&(gy(m),m.g.cancel(),m.g=null)}function YS(m){kp(m),m.u&&(l.clearTimeout(m.u),m.u=null),Dp(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&l.clearTimeout(m.s),m.s=null)}function Ap(m){if(!IS(m.h)&&!m.s){m.s=!0;var j=m.Ga;Q||Z(),O||(Q(),O=!0),V.add(j,m),m.B=0}}function $V(m,j){return kS(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=j.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=vh(f(m.Ga,m,j),nE(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const q=new xo(this,this.j,m);let Y=this.o;if(this.S&&(Y?(Y=_(Y),T(Y,this.S)):Y=this.S),this.m!==null||this.O||(q.H=Y,Y=null),this.P)e:{for(var j=0,R=0;R<this.i.length;R++){t:{var M=this.i[R];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(j+=M,4096<j){j=R;break e}if(j===4096||R===this.i.length-1){j=R+1;break e}}j=1e3}else j=1e3;j=ZS(this,q,j),R=ga(this.I),Qt(R,"RID",m),Qt(R,"CVER",22),this.D&&Qt(R,"X-HTTP-Session-Id",this.D),Eh(this,R),Y&&(this.O?j="headers="+encodeURIComponent(String(zS(Y)))+"&"+j:this.m&&fy(R,this.m,Y)),hy(this.h,q),this.Ua&&Qt(R,"TYPE","init"),this.P?(Qt(R,"$req",j),Qt(R,"SID","null"),q.T=!0,ly(q,R,null)):ly(q,R,j),this.G=2}}else this.G==3&&(m?XS(this,m):this.i.length==0||IS(this.h)||XS(this))};function XS(m,j){var R;j?R=j.l:R=m.U++;const M=ga(m.I);Qt(M,"SID",m.K),Qt(M,"RID",R),Qt(M,"AID",m.T),Eh(m,M),m.m&&m.o&&fy(M,m.m,m.o),R=new xo(m,m.j,R,m.B+1),m.m===null&&(R.H=m.o),j&&(m.i=j.D.concat(m.i)),j=ZS(m,R,1e3),R.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),hy(m.h,R),ly(R,M,j)}function Eh(m,j){m.H&&A(m.H,function(R,M){Qt(j,M,R)}),m.l&&MS({},function(R,M){Qt(j,M,R)})}function ZS(m,j,R){R=Math.min(m.i.length,R);var M=m.l?f(m.l.Na,m.l,m):null;e:{var q=m.i;let Y=-1;for(;;){const ye=["count="+R];Y==-1?0<R?(Y=q[0].g,ye.push("ofs="+Y)):Y=0:ye.push("ofs="+Y);let Ht=!0;for(let ns=0;ns<R;ns++){let kt=q[ns].g;const hs=q[ns].map;if(kt-=Y,0>kt)Y=Math.max(0,q[ns].g-100),Ht=!1;else try{OV(hs,ye,"req"+kt+"_")}catch{M&&M(hs)}}if(Ht){M=ye.join("&");break e}}}return m=m.i.splice(0,R),j.D=m,M}function JS(m){if(!m.g&&!m.u){m.Y=1;var j=m.Fa;Q||Z(),O||(Q(),O=!0),V.add(j,m),m.v=0}}function py(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=vh(f(m.Fa,m),nE(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,eE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=vh(f(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Es(10),kp(this),eE(this))};function gy(m){m.A!=null&&(l.clearTimeout(m.A),m.A=null)}function eE(m){m.g=new xo(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var j=ga(m.qa);Qt(j,"RID","rpc"),Qt(j,"SID",m.K),Qt(j,"AID",m.T),Qt(j,"CI",m.F?"0":"1"),!m.F&&m.ja&&Qt(j,"TO",m.ja),Qt(j,"TYPE","xmlhttp"),Eh(m,j),m.m&&m.o&&fy(j,m.m,m.o),m.L&&(m.g.I=m.L);var R=m.g;m=m.ia,R.L=1,R.v=Tp(ga(j)),R.m=null,R.P=!0,ES(R,m)}t.Za=function(){this.C!=null&&(this.C=null,kp(this),py(this),Es(19))};function Dp(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function tE(m,j){var R=null;if(m.g==j){Dp(m),gy(m),m.g=null;var M=2}else if(dy(m.h,j))R=j.D,AS(m.h,j),M=1;else return;if(m.G!=0){if(j.o)if(M==1){R=j.m?j.m.length:0,j=Date.now()-j.F;var q=m.B;M=Np(),ct(M,new _S(M,R)),Ap(m)}else JS(m);else if(q=j.s,q==3||q==0&&0<j.X||!(M==1&&$V(m,j)||M==2&&py(m)))switch(R&&0<R.length&&(j=m.h,j.i=j.i.concat(R)),q){case 1:Kl(m,5);break;case 4:Kl(m,10);break;case 3:Kl(m,6);break;default:Kl(m,2)}}}function nE(m,j){let R=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(R*=2),R*j}function Kl(m,j){if(m.j.info("Error code "+j),j==2){var R=f(m.fb,m),M=m.Xa;const q=!M;M=new Gl(M||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Sp(M,"https"),Tp(M),q?AV(M.toString(),R):DV(M.toString(),R)}else Es(2);m.G=0,m.l&&m.l.sa(j),sE(m),YS(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Es(2)):(this.j.info("Failed to ping google.com"),Es(1))};function sE(m){if(m.G=0,m.ka=[],m.l){const j=DS(m.h);(j.length!=0||m.i.length!=0)&&(w(m.ka,j),w(m.ka,m.i),m.h.i.length=0,x(m.i),m.i.length=0),m.l.ra()}}function rE(m,j,R){var M=R instanceof Gl?ga(R):new Gl(R);if(M.g!="")j&&(M.g=j+"."+M.g),Ep(M,M.s);else{var q=l.location;M=q.protocol,j=j?j+"."+q.hostname:q.hostname,q=+q.port;var Y=new Gl(null);M&&Sp(Y,M),j&&(Y.g=j),q&&Ep(Y,q),R&&(Y.l=R),M=Y}return R=m.D,j=m.ya,R&&j&&Qt(M,R,j),Qt(M,"VER",m.la),Eh(m,M),M}function iE(m,j,R){if(j&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return j=m.Ca&&!m.pa?new xn(new Rp({eb:R})):new xn(m.pa),j.Ha(m.J),j}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function aE(){}t=aE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Mp(){}Mp.prototype.g=function(m,j){return new vr(m,j)};function vr(m,j){ft.call(this),this.g=new QS(j),this.l=m,this.h=j&&j.messageUrlParams||null,m=j&&j.messageHeaders||null,j&&j.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=j&&j.initMessageHeaders||null,j&&j.messageContentType&&(m?m["X-WebChannel-Content-Type"]=j.messageContentType:m={"X-WebChannel-Content-Type":j.messageContentType}),j&&j.va&&(m?m["X-WebChannel-Client-Profile"]=j.va:m={"X-WebChannel-Client-Profile":j.va}),this.g.S=m,(m=j&&j.Sb)&&!b(m)&&(this.g.m=m),this.v=j&&j.supportsCrossDomainXhr||!1,this.u=j&&j.sendRawJson||!1,(j=j&&j.httpSessionIdParam)&&!b(j)&&(this.g.D=j,m=this.h,m!==null&&j in m&&(m=this.h,j in m&&delete m[j])),this.j=new au(this)}v(vr,ft),vr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){my(this.g)},vr.prototype.o=function(m){var j=this.g;if(typeof m=="string"){var R={};R.__data__=m,m=R}else this.u&&(R={},R.__data__=Ii(m),m=R);j.i.push(new _V(j.Ya++,m)),j.G==3&&Ap(j)},vr.prototype.N=function(){this.g.l=null,delete this.j,my(this.g),delete this.g,vr.aa.N.call(this)};function oE(m){Ks.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var j=m.__sm__;if(j){e:{for(const R in j){m=R;break e}m=void 0}(this.i=m)&&(m=this.i,j=j!==null&&m in j?j[m]:void 0),this.data=j}else this.data=m}v(oE,Ks);function lE(){go.call(this),this.status=1}v(lE,go);function au(m){this.g=m}v(au,aE),au.prototype.ua=function(){ct(this.g,"a")},au.prototype.ta=function(m){ct(this.g,new oE(m))},au.prototype.sa=function(m){ct(this.g,new lE)},au.prototype.ra=function(){ct(this.g,"b")},Mp.prototype.createWebChannel=Mp.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,Z4=function(){return new Mp},X4=function(){return Np()},Y4=pa,SN={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_p.NO_ERROR=0,_p.TIMEOUT=8,_p.HTTP_ERROR=6,Wg=_p,jS.COMPLETE="complete",Q4=jS,Vt.EventType=ds,ds.OPEN="a",ds.CLOSE="b",ds.ERROR="c",ds.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Zh=Vt,xn.prototype.listenOnce=xn.prototype.L,xn.prototype.getLastError=xn.prototype.Ka,xn.prototype.getLastErrorCode=xn.prototype.Ba,xn.prototype.getStatus=xn.prototype.Z,xn.prototype.getResponseJson=xn.prototype.Oa,xn.prototype.getResponseText=xn.prototype.oa,xn.prototype.send=xn.prototype.ea,xn.prototype.setWithCredentials=xn.prototype.Ha,K4=xn}).apply(typeof og<"u"?og:typeof self<"u"?self:typeof window<"u"?window:{});const FR="@firebase/firestore",LR="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ys.UNAUTHENTICATED=new ys(null),ys.GOOGLE_CREDENTIALS=new ys("google-credentials-uid"),ys.FIRST_PARTY=new ys("first-party-uid"),ys.MOCK_USER=new ys("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new a1("@firebase/firestore");function gu(){return Ec.logLevel}function Re(t,...e){if(Ec.logLevel<=xt.DEBUG){const n=e.map(v1);Ec.debug(`Firestore (${th}): ${t}`,...n)}}function qa(t,...e){if(Ec.logLevel<=xt.ERROR){const n=e.map(v1);Ec.error(`Firestore (${th}): ${t}`,...n)}}function Ed(t,...e){if(Ec.logLevel<=xt.WARN){const n=e.map(v1);Ec.warn(`Firestore (${th}): ${t}`,...n)}}function v1(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,J4(t,s,n)}function J4(t,e,n){let s=`FIRESTORE (${th}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw qa(s),new Error(s)}function Et(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||J4(e,r,s)}function et(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends da{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ys.UNAUTHENTICATED))}shutdown(){}}class zK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HK{constructor(e){this.t=e,this.currentUser=ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Et(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Et(typeof s.accessToken=="string",31837,{l:s}),new eM(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Et(e===null||typeof e=="string",2055,{h:e}),new ys(e)}}class WK{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=ys.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qK{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new WK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ys.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class VR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Et(this.o===void 0,3512);const s=a=>{a.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new VR(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Et(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new VR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=KK(40);for(let a=0;a<r.length;++a)s.length<20&&r[a]<n&&(s+=e.charAt(r[a]%62))}return s}}function mt(t,e){return t<e?-1:t>e?1:0}function EN(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=t.codePointAt(n),r=e.codePointAt(n);if(s!==r){if(s<128&&r<128)return mt(s,r);{const a=tM(),o=QK(a.encode($R(t,n)),a.encode($R(e,n)));return o!==0?o:mt(s,r)}}n+=s>65535?2:1}return mt(t.length,e.length)}function $R(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function QK(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return mt(t[n],e[n]);return mt(t.length,e.length)}function Td(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=-62135596800,BR=1e6;class Nn{static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*BR);return new Nn(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UR)throw new Ne(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BR}_compareTo(e){return this.seconds===e.seconds?mt(this.nanoseconds,e.nanoseconds):mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-UR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Nn(0,0))}static max(){return new Qe(new Nn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__name__";class Mi{constructor(e,n,s){n===void 0?n=0:n>e.length&&ze(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ze(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const a=Mi.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return mt(e.length,n.length)}static compareSegments(e,n){const s=Mi.isNumericId(e),r=Mi.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):EN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hl.fromString(e.substring(4,e.length-2))}}class zt extends Mi{construct(e,n,s){return new zt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ne(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new zt(n)}static emptyPath(){return new zt([])}}const YK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class is extends Mi{construct(e,n,s){return new is(e,n,s)}static isValidIdentifier(e){return YK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),is.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zR}static keyField(){return new is([zR])}static fromServerFormat(e){const n=[];let s="",r=0;const a=()=>{if(s.length===0)throw new Ne(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Ne(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(o=!o,r++):l!=="."||o?(s+=l,r++):(a(),r++)}if(a(),o)throw new Ne(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new is(n)}static emptyPath(){return new is([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(zt.fromString(e))}static fromName(e){return new Be(zt.fromString(e).popFirst(5))}static empty(){return new Be(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function XK(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=Qe.fromTimestamp(s===1e9?new Nn(n+1,0):new Nn(n,s));return new Nl(r,Be.empty(),e)}function ZK(t){return new Nl(t.readTime,t.key,cm)}class Nl{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Nl(Qe.min(),Be.empty(),cm)}static max(){return new Nl(Qe.max(),Be.empty(),cm)}}function JK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nh(t){if(t.code!==J.FAILED_PRECONDITION||t.message!==eQ)throw t;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(s,r)},this.catchCallback=a=>{this.wrapFailure(n,a).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let r=0,a=0,o=!1;e.forEach(l=>{++r,l.next(()=>{++a,o&&a===r&&n()},c=>s(c))}),o=!0,a===r&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(r=>r?re.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,a)=>{s.push(n.call(this,r,a))}),this.waitFor(s)}static mapArray(e,n){return new re((s,r)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++l,l===a&&s(o)},d=>r(d))}})}static doWhile(e,n){return new re((s,r)=>{const a=()=>{e()===!0?n().next(()=>{a()},r):s()};a()})}}function nQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}d0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=-1;function Wm(t){return t==null}function Bx(t){return t===0&&1/t==-1/0}function sQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Bx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM="";function rQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=HR(e)),e=iQ(t.get(n),e);return HR(e)}function iQ(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const a=t.charAt(r);switch(a){case"\0":n+="";break;case sM:n+="";break;default:n+=a}}return n}function HR(t){return t+sM+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ll(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n){this.comparator=e,this.root=n||rs.EMPTY}insert(e,n){return new pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lg(this.root,e,this.comparator,!0)}}class lg{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?s(e.key,n):1,n&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rs{constructor(e,n,s,r,a){this.key=e,this.value=n,this.color=s??rs.RED,this.left=r??rs.EMPTY,this.right=a??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,a){return new rs(e??this.key,n??this.value,s??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const a=s(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,n,s),null):a===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return rs.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1;rs.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,n,s,r,a){return this}insert(e,n,s){return new rs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qR(this.data.getIterator())}getIteratorFrom(e){return new qR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof zn)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(this.comparator(r,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new zn(this.comparator);return n.data=e,n}}class qR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(is.comparator)}static empty(){return new jr([])}unionWith(e){let n=new zn(is.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Td(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new iM("Invalid base64 string: "+a):a}}(e);return new ls(n)}static fromUint8Array(e){const n=function(r){let a="";for(let o=0;o<r.length;++o)a+=String.fromCharCode(r[o]);return a}(e);return new ls(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ls.EMPTY_BYTE_STRING=new ls("");const aQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(t){if(Et(!!t,39018),typeof t=="string"){let e=0;const n=aQ.exec(t);if(Et(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function jl(t){return typeof t=="string"?ls.fromBase64String(t):ls.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM="server_timestamp",oM="__type__",lM="__previous_value__",cM="__local_write_time__";function w1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[oM])===null||n===void 0?void 0:n.stringValue)===aM}function h0(t){const e=t.mapValue.fields[lM];return w1(e)?h0(e):e}function um(t){const e=_l(t.mapValue.fields[cM].timestampValue);return new Nn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(e,n,s,r,a,o,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const zx="(default)";class dm{constructor(e,n){this.projectId=e,this.database=n||zx}static empty(){return new dm("","")}get isDefaultDatabase(){return this.database===zx}isEqual(e){return e instanceof dm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="__type__",dM="__max__",cg={mapValue:{fields:{__type__:{stringValue:dM}}}},hM="__vector__",Hx="value";function Cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?w1(t)?4:cQ(t)?9007199254740991:lQ(t)?10:11:ze(28295,{value:t})}function sa(t,e){if(t===e)return!0;const n=Cl(t);if(n!==Cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return um(t).isEqual(um(e));case 3:return function(r,a){if(typeof r.timestampValue=="string"&&typeof a.timestampValue=="string"&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const o=_l(r.timestampValue),l=_l(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,a){return jl(r.bytesValue).isEqual(jl(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,a){return En(r.geoPointValue.latitude)===En(a.geoPointValue.latitude)&&En(r.geoPointValue.longitude)===En(a.geoPointValue.longitude)}(t,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return En(r.integerValue)===En(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const o=En(r.doubleValue),l=En(a.doubleValue);return o===l?Bx(o)===Bx(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Td(t.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:case 11:return function(r,a){const o=r.mapValue.fields||{},l=a.mapValue.fields||{};if(WR(o)!==WR(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!sa(o[c],l[c])))return!1;return!0}(t,e);default:return ze(52216,{left:t})}}function hm(t,e){return(t.values||[]).find(n=>sa(n,e))!==void 0}function Rd(t,e){if(t===e)return 0;const n=Cl(t),s=Cl(e);if(n!==s)return mt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=En(a.integerValue||a.doubleValue),c=En(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return GR(t.timestampValue,e.timestampValue);case 4:return GR(um(t),um(e));case 5:return EN(t.stringValue,e.stringValue);case 6:return function(a,o){const l=jl(a),c=jl(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=mt(l[u],c[u]);if(d!==0)return d}return mt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=mt(En(a.latitude),En(o.latitude));return l!==0?l:mt(En(a.longitude),En(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KR(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,u,d;const h=a.fields||{},f=o.fields||{},g=(l=h[Hx])===null||l===void 0?void 0:l.arrayValue,v=(c=f[Hx])===null||c===void 0?void 0:c.arrayValue,x=mt(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:KR(g,v)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===cg.mapValue&&o===cg.mapValue)return 0;if(a===cg.mapValue)return 1;if(o===cg.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const f=EN(c[h],d[h]);if(f!==0)return f;const g=Rd(l[c[h]],u[d[h]]);if(g!==0)return g}return mt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ze(23264,{Pe:n})}}function GR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return mt(t,e);const n=_l(t),s=_l(e),r=mt(n.seconds,s.seconds);return r!==0?r:mt(n.nanos,s.nanos)}function KR(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const a=Rd(n[r],s[r]);if(a)return a}return mt(n.length,s.length)}function Pd(t){return TN(t)}function TN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=_l(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return jl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const a of n.values||[])r?r=!1:s+=",",s+=TN(a);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",a=!0;for(const o of s)a?a=!1:r+=",",r+=`${o}:${TN(n.fields[o])}`;return r+"}"}(t.mapValue):ze(61005,{value:t})}function qg(t){switch(Cl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=h0(t);return e?16+qg(e):16;case 5:return 2*t.stringValue.length;case 6:return jl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,a)=>r+qg(a),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return Ll(s.fields,(a,o)=>{r+=a.length+qg(o)}),r}(t.mapValue);default:throw ze(13486,{value:t})}}function QR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function RN(t){return!!t&&"integerValue"in t}function b1(t){return!!t&&"arrayValue"in t}function YR(t){return!!t&&"nullValue"in t}function XR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gg(t){return!!t&&"mapValue"in t}function lQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uM])===null||n===void 0?void 0:n.stringValue)===hM}function _f(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ll(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=_f(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_f(t.arrayValue.values[n]);return e}return Object.assign({},t)}function cQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.value=e}static empty(){return new Ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_f(n)}setAll(e){let n=is.emptyPath(),s={},r=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}o?s[l.lastSegment()]=_f(o):r.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,s,r)}delete(e){const n=this.field(e.popLast());Gg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Gg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){Ll(n,(r,a)=>e[r]=a);for(const r of s)delete e[r]}clone(){return new Ds(_f(this.value))}}function fM(t){const e=[];return Ll(t.fields,(n,s)=>{const r=new is([n]);if(Gg(s)){const a=fM(s.mapValue).fields;if(a.length===0)e.push(r);else for(const o of a)e.push(r.child(o))}else e.push(r)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e,n,s,r,a,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qn(e,0,Qe.min(),Qe.min(),Qe.min(),Ds.empty(),0)}static newFoundDocument(e,n,s,r){return new Qn(e,1,n,Qe.min(),s,r,0)}static newNoDocument(e,n){return new Qn(e,2,n,Qe.min(),Qe.min(),Ds.empty(),0)}static newUnknownDocument(e,n){return new Qn(e,3,n,Qe.min(),Qe.min(),Ds.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,n){this.position=e,this.inclusive=n}}function ZR(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const a=e[r],o=t.position[r];if(a.field.isKeyField()?s=Be.comparator(Be.fromName(o.referenceValue),n.key):s=Rd(o,n.data.field(a.field)),a.dir==="desc"&&(s*=-1),s!==0)break}return s}function JR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sa(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n="asc"){this.field=e,this.dir=n}}function uQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{}class On extends mM{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new hQ(e,n,s):n==="array-contains"?new pQ(e,s):n==="in"?new gQ(e,s):n==="not-in"?new xQ(e,s):n==="array-contains-any"?new vQ(e,s):new On(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new fQ(e,s):new mQ(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Rd(n,this.value)):n!==null&&Cl(this.value)===Cl(n)&&this.matchesComparison(Rd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends mM{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ni(e,n)}matches(e){return pM(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function pM(t){return t.op==="and"}function gM(t){return dQ(t)&&pM(t)}function dQ(t){for(const e of t.filters)if(e instanceof Ni)return!1;return!0}function PN(t){if(t instanceof On)return t.field.canonicalString()+t.op.toString()+Pd(t.value);if(gM(t))return t.filters.map(e=>PN(e)).join(",");{const e=t.filters.map(n=>PN(n)).join(",");return`${t.op}(${e})`}}function xM(t,e){return t instanceof On?function(s,r){return r instanceof On&&s.op===r.op&&s.field.isEqual(r.field)&&sa(s.value,r.value)}(t,e):t instanceof Ni?function(s,r){return r instanceof Ni&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((a,o,l)=>a&&xM(o,r.filters[l]),!0):!1}(t,e):void ze(19439)}function vM(t){return t instanceof On?function(n){return`${n.field.canonicalString()} ${n.op} ${Pd(n.value)}`}(t):t instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(vM).join(" ,")+"}"}(t):"Filter"}class hQ extends On{constructor(e,n,s){super(e,n,s),this.key=Be.fromName(s.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class fQ extends On{constructor(e,n){super(e,"in",n),this.keys=yM("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mQ extends On{constructor(e,n){super(e,"not-in",n),this.keys=yM("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yM(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Be.fromName(s.referenceValue))}class pQ extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return b1(n)&&hm(n.arrayValue,this.value)}}class gQ extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hm(this.value.arrayValue,n)}}class xQ extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(hm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hm(this.value.arrayValue,n)}}class vQ extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!b1(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>hm(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e,n=null,s=[],r=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=a,this.startAt=o,this.endAt=l,this.Ie=null}}function eP(t,e=null,n=[],s=[],r=null,a=null,o=null){return new yQ(t,e,n,s,r,a,o)}function N1(t){const e=et(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>PN(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(a){return a.field.canonicalString()+a.dir}(s)).join(","),Wm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Pd(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Pd(s)).join(",")),e.Ie=n}return e.Ie}function _1(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xM(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JR(t.startAt,e.startAt)&&JR(t.endAt,e.endAt)}function IN(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n=null,s=[],r=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wQ(t,e,n,s,r,a,o,l){return new Yc(t,e,n,s,r,a,o,l)}function j1(t){return new Yc(t)}function tP(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function wM(t){return t.collectionGroup!==null}function jf(t){const e=et(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new zn(is.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new fm(a,s))}),n.has(is.keyField().canonicalString())||e.Ee.push(new fm(is.keyField(),s))}return e.Ee}function Yi(t){const e=et(t);return e.de||(e.de=bQ(e,jf(t))),e.de}function bQ(t,e){if(t.limitType==="F")return eP(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const a=r.dir==="desc"?"asc":"desc";return new fm(r.field,a)});const n=t.endAt?new Wx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wx(t.startAt.position,t.startAt.inclusive):null;return eP(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function kN(t,e){const n=t.filters.concat([e]);return new Yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function AN(t,e,n){return new Yc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function f0(t,e){return _1(Yi(t),Yi(e))&&t.limitType===e.limitType}function bM(t){return`${N1(Yi(t))}|lt:${t.limitType}`}function xu(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>vM(r)).join(", ")}]`),Wm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Pd(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Pd(r)).join(",")),`Target(${s})`}(Yi(t))}; limitType=${t.limitType})`}function m0(t,e){return e.isFoundDocument()&&function(s,r){const a=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(a):Be.isDocumentKey(s.path)?s.path.isEqual(a):s.path.isImmediateParentOf(a)}(t,e)&&function(s,r){for(const a of jf(s))if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const a of s.filters)if(!a.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(o,l,c){const u=ZR(o,l,c);return o.inclusive?u<=0:u<0}(s.startAt,jf(s),r)||s.endAt&&!function(o,l,c){const u=ZR(o,l,c);return o.inclusive?u>=0:u>0}(s.endAt,jf(s),r))}(t,e)}function NQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NM(t){return(e,n)=>{let s=!1;for(const r of jf(t)){const a=_Q(r,e,n);if(a!==0)return a;s=s||r.field.isKeyField()}return 0}}function _Q(t,e,n){const s=t.field.isKeyField()?Be.comparator(e.key,n.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?Rd(c,u):ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,a]of s)if(this.equalsFn(r,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ll(this.inner,(n,s)=>{for(const[r,a]of s)e(r,a)})}isEmpty(){return rM(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ=new pn(Be.comparator);function Ga(){return jQ}const _M=new pn(Be.comparator);function Jh(...t){let e=_M;for(const n of t)e=e.insert(n.key,n);return e}function jM(t){let e=_M;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function rc(){return Cf()}function CM(){return Cf()}function Cf(){return new Xc(t=>t.toString(),(t,e)=>t.isEqual(e))}const CQ=new pn(Be.comparator),SQ=new zn(Be.comparator);function vt(...t){let e=SQ;for(const n of t)e=e.add(n);return e}const EQ=new zn(mt);function TQ(){return EQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bx(e)?"-0":e}}function SM(t){return{integerValue:""+t}}function RQ(t,e){return sQ(e)?SM(e):C1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this._=void 0}}function PQ(t,e,n){return t instanceof mm?function(r,a){const o={fields:{[oM]:{stringValue:aM},[cM]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&w1(a)&&(a=h0(a)),a&&(o.fields[lM]=a),{mapValue:o}}(n,e):t instanceof pm?TM(t,e):t instanceof gm?RM(t,e):function(r,a){const o=EM(r,a),l=nP(o)+nP(r.Re);return RN(o)&&RN(r.Re)?SM(l):C1(r.serializer,l)}(t,e)}function IQ(t,e,n){return t instanceof pm?TM(t,e):t instanceof gm?RM(t,e):n}function EM(t,e){return t instanceof qx?function(s){return RN(s)||function(a){return!!a&&"doubleValue"in a}(s)}(e)?e:{integerValue:0}:null}class mm extends p0{}class pm extends p0{constructor(e){super(),this.elements=e}}function TM(t,e){const n=PM(e);for(const s of t.elements)n.some(r=>sa(r,s))||n.push(s);return{arrayValue:{values:n}}}class gm extends p0{constructor(e){super(),this.elements=e}}function RM(t,e){let n=PM(e);for(const s of t.elements)n=n.filter(r=>!sa(r,s));return{arrayValue:{values:n}}}class qx extends p0{constructor(e,n){super(),this.serializer=e,this.Re=n}}function nP(t){return En(t.integerValue||t.doubleValue)}function PM(t){return b1(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e,n){this.field=e,this.transform=n}}function AQ(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof pm&&r instanceof pm||s instanceof gm&&r instanceof gm?Td(s.elements,r.elements,sa):s instanceof qx&&r instanceof qx?sa(s.Re,r.Re):s instanceof mm&&r instanceof mm}(t.transform,e.transform)}class DQ{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class g0{}function IM(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gm(t.key,Fn.none()):new qm(t.key,t.data,Fn.none());{const n=t.data,s=Ds.empty();let r=new zn(is.comparator);for(let a of e.fields)if(!r.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?s.delete(a):s.set(a,o),r=r.add(a)}return new Vl(t.key,s,new jr(r.toArray()),Fn.none())}}function MQ(t,e,n){t instanceof qm?function(r,a,o){const l=r.value.clone(),c=rP(r.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Vl?function(r,a,o){if(!Kg(r.precondition,a))return void a.convertToUnknownDocument(o.version);const l=rP(r.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(kM(r)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(r,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Sf(t,e,n,s){return t instanceof qm?function(a,o,l,c){if(!Kg(a.precondition,o))return l;const u=a.value.clone(),d=iP(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof Vl?function(a,o,l,c){if(!Kg(a.precondition,o))return l;const u=iP(a.fieldTransforms,c,o),d=o.data;return d.setAll(kM(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(a,o,l){return Kg(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function OQ(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),a=EM(s.transform,r||null);a!=null&&(n===null&&(n=Ds.empty()),n.set(s.field,a))}return n||null}function sP(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Td(s,r,(a,o)=>AQ(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qm extends g0{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Vl extends g0{constructor(e,n,s,r,a=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function kM(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function rP(t,e,n){const s=new Map;Et(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let r=0;r<n.length;r++){const a=t[r],o=a.transform,l=e.data.field(a.field);s.set(a.field,IQ(o,l,n[r]))}return s}function iP(t,e,n){const s=new Map;for(const r of t){const a=r.transform,o=n.data.field(r.field);s.set(r.field,PQ(a,o,e))}return s}class Gm extends g0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends g0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&MQ(a,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Sf(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Sf(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=CM();return this.mutations.forEach(r=>{const a=e.get(r.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=n.has(r.key)?null:l;const c=IM(o,l);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(Qe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&Td(this.mutations,e.mutations,(n,s)=>sP(n,s))&&Td(this.baseMutations,e.baseMutations,(n,s)=>sP(n,s))}}class S1{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){Et(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let r=function(){return CQ}();const a=e.mutations;for(let o=0;o<a.length;o++)r=r.insert(a[o].key,s[o].version);return new S1(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LQ=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,jt;function DM(t){switch(t){case J.OK:return ze(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return ze(15467,{code:t})}}function MM(t){if(t===void 0)return qa("GRPC error has no .code"),J.UNKNOWN;switch(t){case An.OK:return J.OK;case An.CANCELLED:return J.CANCELLED;case An.UNKNOWN:return J.UNKNOWN;case An.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case An.INTERNAL:return J.INTERNAL;case An.UNAVAILABLE:return J.UNAVAILABLE;case An.UNAUTHENTICATED:return J.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case An.NOT_FOUND:return J.NOT_FOUND;case An.ALREADY_EXISTS:return J.ALREADY_EXISTS;case An.PERMISSION_DENIED:return J.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case An.ABORTED:return J.ABORTED;case An.OUT_OF_RANGE:return J.OUT_OF_RANGE;case An.UNIMPLEMENTED:return J.UNIMPLEMENTED;case An.DATA_LOSS:return J.DATA_LOSS;default:return ze(39323,{code:t})}}(jt=An||(An={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=new hl([4294967295,4294967295],0);function aP(t){const e=tM().encode(t),n=new G4;return n.update(e),new Uint8Array(n.digest())}function oP(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new hl([n,s],0),new hl([r,a],0)]}class E1{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ef(`Invalid padding: ${n}`);if(s<0)throw new ef(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ef(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ef(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=hl.fromNumber(this.pe)}we(e,n,s){let r=e.add(n.multiply(hl.fromNumber(s)));return r.compare($Q)===1&&(r=new hl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=aP(e),[s,r]=oP(n);for(let a=0;a<this.hashCount;a++){const o=this.we(s,r,a);if(!this.be(o))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new E1(a,r,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=aP(e),[s,r]=oP(n);for(let a=0;a<this.hashCount;a++){const o=this.we(s,r,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ef extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,s,r,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Km.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new x0(Qe.min(),r,new pn(mt),Ga(),vt())}}class Km{constructor(e,n,s,r,a){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Km(s,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,s,r){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=r}}class OM{constructor(e,n){this.targetId=e,this.Ce=n}}class FM{constructor(e,n,s=ls.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class lP{constructor(){this.Fe=0,this.Me=cP(),this.xe=ls.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=vt(),n=vt(),s=vt();return this.Me.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ze(38017,{changeType:a})}}),new Km(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=cP()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Et(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class UQ{constructor(e){this.ze=e,this.je=new Map,this.He=Ga(),this.Je=ug(),this.Ye=ug(),this.Ze=new pn(mt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,r)=>{this.it(r)&&n(r)})}ot(e){const n=e.targetId,s=e.Ce.count,r=this._t(n);if(r){const a=r.target;if(IN(a))if(s===0){const o=new Be(a.path);this.tt(n,o,Qn.newNoDocument(o,Qe.min()))}else Et(s===1,20013,{expectedCount:s});else{const o=this.ut(n);if(o!==s){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:a=0}=n;let o,l;try{o=jl(s).toUint8Array()}catch(c){if(c instanceof iM)return Ed("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new E1(o,r,a)}catch(c){return Ed(c instanceof ef?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let r=0;return s.forEach(a=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),r++)}),r}It(e){const n=new Map;this.je.forEach((a,o)=>{const l=this._t(o);if(l){if(a.current&&IN(l.target)){const c=new Be(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,Qn.newNoDocument(c,e))}a.Le&&(n.set(o,a.qe()),a.Qe())}});let s=vt();this.Ye.forEach((a,o)=>{let l=!0;o.forEachWhile(c=>{const u=this._t(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(a))}),this.He.forEach((a,o)=>o.setReadTime(e));const r=new x0(e,n,this.Ze,this.He,s);return this.He=Ga(),this.Je=ug(),this.Ye=ug(),this.Ze=new pn(mt),r}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const r=this.rt(e);this.dt(e,n)?r.$e(n,1):r.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new lP,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new zn(mt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new zn(mt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Re("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lP),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function ug(){return new pn(Be.comparator)}function cP(){return new pn(Be.comparator)}const BQ={asc:"ASCENDING",desc:"DESCENDING"},zQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HQ={and:"AND",or:"OR"};class WQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function DN(t,e){return t.useProto3Json||Wm(e)?e:{value:e}}function Gx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qQ(t,e){return Gx(t,e.toTimestamp())}function Rr(t){return Et(!!t,49232),Qe.fromTimestamp(function(n){const s=_l(n);return new Nn(s.seconds,s.nanos)}(t))}function T1(t,e){return MN(t,e).canonicalString()}function MN(t,e){const n=function(r){return new zt(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VM(t){const e=zt.fromString(t);return Et(WM(e),10190,{key:e.toString()}),e}function Kx(t,e){return T1(t.databaseId,e.path)}function Ef(t,e){const n=VM(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(UM(n))}function $M(t,e){return T1(t.databaseId,e)}function GQ(t){const e=VM(t);return e.length===4?zt.emptyPath():UM(e)}function ON(t){return new zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function UM(t){return Et(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uP(t,e,n){return{name:Kx(t,e),fields:n.value.mapValue.fields}}function KQ(t,e){return"found"in e?function(s,r){Et(!!r.found,43571),r.found.name,r.found.updateTime;const a=Ef(s,r.found.name),o=Rr(r.found.updateTime),l=r.found.createTime?Rr(r.found.createTime):Qe.min(),c=new Ds({mapValue:{fields:r.found.fields}});return Qn.newFoundDocument(a,o,l,c)}(t,e):"missing"in e?function(s,r){Et(!!r.missing,3894),Et(!!r.readTime,22933);const a=Ef(s,r.missing),o=Rr(r.readTime);return Qn.newNoDocument(a,o)}(t,e):ze(7234,{result:e})}function QQ(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ze(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],a=function(u,d){return u.useProto3Json?(Et(d===void 0||typeof d=="string",58123),ls.fromBase64String(d||"")):(Et(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ls.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(u){const d=u.code===void 0?J.UNKNOWN:MM(u.code);return new Ne(d,u.message||"")}(o);n=new FM(s,r,a,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Ef(t,s.document.name),a=Rr(s.document.updateTime),o=s.document.createTime?Rr(s.document.createTime):Qe.min(),l=new Ds({mapValue:{fields:s.document.fields}}),c=Qn.newFoundDocument(r,a,o,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new Qg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Ef(t,s.document),a=s.readTime?Rr(s.readTime):Qe.min(),o=Qn.newNoDocument(r,a),l=s.removedTargetIds||[];n=new Qg([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Ef(t,s.document),a=s.removedTargetIds||[];n=new Qg([],a,r,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:a}=s,o=new VQ(r,a),l=s.targetId;n=new OM(l,o)}}return n}function BM(t,e){let n;if(e instanceof qm)n={update:uP(t,e.key,e.value)};else if(e instanceof Gm)n={delete:Kx(t,e.key)};else if(e instanceof Vl)n={update:uP(t,e.key,e.data),updateMask:rY(e.fieldMask)};else{if(!(e instanceof AM))return ze(16599,{ft:e.type});n={verify:Kx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(a,o){const l=o.transform;if(l instanceof mm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof gm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof qx)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw ze(20930,{transform:o.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,a){return a.updateTime!==void 0?{updateTime:qQ(r,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ze(27497)}(t,e.precondition)),n}function YQ(t,e){return t&&t.length>0?(Et(e!==void 0,14353),t.map(n=>function(r,a){let o=r.updateTime?Rr(r.updateTime):Rr(a);return o.isEqual(Qe.min())&&(o=Rr(a)),new DQ(o,r.transformResults||[])}(n,e))):[]}function XQ(t,e){return{documents:[$M(t,e.path)]}}function ZQ(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$M(t,r);const a=function(u){if(u.length!==0)return HM(Ni.create(u,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:vu(f.field),direction:tY(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=DN(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:r}}function JQ(t){let e=GQ(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){Et(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let a=[];n.where&&(a=function(h){const f=zM(h);return f instanceof Ni&&gM(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(v){return new fm(yu(v.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(n.orderBy));let l=null;n.limit&&(l=function(h){let f;return f=typeof h=="object"?h.value:h,Wm(f)?null:f}(n.limit));let c=null;n.startAt&&(c=function(h){const f=!!h.before,g=h.values||[];return new Wx(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,g=h.values||[];return new Wx(g,f)}(n.endAt)),wQ(e,r,o,a,l,"F",c,u)}function eY(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zM(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yu(n.unaryFilter.field);return On.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=yu(n.unaryFilter.field);return On.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=yu(n.unaryFilter.field);return On.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yu(n.unaryFilter.field);return On.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return On.create(yu(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(s=>zM(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(n.compositeFilter.op))}(t):ze(30097,{filter:t})}function tY(t){return BQ[t]}function nY(t){return zQ[t]}function sY(t){return HQ[t]}function vu(t){return{fieldPath:t.canonicalString()}}function yu(t){return is.fromServerFormat(t.fieldPath)}function HM(t){return t instanceof On?function(n){if(n.op==="=="){if(XR(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NAN"}};if(YR(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XR(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NAN"}};if(YR(n.value))return{unaryFilter:{field:vu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vu(n.field),op:nY(n.op),value:n.value}}}(t):t instanceof Ni?function(n){const s=n.getFilters().map(r=>HM(r));return s.length===1?s[0]:{compositeFilter:{op:sY(n.op),filters:s}}}(t):ze(54877,{filter:t})}function rY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function WM(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,s,r,a=Qe.min(),o=Qe.min(),l=ls.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Xo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.wt=e}}function aY(t){const e=JQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?AN(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(){this.Cn=new lY}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Nl.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Nl.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class lY{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new zn(zt.comparator),a=!r.has(s);return this.index[n]=r.add(s),a}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new zn(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qM=41943040;class Js{static withCacheSize(e){return new Js(e,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(qM,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Id(0)}static lr(){return new Id(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="LruGarbageCollector",cY=1048576;function fP([t,e],[n,s]){const r=mt(t,n);return r===0?mt(e,s):r}class uY{constructor(e){this.Er=e,this.buffer=new zn(fP),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();fP(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dY{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Re(hP,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){sh(n)?Re(hP,"Ignoring IndexedDB error during garbage collection: ",n):await nh(n)}await this.mr(3e5)})}}class hY{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(d0.le);const s=new uY(n);return this.gr.forEachTarget(e,r=>s.Rr(r.sequenceNumber)).next(()=>this.gr.yr(e,r=>s.Rr(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Re("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(dP)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Re("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dP):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,r,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,o=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(a=h,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(u=Date.now(),gu()<=xt.DEBUG&&Re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:h})))}}function fY(t,e){return new hY(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mY{constructor(){this.changes=new Xc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gY{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Sf(s.mutation,r,jr.empty(),Nn.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,vt()).next(()=>s))}getLocalViewOfDocuments(e,n,s=vt()){const r=rc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(a=>{let o=Jh();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=rc();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,vt()))}populateOverlays(e,n,s){const r=[];return s.forEach(a=>{n.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,r){let a=Ga();const o=Cf(),l=function(){return Cf()}();return n.forEach((c,u)=>{const d=s.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof Vl)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Sf(d.mutation,u,d.mutation.getFieldMask(),Nn.now())):o.set(u.key,jr.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return l.set(u,new pY(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),l))}recalculateAndSaveOverlays(e,n){const s=Cf();let r=new pn((o,l)=>o-l),a=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||jr.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(r.get(l.batchId)||vt()).add(c);r=r.insert(l.batchId,h)})}).next(()=>{const o=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=CM();d.forEach(f=>{if(!a.has(f)){const g=IM(n.get(f),s.get(f));g!==null&&h.set(f,g),a=a.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return re.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(o){return Be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(a=>{const o=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-a.size):re.resolve(rc());let l=cm,c=a;return o.next(u=>re.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),a.get(d)?re.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{c=c.insert(d,f)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,vt())).next(d=>({batchId:l,changes:jM(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(s=>{let r=Jh();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const a=n.collectionGroup;let o=Jh();return this.indexManager.getCollectionParents(e,a).next(l=>re.forEach(l,c=>{const u=function(h,f){return new Yc(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,s,r){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,a,r))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,Qn.newInvalidDocument(d)))});let l=Jh();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Sf(d.mutation,u,jr.empty(),Nn.now()),m0(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return re.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Rr(r.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(r){return{name:r.name,query:aY(r.bundledQuery),readTime:Rr(r.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vY{constructor(){this.overlays=new pn(Be.comparator),this.Qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=rc();return re.forEach(n,r=>this.getOverlay(e,r).next(a=>{a!==null&&s.set(r,a)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,a)=>{this.St(e,n,a)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.Qr.get(s);return r!==void 0&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const r=rc(),a=n.length+1,o=new Be(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>s&&r.set(c.getKey(),c)}return re.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let a=new pn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=a.get(u.largestBatchId);d===null&&(d=rc(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=rc(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=r)););return re.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.Qr.get(r.largestBatchId).delete(s.key);this.Qr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new LQ(n,s));let a=this.Qr.get(n);a===void 0&&(a=vt(),this.Qr.set(n,a)),this.Qr.set(n,a.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(){this.sessionToken=ls.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.$r=new zn(Gn.Ur),this.Kr=new zn(Gn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Gn(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Gn(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new Be(new zt([])),s=new Gn(n,e),r=new Gn(n,e+1),a=[];return this.Kr.forEachInRange([s,r],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Be(new zt([])),s=new Gn(n,e),r=new Gn(n,e+1);let a=vt();return this.Kr.forEachInRange([s,r],o=>{a=a.add(o.key)}),a}containsKey(e){const n=new Gn(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Gn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Be.comparator(e.key,n.key)||mt(e.Zr,n.Zr)}static Wr(e,n){return mt(e.Zr,n.Zr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new zn(Gn.Ur)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new FQ(a,n,s,r);this.mutationQueue.push(o);for(const l of r)this.Xr=this.Xr.add(new Gn(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return re.resolve(o)}lookupMutationBatch(e,n){return re.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ti(s),a=r<0?0:r;return re.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?y1:this.nr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Gn(n,0),r=new Gn(n,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([s,r],o=>{const l=this.ei(o.Zr);a.push(l)}),re.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new zn(mt);return n.forEach(r=>{const a=new Gn(r,0),o=new Gn(r,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],l=>{s=s.add(l.Zr)})}),re.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let a=s;Be.isDocumentKey(a)||(a=a.child(""));const o=new Gn(new Be(a),0);let l=new zn(mt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Zr)),!0)},o),re.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(s=>{const r=this.ei(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Et(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return re.forEach(n.mutations,r=>{const a=new Gn(r.key,n.batchId);return s=s.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Gn(n,0),r=this.Xr.firstAfterOrEqual(s);return re.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bY{constructor(e){this.ii=e,this.docs=function(){return new pn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),a=r?r.size:0,o=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():Qn.newInvalidDocument(n))}getEntries(e,n){let s=Ga();return n.forEach(r=>{const a=this.docs.get(r);s=s.insert(r,a?a.document.mutableCopy():Qn.newInvalidDocument(r))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let a=Ga();const o=n.path,l=new Be(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JK(ZK(d),s)<=0||(r.has(d.key)||m0(n,d))&&(a=a.insert(d.key,d.mutableCopy()))}return re.resolve(a)}getAllFromCollectionGroup(e,n,s,r){ze(9500)}si(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new NY(this)}getSize(e){return re.resolve(this.size)}}class NY extends mY{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Br.addEntry(e,r)):this.Br.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(e){this.persistence=e,this.oi=new Xc(n=>N1(n),_1),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this._i=0,this.ai=new R1,this.targetCount=0,this.ui=Id.cr()}forEachTarget(e,n){return this.oi.forEach((s,r)=>n(r)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),re.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Id(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Tr(n),re.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let r=0;const a=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),re.waitFor(a).next(()=>r)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const r=this.persistence.referenceDelegate,a=[];return r&&n.forEach(o=>{a.push(r.markPotentiallyOrphaned(e,o))}),re.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GM{constructor(e,n){this.ci={},this.overlays={},this.li=new d0(0),this.hi=!1,this.hi=!0,this.Pi=new yY,this.referenceDelegate=e(this),this.Ti=new _Y(this),this.indexManager=new oY,this.remoteDocumentCache=function(r){return new bY(r)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new iY(n),this.Ei=new xY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new wY(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){Re("MemoryPersistence","Starting transaction:",e);const r=new jY(this.li.next());return this.referenceDelegate.di(),s(r).next(a=>this.referenceDelegate.Ai(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ri(e,n){return re.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class jY extends tQ{constructor(e){super(),this.currentSequenceNumber=e}}class P1{constructor(e){this.persistence=e,this.Vi=new R1,this.mi=null}static fi(e){return new P1(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(r=>this.gi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(a=>this.gi.add(a.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.gi,s=>{const r=Be.fromPath(s);return this.pi(e,r).next(a=>{a||n.removeEntry(r,Qe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return re.or([()=>re.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Qx{constructor(e,n){this.persistence=e,this.yi=new Xc(s=>rQ(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=fY(this,n)}static fi(e,n){return new Qx(e,n)}di(){}Ai(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return re.forEach(this.yi,(s,r)=>this.Dr(e,s,r).next(a=>a?re.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),a=r.newChangeBuffer();return r.si(e,o=>this.Dr(e,o,n).next(l=>{l||(s++,a.removeEntry(o,Qe.min()))})).next(()=>a.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),re.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qg(e.data.value)),n}Dr(e,n,s){return re.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.yi.get(n);return re.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.ds=s,this.As=r}static Rs(e,n){let s=vt(),r=vt();for(const a of n.docChanges)switch(a.type){case 0:s=s.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new I1(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tW()?8:nQ(Cs())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,r){const a={result:null};return this.ws(e,n).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.bs(e,n,r,s).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new CY;return this.Ss(e,n,o).next(l=>{if(a.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>a.result)}Ds(e,n,s,r){return s.documentReadCount<this.gs?(gu()<=xt.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",xu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),re.resolve()):(gu()<=xt.DEBUG&&Re("QueryEngine","Query:",xu(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.ps*r?(gu()<=xt.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",xu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):re.resolve())}ws(e,n){if(tP(n))return re.resolve(null);let s=Yi(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=AN(n,null,"F"),s=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(a=>{const o=vt(...a);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.vs(n,l);return this.Cs(n,u,o,c.readTime)?this.ws(e,AN(n,null,"F")):this.Fs(e,u,n,c)}))})))}bs(e,n,s,r){return tP(n)||r.isEqual(Qe.min())?re.resolve(null):this.ys.getDocuments(e,s).next(a=>{const o=this.vs(n,a);return this.Cs(n,o,s,r)?re.resolve(null):(gu()<=xt.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xu(n)),this.Fs(e,o,n,XK(r,cm)).next(l=>l))})}vs(e,n){let s=new zn(NM(e));return n.forEach((r,a)=>{m0(e,a)&&(s=s.add(a))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ss(e,n,s){return gu()<=xt.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",xu(n)),this.ys.getDocumentsMatchingQuery(e,n,Nl.min(),s)}Fs(e,n,s,r){return this.ys.getDocumentsMatchingQuery(e,s,r).next(a=>(n.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="LocalStore",EY=3e8;class TY{constructor(e,n,s,r){this.persistence=e,this.Ms=n,this.serializer=r,this.xs=new pn(mt),this.Os=new Xc(a=>N1(a),_1),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gY(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function RY(t,e,n,s){return new TY(t,e,n,s)}async function KM(t,e){const n=et(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(a=>(r=a,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(a=>{const o=[],l=[];let c=vt();for(const u of r){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function PY(t,e){const n=et(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),a=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,f=h.keys();let g=re.resolve();return f.forEach(v=>{g=g.next(()=>d.getEntry(c,v)).next(x=>{const w=u.docVersions.get(v);Et(w!==null,48541),x.version.compareTo(w)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,s,e,a).next(()=>a.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=vt();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function QM(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function IY(t,e){const n=et(t),s=e.snapshotVersion;let r=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});r=n.xs;const l=[];e.targetChanges.forEach((d,h)=>{const f=r.get(h);if(!f)return;l.push(n.Ti.removeMatchingKeys(a,d.removedDocuments,h).next(()=>n.Ti.addMatchingKeys(a,d.addedDocuments,h)));let g=f.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(ls.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(h,g),function(x,w,y){return x.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=EY?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(f,g,d)&&l.push(n.Ti.updateTargetData(a,g))});let c=Ga(),u=vt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,d))}),l.push(kY(a,o,e.documentUpdates).next(d=>{c=d.qs,u=d.Qs})),!s.isEqual(Qe.min())){const d=n.Ti.getLastRemoteSnapshotVersion(a).next(h=>n.Ti.setTargetsMetadata(a,a.currentSequenceNumber,s));l.push(d)}return re.waitFor(l).next(()=>o.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,c,u)).next(()=>c)}).then(a=>(n.xs=r,a))}function kY(t,e,n){let s=vt(),r=vt();return n.forEach(a=>s=s.add(a)),e.getEntries(t,s).next(a=>{let o=Ga();return n.forEach((l,c)=>{const u=a.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):Re(k1,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{qs:o,Qs:r}})}function AY(t,e){const n=et(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=y1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function DY(t,e){const n=et(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Ti.getTargetData(s,e).next(a=>a?(r=a,re.resolve(r)):n.Ti.allocateTargetId(s).next(o=>(r=new Xo(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.xs.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function FN(t,e,n){const s=et(t),r=s.xs.get(e),a=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",a,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!sh(o))throw o;Re(k1,`Failed to update sequence numbers for target ${e}: ${o}`)}s.xs=s.xs.remove(e),s.Os.delete(r.target)}function mP(t,e,n){const s=et(t);let r=Qe.min(),a=vt();return s.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const h=et(c),f=h.Os.get(d);return f!==void 0?re.resolve(h.xs.get(f)):h.Ti.getTargetData(u,d)}(s,o,Yi(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{a=c})}).next(()=>s.Ms.getDocumentsMatchingQuery(o,e,n?r:Qe.min(),n?a:vt())).next(l=>(MY(s,NQ(e),l),{documents:l,$s:a})))}function MY(t,e,n){let s=t.Ns.get(e)||Qe.min();n.forEach((r,a)=>{a.readTime.compareTo(s)>0&&(s=a.readTime)}),t.Ns.set(e,s)}class pP{constructor(){this.activeTargetIds=TQ()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OY{constructor(){this.xo=new pP,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new pP,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="ConnectivityMonitor";class xP{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Re(gP,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Re(gP,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg=null;function LN(){return dg===null?dg=function(){return 268435456+Math.round(2147483648*Math.random())}():dg++,"0x"+dg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="RestConnection",LY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VY{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${r}`,this.Go=this.databaseId.database===zx?`project_id=${s}`:`project_id=${s}&database_id=${r}`}zo(e,n,s,r,a){const o=LN(),l=this.jo(e,n.toUriEncodedString());Re(dw,`Sending RPC '${e}' ${o}:`,l,s);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,r,a);const{host:u}=new URL(l),d=Ol(u);return this.Jo(e,l,c,s,d).then(h=>(Re(dw,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Ed(dw,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",s),h})}Yo(e,n,s,r,a,o){return this.zo(e,n,s,r,a)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+th}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,a)=>e[a]=r),s&&s.headers.forEach((r,a)=>e[a]=r)}jo(e,n){const s=LY[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="WebChannelConnection";class UY extends VY{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,a){const o=LN();return new Promise((l,c)=>{const u=new K4;u.setWithCredentials(!0),u.listenOnce(Q4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Wg.NO_ERROR:const h=u.getResponseJson();Re(gs,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),l(h);break;case Wg.TIMEOUT:Re(gs,`RPC '${e}' ${o} timed out`),c(new Ne(J.DEADLINE_EXCEEDED,"Request time out"));break;case Wg.HTTP_ERROR:const f=u.getStatus();if(Re(gs,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const x=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(b)>=0?b:J.UNKNOWN}(v.status);c(new Ne(x,v.message))}else c(new Ne(J.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Ne(J.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Re(gs,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(r);Re(gs,`RPC '${e}' ${o} sending request:`,r),u.send(n,"POST",d,s,15)})}I_(e,n,s){const r=LN(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Z4(),l=X4(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=a.join("");Re(gs,`Creating RPC '${e}' stream ${r}: ${d}`,c);const h=o.createWebChannel(d,c);this.E_(h);let f=!1,g=!1;const v=new $Y({Zo:w=>{g?Re(gs,`Not sending because RPC '${e}' stream ${r} is closed:`,w):(f||(Re(gs,`Opening RPC '${e}' stream ${r} transport.`),h.open(),f=!0),Re(gs,`RPC '${e}' stream ${r} sending:`,w),h.send(w))},Xo:()=>h.close()}),x=(w,y,b)=>{w.listen(y,N=>{try{b(N)}catch(E){setTimeout(()=>{throw E},0)}})};return x(h,Zh.EventType.OPEN,()=>{g||(Re(gs,`RPC '${e}' stream ${r} transport opened.`),v.__())}),x(h,Zh.EventType.CLOSE,()=>{g||(g=!0,Re(gs,`RPC '${e}' stream ${r} transport closed`),v.u_(),this.d_(h))}),x(h,Zh.EventType.ERROR,w=>{g||(g=!0,Ed(gs,`RPC '${e}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),v.u_(new Ne(J.UNAVAILABLE,"The operation could not be completed")))}),x(h,Zh.EventType.MESSAGE,w=>{var y;if(!g){const b=w.data[0];Et(!!b,16349);const N=b,E=(N==null?void 0:N.error)||((y=N[0])===null||y===void 0?void 0:y.error);if(E){Re(gs,`RPC '${e}' stream ${r} received error:`,E);const I=E.status;let A=function(S){const T=An[S];if(T!==void 0)return MM(T)}(I),C=E.message;A===void 0&&(A=J.INTERNAL,C="Unknown error status: "+I+" with message "+E.message),g=!0,v.u_(new Ne(A,C)),h.close()}else Re(gs,`RPC '${e}' stream ${r} received:`,b),v.c_(b)}}),x(l,Y4.STAT_EVENT,w=>{w.stat===SN.PROXY?Re(gs,`RPC '${e}' stream ${r} detected buffering proxy`):w.stat===SN.NOPROXY&&Re(gs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.a_()},0),v}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function hw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t){return new WQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,s=1e3,r=1.5,a=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=r,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),r=Math.max(0,n-s);r>0&&Re("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,r,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="PersistentStream";class YM{constructor(e,n,s,r,a,o,l,c){this.xi=e,this.S_=s,this.D_=r,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new A1(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(qa(n.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.v_===n&&this.z_(s,r)},s=>{e(()=>{const r=new Ne(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(r)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(r=>{s(()=>this.j_(r))}),this.stream.onMessage(r=>{s(()=>++this.M_==1?this.J_(r):this.onNext(r))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Re(vP,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(Re(vP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BY extends YM{constructor(e,n,s,r,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=QQ(this.serializer,e),s=function(a){if(!("targetChange"in a))return Qe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?Qe.min():o.readTime?Rr(o.readTime):Qe.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=ON(this.serializer),n.addTarget=function(a,o){let l;const c=o.target;if(l=IN(c)?{documents:XQ(a,c)}:{query:ZQ(a,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=LM(a,o.resumeToken);const u=DN(a,o.expectedCount);u!==null&&(l.expectedCount=u)}else if(o.snapshotVersion.compareTo(Qe.min())>0){l.readTime=Gx(a,o.snapshotVersion.toTimestamp());const u=DN(a,o.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=eY(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=ON(this.serializer),n.removeTarget=e,this.Q_(n)}}class zY extends YM{constructor(e,n,s,r,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Et(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Et(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Et(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=YQ(e.writeResults,e.commitTime),s=Rr(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=ON(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>BM(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{}class WY extends HY{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.sa=!1}oa(){if(this.sa)throw new Ne(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,r){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,MN(n,s),r,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(J.UNKNOWN,a.toString())})}Yo(e,n,s,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,MN(n,s),r,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(J.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class qY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(qa(n),this.ua=!1):Re("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="RemoteStore";class GY{constructor(e,n,s,r,a){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(o=>{s.enqueueAndForget(async()=>{Zc(this)&&(Re(Tc,"Restarting streams for network reachability change."),await async function(c){const u=et(c);u.da.add(4),await Qm(u),u.Va.set("Unknown"),u.da.delete(4),await y0(u)}(this))})}),this.Va=new qY(s,r)}}async function y0(t){if(Zc(t))for(const e of t.Aa)await e(!0)}async function Qm(t){for(const e of t.Aa)await e(!1)}function XM(t,e){const n=et(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),F1(n)?O1(n):rh(n).N_()&&M1(n,e))}function D1(t,e){const n=et(t),s=rh(n);n.Ea.delete(e),s.N_()&&ZM(n,e),n.Ea.size===0&&(s.N_()?s.k_():Zc(n)&&n.Va.set("Unknown"))}function M1(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rh(t).Z_(e)}function ZM(t,e){t.ma.Ke(e),rh(t).X_(e)}function O1(t){t.ma=new UQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),rh(t).start(),t.Va.ca()}function F1(t){return Zc(t)&&!rh(t).O_()&&t.Ea.size>0}function Zc(t){return et(t).da.size===0}function JM(t){t.ma=void 0}async function KY(t){t.Va.set("Online")}async function QY(t){t.Ea.forEach((e,n)=>{M1(t,e)})}async function YY(t,e){JM(t),F1(t)?(t.Va.Pa(e),O1(t)):t.Va.set("Unknown")}async function XY(t,e,n){if(t.Va.set("Online"),e instanceof FM&&e.state===2&&e.cause)try{await async function(r,a){const o=a.cause;for(const l of a.targetIds)r.Ea.has(l)&&(await r.remoteSyncer.rejectListen(l,o),r.Ea.delete(l),r.ma.removeTarget(l))}(t,e)}catch(s){Re(Tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Yx(t,s)}else if(e instanceof Qg?t.ma.Xe(e):e instanceof OM?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Qe.min()))try{const s=await QM(t.localStore);n.compareTo(s)>=0&&await function(a,o){const l=a.ma.It(o);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=a.Ea.get(u);d&&a.Ea.set(u,d.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,u)=>{const d=a.Ea.get(c);if(!d)return;a.Ea.set(c,d.withResumeToken(ls.EMPTY_BYTE_STRING,d.snapshotVersion)),ZM(a,c);const h=new Xo(d.target,c,u,d.sequenceNumber);M1(a,h)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){Re(Tc,"Failed to raise snapshot:",s),await Yx(t,s)}}async function Yx(t,e,n){if(!sh(e))throw e;t.da.add(1),await Qm(t),t.Va.set("Offline"),n||(n=()=>QM(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Re(Tc,"Retrying IndexedDB access"),await n(),t.da.delete(1),await y0(t)})}function eO(t,e){return e().catch(n=>Yx(t,n,e))}async function w0(t){const e=et(t),n=Sl(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:y1;for(;ZY(e);)try{const r=await AY(e.localStore,s);if(r===null){e.Ia.length===0&&n.k_();break}s=r.batchId,JY(e,r)}catch(r){await Yx(e,r)}tO(e)&&nO(e)}function ZY(t){return Zc(t)&&t.Ia.length<10}function JY(t,e){t.Ia.push(e);const n=Sl(t);n.N_()&&n.ea&&n.ta(e.mutations)}function tO(t){return Zc(t)&&!Sl(t).O_()&&t.Ia.length>0}function nO(t){Sl(t).start()}async function eX(t){Sl(t).ia()}async function tX(t){const e=Sl(t);for(const n of t.Ia)e.ta(n.mutations)}async function nX(t,e,n){const s=t.Ia.shift(),r=S1.from(s,e,n);await eO(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await w0(t)}async function sX(t,e){e&&Sl(t).ea&&await async function(s,r){if(function(o){return DM(o)&&o!==J.ABORTED}(r.code)){const a=s.Ia.shift();Sl(s).L_(),await eO(s,()=>s.remoteSyncer.rejectFailedWrite(a.batchId,r)),await w0(s)}}(t,e),tO(t)&&nO(t)}async function yP(t,e){const n=et(t);n.asyncQueue.verifyOperationInProgress(),Re(Tc,"RemoteStore received new credentials");const s=Zc(n);n.da.add(3),await Qm(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await y0(n)}async function rX(t,e){const n=et(t);e?(n.da.delete(2),await y0(n)):e||(n.da.add(2),await Qm(n),n.Va.set("Unknown"))}function rh(t){return t.fa||(t.fa=function(n,s,r){const a=et(n);return a.oa(),new BY(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{e_:KY.bind(null,t),n_:QY.bind(null,t),i_:YY.bind(null,t),Y_:XY.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),F1(t)?O1(t):t.Va.set("Unknown")):(await t.fa.stop(),JM(t))})),t.fa}function Sl(t){return t.ga||(t.ga=function(n,s,r){const a=et(n);return a.oa(),new zY(s,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,r)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:eX.bind(null,t),i_:sX.bind(null,t),na:tX.bind(null,t),ra:nX.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await w0(t)):(await t.ga.stop(),t.Ia.length>0&&(Re(Tc,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const o=Date.now()+s,l=new L1(e,n,o,r,a);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V1(t,e){if(qa("AsyncQueue",`${e}: ${t}`),sh(t))return new Ne(J.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{static emptySet(e){return new Yu(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Be.comparator(n.key,s.key):(n,s)=>Be.comparator(n.key,s.key),this.keyedMap=Jh(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,a=s.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Yu;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.pa=new pn(Be.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):ze(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class kd{constructor(e,n,s,r,a,o,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,a){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new kd(e,n,Yu.emptySet(n),o,s,r,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&f0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class aX{constructor(){this.queries=bP(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=et(n),a=r.queries;r.queries=bP(),a.forEach((o,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new Ne(J.ABORTED,"Firestore shutting down"))}}function bP(){return new Xc(t=>bM(t),f0)}async function sO(t,e){const n=et(t);let s=3;const r=e.query;let a=n.queries.get(r);a?!a.Da()&&e.va()&&(s=2):(a=new iX,s=e.va()?0:1);try{switch(s){case 0:a.ba=await n.onListen(r,!0);break;case 1:a.ba=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const l=V1(o,`Initialization of query '${xu(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,a),a.Sa.push(e),e.Fa(n.onlineState),a.ba&&e.Ma(a.ba)&&$1(n)}async function rO(t,e){const n=et(t),s=e.query;let r=3;const a=n.queries.get(s);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?r=e.va()?0:1:!a.Da()&&e.va()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oX(t,e){const n=et(t);let s=!1;for(const r of e){const a=r.query,o=n.queries.get(a);if(o){for(const l of o.Sa)l.Ma(r)&&(s=!0);o.ba=r}}s&&$1(n)}function lX(t,e,n){const s=et(t),r=s.queries.get(e);if(r)for(const a of r.Sa)a.onError(n);s.queries.delete(e)}function $1(t){t.Ca.forEach(e=>{e.next()})}var VN,NP;(NP=VN||(VN={})).xa="default",NP.Cache="cache";class iO{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new kd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=kd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==VN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.key=e}}class oO{constructor(e){this.key=e}}class cX{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=vt(),this.mutatedKeys=vt(),this.Za=NM(e),this.Xa=new Yu(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new wP,r=n?n.Xa:this.Xa;let a=n?n.mutatedKeys:this.mutatedKeys,o=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const f=r.get(d),g=m0(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;f&&g?f.data.isEqual(g.data)?v!==x&&(s.track({type:3,doc:g}),w=!0):this.ru(f,g)||(s.track({type:2,doc:g}),w=!0,(c&&this.Za(g,c)>0||u&&this.Za(g,u)<0)&&(l=!0)):!f&&g?(s.track({type:0,doc:g}),w=!0):f&&!g&&(s.track({type:1,doc:f}),w=!0,(c||u)&&(l=!0)),w&&(g?(o=o.add(g),a=x?a.add(d):a.delete(d)):(o=o.delete(d),a=a.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),a=a.delete(d.key),s.track({type:1,doc:d})}return{Xa:o,nu:s,Cs:l,mutatedKeys:a}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((d,h)=>function(g,v){const x=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:w})}};return x(g)-x(v)}(d.type,h.type)||this.Za(d.doc,h.doc)),this.iu(s),r=r!=null&&r;const l=n&&!r?this.su():[],c=this.Ya.size===0&&this.current&&!r?1:0,u=c!==this.Ja;return this.Ja=c,o.length!==0||u?{snapshot:new kd(this.query,e.Xa,a,o,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new wP,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=vt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new oO(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new aO(s))}),n}au(e){this.Ha=e.$s,this.Ya=vt();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return kd.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const U1="SyncEngine";class uX{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dX{constructor(e){this.key=e,this.cu=!1}}class hX{constructor(e,n,s,r,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new Xc(l=>bM(l),f0),this.Pu=new Map,this.Tu=new Set,this.Iu=new pn(Be.comparator),this.Eu=new Map,this.du=new R1,this.Au={},this.Ru=new Map,this.Vu=Id.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function fX(t,e,n=!0){const s=fO(t);let r;const a=s.hu.get(e);return a?(s.sharedClientState.addLocalQueryTarget(a.targetId),r=a.view.uu()):r=await lO(s,e,n,!0),r}async function mX(t,e){const n=fO(t);await lO(n,e,!0,!1)}async function lO(t,e,n,s){const r=await DY(t.localStore,Yi(e)),a=r.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let l;return s&&(l=await pX(t,e,a,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&XM(t.remoteStore,r),l}async function pX(t,e,n,s,r){t.fu=(h,f,g)=>async function(x,w,y,b){let N=w.view.tu(y);N.Cs&&(N=await mP(x.localStore,w.query,!1).then(({documents:C})=>w.view.tu(C,N)));const E=b&&b.targetChanges.get(w.targetId),I=b&&b.targetMismatches.get(w.targetId)!=null,A=w.view.applyChanges(N,x.isPrimaryClient,E,I);return jP(x,w.targetId,A.ou),A.snapshot}(t,h,f,g);const a=await mP(t.localStore,e,!0),o=new cX(e,a.$s),l=o.tu(a.documents),c=Km.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=o.applyChanges(l,t.isPrimaryClient,c);jP(t,n,u.ou);const d=new uX(e,n,o);return t.hu.set(e,d),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),u.snapshot}async function gX(t,e,n){const s=et(t),r=s.hu.get(e),a=s.Pu.get(r.targetId);if(a.length>1)return s.Pu.set(r.targetId,a.filter(o=>!f0(o,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await FN(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&D1(s.remoteStore,r.targetId),$N(s,r.targetId)}).catch(nh)):($N(s,r.targetId),await FN(s.localStore,r.targetId,!0))}async function xX(t,e){const n=et(t),s=n.hu.get(e),r=n.Pu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),D1(n.remoteStore,s.targetId))}async function vX(t,e,n){const s=CX(t);try{const r=await function(o,l){const c=et(o),u=Nn.now(),d=l.reduce((g,v)=>g.add(v.key),vt());let h,f;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let v=Ga(),x=vt();return c.Bs.getEntries(g,d).next(w=>{v=w,v.forEach((y,b)=>{b.isValidDocument()||(x=x.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,v)).next(w=>{h=w;const y=[];for(const b of l){const N=OQ(b,h.get(b.key).overlayedDocument);N!=null&&y.push(new Vl(b.key,N,fM(N.value.mapValue),Fn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,y,l)}).next(w=>{f=w;const y=w.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(g,w.batchId,y)})}).then(()=>({batchId:f.batchId,changes:jM(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(o,l,c){let u=o.Au[o.currentUser.toKey()];u||(u=new pn(mt)),u=u.insert(l,c),o.Au[o.currentUser.toKey()]=u}(s,r.batchId,n),await Ym(s,r.changes),await w0(s.remoteStore)}catch(r){const a=V1(r,"Failed to persist write");n.reject(a)}}async function cO(t,e){const n=et(t);try{const s=await IY(n.localStore,e);e.targetChanges.forEach((r,a)=>{const o=n.Eu.get(a);o&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?o.cu=!0:r.modifiedDocuments.size>0?Et(o.cu,14607):r.removedDocuments.size>0&&(Et(o.cu,42227),o.cu=!1))}),await Ym(n,s,e)}catch(s){await nh(s)}}function _P(t,e,n){const s=et(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.hu.forEach((a,o)=>{const l=o.view.Fa(e);l.snapshot&&r.push(l.snapshot)}),function(o,l){const c=et(o);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const f of h.Sa)f.Fa(l)&&(u=!0)}),u&&$1(c)}(s.eventManager,e),r.length&&s.lu.Y_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function yX(t,e,n){const s=et(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Eu.get(e),a=r&&r.key;if(a){let o=new pn(Be.comparator);o=o.insert(a,Qn.newNoDocument(a,Qe.min()));const l=vt().add(a),c=new x0(Qe.min(),new Map,new pn(mt),o,l);await cO(s,c),s.Iu=s.Iu.remove(a),s.Eu.delete(e),B1(s)}else await FN(s.localStore,e,!1).then(()=>$N(s,e,n)).catch(nh)}async function wX(t,e){const n=et(t),s=e.batch.batchId;try{const r=await PY(n.localStore,e);dO(n,s,null),uO(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ym(n,r)}catch(r){await nh(r)}}async function bX(t,e,n){const s=et(t);try{const r=await function(o,l){const c=et(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(Et(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);dO(s,e,n),uO(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ym(s,r)}catch(r){await nh(r)}}function uO(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function dO(t,e,n){const s=et(t);let r=s.Au[s.currentUser.toKey()];if(r){const a=r.get(e);a&&(n?a.reject(n):a.resolve(),r=r.remove(e)),s.Au[s.currentUser.toKey()]=r}}function $N(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Pu.get(e))t.hu.delete(s),n&&t.lu.gu(s,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(s=>{t.du.containsKey(s)||hO(t,s)})}function hO(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(D1(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),B1(t))}function jP(t,e,n){for(const s of n)s instanceof aO?(t.du.addReference(s.key,e),NX(t,s)):s instanceof oO?(Re(U1,"Document no longer in limbo: "+s.key),t.du.removeReference(s.key,e),t.du.containsKey(s.key)||hO(t,s.key)):ze(19791,{pu:s})}function NX(t,e){const n=e.key,s=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(s)||(Re(U1,"New document in limbo: "+n),t.Tu.add(s),B1(t))}function B1(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Be(zt.fromString(e)),s=t.Vu.next();t.Eu.set(s,new dX(n)),t.Iu=t.Iu.insert(n,s),XM(t.remoteStore,new Xo(Yi(j1(n.path)),s,"TargetPurposeLimboResolution",d0.le))}}async function Ym(t,e,n){const s=et(t),r=[],a=[],o=[];s.hu.isEmpty()||(s.hu.forEach((l,c)=>{o.push(s.fu(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){r.push(u);const h=I1.Rs(c.targetId,u);a.push(h)}}))}),await Promise.all(o),s.lu.Y_(r),await async function(c,u){const d=et(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>re.forEach(u,f=>re.forEach(f.ds,g=>d.persistence.referenceDelegate.addReference(h,f.targetId,g)).next(()=>re.forEach(f.As,g=>d.persistence.referenceDelegate.removeReference(h,f.targetId,g)))))}catch(h){if(!sh(h))throw h;Re(k1,"Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const g=d.xs.get(f),v=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(v);d.xs=d.xs.insert(f,x)}}}(s.localStore,a))}async function _X(t,e){const n=et(t);if(!n.currentUser.isEqual(e)){Re(U1,"User change. New user:",e.toKey());const s=await KM(n.localStore,e);n.currentUser=e,function(a,o){a.Ru.forEach(l=>{l.forEach(c=>{c.reject(new Ne(J.CANCELLED,o))})}),a.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ym(n,s.ks)}}function jX(t,e){const n=et(t),s=n.Eu.get(e);if(s&&s.cu)return vt().add(s.key);{let r=vt();const a=n.Pu.get(e);if(!a)return r;for(const o of a){const l=n.hu.get(o);r=r.unionWith(l.view.eu)}return r}}function fO(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yX.bind(null,e),e.lu.Y_=oX.bind(null,e.eventManager),e.lu.gu=lX.bind(null,e.eventManager),e}function CX(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bX.bind(null,e),e}class Xx{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=v0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return RY(this.persistence,new SY,e.initialUser,this.serializer)}Su(e){return new GM(P1.fi,this.serializer)}bu(e){return new OY}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xx.provider={build:()=>new Xx};class SX extends Xx{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Et(this.persistence.referenceDelegate instanceof Qx,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dY(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new GM(s=>Qx.fi(s,n),this.serializer)}}class UN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>_P(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_X.bind(null,this.syncEngine),await rX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aX}()}createDatastore(e){const n=v0(e.databaseInfo.databaseId),s=function(a){return new UY(a)}(e.databaseInfo);return function(a,o,l,c){return new WY(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,a,o,l){return new GY(s,r,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>_P(this.syncEngine,n,0),function(){return xP.C()?new xP:new FY}())}createSyncEngine(e,n){return function(r,a,o,l,c,u,d){const h=new hX(r,a,o,l,c,u);return d&&(h.mu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const a=et(r);Re(Tc,"RemoteStore shutting down."),a.da.add(5),await Qm(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}UN.provider={build:()=>new UN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ne(J.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(r,a){const o=et(r),l={documents:a.map(h=>Kx(o.serializer,h))},c=await o.Yo("BatchGetDocuments",o.serializer.databaseId,zt.emptyPath(),l,a.length),u=new Map;c.forEach(h=>{const f=KQ(o.serializer,h);u.set(f.key.toString(),f)});const d=[];return a.forEach(h=>{const f=u.get(h.toString());Et(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(s=>this.recordVersion(s)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Gm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,s)=>{const r=Be.fromPath(s);this.mutations.push(new AM(r,this.precondition(r)))}),await async function(s,r){const a=et(s),o={writes:r.map(l=>BM(a.serializer,l))};await a.zo("Commit",a.serializer.databaseId,zt.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ze(50498,{Uu:e.constructor.name});n=Qe.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!n.isEqual(s))throw new Ne(J.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Qe.min())?Fn.exists(!1):Fn.updateTime(n):Fn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Qe.min()))throw new Ne(J.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fn.updateTime(n)}return Fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,n,s,r,a){this.asyncQueue=e,this.datastore=n,this.options=s,this.updateFunction=r,this.deferred=a,this.Ku=s.maxAttempts,this.x_=new A1(this.asyncQueue,"transaction_retry")}Wu(){this.Ku-=1,this.Gu()}Gu(){this.x_.y_(async()=>{const e=new EX(this.datastore),n=this.zu(e);n&&n.then(s=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(s)}).catch(r=>{this.ju(r)}))}).catch(s=>{this.ju(s)})})}zu(e){try{const n=this.updateFunction(e);return!Wm(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ju(e){this.Ku>0&&this.Hu(e)?(this.Ku-=1,this.asyncQueue.enqueueAndForget(()=>(this.Gu(),Promise.resolve()))):this.deferred.reject(e)}Hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!DM(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El="FirestoreClient";class RX{constructor(e,n,s,r,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=ys.UNAUTHENTICATED,this.clientId=nM.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(s,async o=>{Re(El,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(Re(El,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=V1(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fw(t,e){t.asyncQueue.verifyOperationInProgress(),Re(El,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await KM(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function CP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PX(t);Re(El,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>yP(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>yP(e.remoteStore,r)),t._onlineComponents=e}async function PX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Re(El,"Using user provided OfflineComponentProvider");try{await fw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===J.FAILED_PRECONDITION||r.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ed("Error using user provided cache. Falling back to memory cache: "+n),await fw(t,new Xx)}}else Re(El,"Using default OfflineComponentProvider"),await fw(t,new SX(void 0));return t._offlineComponents}async function z1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Re(El,"Using user provided OnlineComponentProvider"),await CP(t,t._uninitializedComponentsProvider._online)):(Re(El,"Using default OnlineComponentProvider"),await CP(t,new UN))),t._onlineComponents}function IX(t){return z1(t).then(e=>e.syncEngine)}function kX(t){return z1(t).then(e=>e.datastore)}async function pO(t){const e=await z1(t),n=e.eventManager;return n.onListen=fX.bind(null,e.syncEngine),n.onUnlisten=gX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xX.bind(null,e.syncEngine),n}function AX(t,e,n={}){const s=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new mO({next:f=>{d.xu(),o.enqueueAndForget(()=>rO(a,h));const g=f.docs.has(l);!g&&f.fromCache?u.reject(new Ne(J.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&c&&c.source==="server"?u.reject(new Ne(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new iO(j1(l.path),d,{includeMetadataChanges:!0,Qa:!0});return sO(a,h)}(await pO(t),t.asyncQueue,e,n,s)),s.promise}function DX(t,e,n={}){const s=new Qi;return t.asyncQueue.enqueueAndForget(async()=>function(a,o,l,c,u){const d=new mO({next:f=>{d.xu(),o.enqueueAndForget(()=>rO(a,h)),f.fromCache&&c.source==="server"?u.reject(new Ne(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new iO(l,d,{includeMetadataChanges:!0,Qa:!0});return sO(a,h)}(await pO(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1(t,e,n){if(!n)throw new Ne(J.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MX(t,e,n,s){if(e===!0&&s===!0)throw new Ne(J.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EP(t){if(!Be.isDocumentKey(t))throw new Ne(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TP(t){if(Be.isDocumentKey(t))throw new Ne(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function b0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ze(12329,{type:typeof t})}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=b0(t);throw new Ne(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO="firestore.googleapis.com",RP=!0;class PP{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xO,this.ssl=RP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=qM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cY)throw new Ne(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gO((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ne(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ne(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ne(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xm{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PP({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PP(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new BK;switch(s.type){case"firstParty":return new qK(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ne(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=SP.get(n);s&&(Re("ComponentProvider","Removing Datastore"),SP.delete(n),s.terminate())}(this),Promise.resolve()}}function OX(t,e,n,s={}){var r;t=ur(t,Xm);const a=Ol(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a&&(r1(`https://${c}`),i1("Firestore",!0)),o.host!==xO&&o.host!==c&&Ed("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:s});if(!jc(u,l)&&(t._setSettings(u),s.mockUserToken)){let d,h;if(typeof s.mockUserToken=="string")d=s.mockUserToken,h=ys.MOCK_USER;else{d=r4(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=s.mockUserToken.sub||s.mockUserToken.user_id;if(!f)throw new Ne(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ys(f)}t._authCredentials=new zK(new eM(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $l(this.firestore,e,this._query)}}class _s{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _s(this.firestore,e,this._key)}}class fl extends $l{constructor(e,n,s){super(e,n,j1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _s(this.firestore,null,new Be(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function Ze(t,e,...n){if(t=Jt(t),H1("collection","path",e),t instanceof Xm){const s=zt.fromString(e,...n);return TP(s),new fl(t,null,s)}{if(!(t instanceof _s||t instanceof fl))throw new Ne(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(zt.fromString(e,...n));return TP(s),new fl(t.firestore,null,s)}}function FX(t,e){if(t=ur(t,Xm),H1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new $l(t,null,function(s){return new Yc(zt.emptyPath(),s)}(e))}function at(t,e,...n){if(t=Jt(t),arguments.length===1&&(e=nM.newId()),H1("doc","path",e),t instanceof Xm){const s=zt.fromString(e,...n);return EP(s),new _s(t,null,new Be(s))}{if(!(t instanceof _s||t instanceof fl))throw new Ne(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(zt.fromString(e,...n));return EP(s),new _s(t.firestore,t instanceof fl?t.converter:null,new Be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="AsyncQueue";class kP{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new A1(this,"async_queue_retry"),this.rc=()=>{const s=hw();s&&Re(IP,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=hw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=hw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Qi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!sh(e))throw e;Re(IP,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,qa("INTERNAL UNHANDLED ERROR: ",AP(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const r=L1.createAndSchedule(this,e,n,s,a=>this.uc(a));return this.Zu.push(r),r}oc(){this.Xu&&ze(47125,{cc:AP(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function AP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ro extends Xm{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new kP,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kP(e),this._firestoreClient=void 0,await e}}}function LX(t,e){const n=typeof t=="object"?t:l1(),s=typeof t=="string"?t:zx,r=a0(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const a=t4("firestore");a&&OX(r,...a)}return r}function Zm(t){if(t._terminated)throw new Ne(J.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VX(t),t._firestoreClient}function VX(t){var e,n,s;const r=t._freezeSettings(),a=function(l,c,u,d){return new oQ(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gO(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=r.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new RX(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rc(ls.fromBase64String(e))}catch(n){throw new Ne(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Rc(ls.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new is(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mt(this._lat,e._lat)||mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let a=0;a<s.length;++a)if(s[a]!==r[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X=/^__.*__$/;class UX{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms):new qm(e,this.data,n,this.fieldTransforms)}}class vO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Vl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{Ic:t})}}class G1{constructor(e,n,s,r,a,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new G1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:s,Rc:!1});return r.Vc(e),r}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.dc({path:s,Rc:!1});return r.Ec(),r}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zx(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(yO(this.Ic)&&$X.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class BX{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||v0(e)}bc(e,n,s,r=!1){return new G1({Ic:e,methodName:n,wc:s,path:is.emptyPath(),Rc:!1,yc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ah(t){const e=t._freezeSettings(),n=v0(t._databaseId);return new BX(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _0(t,e,n,s,r,a={}){const o=t.bc(a.merge||a.mergeFields?2:0,e,n,r);X1("Data must be an object, but it was:",o,s);const l=wO(s,o);let c,u;if(a.merge)c=new jr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const h of a.mergeFields){const f=BN(e,h,n);if(!o.contains(f))throw new Ne(J.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);NO(d,f)||d.push(f)}c=new jr(d),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new UX(new Ds(l),c,u)}class j0 extends N0{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof j0}}class K1 extends N0{_toFieldTransform(e){return new kQ(e.path,new mm)}isEqual(e){return e instanceof K1}}function Q1(t,e,n,s){const r=t.bc(1,e,n);X1("Data must be an object, but it was:",r,s);const a=[],o=Ds.empty();Ll(s,(c,u)=>{const d=Z1(e,c,n);u=Jt(u);const h=r.mc(d);if(u instanceof j0)a.push(d);else{const f=Jm(u,h);f!=null&&(a.push(d),o.set(d,f))}});const l=new jr(a);return new vO(o,l,r.fieldTransforms)}function Y1(t,e,n,s,r,a){const o=t.bc(1,e,n),l=[BN(e,s,n)],c=[r];if(a.length%2!=0)throw new Ne(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<a.length;f+=2)l.push(BN(e,a[f])),c.push(a[f+1]);const u=[],d=Ds.empty();for(let f=l.length-1;f>=0;--f)if(!NO(u,l[f])){const g=l[f];let v=c[f];v=Jt(v);const x=o.mc(g);if(v instanceof j0)u.push(g);else{const w=Jm(v,x);w!=null&&(u.push(g),d.set(g,w))}}const h=new jr(u);return new vO(d,h,o.fieldTransforms)}function zX(t,e,n,s=!1){return Jm(n,t.bc(s?4:3,e))}function Jm(t,e){if(bO(t=Jt(t)))return X1("Unsupported field value:",e,t),wO(t,e);if(t instanceof N0)return function(s,r){if(!yO(r.Ic))throw r.gc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.gc(`${s._methodName}() is not currently supported inside arrays`);const a=s._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,r){const a=[];let o=0;for(const l of s){let c=Jm(l,r.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(s,r){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RQ(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const a=Nn.fromDate(s);return{timestampValue:Gx(r.serializer,a)}}if(s instanceof Nn){const a=new Nn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gx(r.serializer,a)}}if(s instanceof W1)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Rc)return{bytesValue:LM(r.serializer,s._byteString)};if(s instanceof _s){const a=r.databaseId,o=s.firestore._databaseId;if(!o.isEqual(a))throw r.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:T1(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof q1)return function(o,l){return{mapValue:{fields:{[uM]:{stringValue:hM},[Hx]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return C1(l.serializer,u)})}}}}}}(s,r);throw r.gc(`Unsupported field value: ${b0(s)}`)}(t,e)}function wO(t,e){const n={};return rM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ll(t,(s,r)=>{const a=Jm(r,e.Ac(s));a!=null&&(n[s]=a)}),{mapValue:{fields:n}}}function bO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Nn||t instanceof W1||t instanceof Rc||t instanceof _s||t instanceof N0||t instanceof q1)}function X1(t,e,n){if(!bO(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const s=b0(n);throw s==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+s)}}function BN(t,e,n){if((e=Jt(e))instanceof ih)return e._internalPath;if(typeof e=="string")return Z1(t,e);throw Zx("Field path arguments must be of type string or ",t,!1,void 0,n)}const HX=new RegExp("[~\\*/\\[\\]]");function Z1(t,e,n){if(e.search(HX)>=0)throw Zx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ih(...e.split("."))._internalPath}catch{throw Zx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zx(t,e,n,s,r){const a=s&&!s.isEmpty(),o=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new Ne(J.INVALID_ARGUMENT,l+t+c)}function NO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,s,r,a){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _s(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WX extends Jx{data(){return super.data()}}function C0(t,e){return typeof e=="string"?Z1(t,e):e instanceof ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class J1{}class _O extends J1{}function ts(t,e,...n){let s=[];e instanceof J1&&s.push(e),s=s.concat(n),function(a){const o=a.filter(c=>c instanceof eC).length,l=a.filter(c=>c instanceof S0).length;if(o>1||o>0&&l>0)throw new Ne(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class S0 extends _O{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new S0(e,n,s)}_apply(e){const n=this._parse(e);return jO(e._query,n),new $l(e.firestore,e.converter,kN(e._query,n))}_parse(e){const n=ah(e.firestore);return function(a,o,l,c,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Ne(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){MP(h,d);const v=[];for(const x of h)v.push(DP(c,a,x));f={arrayValue:{values:v}}}else f=DP(c,a,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||MP(h,d),f=zX(l,o,h,d==="in"||d==="not-in");return On.create(u,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ad(t,e,n){const s=e,r=C0("where",t);return S0._create(r,s,n)}class eC extends J1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new eC(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ni.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,a){let o=r;const l=a.getFlattenedFilters();for(const c of l)jO(o,c),o=kN(o,c)}(e._query,n),new $l(e.firestore,e.converter,kN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class tC extends _O{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new tC(e,n)}_apply(e){const n=function(r,a,o){if(r.startAt!==null)throw new Ne(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ne(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fm(a,o)}(e._query,this._field,this._direction);return new $l(e.firestore,e.converter,function(r,a){const o=r.explicitOrderBy.concat([a]);return new Yc(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Hr(t,e="asc"){const n=e,s=C0("orderBy",t);return tC._create(s,n)}function DP(t,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new Ne(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wM(e)&&n.indexOf("/")!==-1)throw new Ne(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(zt.fromString(n));if(!Be.isDocumentKey(s))throw new Ne(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return QR(t,new Be(s))}if(n instanceof _s)return QR(t,n._key);throw new Ne(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${b0(n)}.`)}function MP(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jO(t,e){const n=function(r,a){for(const o of r)for(const l of o.getFlattenedFilters())if(a.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CO{convertValue(e,n="none"){switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(jl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ll(e,(r,a)=>{s[r]=this.convertValue(a,n)}),s}convertVectorValue(e){var n,s,r;const a=(r=(s=(n=e.fields)===null||n===void 0?void 0:n[Hx].arrayValue)===null||s===void 0?void 0:s.values)===null||r===void 0?void 0:r.map(o=>En(o.doubleValue));return new q1(a)}convertGeoPoint(e){return new W1(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=h0(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(um(e));default:return null}}convertTimestamp(e){const n=_l(e);return new Nn(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=zt.fromString(e);Et(WM(s),9688,{name:e});const r=new dm(s.get(1),s.get(3)),a=new Be(s.popFirst(5));return r.isEqual(n)||qa(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class GX extends CO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _s(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nC extends Jx{constructor(e,n,s,r,a,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(C0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yg extends nC{data(e={}){return super.data(e)}}class KX{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Mu(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yg(this._firestore,this._userDataWriter,s.key,s,new Mu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(l=>{const c=new Yg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Mu(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const c=new Yg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Mu(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return l.type!==0&&(u=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:QX(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function QX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){t=ur(t,_s);const e=ur(t.firestore,ro);return AX(Zm(e),t._key).then(n=>YX(e,t,n))}class sC extends CO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _s(this.firestore,null,n)}}function Rt(t){t=ur(t,$l);const e=ur(t.firestore,ro),n=Zm(e),s=new sC(e);return qX(t._query),DX(n,t._query).then(r=>new KX(e,s,t,r))}function Ou(t,e,n){t=ur(t,_s);const s=ur(t.firestore,ro),r=E0(t.converter,e,n);return ep(s,[_0(ah(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Fn.none())])}function Wn(t,e,n,...s){t=ur(t,_s);const r=ur(t.firestore,ro),a=ah(r);let o;return o=typeof(e=Jt(e))=="string"||e instanceof ih?Y1(a,"updateDoc",t._key,e,n,s):Q1(a,"updateDoc",t._key,e),ep(r,[o.toMutation(t._key,Fn.exists(!0))])}function oh(t){return ep(ur(t.firestore,ro),[new Gm(t._key,Fn.none())])}function Ei(t,e){const n=ur(t.firestore,ro),s=at(t),r=E0(t.converter,e);return ep(n,[_0(ah(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function ep(t,e){return function(s,r){const a=new Qi;return s.asyncQueue.enqueueAndForget(async()=>vX(await IX(s),r,a)),a.promise}(Zm(t),e)}function YX(t,e,n){const s=n.docs.get(e._key),r=new sC(t);return new nC(t,r,e._key,s,new Mu(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XX={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ah(e)}set(e,n,s){this._verifyNotCommitted();const r=Zo(e,this._firestore),a=E0(r.converter,n,s),o=_0(this._dataReader,"WriteBatch.set",r._key,a,r.converter!==null,s);return this._mutations.push(o.toMutation(r._key,Fn.none())),this}update(e,n,s,...r){this._verifyNotCommitted();const a=Zo(e,this._firestore);let o;return o=typeof(n=Jt(n))=="string"||n instanceof ih?Y1(this._dataReader,"WriteBatch.update",a._key,n,s,r):Q1(this._dataReader,"WriteBatch.update",a._key,n),this._mutations.push(o.toMutation(a._key,Fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Zo(e,this._firestore);return this._mutations=this._mutations.concat(new Gm(n._key,Fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zo(t,e){if((t=Jt(t)).firestore!==e)throw new Ne(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ah(e)}get(e){const n=Zo(e,this._firestore),s=new GX(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||r.length!==1)return ze(24041);const a=r[0];if(a.isFoundDocument())return new Jx(this._firestore,s,a.key,a,n.converter);if(a.isNoDocument())return new Jx(this._firestore,s,n._key,null,n.converter);throw ze(18433,{doc:a})})}set(e,n,s){const r=Zo(e,this._firestore),a=E0(r.converter,n,s),o=_0(this._dataReader,"Transaction.set",r._key,a,r.converter!==null,s);return this._transaction.set(r._key,o),this}update(e,n,s,...r){const a=Zo(e,this._firestore);let o;return o=typeof(n=Jt(n))=="string"||n instanceof ih?Y1(this._dataReader,"Transaction.update",a._key,n,s,r):Q1(this._dataReader,"Transaction.update",a._key,n),this._transaction.update(a._key,o),this}delete(e){const n=Zo(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ extends JX{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Zo(e,this._firestore),s=new sC(this._firestore);return super.get(e).then(r=>new nC(this._firestore,s,n._key,r._document,new Mu(!1,!1),n.converter))}}function tZ(t,e,n){t=ur(t,ro);const s=Object.assign(Object.assign({},XX),n);return function(a){if(a.maxAttempts<1)throw new Ne(J.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(a,o,l){const c=new Qi;return a.asyncQueue.enqueueAndForget(async()=>{const u=await kX(a);new TX(a.asyncQueue,u,l,o,c).Wu()}),c.promise}(Zm(t),r=>e(new eZ(t,r)),s)}function _t(){return new K1("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t){return Zm(t=ur(t,ro)),new ZX(t,e=>ep(t,e))}(function(e,n=!0){(function(r){th=r})(Qc),Cc(new bl("firestore",(s,{instanceIdentifier:r,options:a})=>{const o=s.getProvider("app").getImmediate(),l=new ro(new HK(s.getProvider("auth-internal")),new GK(o,s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ne(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dm(u.options.projectId,d)}(o,r),o);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ki(FR,LR,e),Ki(FR,LR,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="firebasestorage.googleapis.com",EO="storageBucket",nZ=2*60*1e3,sZ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn extends da{constructor(e,n,s=0){super(mw(e),`Firebase Storage: ${n} (${mw(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cn||(Cn={}));function mw(t){return"storage/"+t}function rC(){const t="An unknown error occurred, please check the error payload for server response.";return new Sn(Cn.UNKNOWN,t)}function rZ(t){return new Sn(Cn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iZ(t){return new Sn(Cn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aZ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Sn(Cn.UNAUTHENTICATED,t)}function oZ(){return new Sn(Cn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lZ(t){return new Sn(Cn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function cZ(){return new Sn(Cn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uZ(){return new Sn(Cn.CANCELED,"User canceled the upload/download.")}function dZ(t){return new Sn(Cn.INVALID_URL,"Invalid URL '"+t+"'.")}function hZ(t){return new Sn(Cn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fZ(){return new Sn(Cn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+EO+"' property when initializing the app?")}function mZ(){return new Sn(Cn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pZ(){return new Sn(Cn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gZ(t){return new Sn(Cn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zN(t){return new Sn(Cn.INVALID_ARGUMENT,t)}function TO(){return new Sn(Cn.APP_DELETED,"The Firebase app was deleted.")}function xZ(t){return new Sn(Cn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tf(t,e){return new Sn(Cn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vh(t){throw new Sn(Cn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Cr.makeFromUrl(e,n)}catch{return new Cr(e,"")}if(s.path==="")return s;throw hZ(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+r+o,"i"),c={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${r}/o${f}`,"i"),v={bucket:1,path:3},x=n===SO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",y=new RegExp(`^https?://${x}/${r}/${w}`,"i"),N=[{regex:l,indices:c,postModify:a},{regex:g,indices:v,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<N.length;E++){const I=N[E],A=I.regex.exec(e);if(A){const C=A[I.indices.bucket];let _=A[I.indices.path];_||(_=""),s=new Cr(C,_),I.postModify(s);break}}if(s==null)throw dZ(e);return s}}class vZ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yZ(t,e,n){let s=1,r=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function h(w){r=setTimeout(()=>{r=null,t(g,c())},w)}function f(){a&&clearTimeout(a)}function g(w,...y){if(u){f();return}if(w){f(),d.call(null,w,...y);return}if(c()||o){f(),d.call(null,w,...y);return}s<64&&(s*=2);let N;l===1?(l=2,N=0):N=(s+Math.random())*1e3,h(N)}let v=!1;function x(w){v||(v=!0,f(),!u&&(r!==null?(w||(l=2),clearTimeout(r),h(0)):w||(l=1)))}return h(0),a=setTimeout(()=>{o=!0,x(!0)},n),x}function wZ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(t){return t!==void 0}function NZ(t){return typeof t=="object"&&!Array.isArray(t)}function iC(t){return typeof t=="string"||t instanceof String}function OP(t){return aC()&&t instanceof Blob}function aC(){return typeof Blob<"u"}function FP(t,e,n,s){if(s<e)throw zN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw zN(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function RO(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var pc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(pc||(pc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Z(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e,n,s,r,a,o,l,c,u,d,h,f=!0,g=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,x)=>{this.resolve_=v,this.reject_=x,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new hg(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===pc.NO_ERROR,c=a.getStatus();if(!l||_Z(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===pc.ABORT;s(!1,new hg(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new hg(u,a))})},n=(s,r)=>{const a=this.resolve_,o=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());bZ(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=rC();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(r.canceled){const c=this.appDelete_?TO():uZ();o(c)}else{const c=cZ();o(c)}};this.canceled_?n(!1,new hg(!1,null,!0)):this.backoffId_=yZ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wZ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hg{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function CZ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function SZ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EZ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function TZ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function RZ(t,e,n,s,r,a,o=!0,l=!1){const c=RO(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return EZ(d,e),CZ(d,n),SZ(d,a),TZ(d,s),new jZ(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function IZ(...t){const e=PZ();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(aC())return new Blob(t);throw new Sn(Cn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kZ(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(t){if(typeof atob>"u")throw gZ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pw{constructor(e,n){this.data=e,this.contentType=n||null}}function DZ(t,e){switch(t){case Bi.RAW:return new pw(PO(e));case Bi.BASE64:case Bi.BASE64URL:return new pw(IO(t,e));case Bi.DATA_URL:return new pw(OZ(e),FZ(e))}throw rC()}function PO(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=s,o=t.charCodeAt(++n);s=65536|(a&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function MZ(t){let e;try{e=decodeURIComponent(t)}catch{throw Tf(Bi.DATA_URL,"Malformed data URL.")}return PO(e)}function IO(t,e){switch(t){case Bi.BASE64:{const r=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(r||a)throw Tf(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Bi.BASE64URL:{const r=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(r||a)throw Tf(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=AZ(e)}catch(r){throw r.message.includes("polyfill")?r:Tf(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}class kO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tf(Bi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=LZ(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function OZ(t){const e=new kO(t);return e.base64?IO(Bi.BASE64,e.rest):MZ(e.rest)}function FZ(t){return new kO(t).contentType}function LZ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){let s=0,r="";OP(e)?(this.data_=e,s=e.size,r=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,n){if(OP(this.data_)){const s=this.data_,r=kZ(s,e,n);return r===null?null:new Fo(r)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new Fo(s,!0)}}static getBlob(...e){if(aC()){const n=e.map(s=>s instanceof Fo?s.data_:s);return new Fo(IZ.apply(null,n))}else{const n=e.map(o=>iC(o)?DZ(Bi.RAW,o).data:o.data_);let s=0;n.forEach(o=>{s+=o.byteLength});const r=new Uint8Array(s);let a=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)r[a++]=o[l]}),new Fo(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){let e;try{e=JSON.parse(t)}catch{return null}return NZ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VZ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $Z(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function DO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(t,e){return e}class Ts{constructor(e,n,s,r){this.server=e,this.local=n||e,this.writable=!!s,this.xform=r||UZ}}let fg=null;function BZ(t){return!iC(t)||t.length<2?t:DO(t)}function MO(){if(fg)return fg;const t=[];t.push(new Ts("bucket")),t.push(new Ts("generation")),t.push(new Ts("metageneration")),t.push(new Ts("name","fullPath",!0));function e(a,o){return BZ(o)}const n=new Ts("name");n.xform=e,t.push(n);function s(a,o){return o!==void 0?Number(o):o}const r=new Ts("size");return r.xform=s,t.push(r),t.push(new Ts("timeCreated")),t.push(new Ts("updated")),t.push(new Ts("md5Hash",null,!0)),t.push(new Ts("cacheControl",null,!0)),t.push(new Ts("contentDisposition",null,!0)),t.push(new Ts("contentEncoding",null,!0)),t.push(new Ts("contentLanguage",null,!0)),t.push(new Ts("contentType",null,!0)),t.push(new Ts("metadata","customMetadata",!0)),fg=t,fg}function zZ(t,e){function n(){const s=t.bucket,r=t.fullPath,a=new Cr(s,r);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function HZ(t,e,n){const s={};s.type="file";const r=n.length;for(let a=0;a<r;a++){const o=n[a];s[o.local]=o.xform(s,e[o.server])}return zZ(s,t),s}function OO(t,e,n){const s=AO(e);return s===null?null:HZ(t,s,n)}function WZ(t,e,n,s){const r=AO(e);if(r===null||!iC(r.downloadTokens))return null;const a=r.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),g=oC(f,n,s),v=RO({alt:"media",token:u});return g+v})[0]}function qZ(t,e){const n={},s=e.length;for(let r=0;r<s;r++){const a=e[r];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class FO{constructor(e,n,s,r){this.url=e,this.method=n,this.handler=s,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){if(!t)throw rC()}function GZ(t,e){function n(s,r){const a=OO(t,r,e);return LO(a!==null),a}return n}function KZ(t,e){function n(s,r){const a=OO(t,r,e);return LO(a!==null),WZ(a,r,t.host,t._protocol)}return n}function VO(t){function e(n,s){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=oZ():r=aZ():n.getStatus()===402?r=iZ(t.bucket):n.getStatus()===403?r=lZ(t.path):r=s,r.status=n.getStatus(),r.serverResponse=s.serverResponse,r}return e}function QZ(t){const e=VO(t);function n(s,r){let a=e(s,r);return s.getStatus()===404&&(a=rZ(t.path)),a.serverResponse=r.serverResponse,a}return n}function YZ(t,e,n){const s=e.fullServerUrl(),r=oC(s,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new FO(r,a,KZ(t,n),o);return l.errorHandler=QZ(e),l}function XZ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZZ(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=XZ(null,e)),s}function JZ(t,e,n,s,r){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let E=0;E<2;E++)N=N+Math.random().toString().slice(2);return N}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=ZZ(e,s,r),d=qZ(u,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+c+"--",g=Fo.getBlob(h,s,f);if(g===null)throw mZ();const v={name:u.fullPath},x=oC(a,t.host,t._protocol),w="POST",y=t.maxUploadRetryTime,b=new FO(x,w,GZ(t,n),y);return b.urlParams=v,b.headers=o,b.body=g.uploadData(),b.errorHandler=VO(e),b}class eJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=pc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=pc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=pc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,r,a){if(this.sent_)throw Vh("cannot .send() more than once");if(Ol(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tJ extends eJ{initXhr(){this.xhr_.responseType="text"}}function $O(){return new tJ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n){this._service=e,n instanceof Cr?this._location=n:this._location=Cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ic(e,n)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DO(this._location.path)}get storage(){return this._service}get parent(){const e=VZ(this._location.path);if(e===null)return null;const n=new Cr(this._location.bucket,e);return new Ic(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xZ(e)}}function nJ(t,e,n){t._throwIfRoot("uploadBytes");const s=JZ(t.storage,t._location,MO(),new Fo(e,!0),n);return t.storage.makeRequestWithTokens(s,$O).then(r=>({metadata:r,ref:t}))}function sJ(t){t._throwIfRoot("getDownloadURL");const e=YZ(t.storage,t._location,MO());return t.storage.makeRequestWithTokens(e,$O).then(n=>{if(n===null)throw pZ();return n})}function rJ(t,e){const n=$Z(t._location.path,e),s=new Cr(t._location.bucket,n);return new Ic(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(t){return/^[A-Za-z]+:\/\//.test(t)}function aJ(t,e){return new Ic(t,e)}function UO(t,e){if(t instanceof lC){const n=t;if(n._bucket==null)throw fZ();const s=new Ic(n,n._bucket);return e!=null?UO(s,e):s}else return e!==void 0?rJ(t,e):t}function oJ(t,e){if(e&&iJ(e)){if(t instanceof lC)return aJ(t,e);throw zN("To use ref(service, url), the first argument must be a Storage instance.")}else return UO(t,e)}function LP(t,e){const n=e==null?void 0:e[EO];return n==null?null:Cr.makeFromBucketSpec(n,t)}function lJ(t,e,n,s={}){t.host=`${e}:${n}`;const r=Ol(e);r&&(r1(`https://${t.host}/b`),i1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:a}=s;a&&(t._overrideAuthToken=typeof a=="string"?a:r4(a,t.app.options.projectId))}class lC{constructor(e,n,s,r,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=SO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nZ,this._maxUploadRetryTime=sZ,this._requests=new Set,r!=null?this._bucket=Cr.makeFromBucketSpec(r,this._host):this._bucket=LP(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=LP(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){FP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){FP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ic(this,e)}_makeRequest(e,n,s,r,a=!0){if(this._deleted)return new vZ(TO());{const o=RZ(e,this._appId,s,r,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const VP="@firebase/storage",$P="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO="storage";function Yn(t,e,n){return t=Jt(t),nJ(t,e,n)}function Xn(t){return t=Jt(t),sJ(t)}function Zn(t,e){return t=Jt(t),oJ(t,e)}function cJ(t=l1(),e){t=Jt(t);const s=a0(t,BO).getImmediate({identifier:e}),r=t4("storage");return r&&uJ(s,...r),s}function uJ(t,e,n,s={}){lJ(t,e,n,s)}function dJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new lC(n,s,r,e,Qc)}function hJ(){Cc(new bl(BO,dJ,"PUBLIC").setMultipleInstances(!0)),Ki(VP,$P,""),Ki(VP,$P,"esm2017")}hJ();const fJ={apiKey:"AIzaSyCkUy5C36i-ZzKtaTYtJ4Pz5hKKTTyAg64",authDomain:"dogvax-aeb2a.firebaseapp.com",projectId:"dogvax-aeb2a",storageBucket:"dogvax-aeb2a.firebasestorage.app",messagingSenderId:"42582914027",appId:"1:42582914027:web:db73627ed625b64a399fae",measurementId:"G-M0Y990D7DB"},cC=o4(fJ),li=LK(cC),he=LX(cC),Jn=cJ(cC),mJ=async t=>{if(t)try{console.log("Creating user profile for:",t.uid,t.email);const e=at(he,"users",t.uid);(await Pc(e)).exists()?console.log("User document already exists"):(console.log("User document does not exist, creating new one..."),await Ou(e,{uid:t.uid,email:t.email,phoneNumber:t.phoneNumber,displayName:t.displayName,createdAt:_t(),updatedAt:_t()}),console.log(" User profile created successfully"))}catch(e){console.error(" Error creating user profile:",e)}},zO=p.createContext(void 0),en=()=>{const t=p.useContext(zO);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},pJ=({children:t})=>{const[e,n]=p.useState(null),[s,r]=p.useState(!0),[a,o]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(!1),[h,f]=p.useState(!1),g=async y=>{if(!y){console.log("No phone number provided for admin check"),o(!1);return}console.log("Checking admin status for:",y);try{const b=at(he,"admins",y),E=(await Pc(b)).exists();console.log(`Admin status for ${y}:`,E),o(E)}catch(b){console.error("Error checking admin status:",b),o(!1)}};p.useEffect(()=>{const y=vG(li,async b=>{if(console.log("Auth state changed, user:",b),n(b),b){await mJ(b);try{const N=at(he,"users",b.uid),E=await Pc(N);if(E.exists()){const A=E.data().role;c(A||null),d(A==="petOwner"),f(A==="veterinaryDoctor"),console.log(`User ${b.uid} role: ${A}`)}else c(null),d(!1),f(!1),console.log(`User document for ${b.uid} not found.`)}catch(N){console.error("Error fetching user role:",N),c(null),d(!1),f(!1)}await g(b.phoneNumber)}else o(!1),c(null),d(!1),f(!1);r(!1)});return()=>y()},[]);const w={user:e,loading:s,isAdmin:a,userRole:l,isPetOwner:u,isDoctor:h,signInWithPhone:async(y,b)=>H4(li,y,b),signOut:async()=>{await l0(li),o(!1),c(null),d(!1),f(!1)}};return i.jsx(zO.Provider,{value:w,children:t})},gJ=()=>{const[t,e]=p.useState(""),[n,s]=p.useState(["","","","","",""]),[r,a]=p.useState(null),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(null);cs();const v=p.useRef(null),{user:x,loading:w,userRole:y}=en();p.useEffect(()=>((()=>{if(!v.current)try{v.current=new VG(li,"recaptcha-container",{size:"invisible",callback:()=>{}})}catch(k){console.error("Error initializing reCAPTCHA:",k)}})(),()=>{v.current&&(v.current.clear(),v.current=null)}),[]),p.useEffect(()=>{!w&&x&&y&&u(!1)},[x,w,y]);const b=async T=>{if(T.preventDefault(),!t||!/^\+[1-9]\d{1,14}$/.test(t)){H.error("Please enter a valid phone number with country code (e.g., +1234567890).");return}if(!v.current){H.error("reCAPTCHA not initialized. Please refresh the page and try again.");return}l(!0);try{const k=await H4(li,t,v.current);a(k),H.success("OTP sent successfully!")}catch(k){console.error("Error sending OTP:",k),k.code==="auth/too-many-requests"?H.error("Too many requests. Please wait a while before trying again."):H.error("Failed to send OTP. Please check the number or try again later.")}finally{l(!1)}},N=(T,k)=>{if(k.length>1)return;const D=[...n];if(D[T]=k,s(D),k&&T<5){const P=document.getElementById(`otp-${T+1}`);P==null||P.focus()}},E=(T,k)=>{if(k.key==="Backspace"&&!n[T]&&T>0){const D=document.getElementById(`otp-${T-1}`);D==null||D.focus()}},I=async T=>{var D;T.preventDefault();const k=n.join("");if(!k||k.length!==6){H.error("Please enter a valid 6-digit OTP.");return}if(!r){H.error("Please request an OTP first.");return}l(!0);try{await r.confirm(k);const P=li.currentUser;if(P){const G=at(he,"users",P.uid),ee=await Pc(G);f?await _():ee.exists()&&((D=ee.data())!=null&&D.role)?H.success("Logged in successfully! Redirecting..."):(u(!0),H.info("Please select your role."))}else H.error("Authentication failed. Please try again.")}catch(P){console.error("Error verifying OTP:",P),H.error("Invalid OTP. Please try again.")}finally{l(!1)}},A=async T=>{l(!0);try{const k=li.currentUser;if(!k){H.error("User not authenticated. Please log in again.");return}const D=at(he,"users",k.uid);if(await Ou(D,{role:T,updatedAt:_t()},{merge:!0}),T==="veterinaryDoctor"){const P=at(he,"doctors",k.uid);await Ou(P,{uid:k.uid,name:k.displayName||"Veterinary Doctor",phoneNumber:k.phoneNumber,email:k.email,createdAt:_t()},{merge:!0})}H.success(`Role set as ${T==="petOwner"?"Pet Owner":"Veterinary Doctor"}!`),u(!1)}catch(k){console.error("Error setting role:",k),H.error(`Failed to set role: ${k.message}`)}finally{l(!1)}},C=T=>{g(T),h(!1),H.info(`Registering as ${T==="petOwner"?"Pet Owner":"Veterinary Doctor"}. Please enter your phone number.`)},_=async()=>{if(f){l(!0);try{const T=li.currentUser;if(!T){H.error("User not authenticated. Please log in again.");return}const k=at(he,"users",T.uid);if(await Ou(k,{role:f,updatedAt:_t()},{merge:!0}),f==="veterinaryDoctor"){const D=at(he,"doctors",T.uid);await Ou(D,{uid:T.uid,name:T.displayName||"Veterinary Doctor",phoneNumber:T.phoneNumber,email:T.email,createdAt:_t(),isActive:!0},{merge:!0})}H.success(`Successfully registered as ${f==="petOwner"?"Pet Owner":"Veterinary Doctor"}!`),g(null),h(!1)}catch(T){console.error("Error completing registration:",T),H.error(`Failed to complete registration: ${T.message}`)}finally{l(!1)}}},S=T=>{let k=T.target.value;k&&!k.startsWith("+")&&(k.startsWith("91")?k="+"+k:/^\d/.test(k)&&(k="+91"+k)),e(k)};return w||x&&y?i.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:i.jsx("h1",{className:"text-2xl font-semibold animate-pulse",children:"Loading VaxDog..."})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[i.jsx("div",{id:"recaptcha-container"}),i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-pink-500/20 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"w-full max-w-sm relative z-10",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"w-24 h-24 mx-auto mb-6 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-pink-500 rounded-3xl shadow-2xl"}),i.jsx("div",{className:"absolute inset-2 bg-slate-800 rounded-2xl flex items-center justify-center",children:i.jsx("div",{className:"text-4xl",children:""})}),i.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-purple-400 rounded-full flex items-center justify-center shadow-lg",children:i.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"})})]}),i.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:d?"Register Account":r?c?"Choose Your Role":f?`Registering as ${f==="petOwner"?"Pet Owner":"Doctor"}`:"Verify OTP":"Hello Guest!"}),i.jsx("p",{className:"text-slate-400 text-base",children:d?"Choose your account type to get started":r?c?"Are you a pet owner or a veterinary doctor?":f?"Verify your phone number to complete registration":"Enter the verification code":"Welcome to the Pawlly care"})]}),i.jsx("div",{className:"bg-slate-800/60 backdrop-blur-xl p-6 sm:p-8 rounded-3xl border border-slate-700/50 shadow-2xl",children:d?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Choose Your Account Type"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Select the option that best describes you"})]}),i.jsxs(z,{className:"w-full h-16 text-base font-semibold rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-xl flex flex-col items-center justify-center gap-1",onClick:()=>C("petOwner"),disabled:o,children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("span",{children:"I am a Pet Owner"}),i.jsx("span",{className:"text-xs opacity-80",children:"Manage my pet's health and vaccinations"})]}),i.jsxs(z,{className:"w-full h-16 text-base font-semibold rounded-2xl bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white shadow-xl flex flex-col items-center justify-center gap-1",onClick:()=>C("veterinaryDoctor"),disabled:o,children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("span",{children:"I am a Veterinary Doctor"}),i.jsx("span",{className:"text-xs opacity-80",children:"Provide veterinary services to pet owners"})]}),i.jsx("div",{className:"text-center",children:i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"text-slate-400 hover:text-white hover:bg-slate-700/50 rounded-xl",children:"Back to Login"})})]}):r?c?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Complete Your Profile"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Choose your role to continue"})]}),i.jsxs(z,{className:"w-full h-16 text-base font-semibold rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white shadow-xl flex flex-col items-center justify-center gap-1",onClick:()=>A("petOwner"),disabled:o,children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("span",{children:o?"Saving...":"I am a Pet Owner"})]}),i.jsxs(z,{className:"w-full h-16 text-base font-semibold rounded-2xl bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white shadow-xl flex flex-col items-center justify-center gap-1",onClick:()=>A("veterinaryDoctor"),disabled:o,children:[i.jsx("span",{className:"text-xl",children:""}),i.jsx("span",{children:o?"Saving...":"I am a Veterinary Doctor"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-slate-700/50 rounded-2xl",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsx("span",{className:"text-lg font-medium text-white",children:t})]})}),i.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Enter the 6-digit verification code",i.jsx("br",{}),"sent to your mobile number"]}),f&&i.jsx("div",{className:"mt-4 p-3 bg-slate-700/30 rounded-lg border border-slate-600",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-lg",children:f==="petOwner"?"":""}),i.jsxs("span",{className:"text-sm text-slate-300",children:["Registering as: ",i.jsx("span",{className:"font-semibold text-white",children:f==="petOwner"?"Pet Owner":"Veterinary Doctor"})]})]})})]}),i.jsxs("form",{className:"space-y-8",onSubmit:I,children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"grid grid-cols-6 gap-3 w-full max-w-xs",children:n.map((T,k)=>i.jsx("input",{id:`otp-${k}`,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:T,onChange:D=>N(k,D.target.value),onKeyDown:D=>E(k,D),className:"w-full h-16 text-center text-xl font-bold bg-slate-700/50 border-2 border-slate-600 text-white rounded-xl focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 focus:outline-none transition-all duration-200",autoComplete:"one-time-code"},k))})}),i.jsx(z,{type:"submit",className:"w-full h-14 text-base font-semibold rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-xl transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",disabled:o,children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Verifying..."]}):f?"Verify & Complete Registration":"Verify & Log In"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{a(null),s(["","","","","",""]),e(""),f&&(h(!0),g(null))},className:"text-purple-400 hover:text-purple-300 hover:bg-purple-500/10 rounded-xl transition-all duration-200",disabled:o,children:f?"Back to Role Selection":"Change number"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("form",{className:"space-y-6",onSubmit:b,children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"text-sm font-medium text-slate-300 block",children:f?`Phone Number (${f==="petOwner"?"Pet Owner":"Doctor"} Registration)`:"Phone Number"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 flex items-center space-x-3",children:[i.jsx("span",{className:"text-lg",children:""}),i.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"+91"})]}),i.jsx(xe,{type:"tel",placeholder:"Enter your mobile number",className:"pl-20 h-14 bg-slate-700/50 border-slate-600 text-white placeholder-slate-400 rounded-2xl focus:border-purple-500 focus:ring-purple-500/20 text-base",value:t,onChange:S,disabled:o})]}),f&&i.jsx("div",{className:"mt-2 p-3 bg-slate-700/30 rounded-lg border border-slate-600",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg",children:f==="petOwner"?"":""}),i.jsxs("span",{className:"text-sm text-slate-300",children:["Registering as: ",i.jsx("span",{className:"font-semibold text-white",children:f==="petOwner"?"Pet Owner":"Veterinary Doctor"})]})]})})]}),i.jsx(z,{type:"submit",className:"w-full h-14 text-base font-semibold rounded-2xl bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white border-0 shadow-xl transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",disabled:o,children:o?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending OTP..."]}):f?"Send OTP to Register":"Send OTP"})]}),!f&&i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("p",{className:"text-slate-400 text-sm",children:["Not registered?"," ",i.jsx(z,{variant:"link",className:"p-0 h-auto text-purple-400 hover:text-purple-300 transition-colors",onClick:()=>h(!0),children:"Register Now"})]})}),f&&i.jsx("div",{className:"mt-6 text-center",children:i.jsx(z,{variant:"ghost",size:"sm",onClick:()=>{g(null),e("")},className:"text-slate-400 hover:text-white hover:bg-slate-700/50 rounded-xl",children:"Change Role"})}),!f&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mt-8 flex items-center",children:[i.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent"}),i.jsx("span",{className:"px-4 text-slate-400 text-sm",children:"Or sign in with"}),i.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent"})]}),i.jsx(z,{variant:"outline",className:"w-full mt-6 h-14 bg-slate-700/30 border-slate-600 text-white hover:bg-slate-600/50 rounded-2xl transition-all duration-200 hover:scale-[1.02]",children:i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("div",{className:"w-6 h-6 bg-white rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-slate-900",children:"G"})}),"Sign In With Google"]})})]})]})}),i.jsx("p",{className:"text-sm text-slate-500 mt-8 text-center opacity-75",children:"Secure sign-in powered by Firebase"})]})]})},xJ=()=>{const t=so();return p.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},vJ=Dm("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ce({className:t,variant:e,...n}){return i.jsx("div",{className:ie(vJ({variant:e}),t),...n})}var uC="Avatar",[yJ,she]=Ws(uC),[wJ,HO]=yJ(uC),WO=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...s}=t,[r,a]=p.useState("idle");return i.jsx(wJ,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:i.jsx(Ae.span,{...s,ref:e})})});WO.displayName=uC;var qO="AvatarImage",GO=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...a}=t,o=HO(qO,n),l=bJ(s,a.referrerPolicy),c=sn(u=>{r(u),o.onImageLoadingStatusChange(u)});return Hn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(Ae.img,{...a,ref:e,src:s}):null});GO.displayName=qO;var KO="AvatarFallback",QO=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:s,...r}=t,a=HO(KO,n),[o,l]=p.useState(s===void 0);return p.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(Ae.span,{...r,ref:e}):null});QO.displayName=KO;function bJ(t,e){const[n,s]=p.useState("idle");return Hn(()=>{if(!t){s("error");return}let r=!0;const a=new window.Image,o=l=>()=>{r&&s(l)};return s("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{r=!1}},[t,e]),n}var YO=WO,XO=GO,ZO=QO;const ir=p.forwardRef(({className:t,...e},n)=>i.jsx(YO,{ref:n,className:ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ir.displayName=YO.displayName;const gi=p.forwardRef(({className:t,...e},n)=>i.jsx(XO,{ref:n,className:ie("aspect-square h-full w-full",t),...e}));gi.displayName=XO.displayName;const ar=p.forwardRef(({className:t,...e},n)=>i.jsx(ZO,{ref:n,className:ie("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));ar.displayName=ZO.displayName;const Jc=()=>{const{user:t}=en(),{data:e=[],isLoading:n,...s}=In({queryKey:["dogs",t==null?void 0:t.uid],queryFn:async()=>{if(!t)return[];const r=Ze(he,"users",t.uid,"dogs");return(await Rt(r)).docs.map(o=>({...o.data(),id:o.id}))},enabled:!!t});return{dogs:e,isLoadingDogs:n,...s}};function $e(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ls(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function ks(t,e){const n=$e(t);return isNaN(e)?Ls(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function _i(t,e){const n=$e(t);if(isNaN(e))return Ls(t,NaN);if(!e)return n;const s=n.getDate(),r=Ls(t,n.getTime());r.setMonth(n.getMonth()+e+1,0);const a=r.getDate();return s>=a?r:(n.setFullYear(r.getFullYear(),r.getMonth(),s),n)}function NJ(t,e){const n=+$e(t);return Ls(t,n+e)}const dC=6048e5,_J=864e5,jJ=6e4,mg=43200,UP=1440;let CJ={};function lh(){return CJ}function ra(t,e){var l,c,u,d;const n=lh(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=$e(t),a=r.getDay(),o=(a<s?7:0)+a-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function kc(t){return ra(t,{weekStartsOn:1})}function JO(t){const e=$e(t),n=e.getFullYear(),s=Ls(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const r=kc(s),a=Ls(t,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=kc(a);return e.getTime()>=r.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Ac(t){const e=$e(t);return e.setHours(0,0,0,0),e}function Dd(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function di(t,e){const n=Ac(t),s=Ac(e),r=+n-Dd(n),a=+s-Dd(s);return Math.round((r-a)/_J)}function SJ(t){const e=JO(t),n=Ls(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),kc(n)}function EJ(t,e){return NJ(t,e*jJ)}function HN(t,e){const n=e*7;return ks(t,n)}function TJ(t,e){return _i(t,e*12)}function RJ(t){let e;return t.forEach(function(n){const s=$e(n);(e===void 0||e<s||isNaN(Number(s)))&&(e=s)}),e||new Date(NaN)}function PJ(t){let e;return t.forEach(n=>{const s=$e(n);(!e||e>s||isNaN(+s))&&(e=s)}),e||new Date(NaN)}function Xu(t,e){const n=$e(t),s=$e(e),r=n.getTime()-s.getTime();return r<0?-1:r>0?1:r}function IJ(t){return Ls(t,Date.now())}function Ns(t,e){const n=Ac(t),s=Ac(e);return+n==+s}function hC(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function kJ(t){if(!hC(t)&&typeof t!="number")return!1;const e=$e(t);return!isNaN(Number(e))}function Md(t,e){const n=$e(t),s=$e(e),r=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return r*12+a}function AJ(t,e,n){const s=ra(t,n),r=ra(e,n),a=+s-Dd(s),o=+r-Dd(r);return Math.round((a-o)/dC)}function DJ(t,e){const n=$e(t),s=$e(e);return n.getFullYear()-s.getFullYear()}function Xi(t,e){const n=$e(t),s=$e(e),r=BP(n,s),a=Math.abs(di(n,s));n.setDate(n.getDate()-r*a);const o=+(BP(n,s)===-r),l=r*(a-o);return l===0?0:l}function BP(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function MJ(t){return e=>{const s=(t?Math[t]:Math.trunc)(e);return s===0?0:s}}function OJ(t,e){return+$e(t)-+$e(e)}function FJ(t){const e=$e(t);return e.setHours(23,59,59,999),e}function T0(t){const e=$e(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function LJ(t){const e=$e(t);return+FJ(e)==+T0(e)}function R0(t,e){const n=$e(t),s=$e(e),r=Xu(n,s),a=Math.abs(Md(n,s));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-r*a);let l=Xu(n,s)===-r;LJ($e(t))&&a===1&&Xu(t,s)===1&&(l=!1),o=r*(a-Number(l))}return o===0?0:o}function VJ(t,e,n){const s=OJ(t,e)/1e3;return MJ(n==null?void 0:n.roundingMethod)(s)}function fC(t,e){const n=$e(t),s=$e(e),r=Xu(n,s),a=Math.abs(DJ(n,s));n.setFullYear(1584),s.setFullYear(1584);const o=Xu(n,s)===-r,l=r*(a-+o);return l===0?0:l}function or(t){const e=$e(t);return e.setDate(1),e.setHours(0,0,0,0),e}function eF(t){const e=$e(t),n=Ls(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function mC(t,e){var l,c,u,d;const n=lh(),s=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,r=$e(t),a=r.getDay(),o=(a<s?-7:0)+6-(a-s);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}function tF(t){return mC(t,{weekStartsOn:1})}const $J={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},UJ=(t,e,n)=>{let s;const r=$J[t];return typeof r=="string"?s=r:e===1?s=r.one:s=r.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function gw(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const BJ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zJ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HJ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},WJ={date:gw({formats:BJ,defaultWidth:"full"}),time:gw({formats:zJ,defaultWidth:"full"}),dateTime:gw({formats:HJ,defaultWidth:"full"})},qJ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},GJ=(t,e,n,s)=>qJ[t];function $h(t){return(e,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;r=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return r[a]}}const KJ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},QJ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},YJ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XJ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JJ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eee=(t,e)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tee={ordinalNumber:eee,era:$h({values:KJ,defaultWidth:"wide"}),quarter:$h({values:QJ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:$h({values:YJ,defaultWidth:"wide"}),day:$h({values:XJ,defaultWidth:"wide"}),dayPeriod:$h({values:ZJ,defaultWidth:"wide",formattingValues:JJ,defaultFormattingWidth:"wide"})};function Uh(t){return(e,n={})=>{const s=n.width,r=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],a=e.match(r);if(!a)return null;const o=a[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?see(l,h=>h.test(o)):nee(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function nee(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function see(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function ree(t){return(e,n={})=>{const s=e.match(t.matchPattern);if(!s)return null;const r=s[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(r.length);return{value:o,rest:l}}}const iee=/^(\d+)(th|st|nd|rd)?/i,aee=/\d+/i,oee={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lee={any:[/^b/i,/^(a|c)/i]},cee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uee={any:[/1/i,/2/i,/3/i,/4/i]},dee={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hee={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fee={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mee={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pee={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gee={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xee={ordinalNumber:ree({matchPattern:iee,parsePattern:aee,valueCallback:t=>parseInt(t,10)}),era:Uh({matchPatterns:oee,defaultMatchWidth:"wide",parsePatterns:lee,defaultParseWidth:"any"}),quarter:Uh({matchPatterns:cee,defaultMatchWidth:"wide",parsePatterns:uee,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Uh({matchPatterns:dee,defaultMatchWidth:"wide",parsePatterns:hee,defaultParseWidth:"any"}),day:Uh({matchPatterns:fee,defaultMatchWidth:"wide",parsePatterns:mee,defaultParseWidth:"any"}),dayPeriod:Uh({matchPatterns:pee,defaultMatchWidth:"any",parsePatterns:gee,defaultParseWidth:"any"})},pC={code:"en-US",formatDistance:UJ,formatLong:WJ,formatRelative:GJ,localize:tee,match:xee,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vee(t){const e=$e(t);return di(e,eF(e))+1}function nF(t){const e=$e(t),n=+kc(e)-+SJ(e);return Math.round(n/dC)+1}function sF(t,e){var d,h,f,g;const n=$e(t),s=n.getFullYear(),r=lh(),a=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=Ls(t,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=ra(o,e),c=Ls(t,0);c.setFullYear(s,0,a),c.setHours(0,0,0,0);const u=ra(c,e);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function yee(t,e){var l,c,u,d;const n=lh(),s=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,r=sF(t,e),a=Ls(t,0);return a.setFullYear(r,0,s),a.setHours(0,0,0,0),ra(a,e)}function rF(t,e){const n=$e(t),s=+ra(n,e)-+yee(n,e);return Math.round(s/dC)+1}function $t(t,e){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(e,"0");return n+s}const jo={y(t,e){const n=t.getFullYear(),s=n>0?n:1-n;return $t(e==="yy"?s%100:s,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):$t(n+1,2)},d(t,e){return $t(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return $t(t.getHours()%12||12,e.length)},H(t,e){return $t(t.getHours(),e.length)},m(t,e){return $t(t.getMinutes(),e.length)},s(t,e){return $t(t.getSeconds(),e.length)},S(t,e){const n=e.length,s=t.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return $t(r,e.length)}},cu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zP={G:function(t,e,n){const s=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const s=t.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return jo.y(t,e)},Y:function(t,e,n,s){const r=sF(t,s),a=r>0?r:1-r;if(e==="YY"){const o=a%100;return $t(o,2)}return e==="Yo"?n.ordinalNumber(a,{unit:"year"}):$t(a,e.length)},R:function(t,e){const n=JO(t);return $t(n,e.length)},u:function(t,e){const n=t.getFullYear();return $t(n,e.length)},Q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return $t(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,e,n){const s=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return $t(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,e,n){const s=t.getMonth();switch(e){case"M":case"MM":return jo.M(t,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,e,n){const s=t.getMonth();switch(e){case"L":return String(s+1);case"LL":return $t(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,e,n,s){const r=rF(t,s);return e==="wo"?n.ordinalNumber(r,{unit:"week"}):$t(r,e.length)},I:function(t,e,n){const s=nF(t);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):$t(s,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):jo.d(t,e)},D:function(t,e,n){const s=vee(t);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):$t(s,e.length)},E:function(t,e,n){const s=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,e,n,s){const r=t.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return $t(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,s){const r=t.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return $t(a,e.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){const s=t.getDay(),r=s===0?7:s;switch(e){case"i":return String(r);case"ii":return $t(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const s=t.getHours();let r;switch(s===12?r=cu.noon:s===0?r=cu.midnight:r=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){const s=t.getHours();let r;switch(s>=17?r=cu.evening:s>=12?r=cu.afternoon:s>=4?r=cu.morning:r=cu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return jo.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):jo.H(t,e)},K:function(t,e,n){const s=t.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):$t(s,e.length)},k:function(t,e,n){let s=t.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):$t(s,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):jo.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):jo.s(t,e)},S:function(t,e){return jo.S(t,e)},X:function(t,e,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return WP(s);case"XXXX":case"XX":return Zl(s);case"XXXXX":case"XXX":default:return Zl(s,":")}},x:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"x":return WP(s);case"xxxx":case"xx":return Zl(s);case"xxxxx":case"xxx":default:return Zl(s,":")}},O:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HP(s,":");case"OOOO":default:return"GMT"+Zl(s,":")}},z:function(t,e,n){const s=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HP(s,":");case"zzzz":default:return"GMT"+Zl(s,":")}},t:function(t,e,n){const s=Math.trunc(t.getTime()/1e3);return $t(s,e.length)},T:function(t,e,n){const s=t.getTime();return $t(s,e.length)}};function HP(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=Math.trunc(s/60),a=s%60;return a===0?n+String(r):n+String(r)+e+$t(a,2)}function WP(t,e){return t%60===0?(t>0?"-":"+")+$t(Math.abs(t)/60,2):Zl(t,e)}function Zl(t,e=""){const n=t>0?"-":"+",s=Math.abs(t),r=$t(Math.trunc(s/60),2),a=$t(s%60,2);return n+r+e+a}const qP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iF=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wee=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return qP(t,e);let a;switch(s){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",qP(s,e)).replace("{{time}}",iF(r,e))},bee={p:iF,P:wee},Nee=/^D+$/,_ee=/^Y+$/,jee=["D","DD","YY","YYYY"];function Cee(t){return Nee.test(t)}function See(t){return _ee.test(t)}function Eee(t,e,n){const s=Tee(t,e,n);if(console.warn(s),jee.includes(t))throw new RangeError(s)}function Tee(t,e,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ree=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iee=/^'([^]*?)'?$/,kee=/''/g,Aee=/[a-zA-Z]/;function Ee(t,e,n){var d,h,f,g,v,x,w,y;const s=lh(),r=(n==null?void 0:n.locale)??s.locale??pC,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(f=s.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??s.weekStartsOn??((y=(w=s.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??0,l=$e(t);if(!kJ(l))throw new RangeError("Invalid time value");let c=e.match(Pee).map(b=>{const N=b[0];if(N==="p"||N==="P"){const E=bee[N];return E(b,r.formatLong)}return b}).join("").match(Ree).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const N=b[0];if(N==="'")return{isToken:!1,value:Dee(b)};if(zP[N])return{isToken:!0,value:b};if(N.match(Aee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:b}});r.localize.preprocessor&&(c=r.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:r};return c.map(b=>{if(!b.isToken)return b.value;const N=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&See(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Cee(N))&&Eee(N,e,String(t));const E=zP[N[0]];return E(l,N,r.localize,u)}).join("")}function Dee(t){const e=t.match(Iee);return e?e[1].replace(kee,"'"):t}function Mee(t,e,n){const s=lh(),r=(n==null?void 0:n.locale)??s.locale??pC,a=2520,o=Xu(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let c,u;o>0?(c=$e(e),u=$e(t)):(c=$e(t),u=$e(e));const d=VJ(u,c),h=(Dd(u)-Dd(c))/1e3,f=Math.round((d-h)/60);let g;if(f<2)return n!=null&&n.includeSeconds?d<5?r.formatDistance("lessThanXSeconds",5,l):d<10?r.formatDistance("lessThanXSeconds",10,l):d<20?r.formatDistance("lessThanXSeconds",20,l):d<40?r.formatDistance("halfAMinute",0,l):d<60?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",1,l):f===0?r.formatDistance("lessThanXMinutes",1,l):r.formatDistance("xMinutes",f,l);if(f<45)return r.formatDistance("xMinutes",f,l);if(f<90)return r.formatDistance("aboutXHours",1,l);if(f<UP){const v=Math.round(f/60);return r.formatDistance("aboutXHours",v,l)}else{if(f<a)return r.formatDistance("xDays",1,l);if(f<mg){const v=Math.round(f/UP);return r.formatDistance("xDays",v,l)}else if(f<mg*2)return g=Math.round(f/mg),r.formatDistance("aboutXMonths",g,l)}if(g=R0(u,c),g<12){const v=Math.round(f/mg);return r.formatDistance("xMonths",v,l)}else{const v=g%12,x=Math.trunc(g/12);return v<3?r.formatDistance("aboutXYears",x,l):v<9?r.formatDistance("overXYears",x,l):r.formatDistance("almostXYears",x+1,l)}}function Oee(t,e){return Mee(t,IJ(t),e)}function Fee(t){const e=$e(t),n=e.getFullYear(),s=e.getMonth(),r=Ls(t,0);return r.setFullYear(n,s+1,0),r.setHours(0,0,0,0),r.getDate()}function Lee(t){return Math.trunc(+$e(t)/1e3)}function Vee(t){const e=$e(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function $ee(t,e){return AJ(Vee(t),or(t),e)+1}function WN(t,e){const n=$e(t),s=$e(e);return n.getTime()>s.getTime()}function tv(t,e){const n=$e(t),s=$e(e);return+n<+s}function gC(t,e){const n=$e(t),s=$e(e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Uee(t,e){const n=$e(t),s=$e(e);return n.getFullYear()===s.getFullYear()}function xw(t,e){return ks(t,-e)}function vw(t,e){const n=$e(t),s=n.getFullYear(),r=n.getDate(),a=Ls(t,0);a.setFullYear(s,e,15),a.setHours(0,0,0,0);const o=Fee(a);return n.setMonth(e,Math.min(r,o)),n}function nv(t,e){const n=$e(t);return n.setHours(e),n}function Bee(t,e){const n=$e(t);return n.setMilliseconds(e),n}function qN(t,e){const n=$e(t);return n.setMinutes(e),n}function zee(t,e){const n=$e(t);return n.setSeconds(e),n}function GP(t,e){const n=$e(t);return isNaN(+n)?Ls(t,NaN):(n.setFullYear(e),n)}function Ka(){return Ac(Date.now())}const Hee=()=>{const t=new(window.AudioContext||window.webkitAudioContext),e=t.createOscillator(),n=t.createGain();e.connect(n),n.connect(t.destination),e.frequency.setValueAtTime(800,t.currentTime),e.frequency.setValueAtTime(1e3,t.currentTime+.1),e.frequency.setValueAtTime(1200,t.currentTime+.2),n.gain.setValueAtTime(.3,t.currentTime),n.gain.exponentialRampToValueAtTime(.01,t.currentTime+.3),e.start(t.currentTime),e.stop(t.currentTime+.3)},tp=t=>{const{user:e}=en(),n=rn(),{data:s=[],isLoading:r}=In({queryKey:["reminders",e==null?void 0:e.uid,t],queryFn:async()=>{if(!e)return[];const f=Ze(he,"users",e.uid,"reminders"),g=t?ts(f,Ad("dog","==",t)):f;return(await Rt(g)).docs.map(w=>({...w.data(),id:w.id})).sort((w,y)=>new Date(w.due).getTime()-new Date(y.due).getTime())},enabled:!!e}),a=dt({mutationFn:f=>{if(!e)throw new Error("User not authenticated");const g={...f,status:"upcoming"};return Ei(Ze(he,"users",e.uid,"reminders"),g)},onSuccess:(f,g)=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]}),H.success(`Reminder for ${g.vaccine} has been set!`)},onError:f=>{H.error(f.message||"Failed to add reminder.")}}),o=dt({mutationFn:({reminderId:f,dataToUpdate:g})=>{if(!e)throw new Error("User not authenticated");const v=at(he,"users",e.uid,"reminders",f);return Wn(v,g)},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:f=>{H.error(f.message||"Failed to update reminder.")}}),l=dt({mutationFn:f=>{if(!e)throw new Error("User not authenticated");const g=at(he,"users",e.uid,"reminders",f);return oh(g)},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:f=>{H.error(f.message||"Failed to delete reminder.")}});return{reminders:s,isLoadingReminders:r,addReminder:({dog:f,vaccine:g,due:v})=>{a.mutate({dog:f,vaccine:g,due:Ee(v,"MMMM d, yyyy")})},markReminderAsComplete:f=>{o.mutate({reminderId:f,dataToUpdate:{status:"completed",completedDate:Ee(new Date,"MMMM d, yyyy")}},{onSuccess:()=>{const g=s.find(v=>v.id===f);g&&(Hee(),H.success(`Marked ${g.vaccine} for ${g.dog} as complete!`))}})},deleteReminder:f=>{const g=s.find(v=>v.id===f);l.mutate(f,{onSuccess:()=>{g&&H.error(`Deleted reminder for ${g.vaccine}.`)}})},editReminder:(f,g)=>{o.mutate({reminderId:f,dataToUpdate:{vaccine:g.vaccine,due:Ee(g.due,"MMMM d, yyyy")}},{onSuccess:()=>{H.success(`Updated reminder for ${g.vaccine}.`)}})}}},ch=()=>{const{user:t}=en(),e=async()=>{if(!t)return[];const a=t.uid,o=[],l=Ze(he,"users",a,"transactions"),c=ts(l,Hr("createdAt","desc"));(await Rt(c)).docs.forEach(w=>{const y=w.data();o.push({id:w.id,type:"vaccination",service:y.service,amount:y.amount,status:y.status,createdAt:y.createdAt,paymentId:y.paymentId,rawPaymentStatus:y.status,rawBookingStatus:y.status==="successful"?"confirmed":"pending",reminderId:y.reminderId,slotId:y.slotId,slotDatetime:y.slotDatetime,vaccines:y.vaccines,petName:y.dogName,customer:y.customer})});const d=Ze(he,"users",a,"groomingBookings"),h=ts(d,Hr("createdAt","desc"));(await Rt(h)).docs.forEach(w=>{const y=w.data();o.push({id:w.id,type:"grooming",service:y.serviceName,amount:y.amount,status:y.paymentStatus,createdAt:y.createdAt,paymentId:y.razorpayPaymentId,petName:y.petName,petDetails:y.petDetails,customer:y.customerDetails,rawPaymentStatus:y.paymentStatus,rawBookingStatus:y.bookingStatus,preferredDate:y.preferredDate,preferredTime:y.preferredTime})});const g=Ze(he,"users",a,"petHostelBookings"),v=ts(g,Hr("createdAt","desc"));return(await Rt(v)).docs.forEach(w=>{const y=w.data();o.push({id:w.id,type:"petHostel",service:y.serviceName,amount:y.amount,status:y.paymentStatus,createdAt:y.createdAt,paymentId:y.razorpayPaymentId,petName:y.petName,petDetails:y.petDetails,customer:y.customerDetails,rawPaymentStatus:y.paymentStatus,rawBookingStatus:y.bookingStatus,startDate:y.startDate,endDate:y.endDate,foodPreference:y.foodPreference})}),o.sort((w,y)=>!w.createdAt||!y.createdAt?0:y.createdAt.toMillis()-w.createdAt.toMillis())},{data:n,isLoading:s,error:r}=In({queryKey:["transactions",t==null?void 0:t.uid],queryFn:e,enabled:!!t});return{transactions:n,isLoading:s,error:r}},Wee=async()=>{const t=Ze(he,"groomingServices"),e=ts(t,Hr("createdAt","desc"));return(await Rt(e)).docs.map(s=>({id:s.id,...s.data()}))},xC=()=>{const t=rn(),{data:e=[],isLoading:n,error:s}=In({queryKey:["groomingServices"],queryFn:Wee}),r=dt({mutationFn:async({serviceData:l,imageFile:c,galleryFiles:u})=>{let d="",h=[];if(c){const f=Zn(Jn,`groomingServices/${Date.now()}_${c.name}`);await Yn(f,c),d=await Xn(f)}if(u&&u.length>0){const f=u.map(async(g,v)=>{const x=Zn(Jn,`groomingServices/gallery/${Date.now()}_${v}_${g.name}`);return await Yn(x,g),Xn(x)});h=await Promise.all(f)}return Ei(Ze(he,"groomingServices"),{...l,imageUrl:d,galleryImages:h,createdAt:_t(),updatedAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["groomingServices"]}),H.success("Grooming service added successfully!")},onError:l=>{H.error(l.message||"Failed to add grooming service")}}),a=dt({mutationFn:async({serviceId:l,serviceData:c,imageFile:u,galleryFiles:d})=>{const h={...c};if(u){const g=Zn(Jn,`groomingServices/${Date.now()}_${u.name}`);await Yn(g,u),h.imageUrl=await Xn(g)}if(d&&d.length>0){const g=d.map(async(w,y)=>{const b=Zn(Jn,`groomingServices/gallery/${Date.now()}_${y}_${w.name}`);return await Yn(b,w),Xn(b)}),v=await Promise.all(g),x=c.galleryImages||[];h.galleryImages=[...x,...v]}h.updatedAt=_t();const f=at(he,"groomingServices",l);return Wn(f,h)},onSuccess:()=>{t.invalidateQueries({queryKey:["groomingServices"]}),H.success("Grooming service updated successfully!")},onError:l=>{H.error(l.message||"Failed to update grooming service")}}),o=dt({mutationFn:async l=>{const c=at(he,"groomingServices",l);return Wn(c,{isActive:!1,updatedAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["groomingServices"]}),H.success("Grooming service deleted successfully!")},onError:l=>{H.error(l.message||"Failed to delete grooming service")}});return{services:e.filter(l=>l.isActive),allServices:e,isLoading:n,error:s,addService:r.mutateAsync,updateService:a.mutateAsync,deleteService:o.mutateAsync,isAddingService:r.isPending,isUpdatingService:a.isPending,isDeletingService:o.isPending}},qee=async()=>{const t=Ze(he,"petHostelServices"),e=ts(t,Hr("createdAt","desc"));return(await Rt(e)).docs.map(s=>({id:s.id,...s.data()}))},vC=()=>{const t=rn(),{data:e=[],isLoading:n,error:s}=In({queryKey:["petHostelServices"],queryFn:qee}),r=dt({mutationFn:async({serviceData:l,imageFile:c,galleryFiles:u})=>{let d="",h=[];if(c){const f=Zn(Jn,`petHostelServices/${Date.now()}_${c.name}`);await Yn(f,c),d=await Xn(f)}if(u&&u.length>0){const f=u.map(async(g,v)=>{const x=Zn(Jn,`petHostelServices/gallery/${Date.now()}_${v}_${g.name}`);return await Yn(x,g),Xn(x)});h=await Promise.all(f)}return Ei(Ze(he,"petHostelServices"),{...l,imageUrl:d,galleryImages:h,createdAt:_t(),updatedAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["petHostelServices"]}),H.success("Pet hostel service added successfully!")},onError:l=>{H.error(l.message||"Failed to add pet hostel service")}}),a=dt({mutationFn:async({serviceId:l,serviceData:c,imageFile:u,galleryFiles:d})=>{const h={...c};if(u){const g=Zn(Jn,`petHostelServices/${Date.now()}_${u.name}`);await Yn(g,u),h.imageUrl=await Xn(g)}if(d&&d.length>0){const g=d.map(async(w,y)=>{const b=Zn(Jn,`petHostelServices/gallery/${Date.now()}_${y}_${w.name}`);return await Yn(b,w),Xn(b)}),v=await Promise.all(g),x=c.galleryImages||[];h.galleryImages=[...x,...v]}h.updatedAt=_t();const f=at(he,"petHostelServices",l);return Wn(f,h)},onSuccess:()=>{t.invalidateQueries({queryKey:["petHostelServices"]}),H.success("Pet hostel service updated successfully!")},onError:l=>{H.error(l.message||"Failed to update pet hostel service")}}),o=dt({mutationFn:async l=>{const c=at(he,"petHostelServices",l);return Wn(c,{isActive:!1,updatedAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["petHostelServices"]}),H.success("Pet hostel service deleted successfully!")},onError:l=>{H.error(l.message||"Failed to delete pet hostel service")}});return{services:e.filter(l=>l.isActive),allServices:e,isLoading:n,error:s,addService:r.mutateAsync,updateService:a.mutateAsync,deleteService:o.mutateAsync,isAddingService:r.isPending,isUpdatingService:a.isPending,isDeletingService:o.isPending}},de=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ie("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));de.displayName="Card";const He=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ie("flex flex-col space-y-1.5 p-6",t),...e}));He.displayName="CardHeader";const Ke=p.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:ie("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ke.displayName="CardTitle";const Fu=p.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));Fu.displayName="CardDescription";const ge=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ie("p-6 pt-0",t),...e}));ge.displayName="CardContent";const GN=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:ie("flex items-center p-6 pt-0",t),...e}));GN.displayName="CardFooter";var yw=0;function P0(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??KP()),document.body.insertAdjacentElement("beforeend",t[1]??KP()),yw++,()=>{yw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yw--}},[])}function KP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ww="focusScope.autoFocusOnMount",bw="focusScope.autoFocusOnUnmount",QP={bubbles:!1,cancelable:!0},Gee="FocusScope",np=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),u=sn(r),d=sn(a),h=p.useRef(null),f=nt(e,x=>c(x)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let x=function(N){if(g.paused||!l)return;const E=N.target;l.contains(E)?h.current=E:Eo(h.current,{select:!0})},w=function(N){if(g.paused||!l)return;const E=N.relatedTarget;E!==null&&(l.contains(E)||Eo(h.current,{select:!0}))},y=function(N){if(document.activeElement===document.body)for(const I of N)I.removedNodes.length>0&&Eo(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),b.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){XP.add(g);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(ww,QP);l.addEventListener(ww,u),l.dispatchEvent(y),y.defaultPrevented||(Kee(Jee(aF(l)),{select:!0}),document.activeElement===x&&Eo(l))}return()=>{l.removeEventListener(ww,u),setTimeout(()=>{const y=new CustomEvent(bw,QP);l.addEventListener(bw,d),l.dispatchEvent(y),y.defaultPrevented||Eo(x??document.body,{select:!0}),l.removeEventListener(bw,d),XP.remove(g)},0)}}},[l,u,d,g]);const v=p.useCallback(x=>{if(!n&&!s||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(w&&y){const b=x.currentTarget,[N,E]=Qee(b);N&&E?!x.shiftKey&&y===E?(x.preventDefault(),n&&Eo(N,{select:!0})):x.shiftKey&&y===N&&(x.preventDefault(),n&&Eo(E,{select:!0})):y===b&&x.preventDefault()}},[n,s,g.paused]);return i.jsx(Ae.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});np.displayName=Gee;function Kee(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Eo(s,{select:e}),document.activeElement!==n)return}function Qee(t){const e=aF(t),n=YP(e,t),s=YP(e.reverse(),t);return[n,s]}function aF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function YP(t,e){for(const n of t)if(!Yee(n,{upTo:e}))return n}function Yee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Xee(t){return t instanceof HTMLInputElement&&"select"in t}function Eo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Xee(t)&&e&&t.select()}}var XP=Zee();function Zee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ZP(t,e),t.unshift(e)},remove(e){var n;t=ZP(t,e),(n=t[0])==null||n.resume()}}}function ZP(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function Jee(t){return t.filter(e=>e.tagName!=="A")}var ete=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},uu=new WeakMap,pg=new WeakMap,gg={},Nw=0,oF=function(t){return t&&(t.host||oF(t.parentNode))},tte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=oF(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nte=function(t,e,n,s){var r=tte(e,Array.isArray(t)?t:[t]);gg[n]||(gg[n]=new WeakMap);var a=gg[n],o=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(f){if(l.has(f))d(f);else try{var g=f.getAttribute(s),v=g!==null&&g!=="false",x=(uu.get(f)||0)+1,w=(a.get(f)||0)+1;uu.set(f,x),a.set(f,w),o.push(f),x===1&&v&&pg.set(f,!0),w===1&&f.setAttribute(n,"true"),v||f.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return d(e),l.clear(),Nw++,function(){o.forEach(function(h){var f=uu.get(h)-1,g=a.get(h)-1;uu.set(h,f),a.set(h,g),f||(pg.has(h)||h.removeAttribute(s),pg.delete(h)),g||h.removeAttribute(n)}),Nw--,Nw||(uu=new WeakMap,uu=new WeakMap,pg=new WeakMap,gg={})}},sp=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=ete(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live]"))),nte(s,r,n,"aria-hidden")):function(){return null}},Rf="right-scroll-bar-position",Pf="width-before-scroll-bar",ste="with-scroll-bars-hidden",rte="--removed-body-scroll-bar-size";function _w(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ite(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var ate=typeof window<"u"?p.useLayoutEffect:p.useEffect,JP=new WeakMap;function lF(t,e){var n=ite(null,function(s){return t.forEach(function(r){return _w(r,s)})});return ate(function(){var s=JP.get(n);if(s){var r=new Set(s),a=new Set(t),o=n.current;r.forEach(function(l){a.has(l)||_w(l,null)}),a.forEach(function(l){r.has(l)||_w(l,o)})}JP.set(n,t)},[t]),n}function ote(t){return t}function lte(t,e){e===void 0&&(e=ote);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(a){var o=e(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return r}function cF(t){t===void 0&&(t={});var e=lte(null);return e.options=bs({async:!0,ssr:!1},t),e}var uF=function(t){var e=t.sideCar,n=eh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,bs({},n))};uF.isSideCarExport=!0;function dF(t,e){return t.useMedium(e),uF}var hF=cF(),jw=function(){},I0=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:jw,onWheelCapture:jw,onTouchMoveCapture:jw}),r=s[0],a=s[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,v=t.inert,x=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,b=t.gapMode,N=eh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,I=lF([n,e]),A=bs(bs({},N),r);return p.createElement(p.Fragment,null,d&&p.createElement(E,{sideCar:hF,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?p.cloneElement(p.Children.only(l),bs(bs({},A),{ref:I})):p.createElement(y,bs({},A,{className:c,ref:I}),l))});I0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I0.classNames={fullWidth:Pf,zeroRight:Rf};var cte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ute(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=cte();return e&&t.setAttribute("nonce",e),t}function dte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function hte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var fte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ute())&&(dte(e,n),hte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},mte=function(){var t=fte();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yC=function(){var t=mte(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},pte={left:0,top:0,right:0,gap:0},Cw=function(t){return parseInt(t||"",10)||0},gte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Cw(n),Cw(s),Cw(r)]},xte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return pte;var e=gte(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},vte=yC(),Zu="data-scroll-locked",yte=function(t,e,n,s){var r=t.left,a=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ste,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Zu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Rf,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Pf,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Rf," .").concat(Rf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Pf," .").concat(Pf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Zu,`] {
    `).concat(rte,": ").concat(l,`px;
  }
`)},eI=function(){var t=parseInt(document.body.getAttribute(Zu)||"0",10);return isFinite(t)?t:0},wte=function(){p.useEffect(function(){return document.body.setAttribute(Zu,(eI()+1).toString()),function(){var t=eI()-1;t<=0?document.body.removeAttribute(Zu):document.body.setAttribute(Zu,t.toString())}},[])},fF=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;wte();var a=p.useMemo(function(){return xte(r)},[r]);return p.createElement(vte,{styles:yte(a,!e,r,n?"":"!important")})},KN=!1;if(typeof window<"u")try{var xg=Object.defineProperty({},"passive",{get:function(){return KN=!0,!0}});window.addEventListener("test",xg,xg),window.removeEventListener("test",xg,xg)}catch{KN=!1}var du=KN?{passive:!1}:!1,bte=function(t){return t.tagName==="TEXTAREA"},mF=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!bte(t)&&n[e]==="visible")},Nte=function(t){return mF(t,"overflowY")},_te=function(t){return mF(t,"overflowX")},tI=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=pF(t,s);if(r){var a=gF(t,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},jte=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},Cte=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},pF=function(t,e){return t==="v"?Nte(e):_te(e)},gF=function(t,e){return t==="v"?jte(e):Cte(e)},Ste=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ete=function(t,e,n,s,r){var a=Ste(t,window.getComputedStyle(e).direction),o=a*s,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var g=gF(t,l),v=g[0],x=g[1],w=g[2],y=x-w-a*v;(v||y)&&pF(t,l)&&(h+=y,f+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(Math.abs(h)<1||!r)||!d&&(Math.abs(f)<1||!r))&&(u=!0),u},vg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},nI=function(t){return[t.deltaX,t.deltaY]},sI=function(t){return t&&"current"in t?t.current:t},Tte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Rte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Pte=0,hu=[];function Ite(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),r=p.useState(Pte++)[0],a=p.useState(yC)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var x=u4([t.lockRef.current],(t.shards||[]).map(sI),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var y=vg(x),b=n.current,N="deltaX"in x?x.deltaX:b[0]-y[0],E="deltaY"in x?x.deltaY:b[1]-y[1],I,A=x.target,C=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in x&&C==="h"&&A.type==="range")return!1;var _=tI(C,A);if(!_)return!0;if(_?I=C:(I=C==="v"?"h":"v",_=tI(C,A)),!_)return!1;if(!s.current&&"changedTouches"in x&&(N||E)&&(s.current=I),!I)return!0;var S=s.current||I;return Ete(S,w,x,S==="h"?N:E,!0)},[]),c=p.useCallback(function(x){var w=x;if(!(!hu.length||hu[hu.length-1]!==a)){var y="deltaY"in w?nI(w):vg(w),b=e.current.filter(function(I){return I.name===w.type&&(I.target===w.target||w.target===I.shadowParent)&&Tte(I.delta,y)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var N=(o.current.shards||[]).map(sI).filter(Boolean).filter(function(I){return I.contains(w.target)}),E=N.length>0?l(w,N[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(x,w,y,b){var N={name:x,delta:w,target:y,should:b,shadowParent:kte(y)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(E){return E!==N})},1)},[]),d=p.useCallback(function(x){n.current=vg(x),s.current=void 0},[]),h=p.useCallback(function(x){u(x.type,nI(x),x.target,l(x,t.lockRef.current))},[]),f=p.useCallback(function(x){u(x.type,vg(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return hu.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,du),document.addEventListener("touchmove",c,du),document.addEventListener("touchstart",d,du),function(){hu=hu.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,du),document.removeEventListener("touchmove",c,du),document.removeEventListener("touchstart",d,du)}},[]);var g=t.removeScrollBar,v=t.inert;return p.createElement(p.Fragment,null,v?p.createElement(a,{styles:Rte(r)}):null,g?p.createElement(fF,{gapMode:t.gapMode}):null)}function kte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ate=dF(hF,Ite);var rp=p.forwardRef(function(t,e){return p.createElement(I0,bs({},t,{ref:e,sideCar:Ate}))});rp.classNames=I0.classNames;var wC="Popover",[xF,rhe]=Ws(wC,[Dl]),ip=Dl(),[Dte,Ul]=xF(wC),vF=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:o=!1}=t,l=ip(e),c=p.useRef(null),[u,d]=p.useState(!1),[h=!1,f]=yi({prop:s,defaultProp:r,onChange:a});return i.jsx(qj,{...l,children:i.jsx(Dte,{scope:e,contentId:pi(),triggerRef:c,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:u,onCustomAnchorAdd:p.useCallback(()=>d(!0),[]),onCustomAnchorRemove:p.useCallback(()=>d(!1),[]),modal:o,children:n})})};vF.displayName=wC;var yF="PopoverAnchor",Mte=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=Ul(yF,n),a=ip(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=r;return p.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Vm,{...a,...s,ref:e})});Mte.displayName=yF;var wF="PopoverTrigger",bF=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=Ul(wF,n),a=ip(n),o=nt(e,r.triggerRef),l=i.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":SF(r.open),...s,ref:o,onClick:ue(t.onClick,r.onOpenToggle)});return r.hasCustomAnchor?l:i.jsx(Vm,{asChild:!0,...a,children:l})});bF.displayName=wF;var bC="PopoverPortal",[Ote,Fte]=xF(bC,{forceMount:void 0}),NF=t=>{const{__scopePopover:e,forceMount:n,children:s,container:r}=t,a=Ul(bC,e);return i.jsx(Ote,{scope:e,forceMount:n,children:i.jsx(qn,{present:n||a.open,children:i.jsx(Hd,{asChild:!0,container:r,children:s})})})};NF.displayName=bC;var Od="PopoverContent",_F=p.forwardRef((t,e)=>{const n=Fte(Od,t.__scopePopover),{forceMount:s=n.forceMount,...r}=t,a=Ul(Od,t.__scopePopover);return i.jsx(qn,{present:s||a.open,children:a.modal?i.jsx(Lte,{...r,ref:e}):i.jsx(Vte,{...r,ref:e})})});_F.displayName=Od;var Lte=p.forwardRef((t,e)=>{const n=Ul(Od,t.__scopePopover),s=p.useRef(null),r=nt(e,s),a=p.useRef(!1);return p.useEffect(()=>{const o=s.current;if(o)return sp(o)},[]),i.jsx(rp,{as:Ji,allowPinchZoom:!0,children:i.jsx(jF,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ue(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Vte=p.forwardRef((t,e)=>{const n=Ul(Od,t.__scopePopover),s=p.useRef(!1),r=p.useRef(!1);return i.jsx(jF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),jF=p.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,f=Ul(Od,n),g=ip(n);return P0(),i.jsx(np,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:i.jsx(e0,{"data-state":SF(f.open),role:"dialog",id:f.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),CF="PopoverClose",$te=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=Ul(CF,n);return i.jsx(Ae.button,{type:"button",...s,ref:e,onClick:ue(t.onClick,()=>r.onOpenChange(!1))})});$te.displayName=CF;var Ute="PopoverArrow",Bte=p.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,r=ip(n);return i.jsx(t0,{...r,...s,ref:e})});Bte.displayName=Ute;function SF(t){return t?"open":"closed"}var zte=vF,Hte=bF,Wte=NF,EF=_F;const Qa=zte,Ya=Hte,ia=p.forwardRef(({className:t,align:e="center",sideOffset:n=4,...s},r)=>i.jsx(Wte,{children:i.jsx(EF,{ref:r,align:e,sideOffset:n,className:ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));ia.displayName=EF.displayName;var qte=p.createContext(void 0);function uh(t){const e=p.useContext(qte);return t||e||"ltr"}function QN(t,[e,n]){return Math.min(n,Math.max(e,t))}function Gte(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var NC="ScrollArea",[TF,ihe]=Ws(NC),[Kte,Xr]=TF(NC),RF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:a=600,...o}=t,[l,c]=p.useState(null),[u,d]=p.useState(null),[h,f]=p.useState(null),[g,v]=p.useState(null),[x,w]=p.useState(null),[y,b]=p.useState(0),[N,E]=p.useState(0),[I,A]=p.useState(!1),[C,_]=p.useState(!1),S=nt(e,k=>c(k)),T=uh(r);return i.jsx(Kte,{scope:n,type:s,dir:T,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:I,onScrollbarXEnabledChange:A,scrollbarY:x,onScrollbarYChange:w,scrollbarYEnabled:C,onScrollbarYEnabledChange:_,onCornerWidthChange:b,onCornerHeightChange:E,children:i.jsx(Ae.div,{dir:T,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":N+"px",...t.style}})})});RF.displayName=NC;var PF="ScrollAreaViewport",IF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:s,asChild:r,nonce:a,...o}=t,l=Xr(PF,n),c=p.useRef(null),u=nt(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(Ae.div,{"data-radix-scroll-area-viewport":"",...o,asChild:r,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:rne({asChild:r,children:s},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});IF.displayName=PF;var fa="ScrollAreaScrollbar",_C=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=Xr(fa,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=r,l=t.orientation==="horizontal";return p.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),r.type==="hover"?i.jsx(Qte,{...s,ref:e,forceMount:n}):r.type==="scroll"?i.jsx(Yte,{...s,ref:e,forceMount:n}):r.type==="auto"?i.jsx(kF,{...s,ref:e,forceMount:n}):r.type==="always"?i.jsx(jC,{...s,ref:e}):null});_C.displayName=fa;var Qte=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=Xr(fa,t.__scopeScrollArea),[a,o]=p.useState(!1);return p.useEffect(()=>{const l=r.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(qn,{present:n||a,children:i.jsx(kF,{"data-state":a?"visible":"hidden",...s,ref:e})})}),Yte=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=Xr(fa,t.__scopeScrollArea),a=t.orientation==="horizontal",o=A0(()=>c("SCROLL_END"),100),[l,c]=Gte("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,r.scrollHideDelay,c]),p.useEffect(()=>{const u=r.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const g=u[d];h!==g&&(c("SCROLL"),o()),h=g};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[r.viewport,a,c,o]),i.jsx(qn,{present:n||l!=="hidden",children:i.jsx(jC,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:e,onPointerEnter:ue(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),kF=p.forwardRef((t,e)=>{const n=Xr(fa,t.__scopeScrollArea),{forceMount:s,...r}=t,[a,o]=p.useState(!1),l=t.orientation==="horizontal",c=A0(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return Fd(n.viewport,c),Fd(n.content,c),i.jsx(qn,{present:s||a,children:i.jsx(jC,{"data-state":a?"visible":"hidden",...r,ref:e})})}),jC=p.forwardRef((t,e)=>{const{orientation:n="vertical",...s}=t,r=Xr(fa,t.__scopeScrollArea),a=p.useRef(null),o=p.useRef(0),[l,c]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=FF(l.viewport,l.content),d={...s,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:f=>a.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function h(f,g){return nne(f,o.current,l,g)}return n==="horizontal"?i.jsx(Xte,{...d,ref:e,onThumbPositionChange:()=>{if(r.viewport&&a.current){const f=r.viewport.scrollLeft,g=rI(f,l,r.dir);a.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollLeft=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollLeft=h(f,r.dir))}}):n==="vertical"?i.jsx(Zte,{...d,ref:e,onThumbPositionChange:()=>{if(r.viewport&&a.current){const f=r.viewport.scrollTop,g=rI(f,l);a.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{r.viewport&&(r.viewport.scrollTop=f)},onDragScroll:f=>{r.viewport&&(r.viewport.scrollTop=h(f))}}):null}),Xte=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,a=Xr(fa,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=nt(e,c,a.onScrollbarXChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(DF,{"data-orientation":"horizontal",...r,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":k0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),VF(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:rv(o.paddingLeft),paddingEnd:rv(o.paddingRight)}})}})}),Zte=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:s,...r}=t,a=Xr(fa,t.__scopeScrollArea),[o,l]=p.useState(),c=p.useRef(null),u=nt(e,c,a.onScrollbarYChange);return p.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(DF,{"data-orientation":"vertical",...r,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":k0(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const f=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),VF(f,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:rv(o.paddingTop),paddingEnd:rv(o.paddingBottom)}})}})}),[Jte,AF]=TF(fa),DF=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,g=Xr(fa,n),[v,x]=p.useState(null),w=nt(e,S=>x(S)),y=p.useRef(null),b=p.useRef(""),N=g.viewport,E=s.content-s.viewport,I=sn(d),A=sn(c),C=A0(h,10);function _(S){if(y.current){const T=S.clientX-y.current.left,k=S.clientY-y.current.top;u({x:T,y:k})}}return p.useEffect(()=>{const S=T=>{const k=T.target;(v==null?void 0:v.contains(k))&&I(T,E)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[N,v,E,I]),p.useEffect(A,[s,A]),Fd(v,C),Fd(g.content,C),i.jsx(Jte,{scope:n,scrollbar:v,hasThumb:r,onThumbChange:sn(a),onThumbPointerUp:sn(o),onThumbPositionChange:A,onThumbPointerDown:sn(l),children:i.jsx(Ae.div,{...f,ref:w,style:{position:"absolute",...f.style},onPointerDown:ue(t.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),y.current=v.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(S))}),onPointerMove:ue(t.onPointerMove,_),onPointerUp:ue(t.onPointerUp,S=>{const T=S.target;T.hasPointerCapture(S.pointerId)&&T.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=b.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),sv="ScrollAreaThumb",MF=p.forwardRef((t,e)=>{const{forceMount:n,...s}=t,r=AF(sv,t.__scopeScrollArea);return i.jsx(qn,{present:n||r.hasThumb,children:i.jsx(ene,{ref:e,...s})})}),ene=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:s,...r}=t,a=Xr(sv,n),o=AF(sv,n),{onThumbPositionChange:l}=o,c=nt(e,h=>o.onThumbChange(h)),u=p.useRef(),d=A0(()=>{u.current&&(u.current(),u.current=void 0)},100);return p.useEffect(()=>{const h=a.viewport;if(h){const f=()=>{if(d(),!u.current){const g=sne(h,l);u.current=g,l()}};return l(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[a.viewport,d,l]),i.jsx(Ae.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:ue(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),v=h.clientX-g.left,x=h.clientY-g.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:ue(t.onPointerUp,o.onThumbPointerUp)})});MF.displayName=sv;var CC="ScrollAreaCorner",OF=p.forwardRef((t,e)=>{const n=Xr(CC,t.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?i.jsx(tne,{...t,ref:e}):null});OF.displayName=CC;var tne=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...s}=t,r=Xr(CC,n),[a,o]=p.useState(0),[l,c]=p.useState(0),u=!!(a&&l);return Fd(r.scrollbarX,()=>{var h;const d=((h=r.scrollbarX)==null?void 0:h.offsetHeight)||0;r.onCornerHeightChange(d),c(d)}),Fd(r.scrollbarY,()=>{var h;const d=((h=r.scrollbarY)==null?void 0:h.offsetWidth)||0;r.onCornerWidthChange(d),o(d)}),u?i.jsx(Ae.div,{...s,ref:e,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function rv(t){return t?parseInt(t,10):0}function FF(t,e){const n=t/e;return isNaN(n)?0:n}function k0(t){const e=FF(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=(t.scrollbar.size-n)*e;return Math.max(s,18)}function nne(t,e,n,s="ltr"){const r=k0(n),a=r/2,o=e||a,l=r-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,h=s==="ltr"?[0,d]:[d*-1,0];return LF([c,u],h)(t)}function rI(t,e,n="ltr"){const s=k0(e),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-r,o=e.content-e.viewport,l=a-s,c=n==="ltr"?[0,o]:[o*-1,0],u=QN(t,c);return LF([0,o],[0,l])(u)}function LF(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function VF(t,e){return t>0&&t<e}var sne=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},s=0;return function r(){const a={left:t.scrollLeft,top:t.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&e(),n=a,s=window.requestAnimationFrame(r)}(),()=>window.cancelAnimationFrame(s)};function A0(t,e){const n=sn(t),s=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),p.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,e)},[n,e])}function Fd(t,e){const n=sn(e);Hn(()=>{let s=0;if(t){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(t),()=>{window.cancelAnimationFrame(s),r.unobserve(t)}}},[t,n])}function rne(t,e){const{asChild:n,children:s}=t;if(!n)return typeof e=="function"?e(s):e;const r=p.Children.only(s);return p.cloneElement(r,{children:typeof e=="function"?e(r.props.children):e})}var $F=RF,ine=IF,ane=OF;const SC=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs($F,{ref:s,className:ie("relative overflow-hidden",t),...n,children:[i.jsx(ine,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(UF,{}),i.jsx(ane,{})]}));SC.displayName=$F.displayName;const UF=p.forwardRef(({className:t,orientation:e="vertical",...n},s)=>i.jsx(_C,{ref:s,orientation:e,className:ie("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:i.jsx(MF,{className:"relative flex-1 rounded-full bg-border"})}));UF.displayName=_C.displayName;const one=()=>{const{reminders:t}=tp(),{transactions:e}=ch(),n=p.useMemo(()=>{const a=Ka(),o=[];return t.forEach(l=>{if(l.status!=="upcoming"||(e==null?void 0:e.some(h=>h.reminderId===l.id&&h.status==="successful")))return;const u=new Date(l.due),d=Xi(u,a);if(d<0){const h=Math.abs(d);o.push({id:`overdue-${l.id}`,type:"overdue",title:"Vaccination Overdue!",message:`${l.vaccine} for ${l.dog} is ${h} day${h>1?"s":""} overdue`,priority:"high",timestamp:u,reminderId:l.id,dogName:l.dog,vaccine:l.vaccine,isRead:!1})}else d<=7&&o.push({id:`due-soon-${l.id}`,type:"due-soon",title:"Vaccination Due Soon",message:`${l.vaccine} for ${l.dog} is due in ${d} day${d!==1?"s":""}`,priority:d<=3?"high":"medium",timestamp:u,reminderId:l.id,dogName:l.dog,vaccine:l.vaccine,isRead:!1})}),e==null||e.slice(0,3).forEach(l=>{if(l.status==="successful"&&l.createdAt){const c=l.createdAt.toDate();Xi(a,c)<=7&&o.push({id:`booking-${l.id}`,type:"booking-confirmed",title:"Booking Confirmed",message:`Home vaccination booked successfully - ${l.amount}`,priority:"medium",timestamp:c,isRead:!1})}}),o.sort((l,c)=>{const u={high:0,medium:1,low:2};return u[l.priority]!==u[c.priority]?u[l.priority]-u[c.priority]:c.timestamp.getTime()-l.timestamp.getTime()})},[t,e]),s=n.filter(a=>!a.isRead).length,r=n.filter(a=>a.priority==="high"&&!a.isRead).length;return{notifications:n,unreadCount:s,highPriorityCount:r,hasOverdue:n.some(a=>a.type==="overdue"),hasDueSoon:n.some(a=>a.type==="due-soon")}},lne=()=>{const{notifications:t,unreadCount:e,highPriorityCount:n,hasOverdue:s}=one(),[r,a]=p.useState(!1),o=cs(),l=h=>{switch(h){case"overdue":return i.jsx(w9,{className:"h-4 w-4 text-red-400"});case"due-soon":return i.jsx(Ln,{className:"h-4 w-4 text-yellow-400"});case"booking-confirmed":return i.jsx(dn,{className:"h-4 w-4 text-green-400"});default:return i.jsx(xf,{className:"h-4 w-4 text-blue-400"})}},c=(h,f)=>h==="overdue"?"border-l-red-500 bg-red-500/5":h==="due-soon"&&f==="high"?"border-l-yellow-500 bg-yellow-500/5":h==="due-soon"?"border-l-yellow-400 bg-yellow-400/5":h==="booking-confirmed"?"border-l-green-500 bg-green-500/5":"border-l-blue-500 bg-blue-500/5",u=h=>{h.reminderId&&h.dogName?o(`/my-dogs/${encodeURIComponent(h.dogName)}`):o("/dashboard"),a(!1)},d=()=>s?"text-red-400 animate-pulse":n>0?"text-yellow-400":e>0?"text-purple-400":"text-slate-400";return i.jsxs(Qa,{open:r,onOpenChange:a,children:[i.jsx(Ya,{asChild:!0,children:i.jsxs(z,{size:"icon",variant:"ghost",className:"relative text-white hover:bg-white/10",children:[i.jsx(xf,{className:ie("h-5 w-5 transition-colors",d())}),e>0&&i.jsx("div",{className:ie("absolute -top-1 -right-1 h-5 w-5 rounded-full flex items-center justify-center text-xs font-bold text-white",s?"bg-red-500 animate-pulse":n>0?"bg-yellow-500":"bg-purple-500"),children:e>99?"99+":e})]})}),i.jsx(ia,{className:"w-80 p-0 bg-slate-800 border-slate-700",align:"end",sideOffset:8,children:i.jsxs(de,{className:"border-0 bg-transparent",children:[i.jsx(He,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ke,{className:"text-white text-lg",children:"Notifications"}),i.jsxs("div",{className:"flex items-center gap-2",children:[e>0&&i.jsxs(Ce,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:[e," new"]}),i.jsx(z,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-white",onClick:()=>a(!1),children:i.jsx(Kc,{className:"h-4 w-4"})})]})]})}),i.jsxs(ge,{className:"p-0",children:[t.length===0?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx(xf,{className:"h-12 w-12 text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"No notifications"}),i.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"You're all caught up!"})]}):i.jsx(SC,{className:"h-80",children:i.jsx("div",{className:"space-y-1 p-2",children:t.map(h=>i.jsx("div",{className:ie("p-3 rounded-lg border-l-4 cursor-pointer hover:bg-slate-700/50 transition-colors",c(h.type,h.priority)),onClick:()=>u(h),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l(h.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-white font-medium text-sm",children:h.title}),i.jsx("p",{className:"text-slate-300 text-xs mt-1 line-clamp-2",children:h.message}),i.jsx("p",{className:"text-slate-500 text-xs mt-2",children:Oee(h.timestamp,{addSuffix:!0})})]}),h.priority==="high"&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"})})]})},h.id))})}),t.length>0&&i.jsx("div",{className:"p-3 border-t border-slate-700",children:i.jsx(z,{variant:"ghost",size:"sm",className:"w-full text-purple-300 hover:text-white hover:bg-purple-500/20",onClick:()=>{o("/dashboard"),a(!1)},children:"View All Reminders"})})]})]})})]})};function Me({className:t,...e}){return i.jsx("div",{className:ie("animate-pulse rounded-md bg-muted",t),...e})}const cne=t=>t!=null&&t.displayName?t.displayName:t!=null&&t.phoneNumber?`User...${t.phoneNumber.slice(-4)}`:"Pet Parent",une=(t,e)=>{const n=Ka();let s=0;return t.forEach(r=>{if(r.status==="upcoming"){if(e==null?void 0:e.some(l=>l.type==="vaccination"&&l.reminderId===r.id&&l.status==="successful"))return;Xi(new Date(r.due),n)<0&&s++}}),s>0?{message:`${s} vaccination${s>1?"s are":" is"} overdue`,color:"text-red-400"}:{message:"All vaccinations are up to date",color:"text-green-400"}},dne=(t,e)=>{if(!t)return null;if(e==null?void 0:e.some(r=>r.type==="vaccination"&&r.reminderId===t.id&&r.status==="successful"))return{statusText:"Booked & Confirmed",actionText:"View Booking",colorClass:"text-green-400",buttonVariant:"outline"};const s=Xi(new Date(t.due),Ka());return s<0?{statusText:`${Math.abs(s)} day${Math.abs(s)>1?"s":""} Overdue`,actionText:"Book Now (Urgent)",colorClass:"text-red-400",buttonVariant:"default"}:{statusText:`Due in ${s} day${s!==1?"s":""}`,actionText:"Book Now",colorClass:"text-yellow-400",buttonVariant:"default"}},hne=({dog:t,onClick:e})=>i.jsx("div",{onClick:e,className:"flex flex-col items-center gap-2 flex-shrink-0 w-24 cursor-pointer group",children:i.jsxs("div",{className:"relative h-24 w-24",children:[i.jsxs(ir,{className:"h-full w-full border-2 border-slate-700/80 group-hover:border-purple-500 transition-all duration-300 rounded-2xl",children:[i.jsx(gi,{src:t.imageUrl,alt:t.name,className:"object-cover"}),i.jsx(ar,{className:"bg-purple-600 text-white font-bold rounded-2xl",children:t.name.charAt(0)})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent rounded-2xl pointer-events-none"}),i.jsx("p",{className:"absolute bottom-2 left-0 right-0 text-white text-sm font-semibold text-center truncate px-1 pointer-events-none",children:t.name})]})}),fne=({onClick:t})=>i.jsx("div",{onClick:t,className:"flex flex-col items-center justify-center gap-2 flex-shrink-0 w-24 h-24 cursor-pointer group",children:i.jsxs("div",{className:"h-full w-full rounded-2xl border-2 border-dashed border-slate-600 flex flex-col items-center justify-center bg-slate-800/50 group-hover:border-purple-500 group-hover:bg-slate-800/80 transition-all duration-300",children:[i.jsx(ea,{className:"h-8 w-8 text-slate-500 group-hover:text-purple-400 transition-colors"}),i.jsx("p",{className:"text-slate-400 text-xs font-medium mt-1",children:"Add Pet"})]})}),iI=({children:t,className:e=""})=>i.jsx("div",{className:`relative p-[2px] rounded-2xl bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 ${e}`,children:i.jsx("div",{className:"bg-slate-900/90 backdrop-blur-sm rounded-[14px] h-full w-full p-4",children:t})}),Co=({children:t,className:e="",onClick:n})=>i.jsx("div",{className:`bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-4 ${n?"cursor-pointer hover:border-slate-600 transition-colors":""} ${e}`,onClick:n,children:t}),mne=()=>{var b;const{user:t}=en(),{dogs:e,isLoading:n}=Jc(),{reminders:s,isLoading:r}=tp(),{transactions:a,isLoading:o}=ch(),{services:l,isLoading:c}=xC(),{services:u,isLoading:d}=vC(),h=cs(),f=n||r||o||c||d,{nextReminder:g,recentTransaction:v,healthStatus:x,stats:w}=p.useMemo(()=>{const N=s.filter(C=>C.status==="upcoming").sort((C,_)=>new Date(C.due).getTime()-new Date(_.due).getTime()),E=a==null?void 0:a.sort((C,_)=>_.createdAt.toMillis()-C.createdAt.toMillis())[0],I=une(s,a),A={totalPets:e.length,completedVaccinations:s.filter(C=>C.status==="completed").length};return{nextReminder:N[0],recentTransaction:E,healthStatus:I,stats:A}},[s,a,e]),y=p.useMemo(()=>dne(g,a),[g,a]);return f?i.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:i.jsx("p",{children:"Loading dashboard..."})}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-black to-slate-900 text-white pb-24",children:[i.jsx("header",{className:"px-5 pt-10 pb-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-sm",children:"Welcome back,"}),i.jsx("h1",{className:"text-3xl font-bold text-white -mt-1",children:cne(t)}),i.jsx("p",{className:`text-sm mt-1 font-medium ${x.color}`,children:x.message})]}),i.jsx(lne,{})]})}),i.jsxs("main",{className:"space-y-8 px-5",children:[i.jsx("section",{children:g&&y?i.jsxs(iI,{children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsxs(ir,{className:"h-14 w-14 border-2 border-slate-700",children:[i.jsx(gi,{src:(b=e.find(N=>N.name===g.dog))==null?void 0:b.imageUrl}),i.jsx(ar,{children:g.dog.charAt(0)})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-slate-400 text-sm",children:[g.dog,"'s Next Vaccination"]}),i.jsx("p",{className:"text-white font-bold text-lg -mt-1",children:g.vaccine})]})]}),i.jsxs("div",{className:"flex items-center justify-between bg-slate-800/70 p-3 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:`h-5 w-5 ${y.colorClass}`}),i.jsx("span",{className:`font-semibold ${y.colorClass}`,children:y.statusText})]}),i.jsx("p",{className:"text-slate-300",children:Ee(new Date(g.due),"MMM d, yyyy")})]}),i.jsxs(z,{onClick:()=>h("/dashboard"),size:"lg",className:"w-full font-bold text-base bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:shadow-[0_0_20px_rgba(192,38,211,0.5)] transition-shadow duration-300",children:[y.actionText,i.jsx(Pj,{className:"h-5 w-5 ml-2"})]})]}):i.jsx(iI,{children:i.jsxs("div",{className:"text-center py-4",children:[i.jsx(dn,{className:"h-12 w-12 mx-auto text-green-400 mb-2"}),i.jsx("h3",{className:"text-white text-lg font-semibold",children:"All Caught Up!"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"No upcoming vaccinations found."})]})})}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"My Pets"}),i.jsx(Aa,{className:"h-5 w-5 text-slate-500"})]}),e.length>0?i.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-2 -mx-5 px-5 scrollbar-hide",children:[e.map(N=>i.jsx(hne,{dog:N,onClick:()=>h(`/my-dogs/${N.name}`)},N.id)),i.jsx(fne,{onClick:()=>h("/my-dogs")})]}):i.jsxs(Co,{className:"text-center",children:[i.jsx(ta,{className:"h-8 w-8 mx-auto text-purple-400 mb-2"}),i.jsx("h3",{className:"text-white font-semibold",children:"Welcome to GVAX!"}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add your pet to start tracking their health."}),i.jsx(z,{onClick:()=>h("/my-dogs"),className:"bg-purple-600 hover:bg-purple-700",children:"Add Your First Pet"})]})]}),v&&i.jsxs("section",{children:[i.jsx("h2",{className:"text-lg font-semibold text-white mb-4",children:"Recent Booking"}),i.jsxs(Co,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"p-3 rounded-full bg-green-500/10",children:[v.type==="grooming"&&i.jsx(mi,{className:"h-5 w-5 text-purple-400"}),v.type==="petHostel"&&i.jsx(Os,{className:"h-5 w-5 text-blue-400"}),v.type==="vaccination"&&i.jsx(lr,{className:"h-5 w-5 text-green-400"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-medium",children:v.service}),v.petName&&i.jsxs("p",{className:"text-slate-400 text-xs",children:["For ",v.petName]}),i.jsx("p",{className:"text-slate-400 text-xs",children:Ee(v.createdAt.toDate(),"MMM d, yyyy")})]}),i.jsx(Ce,{className:`text-xs ${v.status==="successful"||v.status==="paid"||v.status==="confirmed"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:v.status==="successful"||v.status==="paid"||v.status==="confirmed"?"Paid":"Failed"})]}),i.jsxs("div",{className:"border-t border-slate-700/50 pt-3 flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-400 text-sm",children:"Amount Paid"}),i.jsxs("span",{className:"text-white font-bold flex items-center",children:[i.jsx(rt,{className:"h-4 w-4 mr-0.5"}),v.amount]})]})]})]}),i.jsxs("section",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Co,{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-white",children:w.totalPets}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Total Pets"})]}),i.jsxs(Co,{className:"text-center",children:[i.jsx("p",{className:"text-3xl font-bold text-white",children:w.completedVaccinations}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Completed"})]})]}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Grooming Services"}),i.jsxs(z,{variant:"ghost",size:"sm",className:"text-purple-400 hover:text-white",onClick:()=>h("/grooming-services"),children:["View All ",i.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]}),c?i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Me,{className:"h-40 rounded-lg bg-slate-700"}),i.jsx(Me,{className:"h-40 rounded-lg bg-slate-700"})]}):l.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:l.slice(0,2).map(N=>i.jsx(Co,{onClick:()=>h(`/grooming-services/${N.id}`),children:i.jsxs("div",{className:"flex items-center gap-4",children:[N.imageUrl&&i.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-16 h-16 object-cover rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-white font-semibold",children:N.name}),i.jsx("p",{className:"text-slate-400 text-sm line-clamp-2",children:N.description}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center text-white text-sm",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),N.price.toFixed(2)]}),i.jsxs("div",{className:"flex items-center text-slate-400 text-xs",children:[i.jsx(Ln,{className:"h-3 w-3 mr-1"}),N.duration," min"]})]})]})]})},N.id))}):i.jsxs(Co,{className:"text-center",children:[i.jsx(mi,{className:"h-8 w-8 mx-auto text-purple-400 mb-2"}),i.jsx("h3",{className:"text-white font-semibold",children:"No Grooming Services"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Check back later for available services."})]})]}),i.jsxs("section",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-white",children:"Pet Hostel Services"}),i.jsxs(z,{variant:"ghost",size:"sm",className:"text-blue-400 hover:text-white",onClick:()=>h("/pet-hostel-services"),children:["View All ",i.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]}),d?i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Me,{className:"h-40 rounded-lg bg-slate-700"}),i.jsx(Me,{className:"h-40 rounded-lg bg-slate-700"})]}):u.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:u.slice(0,2).map(N=>i.jsx(Co,{onClick:()=>h(`/pet-hostel-services/${N.id}`),children:i.jsxs("div",{className:"flex items-center gap-4",children:[N.imageUrl&&i.jsx("img",{src:N.imageUrl,alt:N.name,className:"w-16 h-16 object-cover rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-white font-semibold",children:N.name}),i.jsx("p",{className:"text-slate-400 text-sm line-clamp-2",children:N.description}),i.jsxs("div",{className:"flex items-center justify-between mt-2",children:[i.jsxs("div",{className:"flex items-center text-white text-sm",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),N.dailyRate.toFixed(2),"/day"]}),i.jsxs("div",{className:"flex items-center text-slate-400 text-xs",children:[i.jsx(Oj,{className:"h-3 w-3 mr-1"}),"Capacity: ",N.capacity]})]})]})]})},N.id))}):i.jsxs(Co,{className:"text-center",children:[i.jsx(Os,{className:"h-8 w-8 mx-auto text-blue-400 mb-2"}),i.jsx("h3",{className:"text-white font-semibold",children:"No Pet Hostel Services"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Check back later for available services."})]})]})]})]})};function pne(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>v,Object.values(v));return i.jsx(x.Provider,{value:w,children:g})}function d(h,f){const g=(f==null?void 0:f[t][c])||l,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const r=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,gne(r,...e)]}function gne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Sw="rovingFocusGroup.onEntryFocus",xne={bubbles:!1,cancelable:!0},D0="RovingFocusGroup",[YN,BF,vne]=qv(D0),[yne,dh]=pne(D0,[vne]),[wne,bne]=yne(D0),zF=p.forwardRef((t,e)=>i.jsx(YN.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(YN.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(Nne,{...t,ref:e})})}));zF.displayName=D0;var Nne=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=p.useRef(null),g=nt(e,f),v=uh(a),[x=null,w]=yi({prop:o,defaultProp:l,onChange:c}),[y,b]=p.useState(!1),N=sn(u),E=BF(n),I=p.useRef(!1),[A,C]=p.useState(0);return p.useEffect(()=>{const _=f.current;if(_)return _.addEventListener(Sw,N),()=>_.removeEventListener(Sw,N)},[N]),i.jsx(wne,{scope:n,orientation:s,dir:v,loop:r,currentTabStopId:x,onItemFocus:p.useCallback(_=>w(_),[w]),onItemShiftTab:p.useCallback(()=>b(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:p.useCallback(()=>C(_=>_-1),[]),children:i.jsx(Ae.div,{tabIndex:y||A===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:ue(t.onMouseDown,()=>{I.current=!0}),onFocus:ue(t.onFocus,_=>{const S=!I.current;if(_.target===_.currentTarget&&S&&!y){const T=new CustomEvent(Sw,xne);if(_.currentTarget.dispatchEvent(T),!T.defaultPrevented){const k=E().filter(te=>te.focusable),D=k.find(te=>te.active),P=k.find(te=>te.id===x),ee=[D,P,...k].filter(Boolean).map(te=>te.ref.current);qF(ee,d)}}I.current=!1}),onBlur:ue(t.onBlur,()=>b(!1))})})}),HF="RovingFocusGroupItem",WF=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:a,...o}=t,l=pi(),c=a||l,u=bne(HF,n),d=u.currentTabStopId===c,h=BF(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=u;return p.useEffect(()=>{if(s)return f(),()=>g()},[s,f,g]),i.jsx(YN.ItemSlot,{scope:n,id:c,focusable:s,active:r,children:i.jsx(Ae.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:ue(t.onMouseDown,v=>{s?u.onItemFocus(c):v.preventDefault()}),onFocus:ue(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:ue(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Cne(v,u.orientation,u.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let y=h().filter(b=>b.focusable).map(b=>b.ref.current);if(x==="last")y.reverse();else if(x==="prev"||x==="next"){x==="prev"&&y.reverse();const b=y.indexOf(v.currentTarget);y=u.loop?Sne(y,b+1):y.slice(b+1)}setTimeout(()=>qF(y))}})})})});WF.displayName=HF;var _ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Cne(t,e,n){const s=jne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return _ne[s]}function qF(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Sne(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var EC=zF,TC=WF,RC="Tabs",[Ene,ahe]=Ws(RC,[dh]),GF=dh(),[Tne,PC]=Ene(RC),KF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=uh(l),[h,f]=yi({prop:s,onChange:r,defaultProp:a});return i.jsx(Tne,{scope:n,baseId:pi(),value:h,onValueChange:f,orientation:o,dir:d,activationMode:c,children:i.jsx(Ae.div,{dir:d,"data-orientation":o,...u,ref:e})})});KF.displayName=RC;var QF="TabsList",YF=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,a=PC(QF,n),o=GF(n);return i.jsx(EC,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:i.jsx(Ae.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:e})})});YF.displayName=QF;var XF="TabsTrigger",ZF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...a}=t,o=PC(XF,n),l=GF(n),c=t3(o.baseId,s),u=n3(o.baseId,s),d=s===o.value;return i.jsx(TC,{asChild:!0,...l,focusable:!r,active:d,children:i.jsx(Ae.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...a,ref:e,onMouseDown:ue(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:ue(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:ue(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!r&&h&&o.onValueChange(s)})})})});ZF.displayName=XF;var JF="TabsContent",e3=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:a,...o}=t,l=PC(JF,n),c=t3(l.baseId,s),u=n3(l.baseId,s),d=s===l.value,h=p.useRef(d);return p.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),i.jsx(qn,{present:r||d,children:({present:f})=>i.jsx(Ae.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!f,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&a})})});e3.displayName=JF;function t3(t,e){return`${t}-trigger-${e}`}function n3(t,e){return`${t}-content-${e}`}var Rne=KF,s3=YF,r3=ZF,i3=e3;const xm=Rne,Ld=p.forwardRef(({className:t,...e},n)=>i.jsx(s3,{ref:n,className:ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ld.displayName=s3.displayName;const an=p.forwardRef(({className:t,...e},n)=>i.jsx(r3,{ref:n,className:ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));an.displayName=r3.displayName;const on=p.forwardRef(({className:t,...e},n)=>i.jsx(i3,{ref:n,className:ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));on.displayName=i3.displayName;var XN=["Enter"," "],Pne=["ArrowDown","PageUp","Home"],a3=["ArrowUp","PageDown","End"],Ine=[...Pne,...a3],kne={ltr:[...XN,"ArrowRight"],rtl:[...XN,"ArrowLeft"]},Ane={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ap="Menu",[vm,Dne,Mne]=qv(ap),[eu,o3]=Ws(ap,[Mne,Dl,dh]),M0=Dl(),l3=dh(),[One,tu]=eu(ap),[Fne,op]=eu(ap),c3=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:a,modal:o=!0}=t,l=M0(e),[c,u]=p.useState(null),d=p.useRef(!1),h=sn(a),f=uh(r);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),i.jsx(qj,{...l,children:i.jsx(One,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(Fne,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:o,children:s})})})};c3.displayName=ap;var Lne="MenuAnchor",IC=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=M0(n);return i.jsx(Vm,{...r,...s,ref:e})});IC.displayName=Lne;var kC="MenuPortal",[Vne,u3]=eu(kC,{forceMount:void 0}),d3=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,a=tu(kC,e);return i.jsx(Vne,{scope:e,forceMount:n,children:i.jsx(qn,{present:n||a.open,children:i.jsx(Hd,{asChild:!0,container:r,children:s})})})};d3.displayName=kC;var Wr="MenuContent",[$ne,AC]=eu(Wr),h3=p.forwardRef((t,e)=>{const n=u3(Wr,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,a=tu(Wr,t.__scopeMenu),o=op(Wr,t.__scopeMenu);return i.jsx(vm.Provider,{scope:t.__scopeMenu,children:i.jsx(qn,{present:s||a.open,children:i.jsx(vm.Slot,{scope:t.__scopeMenu,children:o.modal?i.jsx(Une,{...r,ref:e}):i.jsx(Bne,{...r,ref:e})})})})}),Une=p.forwardRef((t,e)=>{const n=tu(Wr,t.__scopeMenu),s=p.useRef(null),r=nt(e,s);return p.useEffect(()=>{const a=s.current;if(a)return sp(a)},[]),i.jsx(DC,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ue(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Bne=p.forwardRef((t,e)=>{const n=tu(Wr,t.__scopeMenu);return i.jsx(DC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),DC=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,disableOutsideScroll:v,...x}=t,w=tu(Wr,n),y=op(Wr,n),b=M0(n),N=l3(n),E=Dne(n),[I,A]=p.useState(null),C=p.useRef(null),_=nt(e,C,w.onContentChange),S=p.useRef(0),T=p.useRef(""),k=p.useRef(0),D=p.useRef(null),P=p.useRef("right"),G=p.useRef(0),ee=v?rp:p.Fragment,te=v?{as:Ji,allowPinchZoom:!0}:void 0,Q=V=>{var oe,Pe;const Z=T.current+V,F=E().filter(Oe=>!Oe.disabled),L=document.activeElement,B=(oe=F.find(Oe=>Oe.ref.current===L))==null?void 0:oe.textValue,K=F.map(Oe=>Oe.textValue),ne=ese(K,Z,B),ae=(Pe=F.find(Oe=>Oe.textValue===ne))==null?void 0:Pe.ref.current;(function Oe(Ue){T.current=Ue,window.clearTimeout(S.current),Ue!==""&&(S.current=window.setTimeout(()=>Oe(""),1e3))})(Z),ae&&setTimeout(()=>ae.focus())};p.useEffect(()=>()=>window.clearTimeout(S.current),[]),P0();const O=p.useCallback(V=>{var F,L;return P.current===((F=D.current)==null?void 0:F.side)&&nse(V,(L=D.current)==null?void 0:L.area)},[]);return i.jsx($ne,{scope:n,searchRef:T,onItemEnter:p.useCallback(V=>{O(V)&&V.preventDefault()},[O]),onItemLeave:p.useCallback(V=>{var Z;O(V)||((Z=C.current)==null||Z.focus(),A(null))},[O]),onTriggerLeave:p.useCallback(V=>{O(V)&&V.preventDefault()},[O]),pointerGraceTimerRef:k,onPointerGraceIntentChange:p.useCallback(V=>{D.current=V},[]),children:i.jsx(ee,{...te,children:i.jsx(np,{asChild:!0,trapped:r,onMountAutoFocus:ue(a,V=>{var Z;V.preventDefault(),(Z=C.current)==null||Z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:g,children:i.jsx(EC,{asChild:!0,...N,dir:y.dir,orientation:"vertical",loop:s,currentTabStopId:I,onCurrentTabStopIdChange:A,onEntryFocus:ue(c,V=>{y.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(e0,{role:"menu","aria-orientation":"vertical","data-state":T3(w.open),"data-radix-menu-content":"",dir:y.dir,...b,...x,ref:_,style:{outline:"none",...x.style},onKeyDown:ue(x.onKeyDown,V=>{const F=V.target.closest("[data-radix-menu-content]")===V.currentTarget,L=V.ctrlKey||V.altKey||V.metaKey,B=V.key.length===1;F&&(V.key==="Tab"&&V.preventDefault(),!L&&B&&Q(V.key));const K=C.current;if(V.target!==K||!Ine.includes(V.key))return;V.preventDefault();const ae=E().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);a3.includes(V.key)&&ae.reverse(),Zne(ae)}),onBlur:ue(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(S.current),T.current="")}),onPointerMove:ue(t.onPointerMove,ym(V=>{const Z=V.target,F=G.current!==V.clientX;if(V.currentTarget.contains(Z)&&F){const L=V.clientX>G.current?"right":"left";P.current=L,G.current=V.clientX}}))})})})})})})});h3.displayName=Wr;var zne="MenuGroup",MC=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return i.jsx(Ae.div,{role:"group",...s,ref:e})});MC.displayName=zne;var Hne="MenuLabel",f3=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return i.jsx(Ae.div,{...s,ref:e})});f3.displayName=Hne;var iv="MenuItem",aI="menu.itemSelect",O0=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,a=p.useRef(null),o=op(iv,t.__scopeMenu),l=AC(iv,t.__scopeMenu),c=nt(e,a),u=p.useRef(!1),d=()=>{const h=a.current;if(!n&&h){const f=new CustomEvent(aI,{bubbles:!0,cancelable:!0});h.addEventListener(aI,g=>s==null?void 0:s(g),{once:!0}),Sj(h,f),f.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(m3,{...r,ref:c,disabled:n,onClick:ue(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:ue(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:ue(t.onKeyDown,h=>{const f=l.searchRef.current!=="";n||f&&h.key===" "||XN.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});O0.displayName=iv;var m3=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...a}=t,o=AC(iv,n),l=l3(n),c=p.useRef(null),u=nt(e,c),[d,h]=p.useState(!1),[f,g]=p.useState("");return p.useEffect(()=>{const v=c.current;v&&g((v.textContent??"").trim())},[a.children]),i.jsx(vm.ItemSlot,{scope:n,disabled:s,textValue:r??f,children:i.jsx(TC,{asChild:!0,...l,focusable:!s,children:i.jsx(Ae.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:u,onPointerMove:ue(t.onPointerMove,ym(v=>{s?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(t.onPointerLeave,ym(v=>o.onItemLeave(v))),onFocus:ue(t.onFocus,()=>h(!0)),onBlur:ue(t.onBlur,()=>h(!1))})})})}),Wne="MenuCheckboxItem",p3=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return i.jsx(w3,{scope:t.__scopeMenu,checked:n,children:i.jsx(O0,{role:"menuitemcheckbox","aria-checked":av(n)?"mixed":n,...r,ref:e,"data-state":FC(n),onSelect:ue(r.onSelect,()=>s==null?void 0:s(av(n)?!0:!n),{checkForDefaultPrevented:!1})})})});p3.displayName=Wne;var g3="MenuRadioGroup",[qne,Gne]=eu(g3,{value:void 0,onValueChange:()=>{}}),x3=p.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,a=sn(s);return i.jsx(qne,{scope:t.__scopeMenu,value:n,onValueChange:a,children:i.jsx(MC,{...r,ref:e})})});x3.displayName=g3;var v3="MenuRadioItem",y3=p.forwardRef((t,e)=>{const{value:n,...s}=t,r=Gne(v3,t.__scopeMenu),a=n===r.value;return i.jsx(w3,{scope:t.__scopeMenu,checked:a,children:i.jsx(O0,{role:"menuitemradio","aria-checked":a,...s,ref:e,"data-state":FC(a),onSelect:ue(s.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});y3.displayName=v3;var OC="MenuItemIndicator",[w3,Kne]=eu(OC,{checked:!1}),b3=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,a=Kne(OC,n);return i.jsx(qn,{present:s||av(a.checked)||a.checked===!0,children:i.jsx(Ae.span,{...r,ref:e,"data-state":FC(a.checked)})})});b3.displayName=OC;var Qne="MenuSeparator",N3=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return i.jsx(Ae.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});N3.displayName=Qne;var Yne="MenuArrow",_3=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=M0(n);return i.jsx(t0,{...r,...s,ref:e})});_3.displayName=Yne;var Xne="MenuSub",[ohe,j3]=eu(Xne),tf="MenuSubTrigger",C3=p.forwardRef((t,e)=>{const n=tu(tf,t.__scopeMenu),s=op(tf,t.__scopeMenu),r=j3(tf,t.__scopeMenu),a=AC(tf,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(IC,{asChild:!0,...u,children:i.jsx(m3,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":T3(n.open),...t,ref:Wv(e,r.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ue(t.onPointerMove,ym(h=>{a.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ue(t.onPointerLeave,ym(h=>{var g,v;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const x=(v=n.content)==null?void 0:v.dataset.side,w=x==="right",y=w?-5:5,b=f[w?"left":"right"],N=f[w?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:f.top},{x:N,y:f.top},{x:N,y:f.bottom},{x:b,y:f.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:ue(t.onKeyDown,h=>{var g;const f=a.searchRef.current!=="";t.disabled||f&&h.key===" "||kne[s.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});C3.displayName=tf;var S3="MenuSubContent",E3=p.forwardRef((t,e)=>{const n=u3(Wr,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,a=tu(Wr,t.__scopeMenu),o=op(Wr,t.__scopeMenu),l=j3(S3,t.__scopeMenu),c=p.useRef(null),u=nt(e,c);return i.jsx(vm.Provider,{scope:t.__scopeMenu,children:i.jsx(qn,{present:s||a.open,children:i.jsx(vm.Slot,{scope:t.__scopeMenu,children:i.jsx(DC,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ue(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:ue(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ue(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),f=Ane[o.dir].includes(d.key);h&&f&&(a.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});E3.displayName=S3;function T3(t){return t?"open":"closed"}function av(t){return t==="indeterminate"}function FC(t){return av(t)?"indeterminate":t?"checked":"unchecked"}function Zne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Jne(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function ese(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Jne(t,Math.max(a,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function tse(t,e){const{x:n,y:s}=t;let r=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>s!=d>s&&n<(u-l)*(s-c)/(d-c)+l&&(r=!r)}return r}function nse(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return tse(n,e)}function ym(t){return e=>e.pointerType==="mouse"?t(e):void 0}var sse=c3,rse=IC,ise=d3,ase=h3,ose=MC,lse=f3,cse=O0,use=p3,dse=x3,hse=y3,fse=b3,mse=N3,pse=_3,gse=C3,xse=E3,LC="DropdownMenu",[vse,lhe]=Ws(LC,[o3]),qs=o3(),[yse,R3]=vse(LC),P3=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=qs(e),u=p.useRef(null),[d=!1,h]=yi({prop:r,defaultProp:a,onChange:o});return i.jsx(yse,{scope:e,triggerId:pi(),triggerRef:u,contentId:pi(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:l,children:i.jsx(sse,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:n})})};P3.displayName=LC;var I3="DropdownMenuTrigger",k3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,a=R3(I3,n),o=qs(n);return i.jsx(rse,{asChild:!0,...o,children:i.jsx(Ae.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Wv(e,a.triggerRef),onPointerDown:ue(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:ue(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});k3.displayName=I3;var wse="DropdownMenuPortal",A3=t=>{const{__scopeDropdownMenu:e,...n}=t,s=qs(e);return i.jsx(ise,{...s,...n})};A3.displayName=wse;var D3="DropdownMenuContent",M3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=R3(D3,n),a=qs(n),o=p.useRef(!1);return i.jsx(ase,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...s,ref:e,onCloseAutoFocus:ue(t.onCloseAutoFocus,l=>{var c;o.current||(c=r.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ue(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M3.displayName=D3;var bse="DropdownMenuGroup",Nse=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(ose,{...r,...s,ref:e})});Nse.displayName=bse;var _se="DropdownMenuLabel",O3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(lse,{...r,...s,ref:e})});O3.displayName=_se;var jse="DropdownMenuItem",F3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(cse,{...r,...s,ref:e})});F3.displayName=jse;var Cse="DropdownMenuCheckboxItem",L3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(use,{...r,...s,ref:e})});L3.displayName=Cse;var Sse="DropdownMenuRadioGroup",Ese=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(dse,{...r,...s,ref:e})});Ese.displayName=Sse;var Tse="DropdownMenuRadioItem",V3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(hse,{...r,...s,ref:e})});V3.displayName=Tse;var Rse="DropdownMenuItemIndicator",$3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(fse,{...r,...s,ref:e})});$3.displayName=Rse;var Pse="DropdownMenuSeparator",U3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(mse,{...r,...s,ref:e})});U3.displayName=Pse;var Ise="DropdownMenuArrow",kse=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(pse,{...r,...s,ref:e})});kse.displayName=Ise;var Ase="DropdownMenuSubTrigger",B3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(gse,{...r,...s,ref:e})});B3.displayName=Ase;var Dse="DropdownMenuSubContent",z3=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=qs(n);return i.jsx(xse,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z3.displayName=Dse;var Mse=P3,Ose=k3,Fse=A3,H3=M3,W3=O3,q3=F3,G3=L3,K3=V3,Q3=$3,Y3=U3,X3=B3,Z3=z3;const hr=Mse,fr=Ose,Lse=p.forwardRef(({className:t,inset:e,children:n,...s},r)=>i.jsxs(X3,{ref:r,className:ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,i.jsx(Aa,{className:"ml-auto h-4 w-4"})]}));Lse.displayName=X3.displayName;const Vse=p.forwardRef(({className:t,...e},n)=>i.jsx(Z3,{ref:n,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Vse.displayName=Z3.displayName;const Gs=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>i.jsx(Fse,{children:i.jsx(H3,{ref:s,sideOffset:e,className:ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Gs.displayName=H3.displayName;const Wt=p.forwardRef(({className:t,inset:e,...n},s)=>i.jsx(q3,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Wt.displayName=q3.displayName;const ZN=p.forwardRef(({className:t,children:e,checked:n,...s},r)=>i.jsxs(G3,{ref:r,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Q3,{children:i.jsx(Wd,{className:"h-4 w-4"})})}),e]}));ZN.displayName=G3.displayName;const $se=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(K3,{ref:s,className:ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Q3,{children:i.jsx(B2,{className:"h-2 w-2 fill-current"})})}),e]}));$se.displayName=K3.displayName;const VC=p.forwardRef(({className:t,inset:e,...n},s)=>i.jsx(W3,{ref:s,className:ie("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));VC.displayName=W3.displayName;const JN=p.forwardRef(({className:t,...e},n)=>i.jsx(Y3,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));JN.displayName=Y3.displayName;var $C="Dialog",[J3,eL]=Ws($C),[Use,Ti]=J3($C),tL=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=yi({prop:s,defaultProp:r,onChange:a});return i.jsx(Use,{scope:e,triggerRef:l,contentRef:c,contentId:pi(),titleId:pi(),descriptionId:pi(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};tL.displayName=$C;var nL="DialogTrigger",sL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ti(nL,n),a=nt(e,r.triggerRef);return i.jsx(Ae.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":zC(r.open),...s,ref:a,onClick:ue(t.onClick,r.onOpenToggle)})});sL.displayName=nL;var UC="DialogPortal",[Bse,rL]=J3(UC,{forceMount:void 0}),iL=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,a=Ti(UC,e);return i.jsx(Bse,{scope:e,forceMount:n,children:p.Children.map(s,o=>i.jsx(qn,{present:n||a.open,children:i.jsx(Hd,{asChild:!0,container:r,children:o})}))})};iL.displayName=UC;var ov="DialogOverlay",aL=p.forwardRef((t,e)=>{const n=rL(ov,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,a=Ti(ov,t.__scopeDialog);return a.modal?i.jsx(qn,{present:s||a.open,children:i.jsx(zse,{...r,ref:e})}):null});aL.displayName=ov;var zse=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ti(ov,n);return i.jsx(rp,{as:Ji,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(Ae.div,{"data-state":zC(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Dc="DialogContent",oL=p.forwardRef((t,e)=>{const n=rL(Dc,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,a=Ti(Dc,t.__scopeDialog);return i.jsx(qn,{present:s||a.open,children:a.modal?i.jsx(Hse,{...r,ref:e}):i.jsx(Wse,{...r,ref:e})})});oL.displayName=Dc;var Hse=p.forwardRef((t,e)=>{const n=Ti(Dc,t.__scopeDialog),s=p.useRef(null),r=nt(e,n.contentRef,s);return p.useEffect(()=>{const a=s.current;if(a)return sp(a)},[]),i.jsx(lL,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,a=>a.preventDefault())})}),Wse=p.forwardRef((t,e)=>{const n=Ti(Dc,t.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return i.jsx(lL,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),lL=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=t,l=Ti(Dc,n),c=p.useRef(null),u=nt(e,c);return P0(),i.jsxs(i.Fragment,{children:[i.jsx(np,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(Gc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":zC(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Gse,{titleId:l.titleId}),i.jsx(Qse,{contentRef:c,descriptionId:l.descriptionId})]})]})}),BC="DialogTitle",cL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ti(BC,n);return i.jsx(Ae.h2,{id:r.titleId,...s,ref:e})});cL.displayName=BC;var uL="DialogDescription",dL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ti(uL,n);return i.jsx(Ae.p,{id:r.descriptionId,...s,ref:e})});dL.displayName=uL;var hL="DialogClose",fL=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=Ti(hL,n);return i.jsx(Ae.button,{type:"button",...s,ref:e,onClick:ue(t.onClick,()=>r.onOpenChange(!1))})});fL.displayName=hL;function zC(t){return t?"open":"closed"}var mL="DialogTitleWarning",[qse,pL]=C7(mL,{contentName:Dc,titleName:BC,docsSlug:"dialog"}),Gse=({titleId:t})=>{const e=pL(mL),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Kse="DialogDescriptionWarning",Qse=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pL(Kse).contentName}}.`;return p.useEffect(()=>{var a;const r=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},HC=tL,gL=sL,WC=iL,lp=aL,cp=oL,up=cL,dp=dL,hp=fL,xL="AlertDialog",[Yse,che]=Ws(xL,[eL]),io=eL(),vL=t=>{const{__scopeAlertDialog:e,...n}=t,s=io(e);return i.jsx(HC,{...s,...n,modal:!0})};vL.displayName=xL;var Xse="AlertDialogTrigger",yL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=io(n);return i.jsx(gL,{...r,...s,ref:e})});yL.displayName=Xse;var Zse="AlertDialogPortal",wL=t=>{const{__scopeAlertDialog:e,...n}=t,s=io(e);return i.jsx(WC,{...s,...n})};wL.displayName=Zse;var Jse="AlertDialogOverlay",bL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=io(n);return i.jsx(lp,{...r,...s,ref:e})});bL.displayName=Jse;var Ju="AlertDialogContent",[ere,tre]=Yse(Ju),NL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:s,...r}=t,a=io(n),o=p.useRef(null),l=nt(e,o),c=p.useRef(null);return i.jsx(qse,{contentName:Ju,titleName:_L,docsSlug:"alert-dialog",children:i.jsx(ere,{scope:n,cancelRef:c,children:i.jsxs(cp,{role:"alertdialog",...a,...r,ref:l,onOpenAutoFocus:ue(r.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Cj,{children:s}),i.jsx(sre,{contentRef:o})]})})})});NL.displayName=Ju;var _L="AlertDialogTitle",jL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=io(n);return i.jsx(up,{...r,...s,ref:e})});jL.displayName=_L;var CL="AlertDialogDescription",SL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=io(n);return i.jsx(dp,{...r,...s,ref:e})});SL.displayName=CL;var nre="AlertDialogAction",EL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,r=io(n);return i.jsx(hp,{...r,...s,ref:e})});EL.displayName=nre;var TL="AlertDialogCancel",RL=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:r}=tre(TL,n),a=io(n),o=nt(e,r);return i.jsx(hp,{...a,...s,ref:o})});RL.displayName=TL;var sre=({contentRef:t})=>{const e=`\`${Ju}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ju}\` by passing a \`${CL}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ju}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},rre=vL,ire=yL,are=wL,PL=bL,IL=NL,kL=EL,AL=RL,DL=jL,ML=SL;const Bl=rre,ore=ire,lre=are,OL=p.forwardRef(({className:t,...e},n)=>i.jsx(PL,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));OL.displayName=PL.displayName;const ao=p.forwardRef(({className:t,...e},n)=>i.jsxs(lre,{children:[i.jsx(OL,{}),i.jsx(IL,{ref:n,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));ao.displayName=IL.displayName;const oo=({className:t,...e})=>i.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",t),...e});oo.displayName="AlertDialogHeader";const lo=({className:t,...e})=>i.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});lo.displayName="AlertDialogFooter";const co=p.forwardRef(({className:t,...e},n)=>i.jsx(DL,{ref:n,className:ie("text-lg font-semibold",t),...e}));co.displayName=DL.displayName;const uo=p.forwardRef(({className:t,...e},n)=>i.jsx(ML,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));uo.displayName=ML.displayName;const ho=p.forwardRef(({className:t,...e},n)=>i.jsx(kL,{ref:n,className:ie(am(),t),...e}));ho.displayName=kL.displayName;const fo=p.forwardRef(({className:t,...e},n)=>i.jsx(AL,{ref:n,className:ie(am({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));fo.displayName=AL.displayName;const cre=({reminder:t,onDelete:e,children:n})=>i.jsxs(Bl,{children:[i.jsx(ore,{asChild:!0,children:n}),i.jsxs(ao,{children:[i.jsxs(oo,{children:[i.jsx(co,{children:"Are you sure?"}),i.jsxs(uo,{children:["This action cannot be undone. This will permanently delete the reminder for ",t.vaccine," for ",t.dog,"."]})]}),i.jsxs(lo,{children:[i.jsx(fo,{children:"Cancel"}),i.jsx(ho,{onClick:()=>e(t.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]}),Lt=HC,mr=gL,ure=WC,aa=hp,FL=p.forwardRef(({className:t,...e},n)=>i.jsx(lp,{ref:n,className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));FL.displayName=lp.displayName;const At=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(ure,{children:[i.jsx(FL,{}),i.jsxs(cp,{ref:s,className:ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,i.jsxs(hp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Kc,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));At.displayName=cp.displayName;const Dt=({className:t,...e})=>i.jsx("div",{className:ie("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Dt.displayName="DialogHeader";const Dr=({className:t,...e})=>i.jsx("div",{className:ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Dr.displayName="DialogFooter";const Mt=p.forwardRef(({className:t,...e},n)=>i.jsx(up,{ref:n,className:ie("text-lg font-semibold leading-none tracking-tight",t),...e}));Mt.displayName=up.displayName;const mo=p.forwardRef(({className:t,...e},n)=>i.jsx(dp,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));mo.displayName=dp.displayName;var dre="Label",LL=p.forwardRef((t,e)=>i.jsx(Ae.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));LL.displayName=dre;var VL=LL;const hre=Dm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),me=p.forwardRef(({className:t,...e},n)=>i.jsx(VL,{ref:n,className:ie(hre(),t),...e}));me.displayName=VL.displayName;var Ye=function(){return Ye=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ye.apply(this,arguments)};function fre(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function $L(t,e,n){for(var s=0,r=e.length,a;s<r;s++)(a||!(s in e))&&(a||(a=Array.prototype.slice.call(e,0,s)),a[s]=e[s]);return t.concat(a||Array.prototype.slice.call(e))}function fp(t){return t.mode==="multiple"}function mp(t){return t.mode==="range"}function F0(t){return t.mode==="single"}var mre={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function pre(t,e){return Ee(t,"LLLL y",e)}function gre(t,e){return Ee(t,"d",e)}function xre(t,e){return Ee(t,"LLLL",e)}function vre(t){return"".concat(t)}function yre(t,e){return Ee(t,"cccccc",e)}function wre(t,e){return Ee(t,"yyyy",e)}var bre=Object.freeze({__proto__:null,formatCaption:pre,formatDay:gre,formatMonthCaption:xre,formatWeekNumber:vre,formatWeekdayName:yre,formatYearCaption:wre}),Nre=function(t,e,n){return Ee(t,"do MMMM (EEEE)",n)},_re=function(){return"Month: "},jre=function(){return"Go to next month"},Cre=function(){return"Go to previous month"},Sre=function(t,e){return Ee(t,"cccc",e)},Ere=function(t){return"Week n. ".concat(t)},Tre=function(){return"Year: "},Rre=Object.freeze({__proto__:null,labelDay:Nre,labelMonthDropdown:_re,labelNext:jre,labelPrevious:Cre,labelWeekNumber:Ere,labelWeekday:Sre,labelYearDropdown:Tre});function Pre(){var t="buttons",e=mre,n=pC,s={},r={},a=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:bre,labels:Rre,locale:n,modifiersClassNames:s,modifiers:r,numberOfMonths:a,styles:o,today:l,mode:"default"}}function Ire(t){var e=t.fromYear,n=t.toYear,s=t.fromMonth,r=t.toMonth,a=t.fromDate,o=t.toDate;return s?a=or(s):e&&(a=new Date(e,0,1)),r?o=T0(r):n&&(o=new Date(n,11,31)),{fromDate:a?Ac(a):void 0,toDate:o?Ac(o):void 0}}var UL=p.createContext(void 0);function kre(t){var e,n=t.initialProps,s=Pre(),r=Ire(n),a=r.fromDate,o=r.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:s.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(F0(n)||fp(n)||mp(n))&&(c=n.onSelect);var u=Ye(Ye(Ye({},s),n),{captionLayout:l,classNames:Ye(Ye({},s.classNames),n.classNames),components:Ye({},n.components),formatters:Ye(Ye({},s.formatters),n.formatters),fromDate:a,labels:Ye(Ye({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:Ye(Ye({},s.modifiers),n.modifiers),modifiersClassNames:Ye(Ye({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ye(Ye({},s.styles),n.styles),toDate:o});return i.jsx(UL.Provider,{value:u,children:t.children})}function Kt(){var t=p.useContext(UL);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function BL(t){var e=Kt(),n=e.locale,s=e.classNames,r=e.styles,a=e.formatters.formatCaption;return i.jsx("div",{className:s.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:a(t.displayMonth,{locale:n})})}function Are(t){return i.jsx("svg",Ye({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function zL(t){var e,n,s=t.onChange,r=t.value,a=t.children,o=t.caption,l=t.className,c=t.style,u=Kt(),d=(n=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Are;return i.jsxs("div",{className:l,style:c,children:[i.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),i.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:r,onChange:s,children:a}),i.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,i.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Dre(t){var e,n=Kt(),s=n.fromDate,r=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!s)return i.jsx(i.Fragment,{});if(!r)return i.jsx(i.Fragment,{});var h=[];if(Uee(s,r))for(var f=or(s),g=s.getMonth();g<=r.getMonth();g++)h.push(vw(f,g));else for(var f=or(new Date),g=0;g<=11;g++)h.push(vw(f,g));var v=function(w){var y=Number(w.target.value),b=vw(or(t.displayMonth),y);t.onChange(b)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:zL;return i.jsx(x,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:h.map(function(w){return i.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function Mre(t){var e,n=t.displayMonth,s=Kt(),r=s.fromDate,a=s.toDate,o=s.locale,l=s.styles,c=s.classNames,u=s.components,d=s.formatters.formatYearCaption,h=s.labels.labelYearDropdown,f=[];if(!r)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});for(var g=r.getFullYear(),v=a.getFullYear(),x=g;x<=v;x++)f.push(GP(eF(new Date),x));var w=function(b){var N=GP(or(n),Number(b.target.value));t.onChange(N)},y=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:zL;return i.jsx(y,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(b){return i.jsx("option",{value:b.getFullYear(),children:d(b,{locale:o})},b.getFullYear())})})}function Ore(t,e){var n=p.useState(t),s=n[0],r=n[1],a=e===void 0?s:e;return[a,r]}function Fre(t){var e=t.month,n=t.defaultMonth,s=t.today,r=e||n||s||new Date,a=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(a&&Md(a,r)<0){var u=-1*(c-1);r=_i(a,u)}return o&&Md(r,o)<0&&(r=o),or(r)}function Lre(){var t=Kt(),e=Fre(t),n=Ore(e,t.month),s=n[0],r=n[1],a=function(o){var l;if(!t.disableNavigation){var c=or(o);r(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[s,a]}function Vre(t,e){for(var n=e.reverseMonths,s=e.numberOfMonths,r=or(t),a=or(_i(r,s)),o=Md(a,r),l=[],c=0;c<o;c++){var u=_i(r,c);l.push(u)}return n&&(l=l.reverse()),l}function $re(t,e){if(!e.disableNavigation){var n=e.toDate,s=e.pagedNavigation,r=e.numberOfMonths,a=r===void 0?1:r,o=s?a:1,l=or(t);if(!n)return _i(l,o);var c=Md(n,t);if(!(c<a))return _i(l,o)}}function Ure(t,e){if(!e.disableNavigation){var n=e.fromDate,s=e.pagedNavigation,r=e.numberOfMonths,a=r===void 0?1:r,o=s?a:1,l=or(t);if(!n)return _i(l,-o);var c=Md(l,n);if(!(c<=0))return _i(l,-o)}}var HL=p.createContext(void 0);function Bre(t){var e=Kt(),n=Lre(),s=n[0],r=n[1],a=Vre(s,e),o=$re(s,e),l=Ure(s,e),c=function(h){return a.some(function(f){return gC(h,f)})},u=function(h,f){c(h)||(f&&tv(h,f)?r(_i(h,1+e.numberOfMonths*-1)):r(h))},d={currentMonth:s,displayMonths:a,goToMonth:r,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return i.jsx(HL.Provider,{value:d,children:t.children})}function pp(){var t=p.useContext(HL);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function oI(t){var e,n=Kt(),s=n.classNames,r=n.styles,a=n.components,o=pp().goToMonth,l=function(d){o(_i(d,t.displayIndex?-t.displayIndex:0))},c=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:BL,u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth});return i.jsxs("div",{className:s.caption_dropdowns,style:r.caption_dropdowns,children:[i.jsx("div",{className:s.vhidden,children:u}),i.jsx(Dre,{onChange:l,displayMonth:t.displayMonth}),i.jsx(Mre,{onChange:l,displayMonth:t.displayMonth})]})}function zre(t){return i.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Hre(t){return i.jsx("svg",Ye({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var lv=p.forwardRef(function(t,e){var n=Kt(),s=n.classNames,r=n.styles,a=[s.button_reset,s.button];t.className&&a.push(t.className);var o=a.join(" "),l=Ye(Ye({},r.button_reset),r.button);return t.style&&Object.assign(l,t.style),i.jsx("button",Ye({},t,{ref:e,type:"button",className:o,style:l}))});function Wre(t){var e,n,s=Kt(),r=s.dir,a=s.locale,o=s.classNames,l=s.styles,c=s.labels,u=c.labelPrevious,d=c.labelNext,h=s.components;if(!t.nextMonth&&!t.previousMonth)return i.jsx(i.Fragment,{});var f=u(t.previousMonth,{locale:a}),g=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:a}),x=[o.nav_button,o.nav_button_next].join(" "),w=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Hre,y=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:zre;return i.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&i.jsx(lv,{name:"previous-month","aria-label":f,className:g,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:r==="rtl"?i.jsx(w,{className:o.nav_icon,style:l.nav_icon}):i.jsx(y,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&i.jsx(lv,{name:"next-month","aria-label":v,className:x,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:r==="rtl"?i.jsx(y,{className:o.nav_icon,style:l.nav_icon}):i.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function lI(t){var e=Kt().numberOfMonths,n=pp(),s=n.previousMonth,r=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(v){return gC(t.displayMonth,v)}),c=l===0,u=l===o.length-1,d=e>1&&(c||!u),h=e>1&&(u||!c),f=function(){s&&a(s)},g=function(){r&&a(r)};return i.jsx(Wre,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:r,previousMonth:s,onPreviousClick:f,onNextClick:g})}function qre(t){var e,n=Kt(),s=n.classNames,r=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:BL,u;return r?u=i.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=i.jsx(oI,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=i.jsxs(i.Fragment,{children:[i.jsx(oI,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),i.jsx(lI,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=i.jsxs(i.Fragment,{children:[i.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(lI,{displayMonth:t.displayMonth,id:t.id})]}),i.jsx("div",{className:s.caption,style:a.caption,children:u})}function Gre(t){var e=Kt(),n=e.footer,s=e.styles,r=e.classNames.tfoot;return n?i.jsx("tfoot",{className:r,style:s.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:n})})}):i.jsx(i.Fragment,{})}function Kre(t,e,n){for(var s=n?kc(new Date):ra(new Date,{locale:t,weekStartsOn:e}),r=[],a=0;a<7;a++){var o=ks(s,a);r.push(o)}return r}function Qre(){var t=Kt(),e=t.classNames,n=t.styles,s=t.showWeekNumber,r=t.locale,a=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=Kre(r,a,o);return i.jsxs("tr",{style:n.head_row,className:e.head_row,children:[s&&i.jsx("td",{style:n.head_cell,className:e.head_cell}),u.map(function(d,h){return i.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(d,{locale:r}),children:l(d,{locale:r})},h)})]})}function Yre(){var t,e=Kt(),n=e.classNames,s=e.styles,r=e.components,a=(t=r==null?void 0:r.HeadRow)!==null&&t!==void 0?t:Qre;return i.jsx("thead",{style:s.head,className:n.head,children:i.jsx(a,{})})}function Xre(t){var e=Kt(),n=e.locale,s=e.formatters.formatDay;return i.jsx(i.Fragment,{children:s(t.date,{locale:n})})}var qC=p.createContext(void 0);function Zre(t){if(!fp(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return i.jsx(qC.Provider,{value:e,children:t.children})}return i.jsx(Jre,{initialProps:t.initialProps,children:t.children})}function Jre(t){var e=t.initialProps,n=t.children,s=e.selected,r=e.min,a=e.max,o=function(u,d,h){var f,g;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var v=!!(d.selected&&r&&(s==null?void 0:s.length)===r);if(!v){var x=!!(!d.selected&&a&&(s==null?void 0:s.length)===a);if(!x){var w=s?$L([],s):[];if(d.selected){var y=w.findIndex(function(b){return Ns(u,b)});w.splice(y,1)}else w.push(u);(g=e.onSelect)===null||g===void 0||g.call(e,w,u,d,h)}}},l={disabled:[]};s&&l.disabled.push(function(u){var d=a&&s.length>a-1,h=s.some(function(f){return Ns(f,u)});return!!(d&&!h)});var c={selected:s,onDayClick:o,modifiers:l};return i.jsx(qC.Provider,{value:c,children:n})}function GC(){var t=p.useContext(qC);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function eie(t,e){var n=e||{},s=n.from,r=n.to;return s&&r?Ns(r,t)&&Ns(s,t)?void 0:Ns(r,t)?{from:r,to:void 0}:Ns(s,t)?void 0:WN(s,t)?{from:t,to:r}:{from:s,to:t}:r?WN(t,r)?{from:r,to:t}:{from:t,to:r}:s?tv(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var KC=p.createContext(void 0);function tie(t){if(!mp(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(KC.Provider,{value:e,children:t.children})}return i.jsx(nie,{initialProps:t.initialProps,children:t.children})}function nie(t){var e=t.initialProps,n=t.children,s=e.selected,r=s||{},a=r.from,o=r.to,l=e.min,c=e.max,u=function(g,v,x){var w,y;(w=e.onDayClick)===null||w===void 0||w.call(e,g,v,x);var b=eie(g,s);(y=e.onSelect)===null||y===void 0||y.call(e,b,g,v,x)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],Ns(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:xw(a,l-1),before:ks(a,l-1)}),a&&o&&d.disabled.push({after:a,before:ks(a,l-1)}),!a&&o&&d.disabled.push({after:xw(o,l-1),before:ks(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:ks(a,-c+1)}),d.disabled.push({after:ks(a,c-1)})),a&&o){var h=di(o,a)+1,f=c-h;d.disabled.push({before:xw(a,f)}),d.disabled.push({after:ks(o,f)})}!a&&o&&(d.disabled.push({before:ks(o,-c+1)}),d.disabled.push({after:ks(o,c-1)}))}return i.jsx(KC.Provider,{value:{selected:s,onDayClick:u,modifiers:d},children:n})}function QC(){var t=p.useContext(KC);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Xg(t){return Array.isArray(t)?$L([],t):t!==void 0?[t]:[]}function sie(t){var e={};return Object.entries(t).forEach(function(n){var s=n[0],r=n[1];e[s]=Xg(r)}),e}var ji;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ji||(ji={}));var rie=ji.Selected,ya=ji.Disabled,iie=ji.Hidden,aie=ji.Today,Ew=ji.RangeEnd,Tw=ji.RangeMiddle,Rw=ji.RangeStart,oie=ji.Outside;function lie(t,e,n){var s,r=(s={},s[rie]=Xg(t.selected),s[ya]=Xg(t.disabled),s[iie]=Xg(t.hidden),s[aie]=[t.today],s[Ew]=[],s[Tw]=[],s[Rw]=[],s[oie]=[],s);return t.fromDate&&r[ya].push({before:t.fromDate}),t.toDate&&r[ya].push({after:t.toDate}),fp(t)?r[ya]=r[ya].concat(e.modifiers[ya]):mp(t)&&(r[ya]=r[ya].concat(n.modifiers[ya]),r[Rw]=n.modifiers[Rw],r[Tw]=n.modifiers[Tw],r[Ew]=n.modifiers[Ew]),r}var WL=p.createContext(void 0);function cie(t){var e=Kt(),n=GC(),s=QC(),r=lie(e,n,s),a=sie(e.modifiers),o=Ye(Ye({},r),a);return i.jsx(WL.Provider,{value:o,children:t.children})}function qL(){var t=p.useContext(WL);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function uie(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function die(t){return!!(t&&typeof t=="object"&&"from"in t)}function hie(t){return!!(t&&typeof t=="object"&&"after"in t)}function fie(t){return!!(t&&typeof t=="object"&&"before"in t)}function mie(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function pie(t,e){var n,s=e.from,r=e.to;if(s&&r){var a=di(r,s)<0;a&&(n=[r,s],s=n[0],r=n[1]);var o=di(t,s)>=0&&di(r,t)>=0;return o}return r?Ns(r,t):s?Ns(s,t):!1}function gie(t){return hC(t)}function xie(t){return Array.isArray(t)&&t.every(hC)}function vie(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(gie(n))return Ns(t,n);if(xie(n))return n.includes(t);if(die(n))return pie(t,n);if(mie(n))return n.dayOfWeek.includes(t.getDay());if(uie(n)){var s=di(n.before,t),r=di(n.after,t),a=s>0,o=r<0,l=WN(n.before,n.after);return l?o&&a:a||o}return hie(n)?di(t,n.after)>0:fie(n)?di(n.before,t)>0:typeof n=="function"?n(t):!1})}function YC(t,e,n){var s=Object.keys(e).reduce(function(a,o){var l=e[o];return vie(t,l)&&a.push(o),a},[]),r={};return s.forEach(function(a){return r[a]=!0}),n&&!gC(t,n)&&(r.outside=!0),r}function yie(t,e){for(var n=or(t[0]),s=T0(t[t.length-1]),r,a,o=n;o<=s;){var l=YC(o,e),c=!l.disabled&&!l.hidden;if(!c){o=ks(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),r||(r=o),o=ks(o,1)}return a||r}var wie=365;function GL(t,e){var n=e.moveBy,s=e.direction,r=e.context,a=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=r.weekStartsOn,u=r.fromDate,d=r.toDate,h=r.locale,f={day:ks,week:HN,month:_i,year:TJ,startOfWeek:function(w){return r.ISOWeek?kc(w):ra(w,{locale:h,weekStartsOn:c})},endOfWeek:function(w){return r.ISOWeek?tF(w):mC(w,{locale:h,weekStartsOn:c})}},g=f[n](t,s==="after"?1:-1);s==="before"&&u?g=RJ([u,g]):s==="after"&&d&&(g=PJ([d,g]));var v=!0;if(a){var x=YC(g,a);v=!x.disabled&&!x.hidden}return v?g:l.count>wie?l.lastFocused:GL(g,{moveBy:n,direction:s,context:r,modifiers:a,retry:Ye(Ye({},l),{count:l.count+1})})}var KL=p.createContext(void 0);function bie(t){var e=pp(),n=qL(),s=p.useState(),r=s[0],a=s[1],o=p.useState(),l=o[0],c=o[1],u=yie(e.displayMonths,n),d=r??(l&&e.isDateDisplayed(l))?l:u,h=function(){c(r),a(void 0)},f=function(w){a(w)},g=Kt(),v=function(w,y){if(r){var b=GL(r,{moveBy:w,direction:y,context:g,modifiers:n});Ns(r,b)||(e.goToDate(b,r),f(b))}},x={focusedDay:r,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return i.jsx(KL.Provider,{value:x,children:t.children})}function XC(){var t=p.useContext(KL);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Nie(t,e){var n=qL(),s=YC(t,n,e);return s}var ZC=p.createContext(void 0);function _ie(t){if(!F0(t.initialProps)){var e={selected:void 0};return i.jsx(ZC.Provider,{value:e,children:t.children})}return i.jsx(jie,{initialProps:t.initialProps,children:t.children})}function jie(t){var e=t.initialProps,n=t.children,s=function(a,o,l){var c,u,d;if((c=e.onDayClick)===null||c===void 0||c.call(e,a,o,l),o.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,a,o,l);return}(d=e.onSelect)===null||d===void 0||d.call(e,a,a,o,l)},r={selected:e.selected,onDayClick:s};return i.jsx(ZC.Provider,{value:r,children:n})}function QL(){var t=p.useContext(ZC);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Cie(t,e){var n=Kt(),s=QL(),r=GC(),a=QC(),o=XC(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,h=o.blur,f=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,x=o.focusYearBefore,w=o.focusYearAfter,y=o.focusStartOfWeek,b=o.focusEndOfWeek,N=function(Q){var O,V,Z,F;F0(n)?(O=s.onDayClick)===null||O===void 0||O.call(s,t,e,Q):fp(n)?(V=r.onDayClick)===null||V===void 0||V.call(r,t,e,Q):mp(n)?(Z=a.onDayClick)===null||Z===void 0||Z.call(a,t,e,Q):(F=n.onDayClick)===null||F===void 0||F.call(n,t,e,Q)},E=function(Q){var O;f(t),(O=n.onDayFocus)===null||O===void 0||O.call(n,t,e,Q)},I=function(Q){var O;h(),(O=n.onDayBlur)===null||O===void 0||O.call(n,t,e,Q)},A=function(Q){var O;(O=n.onDayMouseEnter)===null||O===void 0||O.call(n,t,e,Q)},C=function(Q){var O;(O=n.onDayMouseLeave)===null||O===void 0||O.call(n,t,e,Q)},_=function(Q){var O;(O=n.onDayPointerEnter)===null||O===void 0||O.call(n,t,e,Q)},S=function(Q){var O;(O=n.onDayPointerLeave)===null||O===void 0||O.call(n,t,e,Q)},T=function(Q){var O;(O=n.onDayTouchCancel)===null||O===void 0||O.call(n,t,e,Q)},k=function(Q){var O;(O=n.onDayTouchEnd)===null||O===void 0||O.call(n,t,e,Q)},D=function(Q){var O;(O=n.onDayTouchMove)===null||O===void 0||O.call(n,t,e,Q)},P=function(Q){var O;(O=n.onDayTouchStart)===null||O===void 0||O.call(n,t,e,Q)},G=function(Q){var O;(O=n.onDayKeyUp)===null||O===void 0||O.call(n,t,e,Q)},ee=function(Q){var O;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),u();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),d();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?x():g();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?w():v();break;case"Home":Q.preventDefault(),Q.stopPropagation(),y();break;case"End":Q.preventDefault(),Q.stopPropagation(),b();break}(O=n.onDayKeyDown)===null||O===void 0||O.call(n,t,e,Q)},te={onClick:N,onFocus:E,onBlur:I,onKeyDown:ee,onKeyUp:G,onMouseEnter:A,onMouseLeave:C,onPointerEnter:_,onPointerLeave:S,onTouchCancel:T,onTouchEnd:k,onTouchMove:D,onTouchStart:P};return te}function Sie(){var t=Kt(),e=QL(),n=GC(),s=QC(),r=F0(t)?e.selected:fp(t)?n.selected:mp(t)?s.selected:void 0;return r}function Eie(t){return Object.values(ji).includes(t)}function Tie(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(s){var r=t.modifiersClassNames[s];if(r)n.push(r);else if(Eie(s)){var a=t.classNames["day_".concat(s)];a&&n.push(a)}}),n}function Rie(t,e){var n=Ye({},t.styles.day);return Object.keys(e).forEach(function(s){var r;n=Ye(Ye({},n),(r=t.modifiersStyles)===null||r===void 0?void 0:r[s])}),n}function Pie(t,e,n){var s,r,a,o=Kt(),l=XC(),c=Nie(t,e),u=Cie(t,c),d=Sie(),h=!!(o.onDayClick||o.mode!=="default");p.useEffect(function(){var A;c.outside||l.focusedDay&&h&&Ns(l.focusedDay,t)&&((A=n.current)===null||A===void 0||A.focus())},[l.focusedDay,t,n,h,c.outside]);var f=Tie(o,c).join(" "),g=Rie(o,c),v=!!(c.outside&&!o.showOutsideDays||c.hidden),x=(a=(r=o.components)===null||r===void 0?void 0:r.DayContent)!==null&&a!==void 0?a:Xre,w=i.jsx(x,{date:t,displayMonth:e,activeModifiers:c}),y={style:g,className:f,children:w,role:"gridcell"},b=l.focusTarget&&Ns(l.focusTarget,t)&&!c.outside,N=l.focusedDay&&Ns(l.focusedDay,t),E=Ye(Ye(Ye({},y),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=N||b?0:-1,s)),u),I={isButton:h,isHidden:v,activeModifiers:c,selectedDays:d,buttonProps:E,divProps:y};return I}function Iie(t){var e=p.useRef(null),n=Pie(t.date,t.displayMonth,e);return n.isHidden?i.jsx("div",{role:"gridcell"}):n.isButton?i.jsx(lv,Ye({name:"day",ref:e},n.buttonProps)):i.jsx("div",Ye({},n.divProps))}function kie(t){var e=t.number,n=t.dates,s=Kt(),r=s.onWeekNumberClick,a=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,d=u(Number(e),{locale:l});if(!r)return i.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var h=c(Number(e),{locale:l}),f=function(g){r(e,n,g)};return i.jsx(lv,{name:"week-number","aria-label":h,className:o.weeknumber,style:a.weeknumber,onClick:f,children:d})}function Aie(t){var e,n,s=Kt(),r=s.styles,a=s.classNames,o=s.showWeekNumber,l=s.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:Iie,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:kie,d;return o&&(d=i.jsx("td",{className:a.cell,style:r.cell,children:i.jsx(u,{number:t.weekNumber,dates:t.dates})})),i.jsxs("tr",{className:a.row,style:r.row,children:[d,t.dates.map(function(h){return i.jsx("td",{className:a.cell,style:r.cell,role:"presentation",children:i.jsx(c,{displayMonth:t.displayMonth,date:h})},Lee(h))})]})}function cI(t,e,n){for(var s=n!=null&&n.ISOWeek?tF(e):mC(e,n),r=n!=null&&n.ISOWeek?kc(t):ra(t,n),a=di(s,r),o=[],l=0;l<=a;l++)o.push(ks(r,l));var c=o.reduce(function(u,d){var h=n!=null&&n.ISOWeek?nF(d):rF(d,n),f=u.find(function(g){return g.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return c}function Die(t,e){var n=cI(or(t),T0(t),e);if(e!=null&&e.useFixedWeeks){var s=$ee(t,e);if(s<6){var r=n[n.length-1],a=r.dates[r.dates.length-1],o=HN(a,6-s),l=cI(HN(a,1),o,e);n.push.apply(n,l)}}return n}function Mie(t){var e,n,s,r=Kt(),a=r.locale,o=r.classNames,l=r.styles,c=r.hideHead,u=r.fixedWeeks,d=r.components,h=r.weekStartsOn,f=r.firstWeekContainsDate,g=r.ISOWeek,v=Die(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:g,locale:a,weekStartsOn:h,firstWeekContainsDate:f}),x=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Yre,w=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:Aie,y=(s=d==null?void 0:d.Footer)!==null&&s!==void 0?s:Gre;return i.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&i.jsx(x,{}),i.jsx("tbody",{className:o.tbody,style:l.tbody,children:v.map(function(b){return i.jsx(w,{displayMonth:t.displayMonth,dates:b.dates,weekNumber:b.weekNumber},b.weekNumber)})}),i.jsx(y,{displayMonth:t.displayMonth})]})}function Oie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Fie=Oie()?p.useLayoutEffect:p.useEffect,Pw=!1,Lie=0;function uI(){return"react-day-picker-".concat(++Lie)}function Vie(t){var e,n=t??(Pw?uI():null),s=p.useState(n),r=s[0],a=s[1];return Fie(function(){r===null&&a(uI())},[]),p.useEffect(function(){Pw===!1&&(Pw=!0)},[]),(e=t??r)!==null&&e!==void 0?e:void 0}function $ie(t){var e,n,s=Kt(),r=s.dir,a=s.classNames,o=s.styles,l=s.components,c=pp().displayMonths,u=Vie(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),d=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,h=[a.month],f=o.month,g=t.displayIndex===0,v=t.displayIndex===c.length-1,x=!g&&!v;r==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(h.push(a.caption_start),f=Ye(Ye({},f),o.caption_start)),v&&(h.push(a.caption_end),f=Ye(Ye({},f),o.caption_end)),x&&(h.push(a.caption_between),f=Ye(Ye({},f),o.caption_between));var w=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:qre;return i.jsxs("div",{className:h.join(" "),style:f,children:[i.jsx(w,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),i.jsx(Mie,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function Uie(t){var e=Kt(),n=e.classNames,s=e.styles;return i.jsx("div",{className:n.months,style:s.months,children:t.children})}function Bie(t){var e,n,s=t.initialProps,r=Kt(),a=XC(),o=pp(),l=p.useState(!1),c=l[0],u=l[1];p.useEffect(function(){r.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[r.initialFocus,c,a.focus,a.focusTarget,a]);var d=[r.classNames.root,r.className];r.numberOfMonths>1&&d.push(r.classNames.multiple_months),r.showWeekNumber&&d.push(r.classNames.with_weeknumber);var h=Ye(Ye({},r.styles.root),r.style),f=Object.keys(s).filter(function(v){return v.startsWith("data-")}).reduce(function(v,x){var w;return Ye(Ye({},v),(w={},w[x]=s[x],w))},{}),g=(n=(e=s.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Uie;return i.jsx("div",Ye({className:d.join(" "),style:h,dir:r.dir,id:r.id,nonce:s.nonce,title:s.title,lang:s.lang},f,{children:i.jsx(g,{children:o.displayMonths.map(function(v,x){return i.jsx($ie,{displayIndex:x,displayMonth:v},x)})})}))}function zie(t){var e=t.children,n=fre(t,["children"]);return i.jsx(kre,{initialProps:n,children:i.jsx(Bre,{children:i.jsx(_ie,{initialProps:n,children:i.jsx(Zre,{initialProps:n,children:i.jsx(tie,{initialProps:n,children:i.jsx(cie,{children:i.jsx(bie,{children:e})})})})})})})}function Hie(t){return i.jsx(zie,Ye({},t,{children:i.jsx(Bie,{initialProps:t})}))}function Mc({className:t,classNames:e,showOutsideDays:n=!0,...s}){return i.jsx(Hie,{showOutsideDays:n,className:ie("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ie(am({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ie(am({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...r})=>i.jsx(Qv,{className:"h-4 w-4"}),IconRight:({...r})=>i.jsx(Aa,{className:"h-4 w-4"})},...s})}Mc.displayName="Calendar";const Wie=({reminder:t,onEditReminder:e,children:n})=>{const[s,r]=p.useState(!1),[a,o]=p.useState(t.vaccine),[l,c]=p.useState(new Date(t.due));p.useEffect(()=>{s&&(o(t.vaccine),c(new Date(t.due)))},[s,t]);const u=()=>{a&&l&&(e(t.id,{vaccine:a,due:l}),r(!1))};return i.jsxs(Lt,{open:s,onOpenChange:r,children:[i.jsx(mr,{asChild:!0,children:n}),i.jsxs(At,{className:"w-[95vw] max-w-md mx-auto bg-slate-800 border-slate-700 text-white",children:[i.jsxs(Dt,{children:[i.jsx(Mt,{className:"text-white",children:"Edit Reminder"}),i.jsx(mo,{className:"text-slate-400",children:"Update the details for this vaccination reminder."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(me,{htmlFor:"dog",className:"text-right text-white",children:"Dog"}),i.jsx(xe,{id:"dog",value:t.dog,disabled:!0,className:"col-span-3 bg-slate-700 border-slate-600 text-slate-400"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(me,{htmlFor:"vaccine",className:"text-right text-white",children:"Vaccine"}),i.jsx(xe,{id:"vaccine",value:a,onChange:d=>o(d.target.value),className:"col-span-3 bg-slate-700 border-slate-600 text-white placeholder-slate-400"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(me,{htmlFor:"due-date",className:"text-right text-white",children:"Due Date"}),i.jsxs(Qa,{children:[i.jsx(Ya,{asChild:!0,children:i.jsxs(z,{variant:"outline",className:ie("col-span-3 justify-start text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!l&&"text-slate-400"),children:[i.jsx(Gt,{className:"mr-2 h-4 w-4"}),l?Ee(l,"PPP"):i.jsx("span",{children:"Pick a date"})]})}),i.jsx(ia,{className:"w-auto p-0 bg-slate-800 border-slate-700",children:i.jsx(Mc,{mode:"single",selected:l,onSelect:c,initialFocus:!0,className:"bg-slate-800 text-white"})})]})]})]}),i.jsx(Dr,{children:i.jsx(z,{type:"submit",onClick:u,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Save Changes"})})]})]})};var gp=t=>t.type==="checkbox",ic=t=>t instanceof Date,As=t=>t==null;const YL=t=>typeof t=="object";var Pn=t=>!As(t)&&!Array.isArray(t)&&YL(t)&&!ic(t),XL=t=>Pn(t)&&t.target?gp(t.target)?t.target.checked:t.target.value:t,qie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ZL=(t,e)=>t.has(qie(e)),Gie=t=>{const e=t.constructor&&t.constructor.prototype;return Pn(e)&&e.hasOwnProperty("isPrototypeOf")},JC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Qs(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(JC&&(t instanceof Blob||t instanceof FileList))&&(n||Pn(t)))if(e=n?[]:{},!n&&!Gie(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Qs(t[s]));else return t;return e}var L0=t=>Array.isArray(t)?t.filter(Boolean):[],bn=t=>t===void 0,we=(t,e,n)=>{if(!e||!Pn(t))return n;const s=L0(e.split(/[,[\].]+?/)).reduce((r,a)=>As(r)?r:r[a],t);return bn(s)||s===t?bn(t[e])?n:t[e]:s},Fr=t=>typeof t=="boolean",eS=t=>/^\w*$/.test(t),JL=t=>L0(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(t,e,n)=>{let s=-1;const r=eS(e)?[e]:JL(e),a=r.length,o=a-1;for(;++s<a;){const l=r[s];let c=n;if(s!==o){const u=t[l];c=Pn(u)||Array.isArray(u)?u:isNaN(+r[s+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const cv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ci={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},e5=se.createContext(null),xp=()=>se.useContext(e5),Kie=t=>{const{children:e,...n}=t;return se.createElement(e5.Provider,{value:n},e)};var t5=(t,e,n,s=!0)=>{const r={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(r,a,{get:()=>{const o=a;return e._proxyFormState[o]!==ci.all&&(e._proxyFormState[o]=!s||ci.all),n&&(n[o]=!0),t[o]}});return r},Zs=t=>Pn(t)&&!Object.keys(t).length,n5=(t,e,n,s)=>{n(t);const{name:r,...a}=t;return Zs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||ci.all))},If=t=>Array.isArray(t)?t:[t],s5=(t,e,n)=>!t||!e||t===e||If(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s)));function tS(t){const e=se.useRef(t);e.current=t,se.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Qie(t){const e=xp(),{control:n=e.control,disabled:s,name:r,exact:a}=t||{},[o,l]=se.useState(n._formState),c=se.useRef(!0),u=se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=se.useRef(r);return d.current=r,tS({disabled:s,next:h=>c.current&&s5(d.current,h.name,a)&&n5(h,u.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),se.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),t5(o,n,u.current,!1)}var zi=t=>typeof t=="string",r5=(t,e,n,s,r)=>zi(t)?(s&&e.watch.add(t),we(n,t,r)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),we(n,a))):(s&&(e.watchAll=!0),n);function kf(t){const e=xp(),{control:n=e.control,name:s,defaultValue:r,disabled:a,exact:o}=t||{},l=se.useRef(s);l.current=s,tS({disabled:a,subject:n._subjects.values,next:d=>{s5(l.current,d.name,o)&&u(Qs(r5(l.current,n._names,d.values||n._formValues,!1,r)))}});const[c,u]=se.useState(n._getWatch(s,r));return se.useEffect(()=>n._removeUnmounted()),c}function Yie(t){const e=xp(),{name:n,disabled:s,control:r=e.control,shouldUnregister:a}=t,o=ZL(r._names.array,n),l=kf({control:r,name:n,defaultValue:we(r._formValues,n,we(r._defaultValues,n,t.defaultValue)),exact:!0}),c=Qie({control:r,name:n,exact:!0}),u=se.useRef(r.register(n,{...t.rules,value:l,...Fr(t.disabled)?{disabled:t.disabled}:{}}));return se.useEffect(()=>{const d=r._options.shouldUnregister||a,h=(f,g)=>{const v=we(r._fields,f);v&&v._f&&(v._f.mount=g)};if(h(n,!0),d){const f=Qs(we(r._options.defaultValues,n));Ot(r._defaultValues,n,f),bn(we(r._formValues,n))&&Ot(r._formValues,n,f)}return()=>{(o?d&&!r._state.action:d)?r.unregister(n):h(n,!1)}},[n,r,o,a]),se.useEffect(()=>{we(r._fields,n)&&r._updateDisabledField({disabled:s,fields:r._fields,name:n,value:we(r._fields,n)._f.value})},[s,n,r]),{field:{name:n,value:l,...Fr(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:se.useCallback(d=>u.current.onChange({target:{value:XL(d),name:n},type:cv.CHANGE}),[n]),onBlur:se.useCallback(()=>u.current.onBlur({target:{value:we(r._formValues,n),name:n},type:cv.BLUR}),[n,r]),ref:se.useCallback(d=>{const h=we(r._fields,n);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:f=>d.setCustomValidity(f),reportValidity:()=>d.reportValidity()})},[r._fields,n])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!we(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!we(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!we(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!we(c.validatingFields,n)},error:{enumerable:!0,get:()=>we(c.errors,n)}})}}const Xie=t=>t.render(Yie(t));var i5=(t,e,n,s,r)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:r||!0}}:{},dI=t=>({isOnSubmit:!t||t===ci.onSubmit,isOnBlur:t===ci.onBlur,isOnChange:t===ci.onChange,isOnAll:t===ci.all,isOnTouch:t===ci.onTouched}),hI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Af=(t,e,n,s)=>{for(const r of n||Object.keys(t)){const a=we(t,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],r)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Af(l,e))break}else if(Pn(l)&&Af(l,e))break}}};var Zie=(t,e,n)=>{const s=If(we(t,n));return Ot(s,"root",e[n]),Ot(t,n,s),t},nS=t=>t.type==="file",Ia=t=>typeof t=="function",uv=t=>{if(!JC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zg=t=>zi(t),sS=t=>t.type==="radio",dv=t=>t instanceof RegExp;const fI={value:!1,isValid:!1},mI={value:!0,isValid:!0};var a5=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!bn(t[0].attributes.value)?bn(t[0].value)||t[0].value===""?mI:{value:t[0].value,isValid:!0}:mI:fI}return fI};const pI={isValid:!1,value:null};var o5=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pI):pI;function gI(t,e,n="validate"){if(Zg(t)||Array.isArray(t)&&t.every(Zg)||Fr(t)&&!t)return{type:n,message:Zg(t)?t:"",ref:e}}var fu=t=>Pn(t)&&!dv(t)?t:{value:t,message:""},xI=async(t,e,n,s,r)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:f,validate:g,name:v,valueAsNumber:x,mount:w,disabled:y}=t._f,b=we(e,v);if(!w||y)return{};const N=o?o[0]:a,E=D=>{s&&N.reportValidity&&(N.setCustomValidity(Fr(D)?"":D||""),N.reportValidity())},I={},A=sS(a),C=gp(a),_=A||C,S=(x||nS(a))&&bn(a.value)&&bn(b)||uv(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,T=i5.bind(null,v,n,I),k=(D,P,G,ee=wa.maxLength,te=wa.minLength)=>{const Q=D?P:G;I[v]={type:D?ee:te,message:Q,ref:a,...T(D?ee:te,Q)}};if(r?!Array.isArray(b)||!b.length:l&&(!_&&(S||As(b))||Fr(b)&&!b||C&&!a5(o).isValid||A&&!o5(o).isValid)){const{value:D,message:P}=Zg(l)?{value:!!l,message:l}:fu(l);if(D&&(I[v]={type:wa.required,message:P,ref:N,...T(wa.required,P)},!n))return E(P),I}if(!S&&(!As(d)||!As(h))){let D,P;const G=fu(h),ee=fu(d);if(!As(b)&&!isNaN(b)){const te=a.valueAsNumber||b&&+b;As(G.value)||(D=te>G.value),As(ee.value)||(P=te<ee.value)}else{const te=a.valueAsDate||new Date(b),Q=Z=>new Date(new Date().toDateString()+" "+Z),O=a.type=="time",V=a.type=="week";zi(G.value)&&b&&(D=O?Q(b)>Q(G.value):V?b>G.value:te>new Date(G.value)),zi(ee.value)&&b&&(P=O?Q(b)<Q(ee.value):V?b<ee.value:te<new Date(ee.value))}if((D||P)&&(k(!!D,G.message,ee.message,wa.max,wa.min),!n))return E(I[v].message),I}if((c||u)&&!S&&(zi(b)||r&&Array.isArray(b))){const D=fu(c),P=fu(u),G=!As(D.value)&&b.length>+D.value,ee=!As(P.value)&&b.length<+P.value;if((G||ee)&&(k(G,D.message,P.message),!n))return E(I[v].message),I}if(f&&!S&&zi(b)){const{value:D,message:P}=fu(f);if(dv(D)&&!b.match(D)&&(I[v]={type:wa.pattern,message:P,ref:a,...T(wa.pattern,P)},!n))return E(P),I}if(g){if(Ia(g)){const D=await g(b,e),P=gI(D,N);if(P&&(I[v]={...P,...T(wa.validate,P.message)},!n))return E(P.message),I}else if(Pn(g)){let D={};for(const P in g){if(!Zs(D)&&!n)break;const G=gI(await g[P](b,e),N,P);G&&(D={...G,...T(P,G.message)},E(G.message),n&&(I[v]=D))}if(!Zs(D)&&(I[v]={ref:N,...D},!n))return I}}return E(!0),I};function Jie(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=bn(t)?s++:t[e[s++]];return t}function eae(t){for(const e in t)if(t.hasOwnProperty(e)&&!bn(t[e]))return!1;return!0}function Vn(t,e){const n=Array.isArray(e)?e:eS(e)?[e]:JL(e),s=n.length===1?t:Jie(t,n),r=n.length-1,a=n[r];return s&&delete s[a],r!==0&&(Pn(s)&&Zs(s)||Array.isArray(s)&&eae(s))&&Vn(t,n.slice(0,-1)),t}var Iw=()=>{let t=[];return{get observers(){return t},next:r=>{for(const a of t)a.next&&a.next(r)},subscribe:r=>(t.push(r),{unsubscribe:()=>{t=t.filter(a=>a!==r)}}),unsubscribe:()=>{t=[]}}},e_=t=>As(t)||!YL(t);function Lo(t,e){if(e_(t)||e_(e))return t===e;if(ic(t)&&ic(e))return t.getTime()===e.getTime();const n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(const r of n){const a=t[r];if(!s.includes(r))return!1;if(r!=="ref"){const o=e[r];if(ic(a)&&ic(o)||Pn(a)&&Pn(o)||Array.isArray(a)&&Array.isArray(o)?!Lo(a,o):a!==o)return!1}}return!0}var l5=t=>t.type==="select-multiple",tae=t=>sS(t)||gp(t),kw=t=>uv(t)&&t.isConnected,c5=t=>{for(const e in t)if(Ia(t[e]))return!0;return!1};function hv(t,e={}){const n=Array.isArray(t);if(Pn(t)||n)for(const s in t)Array.isArray(t[s])||Pn(t[s])&&!c5(t[s])?(e[s]=Array.isArray(t[s])?[]:{},hv(t[s],e[s])):As(t[s])||(e[s]=!0);return e}function u5(t,e,n){const s=Array.isArray(t);if(Pn(t)||s)for(const r in t)Array.isArray(t[r])||Pn(t[r])&&!c5(t[r])?bn(e)||e_(n[r])?n[r]=Array.isArray(t[r])?hv(t[r],[]):{...hv(t[r])}:u5(t[r],As(e)?{}:e[r],n[r]):n[r]=!Lo(t[r],e[r]);return n}var Bh=(t,e)=>u5(t,e,hv(e)),d5=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>bn(t)?t:e?t===""?NaN:t&&+t:n&&zi(t)?new Date(t):s?s(t):t;function Aw(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return nS(e)?e.files:sS(e)?o5(t.refs).value:l5(e)?[...e.selectedOptions].map(({value:n})=>n):gp(e)?a5(t.refs).value:d5(bn(e.value)?t.ref.value:e.value,t)}var nae=(t,e,n,s)=>{const r={};for(const a of t){const o=we(e,a);o&&Ot(r,a,o._f)}return{criteriaMode:n,names:[...t],fields:r,shouldUseNativeValidation:s}},zh=t=>bn(t)?t:dv(t)?t.source:Pn(t)?dv(t.value)?t.value.source:t.value:t;const vI="AsyncFunction";var sae=t=>(!t||!t.validate)&&!!(Ia(t.validate)&&t.validate.constructor.name===vI||Pn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vI)),rae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function yI(t,e,n){const s=we(t,n);if(s||eS(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),o=we(e,a),l=we(t,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};r.pop()}return{name:n}}var iae=(t,e,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(e||t):(n?s.isOnBlur:r.isOnBlur)?!t:(n?s.isOnChange:r.isOnChange)?t:!0,aae=(t,e)=>!L0(we(t,e)).length&&Vn(t,e);const oae={mode:ci.onSubmit,reValidateMode:ci.onChange,shouldFocusError:!0};function lae(t={}){let e={...oae,...t},n={submitCount:0,isDirty:!1,isLoading:Ia(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},r=Pn(e.defaultValues)||Pn(e.values)?Qs(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Qs(r),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Iw(),array:Iw(),state:Iw()},f=dI(e.mode),g=dI(e.reValidateMode),v=e.criteriaMode===ci.all,x=$=>W=>{clearTimeout(u),u=setTimeout($,W)},w=async $=>{if(!t.disabled&&(d.isValid||$)){const W=e.resolver?Zs((await _()).errors):await T(s,!0);W!==n.isValid&&h.state.next({isValid:W})}},y=($,W)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&(($||Array.from(l.mount)).forEach(X=>{X&&(W?Ot(n.validatingFields,X,W):Vn(n.validatingFields,X))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Zs(n.validatingFields)}))},b=($,W=[],X,be,ve=!0,ce=!0)=>{if(be&&X&&!t.disabled){if(o.action=!0,ce&&Array.isArray(we(s,$))){const Fe=X(we(s,$),be.argA,be.argB);ve&&Ot(s,$,Fe)}if(ce&&Array.isArray(we(n.errors,$))){const Fe=X(we(n.errors,$),be.argA,be.argB);ve&&Ot(n.errors,$,Fe),aae(n.errors,$)}if(d.touchedFields&&ce&&Array.isArray(we(n.touchedFields,$))){const Fe=X(we(n.touchedFields,$),be.argA,be.argB);ve&&Ot(n.touchedFields,$,Fe)}d.dirtyFields&&(n.dirtyFields=Bh(r,a)),h.state.next({name:$,isDirty:D($,W),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ot(a,$,W)},N=($,W)=>{Ot(n.errors,$,W),h.state.next({errors:n.errors})},E=$=>{n.errors=$,h.state.next({errors:n.errors,isValid:!1})},I=($,W,X,be)=>{const ve=we(s,$);if(ve){const ce=we(a,$,bn(X)?we(r,$):X);bn(ce)||be&&be.defaultChecked||W?Ot(a,$,W?ce:Aw(ve._f)):ee($,ce),o.mount&&w()}},A=($,W,X,be,ve)=>{let ce=!1,Fe=!1;const st={name:$};if(!t.disabled){const ft=!!(we(s,$)&&we(s,$)._f&&we(s,$)._f.disabled);if(!X||be){d.isDirty&&(Fe=n.isDirty,n.isDirty=st.isDirty=D(),ce=Fe!==st.isDirty);const ct=ft||Lo(we(r,$),W);Fe=!!(!ft&&we(n.dirtyFields,$)),ct||ft?Vn(n.dirtyFields,$):Ot(n.dirtyFields,$,!0),st.dirtyFields=n.dirtyFields,ce=ce||d.dirtyFields&&Fe!==!ct}if(X){const ct=we(n.touchedFields,$);ct||(Ot(n.touchedFields,$,X),st.touchedFields=n.touchedFields,ce=ce||d.touchedFields&&ct!==X)}ce&&ve&&h.state.next(st)}return ce?st:{}},C=($,W,X,be)=>{const ve=we(n.errors,$),ce=d.isValid&&Fr(W)&&n.isValid!==W;if(t.delayError&&X?(c=x(()=>N($,X)),c(t.delayError)):(clearTimeout(u),c=null,X?Ot(n.errors,$,X):Vn(n.errors,$)),(X?!Lo(ve,X):ve)||!Zs(be)||ce){const Fe={...be,...ce&&Fr(W)?{isValid:W}:{},errors:n.errors,name:$};n={...n,...Fe},h.state.next(Fe)}},_=async $=>{y($,!0);const W=await e.resolver(a,e.context,nae($||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return y($),W},S=async $=>{const{errors:W}=await _($);if($)for(const X of $){const be=we(W,X);be?Ot(n.errors,X,be):Vn(n.errors,X)}else n.errors=W;return W},T=async($,W,X={valid:!0})=>{for(const be in $){const ve=$[be];if(ve){const{_f:ce,...Fe}=ve;if(ce){const st=l.array.has(ce.name),ft=ve._f&&sae(ve._f);ft&&d.validatingFields&&y([be],!0);const ct=await xI(ve,a,v,e.shouldUseNativeValidation&&!W,st);if(ft&&d.validatingFields&&y([be]),ct[ce.name]&&(X.valid=!1,W))break;!W&&(we(ct,ce.name)?st?Zie(n.errors,ct,ce.name):Ot(n.errors,ce.name,ct[ce.name]):Vn(n.errors,ce.name))}!Zs(Fe)&&await T(Fe,W,X)}}return X.valid},k=()=>{for(const $ of l.unMount){const W=we(s,$);W&&(W._f.refs?W._f.refs.every(X=>!kw(X)):!kw(W._f.ref))&&ae($)}l.unMount=new Set},D=($,W)=>!t.disabled&&($&&W&&Ot(a,$,W),!Lo(F(),r)),P=($,W,X)=>r5($,l,{...o.mount?a:bn(W)?r:zi($)?{[$]:W}:W},X,W),G=$=>L0(we(o.mount?a:r,$,t.shouldUnregister?we(r,$,[]):[])),ee=($,W,X={})=>{const be=we(s,$);let ve=W;if(be){const ce=be._f;ce&&(!ce.disabled&&Ot(a,$,d5(W,ce)),ve=uv(ce.ref)&&As(W)?"":W,l5(ce.ref)?[...ce.ref.options].forEach(Fe=>Fe.selected=ve.includes(Fe.value)):ce.refs?gp(ce.ref)?ce.refs.length>1?ce.refs.forEach(Fe=>(!Fe.defaultChecked||!Fe.disabled)&&(Fe.checked=Array.isArray(ve)?!!ve.find(st=>st===Fe.value):ve===Fe.value)):ce.refs[0]&&(ce.refs[0].checked=!!ve):ce.refs.forEach(Fe=>Fe.checked=Fe.value===ve):nS(ce.ref)?ce.ref.value="":(ce.ref.value=ve,ce.ref.type||h.values.next({name:$,values:{...a}})))}(X.shouldDirty||X.shouldTouch)&&A($,ve,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&Z($)},te=($,W,X)=>{for(const be in W){const ve=W[be],ce=`${$}.${be}`,Fe=we(s,ce);(l.array.has($)||Pn(ve)||Fe&&!Fe._f)&&!ic(ve)?te(ce,ve,X):ee(ce,ve,X)}},Q=($,W,X={})=>{const be=we(s,$),ve=l.array.has($),ce=Qs(W);Ot(a,$,ce),ve?(h.array.next({name:$,values:{...a}}),(d.isDirty||d.dirtyFields)&&X.shouldDirty&&h.state.next({name:$,dirtyFields:Bh(r,a),isDirty:D($,ce)})):be&&!be._f&&!As(ce)?te($,ce,X):ee($,ce,X),hI($,l)&&h.state.next({...n}),h.values.next({name:o.mount?$:void 0,values:{...a}})},O=async $=>{o.mount=!0;const W=$.target;let X=W.name,be=!0;const ve=we(s,X),ce=()=>W.type?Aw(ve._f):XL($),Fe=st=>{be=Number.isNaN(st)||ic(st)&&isNaN(st.getTime())||Lo(st,we(a,X,st))};if(ve){let st,ft;const ct=ce(),Ss=$.type===cv.BLUR||$.type===cv.FOCUS_OUT,Jr=!rae(ve._f)&&!e.resolver&&!we(n.errors,X)&&!ve._f.deps||iae(Ss,we(n.touchedFields,X),n.isSubmitted,g,f),ma=hI(X,l,Ss);Ot(a,X,ct),Ss?(ve._f.onBlur&&ve._f.onBlur($),c&&c(0)):ve._f.onChange&&ve._f.onChange($);const Wl=A(X,ct,Ss,!1),Pi=!Zs(Wl)||ma;if(!Ss&&h.values.next({name:X,type:$.type,values:{...a}}),Jr)return d.isValid&&(t.mode==="onBlur"?Ss&&w():w()),Pi&&h.state.next({name:X,...ma?{}:Wl});if(!Ss&&ma&&h.state.next({...n}),e.resolver){const{errors:po}=await _([X]);if(Fe(ct),be){const su=yI(n.errors,s,X),Ii=yI(po,s,su.name||X);st=Ii.error,X=Ii.name,ft=Zs(po)}}else y([X],!0),st=(await xI(ve,a,v,e.shouldUseNativeValidation))[X],y([X]),Fe(ct),be&&(st?ft=!1:d.isValid&&(ft=await T(s,!0)));be&&(ve._f.deps&&Z(ve._f.deps),C(X,ft,st,Wl))}},V=($,W)=>{if(we(n.errors,W)&&$.focus)return $.focus(),1},Z=async($,W={})=>{let X,be;const ve=If($);if(e.resolver){const ce=await S(bn($)?$:ve);X=Zs(ce),be=$?!ve.some(Fe=>we(ce,Fe)):X}else $?(be=(await Promise.all(ve.map(async ce=>{const Fe=we(s,ce);return await T(Fe&&Fe._f?{[ce]:Fe}:Fe)}))).every(Boolean),!(!be&&!n.isValid)&&w()):be=X=await T(s);return h.state.next({...!zi($)||d.isValid&&X!==n.isValid?{}:{name:$},...e.resolver||!$?{isValid:X}:{},errors:n.errors}),W.shouldFocus&&!be&&Af(s,V,$?ve:l.mount),be},F=$=>{const W={...o.mount?a:r};return bn($)?W:zi($)?we(W,$):$.map(X=>we(W,X))},L=($,W)=>({invalid:!!we((W||n).errors,$),isDirty:!!we((W||n).dirtyFields,$),error:we((W||n).errors,$),isValidating:!!we(n.validatingFields,$),isTouched:!!we((W||n).touchedFields,$)}),B=$=>{$&&If($).forEach(W=>Vn(n.errors,W)),h.state.next({errors:$?n.errors:{}})},K=($,W,X)=>{const be=(we(s,$,{_f:{}})._f||{}).ref,ve=we(n.errors,$)||{},{ref:ce,message:Fe,type:st,...ft}=ve;Ot(n.errors,$,{...ft,...W,ref:be}),h.state.next({name:$,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&be&&be.focus&&be.focus()},ne=($,W)=>Ia($)?h.values.subscribe({next:X=>$(P(void 0,W),X)}):P($,W,!0),ae=($,W={})=>{for(const X of $?If($):l.mount)l.mount.delete(X),l.array.delete(X),W.keepValue||(Vn(s,X),Vn(a,X)),!W.keepError&&Vn(n.errors,X),!W.keepDirty&&Vn(n.dirtyFields,X),!W.keepTouched&&Vn(n.touchedFields,X),!W.keepIsValidating&&Vn(n.validatingFields,X),!e.shouldUnregister&&!W.keepDefaultValue&&Vn(r,X);h.values.next({values:{...a}}),h.state.next({...n,...W.keepDirty?{isDirty:D()}:{}}),!W.keepIsValid&&w()},oe=({disabled:$,name:W,field:X,fields:be,value:ve})=>{if(Fr($)&&o.mount||$){const ce=$?void 0:bn(ve)?Aw(X?X._f:we(be,W)._f):ve;Ot(a,W,ce),A(W,ce,!1,!1,!0)}},Pe=($,W={})=>{let X=we(s,$);const be=Fr(W.disabled)||Fr(t.disabled);return Ot(s,$,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:$}},name:$,mount:!0,...W}}),l.mount.add($),X?oe({field:X,disabled:Fr(W.disabled)?W.disabled:t.disabled,name:$,value:W.value}):I($,!0,W.value),{...be?{disabled:W.disabled||t.disabled}:{},...e.progressive?{required:!!W.required,min:zh(W.min),max:zh(W.max),minLength:zh(W.minLength),maxLength:zh(W.maxLength),pattern:zh(W.pattern)}:{},name:$,onChange:O,onBlur:O,ref:ve=>{if(ve){Pe($,W),X=we(s,$);const ce=bn(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,Fe=tae(ce),st=X._f.refs||[];if(Fe?st.find(ft=>ft===ce):ce===X._f.ref)return;Ot(s,$,{_f:{...X._f,...Fe?{refs:[...st.filter(kw),ce,...Array.isArray(we(r,$))?[{}]:[]],ref:{type:ce.type,name:$}}:{ref:ce}}}),I($,!1,void 0,ce)}else X=we(s,$,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||W.shouldUnregister)&&!(ZL(l.array,$)&&o.action)&&l.unMount.add($)}}},Oe=()=>e.shouldFocusError&&Af(s,V,l.mount),Ue=$=>{Fr($)&&(h.state.next({disabled:$}),Af(s,(W,X)=>{const be=we(s,X);be&&(W.disabled=be._f.disabled||$,Array.isArray(be._f.refs)&&be._f.refs.forEach(ve=>{ve.disabled=be._f.disabled||$}))},0,!1))},it=($,W)=>async X=>{let be;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ve=Qs(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:ce,values:Fe}=await _();n.errors=ce,ve=Fe}else await T(s);if(Vn(n.errors,"root"),Zs(n.errors)){h.state.next({errors:{}});try{await $(ve,X)}catch(ce){be=ce}}else W&&await W({...n.errors},X),Oe(),setTimeout(Oe);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zs(n.errors)&&!be,submitCount:n.submitCount+1,errors:n.errors}),be)throw be},lt=($,W={})=>{we(s,$)&&(bn(W.defaultValue)?Q($,Qs(we(r,$))):(Q($,W.defaultValue),Ot(r,$,Qs(W.defaultValue))),W.keepTouched||Vn(n.touchedFields,$),W.keepDirty||(Vn(n.dirtyFields,$),n.isDirty=W.defaultValue?D($,Qs(we(r,$))):D()),W.keepError||(Vn(n.errors,$),d.isValid&&w()),h.state.next({...n}))},gn=($,W={})=>{const X=$?Qs($):r,be=Qs(X),ve=Zs($),ce=ve?r:be;if(W.keepDefaultValues||(r=X),!W.keepValues){if(W.keepDirtyValues){const Fe=new Set([...l.mount,...Object.keys(Bh(r,a))]);for(const st of Array.from(Fe))we(n.dirtyFields,st)?Ot(ce,st,we(a,st)):Q(st,we(ce,st))}else{if(JC&&bn($))for(const Fe of l.mount){const st=we(s,Fe);if(st&&st._f){const ft=Array.isArray(st._f.refs)?st._f.refs[0]:st._f.ref;if(uv(ft)){const ct=ft.closest("form");if(ct){ct.reset();break}}}}s={}}a=t.shouldUnregister?W.keepDefaultValues?Qs(r):{}:Qs(ce),h.array.next({values:{...ce}}),h.values.next({values:{...ce}})}l={mount:W.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!W.keepIsValid||!!W.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:W.keepSubmitCount?n.submitCount:0,isDirty:ve?!1:W.keepDirty?n.isDirty:!!(W.keepDefaultValues&&!Lo($,r)),isSubmitted:W.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ve?{}:W.keepDirtyValues?W.keepDefaultValues&&a?Bh(r,a):n.dirtyFields:W.keepDefaultValues&&$?Bh(r,$):W.keepDirty?n.dirtyFields:{},touchedFields:W.keepTouched?n.touchedFields:{},errors:W.keepErrors?n.errors:{},isSubmitSuccessful:W.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},kn=($,W)=>gn(Ia($)?$(a):$,W);return{control:{register:Pe,unregister:ae,getFieldState:L,handleSubmit:it,setError:K,_executeSchema:_,_getWatch:P,_getDirty:D,_updateValid:w,_removeUnmounted:k,_updateFieldArray:b,_updateDisabledField:oe,_getFieldArray:G,_reset:gn,_resetDefaultValues:()=>Ia(e.defaultValues)&&e.defaultValues().then($=>{kn($,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:$=>{n={...n,...$}},_disableForm:Ue,_subjects:h,_proxyFormState:d,_setErrors:E,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state($){o=$},get _defaultValues(){return r},get _names(){return l},set _names($){l=$},get _formState(){return n},set _formState($){n=$},get _options(){return e},set _options($){e={...e,...$}}},trigger:Z,register:Pe,handleSubmit:it,watch:ne,setValue:Q,getValues:F,reset:kn,resetField:lt,clearErrors:B,unregister:ae,setError:K,setFocus:($,W={})=>{const X=we(s,$),be=X&&X._f;if(be){const ve=be.refs?be.refs[0]:be.ref;ve.focus&&(ve.focus(),W.shouldSelect&&ve.select())}},getFieldState:L}}function hh(t={}){const e=se.useRef(),n=se.useRef(),[s,r]=se.useState({isDirty:!1,isValidating:!1,isLoading:Ia(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ia(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...lae(t),formState:s});const a=e.current.control;return a._options=t,tS({subject:a._subjects.state,next:o=>{n5(o,a._proxyFormState,a._updateFormState,!0)&&r({...a._formState})}}),se.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),se.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),se.useEffect(()=>{t.values&&!Lo(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,r(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),se.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),se.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),se.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),se.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[s]),e.current.formState=t5(s,a),e.current}const wI=(t,e,n)=>{if(t&&"reportValidity"in t){const s=we(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},h5=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?wI(s.ref,n,t):s.refs&&s.refs.forEach(r=>wI(r,n,t))}},cae=(t,e)=>{e.shouldUseNativeValidation&&h5(t,e);const n={};for(const s in t){const r=we(e.fields,s),a=Object.assign(t[s]||{},{ref:r&&r.ref});if(uae(e.names||Object.keys(t),s)){const o=Object.assign({},we(n,s));Ot(o,"root",a),Ot(n,s,o)}else Ot(n,s,a)}return n},uae=(t,e)=>t.some(n=>n.startsWith(e+"."));var dae=function(t,e){for(var n={};t.length;){var s=t[0],r=s.code,a=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,u=c&&c[s.code];n[o]=i5(o,e,n,r,u?[].concat(u,s.message):s.message)}t.shift()}return n},fh=function(t,e,n){return n===void 0&&(n={}),function(s,r,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return a.shouldUseNativeValidation&&h5({},a),{errors:{},values:n.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:cae(dae(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Pt;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const a={};for(const o of r)a[o]=o;return a},t.getValidEnumValues=r=>{const a=t.objectKeys(r).filter(l=>typeof r[r[l]]!="number"),o={};for(const l of a)o[l]=r[l];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(a){return r[a]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const a=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.push(o);return a},t.find=(r,a)=>{for(const o of r)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function s(r,a=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(Pt||(Pt={}));var bI;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(bI||(bI={}));const Te=Pt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jl=t=>{switch(typeof t){case"undefined":return Te.undefined;case"string":return Te.string;case"number":return isNaN(t)?Te.nan:Te.number;case"boolean":return Te.boolean;case"function":return Te.function;case"bigint":return Te.bigint;case"symbol":return Te.symbol;case"object":return Array.isArray(t)?Te.array:t===null?Te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Te.promise:typeof Map<"u"&&t instanceof Map?Te.map:typeof Set<"u"&&t instanceof Set?Te.set:typeof Date<"u"&&t instanceof Date?Te.date:Te.object;default:return Te.unknown}},le=Pt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class qr extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},s={_errors:[]},r=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)s._errors.push(n(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(this),s}static assert(e){if(!(e instanceof qr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Pt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}qr.create=t=>new qr(t);const wm=(t,e)=>{let n;switch(t.code){case le.invalid_type:t.received===Te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case le.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Pt.jsonStringifyReplacer)}`;break;case le.unrecognized_keys:n=`Unrecognized key(s) in object: ${Pt.joinValues(t.keys,", ")}`;break;case le.invalid_union:n="Invalid input";break;case le.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Pt.joinValues(t.options)}`;break;case le.invalid_enum_value:n=`Invalid enum value. Expected ${Pt.joinValues(t.options)}, received '${t.received}'`;break;case le.invalid_arguments:n="Invalid function arguments";break;case le.invalid_return_type:n="Invalid function return type";break;case le.invalid_date:n="Invalid date";break;case le.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Pt.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case le.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case le.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case le.custom:n="Invalid input";break;case le.invalid_intersection_types:n="Intersection results could not be merged";break;case le.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case le.not_finite:n="Number must be finite";break;default:n=e.defaultError,Pt.assertNever(t)}return{message:n}};let hae=wm;function t_(){return hae}const n_=t=>{const{data:e,path:n,errorMaps:s,issueData:r}=t,a=[...n,...r.path||[]],o={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...r,path:a,message:l}};function je(t,e){const n=t_(),s=n_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===wm?void 0:wm].filter(r=>!!r)});t.common.issues.push(s)}class Vs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const r of n){if(r.status==="aborted")return Je;r.status==="dirty"&&e.dirty(),s.push(r.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const r of n){const a=await r.key,o=await r.value;s.push({key:a,value:o})}return Vs.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const r of n){const{key:a,value:o}=r;if(a.status==="aborted"||o.status==="aborted")return Je;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const Je=Object.freeze({status:"aborted"}),nf=t=>({status:"dirty",value:t}),dr=t=>({status:"valid",value:t}),NI=t=>t.status==="aborted",_I=t=>t.status==="dirty",fv=t=>t.status==="valid",mv=t=>typeof Promise<"u"&&t instanceof Promise;function pv(t,e,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function f5(t,e,n,s,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Le;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Le||(Le={}));var sf,rf;class oa{constructor(e,n,s,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jI=(t,e)=>{if(fv(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qr(t.common.issues);return this._error=n,this._error}}};function ot(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:r}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,l)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:l.defaultError}},description:r}}class pt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Jl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vs,ctx:{common:e.parent.common,data:e.data,parsedType:Jl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(mv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const r={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jl(e)},a=this._parseSync({data:e,path:r.path,parent:r});return jI(r,a)}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jl(e)},r=this._parse({data:e,path:s.path,parent:s}),a=await(mv(r)?r:Promise.resolve(r));return jI(s,a)}refine(e,n){const s=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,a)=>{const o=e(r),l=()=>a.addIssue({code:le.custom,...s(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((s,r)=>e(s)?!0:(r.addIssue(typeof n=="function"?n(s,r):n),!1))}_refinement(e){return new Za({schema:this,typeName:Xe.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Da.create(this,this._def)}nullable(){return Vc.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zi.create(this,this._def)}promise(){return bm.create(this,this._def)}or(e){return yv.create([this,e],this._def)}and(e){return wv.create(this,e,this._def)}transform(e){return new Za({...ot(this._def),schema:this,typeName:Xe.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Cv({...ot(this._def),innerType:this,defaultValue:n,typeName:Xe.ZodDefault})}brand(){return new x5({typeName:Xe.ZodBranded,type:this,...ot(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Sv({...ot(this._def),innerType:this,catchValue:n,typeName:Xe.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return V0.create(this,e)}readonly(){return Ev.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fae=/^c[^\s-]{8,}$/i,mae=/^[0-9a-z]+$/,pae=/^[0-9A-HJKMNP-TV-Z]{26}$/,gae=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xae=/^[a-z0-9_-]{21}$/i,vae=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,yae=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wae="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dw;const bae=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nae=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,_ae=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,m5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",jae=new RegExp(`^${m5}$`);function p5(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Cae(t){return new RegExp(`^${p5(t)}$`)}function Sae(t){let e=`${m5}T${p5(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Eae(t,e){return!!((e==="v4"||!e)&&bae.test(t)||(e==="v6"||!e)&&Nae.test(t))}class Hi extends pt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Te.string){const a=this._getOrReturnCtx(e);return je(a,{code:le.invalid_type,expected:Te.string,received:a.parsedType}),Je}const s=new Vs;let r;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(r=this._getOrReturnCtx(e,r),o?je(r,{code:le.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&je(r,{code:le.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")yae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"email",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Dw||(Dw=new RegExp(wae,"u")),Dw.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"emoji",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")gae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"uuid",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")xae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"nanoid",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")fae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"cuid",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")mae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"cuid2",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")pae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"ulid",code:le.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),je(r,{validation:"url",code:le.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"regex",code:le.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(e,r),je(r,{code:le.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(r=this._getOrReturnCtx(e,r),je(r,{code:le.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(r=this._getOrReturnCtx(e,r),je(r,{code:le.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Sae(a).test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:le.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?jae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:le.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?Cae(a).test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{code:le.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?vae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"duration",code:le.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?Eae(e.data,a.version)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"ip",code:le.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?_ae.test(e.data)||(r=this._getOrReturnCtx(e,r),je(r,{validation:"base64",code:le.invalid_string,message:a.message}),s.dirty()):Pt.assertNever(a);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(r=>e.test(r),{validation:n,code:le.invalid_string,...Le.errToObj(s)})}_addCheck(e){return new Hi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Le.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Le.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Le.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Le.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Le.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Le.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Le.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Le.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Le.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Le.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...Le.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Le.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Le.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Le.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Le.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Le.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Le.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Le.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Le.errToObj(n)})}nonempty(e){return this.min(1,Le.errToObj(e))}trim(){return new Hi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Hi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Hi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hi.create=t=>{var e;return new Hi({checks:[],typeName:Xe.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};function Tae(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,r=n>s?n:s,a=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return a%o/Math.pow(10,r)}class Oc extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Te.number){const a=this._getOrReturnCtx(e);return je(a,{code:le.invalid_type,expected:Te.number,received:a.parsedType}),Je}let s;const r=new Vs;for(const a of this._def.checks)a.kind==="int"?Pt.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),je(s,{code:le.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:le.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:le.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?Tae(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),je(s,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),je(s,{code:le.not_finite,message:a.message}),r.dirty()):Pt.assertNever(a);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,s,r){return new Oc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Le.toString(r)}]})}_addCheck(e){return new Oc({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Le.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Le.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Pt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Oc.create=t=>new Oc({checks:[],typeName:Xe.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class Fc extends pt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Te.bigint){const a=this._getOrReturnCtx(e);return je(a,{code:le.invalid_type,expected:Te.bigint,received:a.parsedType}),Je}let s;const r=new Vs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:le.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),je(s,{code:le.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),je(s,{code:le.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):Pt.assertNever(a);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Le.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Le.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Le.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Le.toString(n))}setLimit(e,n,s,r){return new Fc({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:Le.toString(r)}]})}_addCheck(e){return new Fc({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Le.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fc.create=t=>{var e;return new Fc({checks:[],typeName:Xe.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ot(t)})};class gv extends pt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Te.boolean){const s=this._getOrReturnCtx(e);return je(s,{code:le.invalid_type,expected:Te.boolean,received:s.parsedType}),Je}return dr(e.data)}}gv.create=t=>new gv({typeName:Xe.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ot(t)});class Vd extends pt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Te.date){const a=this._getOrReturnCtx(e);return je(a,{code:le.invalid_type,expected:Te.date,received:a.parsedType}),Je}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return je(a,{code:le.invalid_date}),Je}const s=new Vs;let r;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:le.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(r=this._getOrReturnCtx(e,r),je(r,{code:le.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):Pt.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Vd({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Le.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Le.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Vd.create=t=>new Vd({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Xe.ZodDate,...ot(t)});class s_ extends pt{_parse(e){if(this._getType(e)!==Te.symbol){const s=this._getOrReturnCtx(e);return je(s,{code:le.invalid_type,expected:Te.symbol,received:s.parsedType}),Je}return dr(e.data)}}s_.create=t=>new s_({typeName:Xe.ZodSymbol,...ot(t)});class xv extends pt{_parse(e){if(this._getType(e)!==Te.undefined){const s=this._getOrReturnCtx(e);return je(s,{code:le.invalid_type,expected:Te.undefined,received:s.parsedType}),Je}return dr(e.data)}}xv.create=t=>new xv({typeName:Xe.ZodUndefined,...ot(t)});class vv extends pt{_parse(e){if(this._getType(e)!==Te.null){const s=this._getOrReturnCtx(e);return je(s,{code:le.invalid_type,expected:Te.null,received:s.parsedType}),Je}return dr(e.data)}}vv.create=t=>new vv({typeName:Xe.ZodNull,...ot(t)});class r_ extends pt{constructor(){super(...arguments),this._any=!0}_parse(e){return dr(e.data)}}r_.create=t=>new r_({typeName:Xe.ZodAny,...ot(t)});class ed extends pt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return dr(e.data)}}ed.create=t=>new ed({typeName:Xe.ZodUnknown,...ot(t)});class Tl extends pt{_parse(e){const n=this._getOrReturnCtx(e);return je(n,{code:le.invalid_type,expected:Te.never,received:n.parsedType}),Je}}Tl.create=t=>new Tl({typeName:Xe.ZodNever,...ot(t)});class i_ extends pt{_parse(e){if(this._getType(e)!==Te.undefined){const s=this._getOrReturnCtx(e);return je(s,{code:le.invalid_type,expected:Te.void,received:s.parsedType}),Je}return dr(e.data)}}i_.create=t=>new i_({typeName:Xe.ZodVoid,...ot(t)});class Zi extends pt{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),r=this._def;if(n.parsedType!==Te.array)return je(n,{code:le.invalid_type,expected:Te.array,received:n.parsedType}),Je;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,l=n.data.length<r.exactLength.value;(o||l)&&(je(n,{code:o?le.too_big:le.too_small,minimum:l?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),s.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(je(n,{code:le.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),s.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(je(n,{code:le.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>r.type._parseAsync(new oa(n,o,n.path,l)))).then(o=>Vs.mergeArray(s,o));const a=[...n.data].map((o,l)=>r.type._parseSync(new oa(n,o,n.path,l)));return Vs.mergeArray(s,a)}get element(){return this._def.type}min(e,n){return new Zi({...this._def,minLength:{value:e,message:Le.toString(n)}})}max(e,n){return new Zi({...this._def,maxLength:{value:e,message:Le.toString(n)}})}length(e,n){return new Zi({...this._def,exactLength:{value:e,message:Le.toString(n)}})}nonempty(e){return this.min(1,e)}}Zi.create=(t,e)=>new Zi({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xe.ZodArray,...ot(e)});function wu(t){if(t instanceof yn){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Da.create(wu(s))}return new yn({...t._def,shape:()=>e})}else return t instanceof Zi?new Zi({...t._def,type:wu(t.element)}):t instanceof Da?Da.create(wu(t.unwrap())):t instanceof Vc?Vc.create(wu(t.unwrap())):t instanceof Xa?Xa.create(t.items.map(e=>wu(e))):t}class yn extends pt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Pt.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Te.object){const u=this._getOrReturnCtx(e);return je(u,{code:le.invalid_type,expected:Te.object,received:u.parsedType}),Je}const{status:s,ctx:r}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Tl&&this._def.unknownKeys==="strip"))for(const u in r.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=r.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new oa(r,h,r.path,u)),alwaysSet:u in r.data})}if(this._def.catchall instanceof Tl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:r.data[d]}});else if(u==="strict")l.length>0&&(je(r,{code:le.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=r.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new oa(r,h,r.path,d)),alwaysSet:d in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,f=await d.value;u.push({key:h,value:f,alwaysSet:d.alwaysSet})}return u}).then(u=>Vs.mergeObjectSync(s,u)):Vs.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return Le.errToObj,new yn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var r,a,o,l;const c=(o=(a=(r=this._def).errorMap)===null||a===void 0?void 0:a.call(r,n,s).message)!==null&&o!==void 0?o:s.defaultError;return n.code==="unrecognized_keys"?{message:(l=Le.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new yn({...this._def,unknownKeys:"strip"})}passthrough(){return new yn({...this._def,unknownKeys:"passthrough"})}extend(e){return new yn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xe.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new yn({...this._def,catchall:e})}pick(e){const n={};return Pt.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new yn({...this._def,shape:()=>n})}omit(e){const n={};return Pt.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new yn({...this._def,shape:()=>n})}deepPartial(){return wu(this)}partial(e){const n={};return Pt.objectKeys(this.shape).forEach(s=>{const r=this.shape[s];e&&!e[s]?n[s]=r:n[s]=r.optional()}),new yn({...this._def,shape:()=>n})}required(e){const n={};return Pt.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Da;)a=a._def.innerType;n[s]=a}}),new yn({...this._def,shape:()=>n})}keyof(){return g5(Pt.objectKeys(this.shape))}}yn.create=(t,e)=>new yn({shape:()=>t,unknownKeys:"strip",catchall:Tl.create(),typeName:Xe.ZodObject,...ot(e)});yn.strictCreate=(t,e)=>new yn({shape:()=>t,unknownKeys:"strict",catchall:Tl.create(),typeName:Xe.ZodObject,...ot(e)});yn.lazycreate=(t,e)=>new yn({shape:t,unknownKeys:"strip",catchall:Tl.create(),typeName:Xe.ZodObject,...ot(e)});class yv extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function r(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new qr(l.ctx.common.issues));return je(n,{code:le.invalid_union,unionErrors:o}),Je}if(n.common.async)return Promise.all(s.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let a;const o=[];for(const c of s){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new qr(c));return je(n,{code:le.invalid_union,unionErrors:l}),Je}}get options(){return this._def.options}}yv.create=(t,e)=>new yv({options:t,typeName:Xe.ZodUnion,...ot(e)});const Na=t=>t instanceof Nv?Na(t.schema):t instanceof Za?Na(t.innerType()):t instanceof _v?[t.value]:t instanceof Lc?t.options:t instanceof jv?Pt.objectValues(t.enum):t instanceof Cv?Na(t._def.innerType):t instanceof xv?[void 0]:t instanceof vv?[null]:t instanceof Da?[void 0,...Na(t.unwrap())]:t instanceof Vc?[null,...Na(t.unwrap())]:t instanceof x5||t instanceof Ev?Na(t.unwrap()):t instanceof Sv?Na(t._def.innerType):[];class rS extends pt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.object)return je(n,{code:le.invalid_type,expected:Te.object,received:n.parsedType}),Je;const s=this.discriminator,r=n.data[s],a=this.optionsMap.get(r);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(je(n,{code:le.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),Je)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const r=new Map;for(const a of n){const o=Na(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(r.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);r.set(l,a)}}return new rS({typeName:Xe.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...ot(s)})}}function a_(t,e){const n=Jl(t),s=Jl(e);if(t===e)return{valid:!0,data:t};if(n===Te.object&&s===Te.object){const r=Pt.objectKeys(e),a=Pt.objectKeys(t).filter(l=>r.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=a_(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===Te.array&&s===Te.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=a_(o,l);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===Te.date&&s===Te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class wv extends pt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=(a,o)=>{if(NI(a)||NI(o))return Je;const l=a_(a.value,o.value);return l.valid?((_I(a)||_I(o))&&n.dirty(),{status:n.value,value:l.data}):(je(s,{code:le.invalid_intersection_types}),Je)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>r(a,o)):r(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}wv.create=(t,e,n)=>new wv({left:t,right:e,typeName:Xe.ZodIntersection,...ot(n)});class Xa extends pt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.array)return je(s,{code:le.invalid_type,expected:Te.array,received:s.parsedType}),Je;if(s.data.length<this._def.items.length)return je(s,{code:le.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Je;!this._def.rest&&s.data.length>this._def.items.length&&(je(s,{code:le.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new oa(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>Vs.mergeArray(n,o)):Vs.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Xa({...this._def,rest:e})}}Xa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xa({items:t,typeName:Xe.ZodTuple,rest:null,...ot(e)})};class bv extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.object)return je(s,{code:le.invalid_type,expected:Te.object,received:s.parsedType}),Je;const r=[],a=this._def.keyType,o=this._def.valueType;for(const l in s.data)r.push({key:a._parse(new oa(s,l,s.path,l)),value:o._parse(new oa(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Vs.mergeObjectAsync(n,r):Vs.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof pt?new bv({keyType:e,valueType:n,typeName:Xe.ZodRecord,...ot(s)}):new bv({keyType:Hi.create(),valueType:e,typeName:Xe.ZodRecord,...ot(n)})}}class o_ extends pt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.map)return je(s,{code:le.invalid_type,expected:Te.map,received:s.parsedType}),Je;const r=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:r._parse(new oa(s,l,s.path,[u,"key"])),value:a._parse(new oa(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Je;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}o_.create=(t,e,n)=>new o_({valueType:e,keyType:t,typeName:Xe.ZodMap,...ot(n)});class $d extends pt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==Te.set)return je(s,{code:le.invalid_type,expected:Te.set,received:s.parsedType}),Je;const r=this._def;r.minSize!==null&&s.data.size<r.minSize.value&&(je(s,{code:le.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&s.data.size>r.maxSize.value&&(je(s,{code:le.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Je;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...s.data.values()].map((c,u)=>a._parse(new oa(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new $d({...this._def,minSize:{value:e,message:Le.toString(n)}})}max(e,n){return new $d({...this._def,maxSize:{value:e,message:Le.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}$d.create=(t,e)=>new $d({valueType:t,minSize:null,maxSize:null,typeName:Xe.ZodSet,...ot(e)});class Df extends pt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.function)return je(n,{code:le.invalid_type,expected:Te.function,received:n.parsedType}),Je;function s(l,c){return n_({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t_(),wm].filter(u=>!!u),issueData:{code:le.invalid_arguments,argumentsError:c}})}function r(l,c){return n_({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t_(),wm].filter(u=>!!u),issueData:{code:le.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof bm){const l=this;return dr(async function(...c){const u=new qr([]),d=await l._def.args.parseAsync(c,a).catch(g=>{throw u.addIssue(s(c,g)),u}),h=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(h,a).catch(g=>{throw u.addIssue(r(h,g)),u})})}else{const l=this;return dr(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new qr([s(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(d,a);if(!h.success)throw new qr([r(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Df({...this._def,args:Xa.create(e).rest(ed.create())})}returns(e){return new Df({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new Df({args:e||Xa.create([]).rest(ed.create()),returns:n||ed.create(),typeName:Xe.ZodFunction,...ot(s)})}}class Nv extends pt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Nv.create=(t,e)=>new Nv({getter:t,typeName:Xe.ZodLazy,...ot(e)});class _v extends pt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return je(n,{received:n.data,code:le.invalid_literal,expected:this._def.value}),Je}return{status:"valid",value:e.data}}get value(){return this._def.value}}_v.create=(t,e)=>new _v({value:t,typeName:Xe.ZodLiteral,...ot(e)});function g5(t,e){return new Lc({values:t,typeName:Xe.ZodEnum,...ot(e)})}class Lc extends pt{constructor(){super(...arguments),sf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return je(n,{expected:Pt.joinValues(s),received:n.parsedType,code:le.invalid_type}),Je}if(pv(this,sf)||f5(this,sf,new Set(this._def.values)),!pv(this,sf).has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return je(n,{received:n.data,code:le.invalid_enum_value,options:s}),Je}return dr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Lc.create(e,{...this._def,...n})}exclude(e,n=this._def){return Lc.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}sf=new WeakMap;Lc.create=g5;class jv extends pt{constructor(){super(...arguments),rf.set(this,void 0)}_parse(e){const n=Pt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==Te.string&&s.parsedType!==Te.number){const r=Pt.objectValues(n);return je(s,{expected:Pt.joinValues(r),received:s.parsedType,code:le.invalid_type}),Je}if(pv(this,rf)||f5(this,rf,new Set(Pt.getValidEnumValues(this._def.values))),!pv(this,rf).has(e.data)){const r=Pt.objectValues(n);return je(s,{received:s.data,code:le.invalid_enum_value,options:r}),Je}return dr(e.data)}get enum(){return this._def.values}}rf=new WeakMap;jv.create=(t,e)=>new jv({values:t,typeName:Xe.ZodNativeEnum,...ot(e)});class bm extends pt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Te.promise&&n.common.async===!1)return je(n,{code:le.invalid_type,expected:Te.promise,received:n.parsedType}),Je;const s=n.parsedType===Te.promise?n.data:Promise.resolve(n.data);return dr(s.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}bm.create=(t,e)=>new bm({type:t,typeName:Xe.ZodPromise,...ot(e)});class Za extends pt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:o=>{je(s,o),o.fatal?n.abort():n.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){const o=r.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return Je;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?Je:c.status==="dirty"||n.value==="dirty"?nf(c.value):c});{if(n.value==="aborted")return Je;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?Je:l.status==="dirty"||n.value==="dirty"?nf(l.value):l}}if(r.type==="refinement"){const o=l=>{const c=r.refinement(l,a);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?Je:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?Je:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(r.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!fv(o))return o;const l=r.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>fv(o)?Promise.resolve(r.transform(o.value,a)).then(l=>({status:n.value,value:l})):o);Pt.assertNever(r)}}Za.create=(t,e,n)=>new Za({schema:t,typeName:Xe.ZodEffects,effect:e,...ot(n)});Za.createWithPreprocess=(t,e,n)=>new Za({schema:e,effect:{type:"preprocess",transform:t},typeName:Xe.ZodEffects,...ot(n)});class Da extends pt{_parse(e){return this._getType(e)===Te.undefined?dr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Da.create=(t,e)=>new Da({innerType:t,typeName:Xe.ZodOptional,...ot(e)});class Vc extends pt{_parse(e){return this._getType(e)===Te.null?dr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vc.create=(t,e)=>new Vc({innerType:t,typeName:Xe.ZodNullable,...ot(e)});class Cv extends pt{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===Te.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cv.create=(t,e)=>new Cv({innerType:t,typeName:Xe.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ot(e)});class Sv extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return mv(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new qr(s.common.issues)},input:s.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new qr(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Sv.create=(t,e)=>new Sv({innerType:t,typeName:Xe.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ot(e)});class l_ extends pt{_parse(e){if(this._getType(e)!==Te.nan){const s=this._getOrReturnCtx(e);return je(s,{code:le.invalid_type,expected:Te.nan,received:s.parsedType}),Je}return{status:"valid",value:e.data}}}l_.create=t=>new l_({typeName:Xe.ZodNaN,...ot(t)});class x5 extends pt{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class V0 extends pt{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?Je:a.status==="dirty"?(n.dirty(),nf(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const r=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?Je:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:s.path,parent:s})}}static create(e,n){return new V0({in:e,out:n,typeName:Xe.ZodPipeline})}}class Ev extends pt{_parse(e){const n=this._def.innerType._parse(e),s=r=>(fv(r)&&(r.value=Object.freeze(r.value)),r);return mv(n)?n.then(r=>s(r)):s(n)}unwrap(){return this._def.innerType}}Ev.create=(t,e)=>new Ev({innerType:t,typeName:Xe.ZodReadonly,...ot(e)});yn.lazycreate;var Xe;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xe||(Xe={}));const cn=Hi.create;Oc.create;l_.create;Fc.create;const Rae=gv.create,Jg=Vd.create;s_.create;xv.create;vv.create;r_.create;ed.create;Tl.create;i_.create;const Pae=Zi.create,$c=yn.create;yn.strictCreate;yv.create;rS.create;wv.create;Xa.create;bv.create;o_.create;$d.create;Df.create;Nv.create;_v.create;const $0=Lc.create;jv.create;bm.create;Za.create;Da.create;Vc.create;Za.createWithPreprocess;V0.create;const c_={string:t=>Hi.create({...t,coerce:!0}),number:t=>Oc.create({...t,coerce:!0}),boolean:t=>gv.create({...t,coerce:!0}),bigint:t=>Fc.create({...t,coerce:!0}),date:t=>Vd.create({...t,coerce:!0})},mh=Kie,v5=p.createContext({}),Ct=({...t})=>i.jsx(v5.Provider,{value:{name:t.name},children:i.jsx(Xie,{...t})}),U0=()=>{const t=p.useContext(v5),e=p.useContext(y5),{getFieldState:n,formState:s}=xp(),r=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},y5=p.createContext({}),bt=p.forwardRef(({className:t,...e},n)=>{const s=p.useId();return i.jsx(y5.Provider,{value:{id:s},children:i.jsx("div",{ref:n,className:ie("space-y-2",t),...e})})});bt.displayName="FormItem";const Tt=p.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:r}=U0();return i.jsx(me,{ref:n,className:ie(s&&"text-destructive",t),htmlFor:r,...e})});Tt.displayName="FormLabel";const Nt=p.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:r,formMessageId:a}=U0();return i.jsx(Ji,{ref:e,id:s,"aria-describedby":n?`${r} ${a}`:`${r}`,"aria-invalid":!!n,...t})});Nt.displayName="FormControl";const Iae=p.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=U0();return i.jsx("p",{ref:n,id:s,className:ie("text-sm text-muted-foreground",t),...e})});Iae.displayName="FormDescription";const St=p.forwardRef(({className:t,children:e,...n},s)=>{const{error:r,formMessageId:a}=U0(),o=r?String(r==null?void 0:r.message):e;return o?i.jsx("p",{ref:s,id:a,className:ie("text-sm font-medium text-destructive",t),...n,children:o}):null});St.displayName="FormMessage";const iS=()=>{const[t,e]=p.useState(!1);return p.useEffect(()=>{if(window.Razorpay){console.log("Razorpay already loaded"),e(!0);return}const n=document.createElement("script");n.src="https://checkout.razorpay.com/v1/checkout.js",n.async=!0;const s=()=>{console.log("Razorpay SDK loaded successfully"),e(!0)},r=()=>{console.error("Razorpay SDK could not be loaded."),e(!1)};return n.addEventListener("load",s),n.addEventListener("error",r),document.head.appendChild(n),()=>{n.removeEventListener("load",s),n.removeEventListener("error",r),document.head.contains(n)&&document.head.removeChild(n)}},[]),t},kae=t=>In({queryKey:["availableSlots"],queryFn:async()=>{const n=Ze(he,"bookingSlots"),s=ts(n,Ad("datetime",">",Nn.now()),Hr("datetime","asc"));return(await Rt(s)).docs.map(o=>({id:o.id,...o.data()})).filter(o=>!o.isBooked)},enabled:t.enabled}),Aae=async t=>{console.log("=== STARTING FETCH PRODUCTS ==="),console.log("Pet type parameter:",t),console.log("Database reference:",he);const e=Ze(he,"products");console.log("Products collection reference created:",e);try{console.log("Attempting to fetch ALL products first...");const n=ts(e),s=await Rt(n);if(console.log("Total products in database:",s.docs.length),s.docs.forEach((a,o)=>{console.log(`Product ${o+1}:`,{id:a.id,...a.data()})}),s.docs.length===0)return console.log(" NO PRODUCTS FOUND IN DATABASE - This is the root issue!"),console.log("Make sure to add products through the Admin -> Products tab"),[];let r;if(t&&t!=="Both"){const a=t.charAt(0).toUpperCase()+t.slice(1).toLowerCase();console.log("Filtering for normalized pet type:",a),r=s.docs.map(o=>{const l=o.data();return{id:o.id,name:l.name||"",price:l.price||0,category:l.category||"Dog",createdAt:l.createdAt}}).filter(o=>{const l=o.category===a||o.category==="Both";return console.log(`Product "${o.name}" (category: ${o.category}) matches ${a}:`,l),l})}else console.log("No filtering needed, returning all products"),r=s.docs.map(a=>{const o=a.data();return{id:a.id,name:o.name||"",price:o.price||0,category:o.category||"Dog",createdAt:o.createdAt}});return console.log("Final filtered products:",r),console.log("=== FETCH PRODUCTS COMPLETE ==="),r}catch(n){return console.error(" Error in fetchProducts:",n),console.error("Error details:",{name:n.name,message:n.message,code:n.code,stack:n.stack}),[]}},w5=t=>{console.log("useProducts hook called with petType:",t);const e=In({queryKey:["products",t],queryFn:()=>Aae(t)});return console.log("useProducts result:",e.data),e.error&&console.error("useProducts error:",e.error),e},Dae=({availableSlots:t,selectedSlotId:e,onSlotSelect:n,isLoading:s})=>{var d;const[r,a]=p.useState(),o=p.useMemo(()=>t?t.reduce((h,f)=>{const g=Ee(f.datetime.toDate(),"yyyy-MM-dd");return h[g]||(h[g]=[]),h[g].push(f),h},{}):{},[t]),l=p.useMemo(()=>Object.keys(o).map(h=>{const[f,g,v]=h.split("-").map(Number);return new Date(f,g-1,v)}),[o]),c=h=>{a(h)},u=r?((d=o[Ee(r,"yyyy-MM-dd")])==null?void 0:d.sort((h,f)=>h.datetime.toMillis()-f.datetime.toMillis()))||[]:[];return i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2 text-center",children:"Select a Date"}),i.jsx(Mc,{mode:"single",selected:r,onSelect:c,disabled:h=>{const f=Ka();return h<f?!0:!l.some(g=>Ns(h,g))},className:"rounded-md border flex justify-center"})]}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"text-sm font-medium mb-2 text-center",children:r?"Available Times":"Select a date to see times"}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:[s&&i.jsx("div",{className:"col-span-full flex items-center justify-center h-full",children:i.jsx(Aj,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),!s&&r&&u.length>0&&u.map(h=>i.jsx(z,{variant:e===h.id?"default":"outline",onClick:()=>n(h.id),className:"w-full",children:Ee(h.datetime.toDate(),"h:mm a")},h.id)),!s&&r&&u.length===0&&i.jsx("p",{className:"text-sm text-muted-foreground col-span-full text-center mt-4",children:"No slots available for this day."}),!s&&!r&&i.jsx("p",{className:"text-sm text-muted-foreground col-span-full text-center mt-4",children:"Please pick a date."})]})]})]})},Mae=({control:t,availableSlots:e,isLoading:n})=>i.jsx("div",{className:"animate-in fade-in",children:i.jsx(Ct,{control:t,name:"slotId",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Nt,{children:i.jsx(Dae,{availableSlots:e,selectedSlotId:s.value,onSlotSelect:s.onChange,isLoading:n})}),i.jsx(St,{})]})})}),Oae=({control:t})=>i.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Ct,{control:t,name:"name",render:({field:e})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Full Name"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"John Doe",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:t,name:"phone",render:({field:e})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Phone Number"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"+91 98765 43210",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})})]}),i.jsx(Ct,{control:t,name:"address",render:({field:e})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Address"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"123, Main Street",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ct,{control:t,name:"city",render:({field:e})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"City"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"Mumbai",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:t,name:"postalCode",render:({field:e})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Postal Code"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"400001",...e,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})})]})]});var CI=1,Fae=.9,Lae=.8,Vae=.17,Mw=.1,Ow=.999,$ae=.9999,Uae=.99,Bae=/[\\\/_+.#"@\[\(\{&]/,zae=/[\\\/_+.#"@\[\(\{&]/g,Hae=/[\s-]/,b5=/[\s-]/g;function u_(t,e,n,s,r,a,o){if(a===e.length)return r===t.length?CI:Uae;var l=`${r},${a}`;if(o[l]!==void 0)return o[l];for(var c=s.charAt(a),u=n.indexOf(c,r),d=0,h,f,g,v;u>=0;)h=u_(t,e,n,s,u+1,a+1,o),h>d&&(u===r?h*=CI:Bae.test(t.charAt(u-1))?(h*=Lae,g=t.slice(r,u-1).match(zae),g&&r>0&&(h*=Math.pow(Ow,g.length))):Hae.test(t.charAt(u-1))?(h*=Fae,v=t.slice(r,u-1).match(b5),v&&r>0&&(h*=Math.pow(Ow,v.length))):(h*=Vae,r>0&&(h*=Math.pow(Ow,u-r))),t.charAt(u)!==e.charAt(a)&&(h*=$ae)),(h<Mw&&n.charAt(u-1)===s.charAt(a+1)||s.charAt(a+1)===s.charAt(a)&&n.charAt(u-1)!==s.charAt(a))&&(f=u_(t,e,n,s,u+1,a+2,o),f*Mw>h&&(h=f*Mw)),h>d&&(d=h),u=n.indexOf(c,u+1);return o[l]=d,d}function SI(t){return t.toLowerCase().replace(b5," ")}function Wae(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,u_(t,e,SI(t),SI(e),0,0,{})}function $s(){return $s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},$s.apply(null,arguments)}function td(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function qae(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function N5(...t){return e=>t.forEach(n=>qae(n,e))}function vp(...t){return p.useCallback(N5(...t),t)}function Gae(t,e=[]){let n=[];function s(a,o){const l=p.createContext(o),c=n.length;n=[...n,o];function u(h){const{scope:f,children:g,...v}=h,x=(f==null?void 0:f[t][c])||l,w=p.useMemo(()=>v,Object.values(v));return p.createElement(x.Provider,{value:w},g)}function d(h,f){const g=(f==null?void 0:f[t][c])||l,v=p.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const r=()=>{const a=n.map(o=>p.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,Kae(r,...e)]}function Kae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}const d_=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},Qae=A_.useId||(()=>{});let Yae=0;function Fw(t){const[e,n]=p.useState(Qae());return d_(()=>{t||n(s=>s??String(Yae++))},[t]),t||(e?`radix-${e}`:"")}function Uc(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)===null||s===void 0?void 0:s.call(e,...n)},[])}function Xae({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,r]=Zae({defaultProp:e,onChange:n}),a=t!==void 0,o=a?t:s,l=Uc(n),c=p.useCallback(u=>{if(a){const h=typeof u=="function"?u(t):u;h!==t&&l(h)}else r(u)},[a,t,r,l]);return[o,c]}function Zae({defaultProp:t,onChange:e}){const n=p.useState(t),[s]=n,r=p.useRef(s),a=Uc(e);return p.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),n}const aS=p.forwardRef((t,e)=>{const{children:n,...s}=t,r=p.Children.toArray(n),a=r.find(eoe);if(a){const o=a.props.children,l=r.map(c=>c===a?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:c);return p.createElement(h_,$s({},s,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,l):null)}return p.createElement(h_,$s({},s,{ref:e}),n)});aS.displayName="Slot";const h_=p.forwardRef((t,e)=>{const{children:n,...s}=t;return p.isValidElement(n)?p.cloneElement(n,{...toe(s,n.props),ref:e?N5(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});h_.displayName="SlotClone";const Jae=({children:t})=>p.createElement(p.Fragment,null,t);function eoe(t){return p.isValidElement(t)&&t.type===Jae}function toe(t,e){const n={...e};for(const s in e){const r=t[s],a=e[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{a(...l),r(...l)}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...t,...n}}const noe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Zr=noe.reduce((t,e)=>{const n=p.forwardRef((s,r)=>{const{asChild:a,...o}=s,l=a?aS:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(l,$s({},o,{ref:r}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function soe(t,e){t&&no.flushSync(()=>t.dispatchEvent(e))}function roe(t,e=globalThis==null?void 0:globalThis.document){const n=Uc(t);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s),()=>e.removeEventListener("keydown",s)},[n,e])}const f_="dismissableLayer.update",ioe="dismissableLayer.pointerDownOutside",aoe="dismissableLayer.focusOutside";let EI;const ooe=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),loe=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:l,onDismiss:c,...u}=t,d=p.useContext(ooe),[h,f]=p.useState(null),g=(n=h==null?void 0:h.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,v]=p.useState({}),x=vp(e,_=>f(_)),w=Array.from(d.layers),[y]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(y),N=h?w.indexOf(h):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,I=N>=b,A=coe(_=>{const S=_.target,T=[...d.branches].some(k=>k.contains(S));!I||T||(a==null||a(_),l==null||l(_),_.defaultPrevented||c==null||c())},g),C=uoe(_=>{const S=_.target;[...d.branches].some(k=>k.contains(S))||(o==null||o(_),l==null||l(_),_.defaultPrevented||c==null||c())},g);return roe(_=>{N===d.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&c&&(_.preventDefault(),c()))},g),p.useEffect(()=>{if(h)return s&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(EI=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),TI(),()=>{s&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=EI)}},[h,g,s,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),TI())},[h,d]),p.useEffect(()=>{const _=()=>v({});return document.addEventListener(f_,_),()=>document.removeEventListener(f_,_)},[]),p.createElement(Zr.div,$s({},u,{ref:x,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:td(t.onFocusCapture,C.onFocusCapture),onBlurCapture:td(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:td(t.onPointerDownCapture,A.onPointerDownCapture)}))});function coe(t,e=globalThis==null?void 0:globalThis.document){const n=Uc(t),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let d=function(){_5(ioe,n,u,{discrete:!0})};var c=d;const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=d,e.addEventListener("click",r.current,{once:!0})):d()}else e.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function uoe(t,e=globalThis==null?void 0:globalThis.document){const n=Uc(t),s=p.useRef(!1);return p.useEffect(()=>{const r=a=>{a.target&&!s.current&&_5(aoe,n,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function TI(){const t=new CustomEvent(f_);document.dispatchEvent(t)}function _5(t,e,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?soe(r,a):r.dispatchEvent(a)}const Lw="focusScope.autoFocusOnMount",Vw="focusScope.autoFocusOnUnmount",RI={bubbles:!1,cancelable:!0},doe=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=t,[l,c]=p.useState(null),u=Uc(r),d=Uc(a),h=p.useRef(null),f=vp(e,x=>c(x)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let b=function(A){if(g.paused||!l)return;const C=A.target;l.contains(C)?h.current=C:To(h.current,{select:!0})},N=function(A){if(g.paused||!l)return;const C=A.relatedTarget;C!==null&&(l.contains(C)||To(h.current,{select:!0}))},E=function(A){if(document.activeElement===document.body)for(const _ of A)_.removedNodes.length>0&&To(l)};var x=b,w=N,y=E;document.addEventListener("focusin",b),document.addEventListener("focusout",N);const I=new MutationObserver(E);return l&&I.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),I.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){II.add(g);const x=document.activeElement;if(!l.contains(x)){const y=new CustomEvent(Lw,RI);l.addEventListener(Lw,u),l.dispatchEvent(y),y.defaultPrevented||(hoe(xoe(j5(l)),{select:!0}),document.activeElement===x&&To(l))}return()=>{l.removeEventListener(Lw,u),setTimeout(()=>{const y=new CustomEvent(Vw,RI);l.addEventListener(Vw,d),l.dispatchEvent(y),y.defaultPrevented||To(x??document.body,{select:!0}),l.removeEventListener(Vw,d),II.remove(g)},0)}}},[l,u,d,g]);const v=p.useCallback(x=>{if(!n&&!s||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(w&&y){const b=x.currentTarget,[N,E]=foe(b);N&&E?!x.shiftKey&&y===E?(x.preventDefault(),n&&To(N,{select:!0})):x.shiftKey&&y===N&&(x.preventDefault(),n&&To(E,{select:!0})):y===b&&x.preventDefault()}},[n,s,g.paused]);return p.createElement(Zr.div,$s({tabIndex:-1},o,{ref:f,onKeyDown:v}))});function hoe(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(To(s,{select:e}),document.activeElement!==n)return}function foe(t){const e=j5(t),n=PI(e,t),s=PI(e.reverse(),t);return[n,s]}function j5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function PI(t,e){for(const n of t)if(!moe(n,{upTo:e}))return n}function moe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function poe(t){return t instanceof HTMLInputElement&&"select"in t}function To(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&poe(t)&&e&&t.select()}}const II=goe();function goe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=kI(t,e),t.unshift(e)},remove(e){var n;t=kI(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function kI(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function xoe(t){return t.filter(e=>e.tagName!=="A")}const voe=p.forwardRef((t,e)=>{var n;const{container:s=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...r}=t;return s?jj.createPortal(p.createElement(Zr.div,$s({},r,{ref:e})),s):null});function yoe(t,e){return p.useReducer((n,s)=>{const r=e[n][s];return r??n},t)}const B0=t=>{const{present:e,children:n}=t,s=woe(e),r=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),a=vp(s.ref,r.ref);return typeof n=="function"||s.isPresent?p.cloneElement(r,{ref:a}):null};B0.displayName="Presence";function woe(t){const[e,n]=p.useState(),s=p.useRef({}),r=p.useRef(t),a=p.useRef("none"),o=t?"mounted":"unmounted",[l,c]=yoe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=yg(s.current);a.current=l==="mounted"?u:"none"},[l]),d_(()=>{const u=s.current,d=r.current;if(d!==t){const f=a.current,g=yg(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),d_(()=>{if(e){const u=h=>{const g=yg(s.current).includes(h.animationName);h.target===e&&g&&no.flushSync(()=>c("ANIMATION_END"))},d=h=>{h.target===e&&(a.current=yg(s.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{u&&(s.current=getComputedStyle(u)),n(u)},[])}}function yg(t){return(t==null?void 0:t.animationName)||"none"}let $w=0;function boe(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:AI()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:AI()),$w++,()=>{$w===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),$w--}},[])}function AI(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var C5=cF(),Uw=function(){},z0=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:Uw,onWheelCapture:Uw,onTouchMoveCapture:Uw}),r=s[0],a=s[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,g=t.noIsolation,v=t.inert,x=t.allowPinchZoom,w=t.as,y=w===void 0?"div":w,b=eh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),N=f,E=lF([n,e]),I=bs(bs({},b),r);return p.createElement(p.Fragment,null,d&&p.createElement(N,{sideCar:C5,removeScrollBar:u,shards:h,noIsolation:g,inert:v,setCallbacks:a,allowPinchZoom:!!x,lockRef:n}),o?p.cloneElement(p.Children.only(l),bs(bs({},I),{ref:E})):p.createElement(y,bs({},I,{className:c,ref:E}),l))});z0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};z0.classNames={fullWidth:Pf,zeroRight:Rf};var m_=!1;if(typeof window<"u")try{var wg=Object.defineProperty({},"passive",{get:function(){return m_=!0,!0}});window.addEventListener("test",wg,wg),window.removeEventListener("test",wg,wg)}catch{m_=!1}var mu=m_?{passive:!1}:!1,Noe=function(t){return t.tagName==="TEXTAREA"},S5=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Noe(t)&&n[e]==="visible")},_oe=function(t){return S5(t,"overflowY")},joe=function(t){return S5(t,"overflowX")},DI=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=E5(t,n);if(s){var r=T5(t,n),a=r[1],o=r[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Coe=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},Soe=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},E5=function(t,e){return t==="v"?_oe(e):joe(e)},T5=function(t,e){return t==="v"?Coe(e):Soe(e)},Eoe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Toe=function(t,e,n,s,r){var a=Eoe(t,window.getComputedStyle(e).direction),o=a*s,l=n.target,c=e.contains(l),u=!1,d=o>0,h=0,f=0;do{var g=T5(t,l),v=g[0],x=g[1],w=g[2],y=x-w-a*v;(v||y)&&E5(t,l)&&(h+=y,f+=v),l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(h===0||!r)||!d&&(f===0||!r))&&(u=!0),u},bg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},MI=function(t){return[t.deltaX,t.deltaY]},OI=function(t){return t&&"current"in t?t.current:t},Roe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Poe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Ioe=0,pu=[];function koe(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),r=p.useState(Ioe++)[0],a=p.useState(function(){return yC()})[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var x=u4([t.lockRef.current],(t.shards||[]).map(OI),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(x,w){if("touches"in x&&x.touches.length===2)return!o.current.allowPinchZoom;var y=bg(x),b=n.current,N="deltaX"in x?x.deltaX:b[0]-y[0],E="deltaY"in x?x.deltaY:b[1]-y[1],I,A=x.target,C=Math.abs(N)>Math.abs(E)?"h":"v";if("touches"in x&&C==="h"&&A.type==="range")return!1;var _=DI(C,A);if(!_)return!0;if(_?I=C:(I=C==="v"?"h":"v",_=DI(C,A)),!_)return!1;if(!s.current&&"changedTouches"in x&&(N||E)&&(s.current=I),!I)return!0;var S=s.current||I;return Toe(S,w,x,S==="h"?N:E,!0)},[]),c=p.useCallback(function(x){var w=x;if(!(!pu.length||pu[pu.length-1]!==a)){var y="deltaY"in w?MI(w):bg(w),b=e.current.filter(function(I){return I.name===w.type&&I.target===w.target&&Roe(I.delta,y)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var N=(o.current.shards||[]).map(OI).filter(Boolean).filter(function(I){return I.contains(w.target)}),E=N.length>0?l(w,N[0]):!o.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),u=p.useCallback(function(x,w,y,b){var N={name:x,delta:w,target:y,should:b};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(E){return E!==N})},1)},[]),d=p.useCallback(function(x){n.current=bg(x),s.current=void 0},[]),h=p.useCallback(function(x){u(x.type,MI(x),x.target,l(x,t.lockRef.current))},[]),f=p.useCallback(function(x){u(x.type,bg(x),x.target,l(x,t.lockRef.current))},[]);p.useEffect(function(){return pu.push(a),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",c,mu),document.addEventListener("touchmove",c,mu),document.addEventListener("touchstart",d,mu),function(){pu=pu.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,mu),document.removeEventListener("touchmove",c,mu),document.removeEventListener("touchstart",d,mu)}},[]);var g=t.removeScrollBar,v=t.inert;return p.createElement(p.Fragment,null,v?p.createElement(a,{styles:Poe(r)}):null,g?p.createElement(fF,{gapMode:"margin"}):null)}const Aoe=dF(C5,koe);var R5=p.forwardRef(function(t,e){return p.createElement(z0,bs({},t,{ref:e,sideCar:Aoe}))});R5.classNames=z0.classNames;const P5="Dialog",[I5,uhe]=Gae(P5),[Doe,nu]=I5(P5),Moe=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:o=!0}=t,l=p.useRef(null),c=p.useRef(null),[u=!1,d]=Xae({prop:s,defaultProp:r,onChange:a});return p.createElement(Doe,{scope:e,triggerRef:l,contentRef:c,contentId:Fw(),titleId:Fw(),descriptionId:Fw(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:o},n)},k5="DialogPortal",[Ooe,A5]=I5(k5,{forceMount:void 0}),Foe=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,a=nu(k5,e);return p.createElement(Ooe,{scope:e,forceMount:n},p.Children.map(s,o=>p.createElement(B0,{present:n||a.open},p.createElement(voe,{asChild:!0,container:r},o))))},p_="DialogOverlay",Loe=p.forwardRef((t,e)=>{const n=A5(p_,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,a=nu(p_,t.__scopeDialog);return a.modal?p.createElement(B0,{present:s||a.open},p.createElement(Voe,$s({},r,{ref:e}))):null}),Voe=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=nu(p_,n);return p.createElement(R5,{as:aS,allowPinchZoom:!0,shards:[r.contentRef]},p.createElement(Zr.div,$s({"data-state":M5(r.open)},s,{ref:e,style:{pointerEvents:"auto",...s.style}})))}),Nm="DialogContent",$oe=p.forwardRef((t,e)=>{const n=A5(Nm,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,a=nu(Nm,t.__scopeDialog);return p.createElement(B0,{present:s||a.open},a.modal?p.createElement(Uoe,$s({},r,{ref:e})):p.createElement(Boe,$s({},r,{ref:e})))}),Uoe=p.forwardRef((t,e)=>{const n=nu(Nm,t.__scopeDialog),s=p.useRef(null),r=vp(e,n.contentRef,s);return p.useEffect(()=>{const a=s.current;if(a)return sp(a)},[]),p.createElement(D5,$s({},t,{ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:td(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)===null||o===void 0||o.focus()}),onPointerDownOutside:td(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:td(t.onFocusOutside,a=>a.preventDefault())}))}),Boe=p.forwardRef((t,e)=>{const n=nu(Nm,t.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return p.createElement(D5,$s({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o;if((o=t.onCloseAutoFocus)===null||o===void 0||o.call(t,a),!a.defaultPrevented){var l;s.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),a.preventDefault()}s.current=!1,r.current=!1},onInteractOutside:a=>{var o,l;(o=t.onInteractOutside)===null||o===void 0||o.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=a.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}}))}),D5=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=t,l=nu(Nm,n),c=p.useRef(null),u=vp(e,c);return boe(),p.createElement(p.Fragment,null,p.createElement(doe,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a},p.createElement(loe,$s({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":M5(l.open)},o,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function M5(t){return t?"open":"closed"}const zoe=Moe,Hoe=Foe,Woe=Loe,qoe=$oe;var Hh='[cmdk-group=""]',Bw='[cmdk-group-items=""]',Goe='[cmdk-group-heading=""]',oS='[cmdk-item=""]',FI=`${oS}:not([aria-disabled="true"])`,g_="cmdk-item-select",ec="data-value",Koe=(t,e,n)=>Wae(t,e,n),O5=p.createContext(void 0),yp=()=>p.useContext(O5),F5=p.createContext(void 0),lS=()=>p.useContext(F5),L5=p.createContext(void 0),V5=p.forwardRef((t,e)=>{let n=bu(()=>{var L,B;return{search:"",value:(B=(L=t.value)!=null?L:t.defaultValue)!=null?B:"",filtered:{count:0,items:new Map,groups:new Set}}}),s=bu(()=>new Set),r=bu(()=>new Map),a=bu(()=>new Map),o=bu(()=>new Set),l=$5(t),{label:c,children:u,value:d,onValueChange:h,filter:f,shouldFilter:g,loop:v,disablePointerSelection:x=!1,vimBindings:w=!0,...y}=t,b=p.useId(),N=p.useId(),E=p.useId(),I=p.useRef(null),A=ile();Bc(()=>{if(d!==void 0){let L=d.trim();n.current.value=L,C.emit()}},[d]),Bc(()=>{A(6,P)},[]);let C=p.useMemo(()=>({subscribe:L=>(o.current.add(L),()=>o.current.delete(L)),snapshot:()=>n.current,setState:(L,B,K)=>{var ne,ae,oe;if(!Object.is(n.current[L],B)){if(n.current[L]=B,L==="search")D(),T(),A(1,k);else if(L==="value"&&(K||A(5,P),((ne=l.current)==null?void 0:ne.value)!==void 0)){let Pe=B??"";(oe=(ae=l.current).onValueChange)==null||oe.call(ae,Pe);return}C.emit()}},emit:()=>{o.current.forEach(L=>L())}}),[]),_=p.useMemo(()=>({value:(L,B,K)=>{var ne;B!==((ne=a.current.get(L))==null?void 0:ne.value)&&(a.current.set(L,{value:B,keywords:K}),n.current.filtered.items.set(L,S(B,K)),A(2,()=>{T(),C.emit()}))},item:(L,B)=>(s.current.add(L),B&&(r.current.has(B)?r.current.get(B).add(L):r.current.set(B,new Set([L]))),A(3,()=>{D(),T(),n.current.value||k(),C.emit()}),()=>{a.current.delete(L),s.current.delete(L),n.current.filtered.items.delete(L);let K=G();A(4,()=>{D(),(K==null?void 0:K.getAttribute("id"))===L&&k(),C.emit()})}),group:L=>(r.current.has(L)||r.current.set(L,new Set),()=>{a.current.delete(L),r.current.delete(L)}),filter:()=>l.current.shouldFilter,label:c||t["aria-label"],disablePointerSelection:x,listId:b,inputId:E,labelId:N,listInnerRef:I}),[]);function S(L,B){var K,ne;let ae=(ne=(K=l.current)==null?void 0:K.filter)!=null?ne:Koe;return L?ae(L,n.current.search,B):0}function T(){if(!n.current.search||l.current.shouldFilter===!1)return;let L=n.current.filtered.items,B=[];n.current.filtered.groups.forEach(ne=>{let ae=r.current.get(ne),oe=0;ae.forEach(Pe=>{let Oe=L.get(Pe);oe=Math.max(Oe,oe)}),B.push([ne,oe])});let K=I.current;ee().sort((ne,ae)=>{var oe,Pe;let Oe=ne.getAttribute("id"),Ue=ae.getAttribute("id");return((oe=L.get(Ue))!=null?oe:0)-((Pe=L.get(Oe))!=null?Pe:0)}).forEach(ne=>{let ae=ne.closest(Bw);ae?ae.appendChild(ne.parentElement===ae?ne:ne.closest(`${Bw} > *`)):K.appendChild(ne.parentElement===K?ne:ne.closest(`${Bw} > *`))}),B.sort((ne,ae)=>ae[1]-ne[1]).forEach(ne=>{let ae=I.current.querySelector(`${Hh}[${ec}="${encodeURIComponent(ne[0])}"]`);ae==null||ae.parentElement.appendChild(ae)})}function k(){let L=ee().find(K=>K.getAttribute("aria-disabled")!=="true"),B=L==null?void 0:L.getAttribute(ec);C.setState("value",B||void 0)}function D(){var L,B,K,ne;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=s.current.size;return}n.current.filtered.groups=new Set;let ae=0;for(let oe of s.current){let Pe=(B=(L=a.current.get(oe))==null?void 0:L.value)!=null?B:"",Oe=(ne=(K=a.current.get(oe))==null?void 0:K.keywords)!=null?ne:[],Ue=S(Pe,Oe);n.current.filtered.items.set(oe,Ue),Ue>0&&ae++}for(let[oe,Pe]of r.current)for(let Oe of Pe)if(n.current.filtered.items.get(Oe)>0){n.current.filtered.groups.add(oe);break}n.current.filtered.count=ae}function P(){var L,B,K;let ne=G();ne&&(((L=ne.parentElement)==null?void 0:L.firstChild)===ne&&((K=(B=ne.closest(Hh))==null?void 0:B.querySelector(Goe))==null||K.scrollIntoView({block:"nearest"})),ne.scrollIntoView({block:"nearest"}))}function G(){var L;return(L=I.current)==null?void 0:L.querySelector(`${oS}[aria-selected="true"]`)}function ee(){var L;return Array.from((L=I.current)==null?void 0:L.querySelectorAll(FI))}function te(L){let B=ee()[L];B&&C.setState("value",B.getAttribute(ec))}function Q(L){var B;let K=G(),ne=ee(),ae=ne.findIndex(Pe=>Pe===K),oe=ne[ae+L];(B=l.current)!=null&&B.loop&&(oe=ae+L<0?ne[ne.length-1]:ae+L===ne.length?ne[0]:ne[ae+L]),oe&&C.setState("value",oe.getAttribute(ec))}function O(L){let B=G(),K=B==null?void 0:B.closest(Hh),ne;for(;K&&!ne;)K=L>0?sle(K,Hh):rle(K,Hh),ne=K==null?void 0:K.querySelector(FI);ne?C.setState("value",ne.getAttribute(ec)):Q(L)}let V=()=>te(ee().length-1),Z=L=>{L.preventDefault(),L.metaKey?V():L.altKey?O(1):Q(1)},F=L=>{L.preventDefault(),L.metaKey?te(0):L.altKey?O(-1):Q(-1)};return p.createElement(Zr.div,{ref:e,tabIndex:-1,...y,"cmdk-root":"",onKeyDown:L=>{var B;if((B=y.onKeyDown)==null||B.call(y,L),!L.defaultPrevented)switch(L.key){case"n":case"j":{w&&L.ctrlKey&&Z(L);break}case"ArrowDown":{Z(L);break}case"p":case"k":{w&&L.ctrlKey&&F(L);break}case"ArrowUp":{F(L);break}case"Home":{L.preventDefault(),te(0);break}case"End":{L.preventDefault(),V();break}case"Enter":if(!L.nativeEvent.isComposing&&L.keyCode!==229){L.preventDefault();let K=G();if(K){let ne=new Event(g_);K.dispatchEvent(ne)}}}}},p.createElement("label",{"cmdk-label":"",htmlFor:_.inputId,id:_.labelId,style:ole},c),H0(t,L=>p.createElement(F5.Provider,{value:C},p.createElement(O5.Provider,{value:_},L))))}),Qoe=p.forwardRef((t,e)=>{var n,s;let r=p.useId(),a=p.useRef(null),o=p.useContext(L5),l=yp(),c=$5(t),u=(s=(n=c.current)==null?void 0:n.forceMount)!=null?s:o==null?void 0:o.forceMount;Bc(()=>{if(!u)return l.item(r,o==null?void 0:o.id)},[u]);let d=U5(r,a,[t.value,t.children,a],t.keywords),h=lS(),f=zc(A=>A.value&&A.value===d.current),g=zc(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(r)>0:!0);p.useEffect(()=>{let A=a.current;if(!(!A||t.disabled))return A.addEventListener(g_,v),()=>A.removeEventListener(g_,v)},[g,t.onSelect,t.disabled]);function v(){var A,C;x(),(C=(A=c.current).onSelect)==null||C.call(A,d.current)}function x(){h.setState("value",d.current,!0)}if(!g)return null;let{disabled:w,value:y,onSelect:b,forceMount:N,keywords:E,...I}=t;return p.createElement(Zr.div,{ref:_m([a,e]),...I,id:r,"cmdk-item":"",role:"option","aria-disabled":!!w,"aria-selected":!!f,"data-disabled":!!w,"data-selected":!!f,onPointerMove:w||l.disablePointerSelection?void 0:x,onClick:w?void 0:v},t.children)}),Yoe=p.forwardRef((t,e)=>{let{heading:n,children:s,forceMount:r,...a}=t,o=p.useId(),l=p.useRef(null),c=p.useRef(null),u=p.useId(),d=yp(),h=zc(g=>r||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);Bc(()=>d.group(o),[]),U5(o,l,[t.value,t.heading,c]);let f=p.useMemo(()=>({id:o,forceMount:r}),[r]);return p.createElement(Zr.div,{ref:_m([l,e]),...a,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},n&&p.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),H0(t,g=>p.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},p.createElement(L5.Provider,{value:f},g))))}),Xoe=p.forwardRef((t,e)=>{let{alwaysRender:n,...s}=t,r=p.useRef(null),a=zc(o=>!o.search);return!n&&!a?null:p.createElement(Zr.div,{ref:_m([r,e]),...s,"cmdk-separator":"",role:"separator"})}),Zoe=p.forwardRef((t,e)=>{let{onValueChange:n,...s}=t,r=t.value!=null,a=lS(),o=zc(d=>d.search),l=zc(d=>d.value),c=yp(),u=p.useMemo(()=>{var d;let h=(d=c.listInnerRef.current)==null?void 0:d.querySelector(`${oS}[${ec}="${encodeURIComponent(l)}"]`);return h==null?void 0:h.getAttribute("id")},[]);return p.useEffect(()=>{t.value!=null&&a.setState("search",t.value)},[t.value]),p.createElement(Zr.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":u,id:c.inputId,type:"text",value:r?t.value:o,onChange:d=>{r||a.setState("search",d.target.value),n==null||n(d.target.value)}})}),Joe=p.forwardRef((t,e)=>{let{children:n,label:s="Suggestions",...r}=t,a=p.useRef(null),o=p.useRef(null),l=yp();return p.useEffect(()=>{if(o.current&&a.current){let c=o.current,u=a.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let f=c.offsetHeight;u.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),p.createElement(Zr.div,{ref:_m([a,e]),...r,"cmdk-list":"",role:"listbox","aria-label":s,id:l.listId},H0(t,c=>p.createElement("div",{ref:_m([o,l.listInnerRef]),"cmdk-list-sizer":""},c)))}),ele=p.forwardRef((t,e)=>{let{open:n,onOpenChange:s,overlayClassName:r,contentClassName:a,container:o,...l}=t;return p.createElement(zoe,{open:n,onOpenChange:s},p.createElement(Hoe,{container:o},p.createElement(Woe,{"cmdk-overlay":"",className:r}),p.createElement(qoe,{"aria-label":t.label,"cmdk-dialog":"",className:a},p.createElement(V5,{ref:e,...l}))))}),tle=p.forwardRef((t,e)=>zc(n=>n.filtered.count===0)?p.createElement(Zr.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),nle=p.forwardRef((t,e)=>{let{progress:n,children:s,label:r="Loading...",...a}=t;return p.createElement(Zr.div,{ref:e,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},H0(t,o=>p.createElement("div",{"aria-hidden":!0},o)))}),pr=Object.assign(V5,{List:Joe,Item:Qoe,Input:Zoe,Group:Yoe,Separator:Xoe,Dialog:ele,Empty:tle,Loading:nle});function sle(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function rle(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function $5(t){let e=p.useRef(t);return Bc(()=>{e.current=t}),e}var Bc=typeof window>"u"?p.useEffect:p.useLayoutEffect;function bu(t){let e=p.useRef();return e.current===void 0&&(e.current=t()),e}function _m(t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}function zc(t){let e=lS(),n=()=>t(e.snapshot());return p.useSyncExternalStore(e.subscribe,n,n)}function U5(t,e,n,s=[]){let r=p.useRef(),a=yp();return Bc(()=>{var o;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():r.current}})(),c=s.map(u=>u.trim());a.value(t,l,c),(o=e.current)==null||o.setAttribute(ec,l),r.current=l}),r}var ile=()=>{let[t,e]=p.useState(),n=bu(()=>new Map);return Bc(()=>{n.current.forEach(s=>s()),n.current=new Map},[t]),(s,r)=>{n.current.set(s,r),e({})}};function ale(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function H0({asChild:t,children:e},n){return t&&p.isValidElement(e)?p.cloneElement(ale(e),{ref:e.ref},n(e.props.children)):n(e)}var ole={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const W0=p.forwardRef(({className:t,...e},n)=>i.jsx(pr,{ref:n,className:ie("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));W0.displayName=pr.displayName;const q0=p.forwardRef(({className:t,...e},n)=>i.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[i.jsx(Yr,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),i.jsx(pr.Input,{ref:n,className:ie("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));q0.displayName=pr.Input.displayName;const G0=p.forwardRef(({className:t,...e},n)=>i.jsx(pr.List,{ref:n,className:ie("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));G0.displayName=pr.List.displayName;const K0=p.forwardRef((t,e)=>i.jsx(pr.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));K0.displayName=pr.Empty.displayName;const Q0=p.forwardRef(({className:t,...e},n)=>i.jsx(pr.Group,{ref:n,className:ie("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Q0.displayName=pr.Group.displayName;const lle=p.forwardRef(({className:t,...e},n)=>i.jsx(pr.Separator,{ref:n,className:ie("-mx-1 h-px bg-border",t),...e}));lle.displayName=pr.Separator.displayName;const Y0=p.forwardRef(({className:t,...e},n)=>i.jsx(pr.Item,{ref:n,className:ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...e}));Y0.displayName=pr.Item.displayName;function cle({options:t,selected:e,onChange:n,placeholder:s="Select options...",className:r}){const[a,o]=p.useState(!1),l=u=>{n(e.filter(d=>d!==u))},c=u=>{e.includes(u)?l(u):n([...e,u])};return i.jsx("div",{className:ie("w-full",r),children:i.jsxs(Qa,{open:a,onOpenChange:o,children:[i.jsx(Ya,{asChild:!0,children:i.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":a,className:"w-full justify-between text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>o(!a),children:[i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[e.length>0?e.slice(0,2).map(u=>{const d=t.find(h=>h.value===u);return i.jsxs(Ce,{variant:"secondary",className:"mr-1 mb-1 bg-purple-500/20 text-purple-300 border-purple-500/30",onClick:h=>{h.stopPropagation(),l(u)},children:[d==null?void 0:d.label,i.jsx("button",{className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",onKeyDown:h=>{h.key==="Enter"&&l(u)},onMouseDown:h=>{h.preventDefault(),h.stopPropagation()},onClick:h=>{h.stopPropagation(),l(u)},children:i.jsx(Kc,{className:"h-3 w-3 text-purple-300 hover:text-purple-200"})})]},u)}):i.jsx("span",{className:"text-slate-400",children:s}),e.length>2&&i.jsxs(Ce,{variant:"secondary",className:"mr-1 mb-1 bg-purple-500/20 text-purple-300 border-purple-500/30",children:["+",e.length-2," more"]})]}),i.jsx(Ij,{className:"h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ia,{className:"w-full p-0 bg-slate-800 border-slate-700",align:"start",children:i.jsxs(W0,{className:"bg-slate-800",children:[i.jsx(q0,{placeholder:"Search vaccines...",className:"text-white"}),i.jsxs(G0,{children:[i.jsx(K0,{className:"text-slate-400",children:"No vaccines found."}),i.jsx(Q0,{children:t.map(u=>i.jsxs(Y0,{onSelect:()=>c(u.value),className:"cursor-pointer text-white hover:bg-slate-700 aria-selected:bg-slate-700",children:[i.jsx(Wd,{className:ie("mr-2 h-4 w-4",e.includes(u.value)?"opacity-100":"opacity-0")}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium",children:u.label}),u.price&&i.jsxs("div",{className:"text-sm text-slate-400",children:["",u.price.toFixed(2),u.serviceCharge&&u.serviceCharge>0&&i.jsxs("span",{className:"ml-1",children:["+ ",u.serviceCharge.toFixed(2)," service"]})]})]})]},u.value))})]})]})})]})})}const ule=({control:t,vaccines:e})=>{const n=kf({control:t,name:"vaccines",defaultValue:[]}),s=e.map(c=>({label:c.label,value:c.value,price:c.price,serviceCharge:c.serviceCharge})),r=e.filter(c=>n.includes(c.value)),a=r.reduce((c,u)=>c+u.price,0),o=r.reduce((c,u)=>c+(u.serviceCharge||0),0),l=a+o;return i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ct,{control:t,name:"vaccines",render:({field:c})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-base font-semibold text-white",children:"Select Vaccines"}),e.length===0?i.jsxs("div",{className:"text-center py-8 border rounded-lg bg-slate-700/30 border-slate-600",children:[i.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"No vaccines available for this pet type."}),i.jsx("p",{className:"text-xs text-slate-500",children:"Please contact admin to add vaccines for your pet category."})]}):i.jsx(Nt,{children:i.jsx(cle,{options:s,selected:c.value||[],onChange:c.onChange,placeholder:"Search and select vaccines...",className:"w-full"})}),i.jsx(St,{})]})}),r.length>0&&i.jsx(de,{className:"animate-fade-in bg-slate-700/30 border-slate-600",children:i.jsx(ge,{className:"pt-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Price breakdown:"}),i.jsx("div",{className:"space-y-2 text-sm",children:r.map(c=>i.jsxs("div",{className:"bg-slate-600/50 rounded-lg p-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-white",children:c.label}),i.jsxs("div",{className:"flex items-center text-slate-300",children:[i.jsx(rt,{className:"h-3 w-3 mr-0.5"}),c.price.toFixed(2)]})]}),c.serviceCharge&&c.serviceCharge>0&&i.jsxs("div",{className:"flex justify-between items-center text-xs text-slate-400 pl-2",children:[i.jsx("span",{children:"+ Service Charge"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-2.5 w-2.5 mr-0.5"}),c.serviceCharge.toFixed(2)]})]})]},c.value))}),i.jsxs("div",{className:"border-t border-slate-600 pt-3 mt-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Subtotal"}),i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-3.5 w-3.5 mr-1"}),a.toFixed(2)]})]}),o>0&&i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Service Charges"}),i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-3.5 w-3.5 mr-1"}),o.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between items-center text-lg font-semibold",children:[i.jsx("span",{className:"text-white",children:"Total Amount"}),i.jsxs("div",{className:"flex items-center text-purple-400",children:[i.jsx(rt,{className:"h-5 w-5 mr-1"}),l.toFixed(2)]})]})]})]})})})]})},dle=({formValues:t,reminder:e,selectedSlot:n,selectedVaccines:s=[]})=>{const r=s.reduce((l,c)=>l+c.price,0),a=s.reduce((l,c)=>l+(c.serviceCharge||0),0),o=r+a;return i.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[i.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-white",children:"Confirm Your Booking"}),i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(v9,{className:"mr-2 h-4 w-4 text-purple-400"}),"Booking Summary"]})}),i.jsx(ge,{className:"text-sm space-y-2",children:s.length>0?i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"For Pet:"})," ",e.dog]}),i.jsxs("div",{className:"border-t border-slate-600 pt-2 mt-2 space-y-1",children:[i.jsx("p",{className:"font-semibold text-white",children:"Cost Breakdown:"}),i.jsxs("ul",{className:"list-none space-y-1 text-slate-300",children:[s.map((l,c)=>i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:l.label}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-3 w-3 mr-0.5"}),l.price.toFixed(2)]})]},c)),a>0&&i.jsxs("li",{className:"flex justify-between",children:[i.jsx("span",{children:"Service Charge(s)"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-3 w-3 mr-0.5"}),a.toFixed(2)]})]})]})]}),i.jsx("div",{className:"border-t border-slate-600 pt-2 mt-2",children:i.jsxs("div",{className:"flex justify-between font-bold text-base text-white",children:[i.jsx("span",{children:"Total Fee:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.toFixed(2)]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Vaccine:"})," N/A"]}),i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"For:"})," ",e.dog]}),i.jsx("p",{className:"font-bold mt-2 text-white",children:"Fee: 0"})]})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(Gt,{className:"mr-2 h-4 w-4 text-purple-400"}),"Booking Slot"]})}),i.jsxs(ge,{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-white",children:Ee(n.datetime.toDate(),"EEEE, MMMM d, yyyy")}),i.jsx("p",{className:"text-slate-400",children:Ee(n.datetime.toDate(),"h:mm a")})]})]}),i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(cr,{className:"mr-2 h-4 w-4 text-purple-400"}),"Contact Details"]})}),i.jsxs(ge,{className:"text-sm",children:[i.jsx("p",{className:"font-semibold text-white",children:t.name}),i.jsx("p",{className:"text-slate-400",children:t.phone})]})]}),i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(Qr,{className:"mr-2 h-4 w-4 text-purple-400"}),"Address"]})}),i.jsxs(ge,{className:"text-sm",children:[i.jsx("p",{className:"text-white",children:t.address}),i.jsxs("p",{className:"text-slate-400",children:[t.city,", ",t.postalCode]})]})]})]})]})},hle=$c({name:cn().min(2,{message:"Name must be at least 2 characters."}),phone:cn().min(10,{message:"Phone number must be at least 10 digits."}).regex(/^(\+91)?[6-9]\d{9}$/,{message:"Invalid Indian phone number."}),address:cn().min(10,{message:"Address must be at least 10 characters."}),city:cn().min(2,{message:"City must be at least 2 characters."}),postalCode:cn().min(6,{message:"Postal code must be 6 digits."}).max(6),slotId:cn({required_error:"Please select a booking slot."}),vaccines:Pae(cn()).min(1,{message:"Please select at least one vaccine."})}),fle="rzp_test_2n6MS8hK3tgdba",mle=({reminder:t,children:e})=>{const[n,s]=p.useState(!1),[r,a]=p.useState(1),o=iS(),{user:l}=en(),c=rn(),{data:u,isLoading:d}=kae({enabled:n}),[h,f]=p.useState(!1),{dogs:g}=Jc(),v=g.find(P=>P.name===t.dog),x=(v==null?void 0:v.petType)||"Dog",{data:w,isLoading:y}=w5(x),b=hh({resolver:fh(hle),defaultValues:{name:"",phone:"",address:"",city:"",postalCode:"",slotId:"",vaccines:[]}}),N=(w==null?void 0:w.map(P=>({label:P.name,value:P.id,price:P.price,serviceCharge:P.serviceCharge})))??[],E=b.watch("vaccines")||[],I=N.filter(P=>E.includes(P.value)),A=I.reduce((P,G)=>P+G.price,0),C=I.reduce((P,G)=>P+(G.serviceCharge||0),0),_=A+C,S=()=>{if(r===1&&!b.getValues("slotId")){H.error("Please select a booking slot");return}if(r===2){b.trigger(["name","phone","address","city","postalCode"]).then(P=>{P&&a(G=>G+1)});return}if(r===3&&I.length===0){H.error("Please select at least one vaccine");return}a(P=>P+1)},T=async P=>{if(!o){H.error("Payment gateway is not ready. Please try again in a moment.");return}if(!l){H.error("You must be logged in to make a payment.");return}if(!(u==null?void 0:u.find(ee=>ee.id===P.slotId))){H.error("Selected slot is not available. Please choose another one."),c.invalidateQueries({queryKey:["availableSlots"]});return}if(!I||I.length===0){H.error("Please select at least one vaccine.");return}s(!1),f(!0)};p.useEffect(()=>{if(h&&!n){const P=b.getValues(),G=u==null?void 0:u.find(O=>O.id===P.slotId),ee=I.map(O=>O.label).join(", "),te={key:fle,amount:(_*100).toString(),currency:"INR",name:"VaxDog - Home Vaccination",description:`Booking for ${ee} for ${t.dog}`,image:"/favicon.ico",handler:async function(O){try{console.log("Payment successful, attempting to commit booking transactionally:",O);const V=G.id;await tZ(he,async Z=>{const F=at(he,"bookingSlots",V),L=at(Ze(he,"users",l.uid,"transactions")),B=await Z.get(F);if(!B.exists())throw new Error("SLOT_DELETED");if(B.data().isBooked===!0)throw new Error("SLOT_ALREADY_BOOKED");Z.set(F,{isBooked:!0,bookedBy:l.uid,transactionId:L.id},{merge:!0}),Z.set(L,{paymentId:O.razorpay_payment_id,amount:_,currency:"INR",service:`Home Vaccination for ${ee} for ${t.dog}`,dogName:t.dog,vaccines:I.map(K=>({name:K.label,price:K.price})),status:"successful",createdAt:_t(),customer:P,reminderId:t.id,slotId:V,slotDatetime:G.datetime,userId:l.uid,petDetails:{name:v.name,breed:v.breed,petType:v.petType,dateOfBirth:v.dateOfBirth,age:v.age,aggressionLevel:v.aggressionLevel,weight:v.weight,sex:v.sex,matingInterest:v.matingInterest,pregnancyCount:v.pregnancyCount,pupCount:v.pupCount,vaccinationScheduleImages:v.vaccinationScheduleImages}})}),console.log("Transaction successfully committed!"),c.invalidateQueries({queryKey:["transactions",l==null?void 0:l.uid]}),c.invalidateQueries({queryKey:["availableSlots"]}),c.invalidateQueries({queryKey:["allTransactions"]}),H.success("Payment Successful!",{description:`Booking confirmed for ${Ee(G.datetime.toDate(),"PPP p")}.`}),b.reset(),a(1)}catch(V){console.error("Error processing booking transaction:",V),V.message==="SLOT_ALREADY_BOOKED"||V.message==="SLOT_DELETED"?H.error("Booking Failed!",{description:"Sorry, this time slot is no longer available. Please select a new one."}):H.error("Booking could not be saved.",{description:"Your payment was successful. Please contact support."}),c.invalidateQueries({queryKey:["availableSlots"]}),s(!0)}},prefill:{name:P.name,contact:P.phone},notes:{address:`${P.address}, ${P.city}, ${P.postalCode}`,reminderId:t.id},theme:{color:"#8b5cf6"},modal:{ondismiss:function(){console.log("Payment modal dismissed"),setTimeout(()=>s(!0),100)}}},Q=new window.Razorpay(te);Q.on("payment.failed",function(O){console.error("Payment failed:",O),H.error("Payment Failed",{description:O.error.description}),setTimeout(()=>s(!0),100)});try{Q.open()}catch(O){console.error("Error opening Razorpay:",O),H.error("Failed to open payment gateway. Please try again."),s(!0)}f(!1)}},[h,n,b,u,I,_,t.dog,t.id,l,c]);const k=()=>{a(P=>P-1)},D=u==null?void 0:u.find(P=>P.id===b.getValues("slotId"));return i.jsxs(Lt,{open:n,onOpenChange:P=>{s(P),P||setTimeout(()=>{b.reset(),a(1)},200)},children:[i.jsx(mr,{asChild:!0,children:e}),i.jsxs(At,{className:"w-[95vw] max-w-2xl mx-auto max-h-[90vh] overflow-y-auto bg-slate-800 border-slate-700 text-white",children:[i.jsxs(Dt,{children:[i.jsx(Mt,{className:"text-white",children:"Book Home Vaccination"}),i.jsxs(mo,{className:"text-slate-400",children:[r===1&&"Step 1 of 4: Select an available date and time.",r===2&&"Step 2 of 4: Please enter your contact and address details.",r===3&&(y?"Loading vaccines...":"Step 3 of 4: Select the vaccines for your pet."),r===4&&"Step 4 of 4: Confirm your booking details."]})]}),i.jsx(mh,{...b,children:i.jsxs("form",{onSubmit:b.handleSubmit(T),children:[i.jsxs("div",{className:"min-h-[300px] space-y-6 py-4",children:[r===1&&i.jsx(Mae,{control:b.control,availableSlots:u||[],isLoading:d}),r===2&&i.jsx(Oae,{control:b.control}),r===3&&i.jsx(ule,{control:b.control,vaccines:N}),r===4&&D&&i.jsx(dle,{formValues:b.getValues(),reminder:t,selectedSlot:D,selectedVaccines:I})]}),i.jsxs(Dr,{className:"flex-col sm:flex-row gap-2",children:[r===1&&i.jsx(aa,{asChild:!0,children:i.jsx(z,{type:"button",variant:"outline",className:"w-full sm:w-auto bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"})}),r>1&&i.jsxs(z,{type:"button",variant:"outline",onClick:k,className:"w-full sm:w-auto bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Back"]}),r<4&&i.jsxs(z,{type:"button",onClick:S,disabled:d||y,className:"w-full sm:w-auto bg-purple-500 hover:bg-purple-600",children:["Next",i.jsx(Pj,{className:"ml-2 h-4 w-4"})]}),r===4&&i.jsx(z,{type:"submit",disabled:!o||b.formState.isSubmitting||d||y||!D||I.length===0,className:"w-full sm:w-auto bg-purple-500 hover:bg-purple-600",children:b.formState.isSubmitting?i.jsx(Aj,{className:"mr-2 h-4 w-4 animate-spin"}):`Pay ${_} & Book`})]})]})})]})]})},ple=({reminder:t,children:e,isBooked:n,transaction:s})=>i.jsxs(Lt,{children:[i.jsx(mr,{asChild:!0,children:e}),i.jsxs(At,{className:"w-[95vw] max-w-md mx-auto bg-slate-800 border-slate-700 text-white",children:[i.jsxs(Dt,{children:[i.jsxs(Mt,{className:"flex items-center text-white",children:[i.jsx(lr,{className:"mr-2 h-5 w-5 text-purple-400"}),"Vaccination Details"]}),i.jsx(mo,{className:"text-slate-400",children:n?"Review the details for your booked home visit.":"Review the details for the upcoming vaccination and book a home visit."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm font-medium text-slate-400",children:"Vaccine"}),i.jsx("p",{className:"text-lg font-semibold text-white",children:t.vaccine})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm font-medium text-slate-400 flex items-center",children:[i.jsx(Om,{className:"mr-2 h-4 w-4"}),"For"]}),i.jsx("p",{className:"font-semibold text-white",children:t.dog})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm font-medium text-slate-400 flex items-center",children:[i.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Due Date"]}),i.jsx("p",{className:"font-semibold text-white",children:t.due})]})]}),n&&s&&s.type==="vaccination"&&i.jsxs("div",{className:"rounded-md border border-green-500/30 bg-green-500/10 p-4 space-y-3 mt-4",children:[i.jsxs("h4",{className:"font-semibold flex items-center text-green-300",children:[i.jsx(dn,{className:"mr-2 h-5 w-5"}),"Home Visit Booked"]}),i.jsxs("div",{className:"text-sm space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-slate-400",children:"Booking Date:"}),i.jsx("span",{className:"font-medium text-white",children:s.createdAt?Ee(s.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium text-slate-400",children:"Amount Paid:"}),i.jsxs("div",{className:"flex items-center font-medium text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),s.amount]})]}),i.jsxs("div",{className:"flex flex-col items-start pt-1",children:[i.jsx("span",{className:"font-medium text-slate-400",children:"Payment ID:"}),i.jsx("span",{className:"font-mono text-xs bg-slate-700 text-white rounded px-1.5 py-0.5 mt-1",children:s.paymentId})]})]})]})]}),i.jsxs(Dr,{children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Close"})}),!n&&i.jsx(mle,{reminder:t,children:i.jsxs(z,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:[i.jsx(Os,{className:"mr-2 h-4 w-4"}),"Book Home Vaccination"]})})]})]})]}),B5=({reminders:t,onMarkAsComplete:e,onDeleteReminder:n,onEditReminder:s,title:r="Upcoming Vaccinations",showDogName:a=!0,transactions:o})=>{const c=t.filter(u=>u.status==="upcoming").sort((u,d)=>{const h=o==null?void 0:o.find(b=>b.type==="vaccination"&&b.reminderId===u.id&&b.status==="successful"),f=o==null?void 0:o.find(b=>b.type==="vaccination"&&b.reminderId===d.id&&b.status==="successful"),g=!!h,v=!!f;if(g&&!v)return-1;if(!g&&v)return 1;const x=Ka(),w=Xi(new Date(u.due),x),y=Xi(new Date(d.due),x);return w-y});return i.jsxs("div",{className:"space-y-3",children:[r&&i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:r}),c.length>0?c.map(u=>{const d=new Date(u.due),h=Ka(),f=Xi(d,h),g=f<0,v=f>=0&&f<=30,x=o==null?void 0:o.find(E=>E.type==="vaccination"&&E.reminderId===u.id&&E.status==="successful"),w=!!x,y=()=>w?"border-l-green-500 bg-green-500/10":g?"border-l-red-500 bg-red-500/10":v?"border-l-yellow-500 bg-yellow-500/10":"border-l-slate-600 bg-slate-800/30",b=()=>{if(w)return"Home visit booked";if(g){const E=Math.abs(f);return`${E} day${E>1?"s":""} overdue`}return v?`Due ${f===0?"today":`in ${f} day${f>1?"s":""}`}`:null},N=()=>w?"text-green-400":g?"text-red-400":v?"text-yellow-400":"text-slate-400";return i.jsx(ple,{reminder:u,isBooked:w,transaction:x,children:i.jsx("div",{className:ie("p-4 rounded-lg border-l-4 cursor-pointer hover:bg-slate-700/30 transition-all",y()),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("p",{className:"font-semibold text-white text-base mb-1",children:u.vaccine}),a&&i.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["For ",u.dog]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-slate-300",children:[i.jsx(Gt,{className:"mr-1 h-4 w-4"}),i.jsx("span",{children:u.due})]}),b()&&i.jsx("span",{className:ie("font-medium",N()),children:b()})]})]}),!w&&i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8 text-slate-400 hover:text-white",onClick:E=>E.stopPropagation(),children:i.jsx(z2,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[e&&i.jsxs(Wt,{onClick:E=>{E.stopPropagation(),e(u.id)},className:"text-white hover:bg-slate-700",children:[i.jsx(kj,{className:"mr-2 h-4 w-4 text-green-500"}),i.jsx("span",{children:"Mark as done"})]}),s&&i.jsx(Wie,{reminder:u,onEditReminder:s,children:i.jsxs(Wt,{onSelect:E=>E.preventDefault(),onClick:E=>E.stopPropagation(),className:"cursor-pointer text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Edit"})]})}),n&&i.jsx(cre,{reminder:u,onDelete:n,children:i.jsxs(Wt,{onSelect:E=>E.preventDefault(),onClick:E=>E.stopPropagation(),className:"text-red-400 focus:text-red-400 focus:bg-red-500/10 cursor-pointer hover:bg-red-500/10",children:[i.jsx(la,{className:"mr-2 h-4 w-4"}),i.jsx("span",{children:"Delete"})]})})]})]})]})})},u.id)}):i.jsx("p",{className:"text-slate-400 text-center py-8",children:"No upcoming vaccinations. You're all caught up! "})]})};function X0(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gle=[" ","Enter","ArrowUp","ArrowDown"],xle=[" ","Enter"],wp="Select",[Z0,J0,vle]=qv(wp),[ph,dhe]=Ws(wp,[vle,Dl]),ey=Dl(),[yle,zl]=ph(wp),[wle,ble]=ph(wp),z5=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:f,required:g,form:v}=t,x=ey(e),[w,y]=p.useState(null),[b,N]=p.useState(null),[E,I]=p.useState(!1),A=uh(u),[C=!1,_]=yi({prop:s,defaultProp:r,onChange:a}),[S,T]=yi({prop:o,defaultProp:l,onChange:c}),k=p.useRef(null),D=w?v||!!w.closest("form"):!0,[P,G]=p.useState(new Set),ee=Array.from(P).map(te=>te.props.value).join(";");return i.jsx(qj,{...x,children:i.jsxs(yle,{required:g,scope:e,trigger:w,onTriggerChange:y,valueNode:b,onValueNodeChange:N,valueNodeHasChildren:E,onValueNodeHasChildrenChange:I,contentId:pi(),value:S,onValueChange:T,open:C,onOpenChange:_,dir:A,triggerPointerDownPosRef:k,disabled:f,children:[i.jsx(Z0.Provider,{scope:e,children:i.jsx(wle,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(te=>{G(Q=>new Set(Q).add(te))},[]),onNativeOptionRemove:p.useCallback(te=>{G(Q=>{const O=new Set(Q);return O.delete(te),O})},[]),children:n})}),D?i.jsxs(m6,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:S,onChange:te=>T(te.target.value),disabled:f,form:v,children:[S===void 0?i.jsx("option",{value:""}):null,Array.from(P)]},ee):null]})})};z5.displayName=wp;var H5="SelectTrigger",W5=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...r}=t,a=ey(n),o=zl(H5,n),l=o.disabled||s,c=nt(e,o.onTriggerChange),u=J0(n),d=p.useRef("touch"),[h,f,g]=p6(x=>{const w=u().filter(N=>!N.disabled),y=w.find(N=>N.value===o.value),b=g6(w,x,y);b!==void 0&&o.onValueChange(b.value)}),v=x=>{l||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(Vm,{asChild:!0,...a,children:i.jsx(Ae.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":f6(o.value)?"":void 0,...r,ref:c,onClick:ue(r.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&v(x)}),onPointerDown:ue(r.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:ue(r.onKeyDown,x=>{const w=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&f(x.key),!(w&&x.key===" ")&&gle.includes(x.key)&&(v(),x.preventDefault())})})})});W5.displayName=H5;var q5="SelectValue",G5=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,children:a,placeholder:o="",...l}=t,c=zl(q5,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=nt(e,c.onValueNodeChange);return Hn(()=>{u(d)},[u,d]),i.jsx(Ae.span,{...l,ref:h,style:{pointerEvents:"none"},children:f6(c.value)?i.jsx(i.Fragment,{children:o}):a})});G5.displayName=q5;var Nle="SelectIcon",K5=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...r}=t;return i.jsx(Ae.span,{"aria-hidden":!0,...r,ref:e,children:s||""})});K5.displayName=Nle;var _le="SelectPortal",Q5=t=>i.jsx(Hd,{asChild:!0,...t});Q5.displayName=_le;var Hc="SelectContent",Y5=p.forwardRef((t,e)=>{const n=zl(Hc,t.__scopeSelect),[s,r]=p.useState();if(Hn(()=>{r(new DocumentFragment)},[]),!n.open){const a=s;return a?no.createPortal(i.jsx(X5,{scope:t.__scopeSelect,children:i.jsx(Z0.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(Z5,{...t,ref:e})});Y5.displayName=Hc;var ni=10,[X5,Hl]=ph(Hc),jle="SelectContentImpl",Z5=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:w,...y}=t,b=zl(Hc,n),[N,E]=p.useState(null),[I,A]=p.useState(null),C=nt(e,oe=>E(oe)),[_,S]=p.useState(null),[T,k]=p.useState(null),D=J0(n),[P,G]=p.useState(!1),ee=p.useRef(!1);p.useEffect(()=>{if(N)return sp(N)},[N]),P0();const te=p.useCallback(oe=>{const[Pe,...Oe]=D().map(lt=>lt.ref.current),[Ue]=Oe.slice(-1),it=document.activeElement;for(const lt of oe)if(lt===it||(lt==null||lt.scrollIntoView({block:"nearest"}),lt===Pe&&I&&(I.scrollTop=0),lt===Ue&&I&&(I.scrollTop=I.scrollHeight),lt==null||lt.focus(),document.activeElement!==it))return},[D,I]),Q=p.useCallback(()=>te([_,N]),[te,_,N]);p.useEffect(()=>{P&&Q()},[P,Q]);const{onOpenChange:O,triggerPointerDownPosRef:V}=b;p.useEffect(()=>{if(N){let oe={x:0,y:0};const Pe=Ue=>{var it,lt;oe={x:Math.abs(Math.round(Ue.pageX)-(((it=V.current)==null?void 0:it.x)??0)),y:Math.abs(Math.round(Ue.pageY)-(((lt=V.current)==null?void 0:lt.y)??0))}},Oe=Ue=>{oe.x<=10&&oe.y<=10?Ue.preventDefault():N.contains(Ue.target)||O(!1),document.removeEventListener("pointermove",Pe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[N,O,V]),p.useEffect(()=>{const oe=()=>O(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[O]);const[Z,F]=p6(oe=>{const Pe=D().filter(it=>!it.disabled),Oe=Pe.find(it=>it.ref.current===document.activeElement),Ue=g6(Pe,oe,Oe);Ue&&setTimeout(()=>Ue.ref.current.focus())}),L=p.useCallback((oe,Pe,Oe)=>{const Ue=!ee.current&&!Oe;(b.value!==void 0&&b.value===Pe||Ue)&&(S(oe),Ue&&(ee.current=!0))},[b.value]),B=p.useCallback(()=>N==null?void 0:N.focus(),[N]),K=p.useCallback((oe,Pe,Oe)=>{const Ue=!ee.current&&!Oe;(b.value!==void 0&&b.value===Pe||Ue)&&k(oe)},[b.value]),ne=s==="popper"?x_:J5,ae=ne===x_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:w}:{};return i.jsx(X5,{scope:n,content:N,viewport:I,onViewportChange:A,itemRefCallback:L,selectedItem:_,onItemLeave:B,itemTextRefCallback:K,focusSelectedItem:Q,selectedItemText:T,position:s,isPositioned:P,searchRef:Z,children:i.jsx(rp,{as:Ji,allowPinchZoom:!0,children:i.jsx(np,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:ue(r,oe=>{var Pe;(Pe=b.trigger)==null||Pe.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(Gc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(ne,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...y,...ae,onPlaced:()=>G(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ue(y.onKeyDown,oe=>{const Pe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!Pe&&oe.key.length===1&&F(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ue=D().filter(it=>!it.disabled).map(it=>it.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const it=oe.target,lt=Ue.indexOf(it);Ue=Ue.slice(lt+1)}setTimeout(()=>te(Ue)),oe.preventDefault()}})})})})})})});Z5.displayName=jle;var Cle="SelectItemAlignedPosition",J5=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...r}=t,a=zl(Hc,n),o=Hl(Hc,n),[l,c]=p.useState(null),[u,d]=p.useState(null),h=nt(e,C=>d(C)),f=J0(n),g=p.useRef(!1),v=p.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:y,focusSelectedItem:b}=o,N=p.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&w&&y){const C=a.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),S=a.valueNode.getBoundingClientRect(),T=y.getBoundingClientRect();if(a.dir!=="rtl"){const it=T.left-_.left,lt=S.left-it,gn=C.left-lt,kn=C.width+gn,xr=Math.max(kn,_.width),us=window.innerWidth-ni,Ri=QN(lt,[ni,Math.max(ni,us-xr)]);l.style.minWidth=kn+"px",l.style.left=Ri+"px"}else{const it=_.right-T.right,lt=window.innerWidth-S.right-it,gn=window.innerWidth-C.right-lt,kn=C.width+gn,xr=Math.max(kn,_.width),us=window.innerWidth-ni,Ri=QN(lt,[ni,Math.max(ni,us-xr)]);l.style.minWidth=kn+"px",l.style.right=Ri+"px"}const k=f(),D=window.innerHeight-ni*2,P=x.scrollHeight,G=window.getComputedStyle(u),ee=parseInt(G.borderTopWidth,10),te=parseInt(G.paddingTop,10),Q=parseInt(G.borderBottomWidth,10),O=parseInt(G.paddingBottom,10),V=ee+te+P+O+Q,Z=Math.min(w.offsetHeight*5,V),F=window.getComputedStyle(x),L=parseInt(F.paddingTop,10),B=parseInt(F.paddingBottom,10),K=C.top+C.height/2-ni,ne=D-K,ae=w.offsetHeight/2,oe=w.offsetTop+ae,Pe=ee+te+oe,Oe=V-Pe;if(Pe<=K){const it=k.length>0&&w===k[k.length-1].ref.current;l.style.bottom="0px";const lt=u.clientHeight-x.offsetTop-x.offsetHeight,gn=Math.max(ne,ae+(it?B:0)+lt+Q),kn=Pe+gn;l.style.height=kn+"px"}else{const it=k.length>0&&w===k[0].ref.current;l.style.top="0px";const gn=Math.max(K,ee+x.offsetTop+(it?L:0)+ae)+Oe;l.style.height=gn+"px",x.scrollTop=Pe-K+x.offsetTop}l.style.margin=`${ni}px 0`,l.style.minHeight=Z+"px",l.style.maxHeight=D+"px",s==null||s(),requestAnimationFrame(()=>g.current=!0)}},[f,a.trigger,a.valueNode,l,u,x,w,y,a.dir,s]);Hn(()=>N(),[N]);const[E,I]=p.useState();Hn(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const A=p.useCallback(C=>{C&&v.current===!0&&(N(),b==null||b(),v.current=!1)},[N,b]);return i.jsx(Ele,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:A,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:i.jsx(Ae.div,{...r,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});J5.displayName=Cle;var Sle="SelectPopperPosition",x_=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=ni,...a}=t,o=ey(n);return i.jsx(e0,{...o,...a,ref:e,align:s,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});x_.displayName=Sle;var[Ele,cS]=ph(Hc,{}),v_="SelectViewport",e6=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...r}=t,a=Hl(v_,n),o=cS(v_,n),l=nt(e,a.onViewportChange),c=p.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Z0.Slot,{scope:n,children:i.jsx(Ae.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:ue(r.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&h){const g=Math.abs(c.current-d.scrollTop);if(g>0){const v=window.innerHeight-ni*2,x=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(x,w);if(y<v){const b=y+g,N=Math.min(v,b),E=b-N;h.style.height=N+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});e6.displayName=v_;var t6="SelectGroup",[Tle,Rle]=ph(t6),Ple=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=pi();return i.jsx(Tle,{scope:n,id:r,children:i.jsx(Ae.div,{role:"group","aria-labelledby":r,...s,ref:e})})});Ple.displayName=t6;var n6="SelectLabel",s6=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=Rle(n6,n);return i.jsx(Ae.div,{id:r.id,...s,ref:e})});s6.displayName=n6;var Tv="SelectItem",[Ile,r6]=ph(Tv),i6=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:a,...o}=t,l=zl(Tv,n),c=Hl(Tv,n),u=l.value===s,[d,h]=p.useState(a??""),[f,g]=p.useState(!1),v=nt(e,b=>{var N;return(N=c.itemRefCallback)==null?void 0:N.call(c,b,s,r)}),x=pi(),w=p.useRef("touch"),y=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Ile,{scope:n,value:s,disabled:r,textId:x,isSelected:u,onItemTextChange:p.useCallback(b=>{h(N=>N||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(Z0.ItemSlot,{scope:n,value:s,disabled:r,textValue:d,children:i.jsx(Ae.div,{role:"option","aria-labelledby":x,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:v,onFocus:ue(o.onFocus,()=>g(!0)),onBlur:ue(o.onBlur,()=>g(!1)),onClick:ue(o.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:ue(o.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:ue(o.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:ue(o.onPointerMove,b=>{var N;w.current=b.pointerType,r?(N=c.onItemLeave)==null||N.call(c):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,b=>{var N;b.currentTarget===document.activeElement&&((N=c.onItemLeave)==null||N.call(c))}),onKeyDown:ue(o.onKeyDown,b=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&b.key===" "||(xle.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});i6.displayName=Tv;var af="SelectItemText",a6=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:r,...a}=t,o=zl(af,n),l=Hl(af,n),c=r6(af,n),u=ble(af,n),[d,h]=p.useState(null),f=nt(e,y=>h(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),g=d==null?void 0:d.textContent,v=p.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return Hn(()=>(x(v),()=>w(v)),[x,w,v]),i.jsxs(i.Fragment,{children:[i.jsx(Ae.span,{id:c.textId,...a,ref:f}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?no.createPortal(a.children,o.valueNode):null]})});a6.displayName=af;var o6="SelectItemIndicator",l6=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return r6(o6,n).isSelected?i.jsx(Ae.span,{"aria-hidden":!0,...s,ref:e}):null});l6.displayName=o6;var y_="SelectScrollUpButton",c6=p.forwardRef((t,e)=>{const n=Hl(y_,t.__scopeSelect),s=cS(y_,t.__scopeSelect),[r,a]=p.useState(!1),o=nt(e,s.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(d6,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});c6.displayName=y_;var w_="SelectScrollDownButton",u6=p.forwardRef((t,e)=>{const n=Hl(w_,t.__scopeSelect),s=cS(w_,t.__scopeSelect),[r,a]=p.useState(!1),o=nt(e,s.onScrollButtonChange);return Hn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(d6,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});u6.displayName=w_;var d6=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=t,a=Hl("SelectScrollButton",n),o=p.useRef(null),l=J0(n),c=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),Hn(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ae.div,{"aria-hidden":!0,...r,ref:e,style:{flexShrink:0,...r.style},onPointerDown:ue(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:ue(r.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:ue(r.onPointerLeave,()=>{c()})})}),kle="SelectSeparator",h6=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return i.jsx(Ae.div,{"aria-hidden":!0,...s,ref:e})});h6.displayName=kle;var b_="SelectArrow",Ale=p.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,r=ey(n),a=zl(b_,n),o=Hl(b_,n);return a.open&&o.position==="popper"?i.jsx(t0,{...r,...s,ref:e}):null});Ale.displayName=b_;function f6(t){return t===""||t===void 0}var m6=p.forwardRef((t,e)=>{const{value:n,...s}=t,r=p.useRef(null),a=nt(e,r),o=X0(n);return p.useEffect(()=>{const l=r.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const h=new Event("change",{bubbles:!0});d.call(l,n),l.dispatchEvent(h)}},[o,n]),i.jsx(Am,{asChild:!0,children:i.jsx("select",{...s,ref:a,defaultValue:n})})});m6.displayName="BubbleSelect";function p6(t){const e=sn(t),n=p.useRef(""),s=p.useRef(0),r=p.useCallback(o=>{const l=n.current+o;e(l),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=p.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,a]}function g6(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=n?t.indexOf(n):-1;let o=Dle(t,Math.max(a,0));r.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function Dle(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var Mle=z5,x6=W5,Ole=G5,Fle=K5,Lle=Q5,v6=Y5,Vle=e6,y6=s6,w6=i6,$le=a6,Ule=l6,b6=c6,N6=u6,_6=h6;const _n=Mle,jn=Ole,hn=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(x6,{ref:s,className:ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,i.jsx(Fle,{asChild:!0,children:i.jsx($2,{className:"h-4 w-4 opacity-50"})})]}));hn.displayName=x6.displayName;const j6=p.forwardRef(({className:t,...e},n)=>i.jsx(b6,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(h9,{className:"h-4 w-4"})}));j6.displayName=b6.displayName;const C6=p.forwardRef(({className:t,...e},n)=>i.jsx(N6,{ref:n,className:ie("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx($2,{className:"h-4 w-4"})}));C6.displayName=N6.displayName;const fn=p.forwardRef(({className:t,children:e,position:n="popper",...s},r)=>i.jsx(Lle,{children:i.jsxs(v6,{ref:r,className:ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[i.jsx(j6,{}),i.jsx(Vle,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(C6,{})]})}));fn.displayName=v6.displayName;const Ble=p.forwardRef(({className:t,...e},n)=>i.jsx(y6,{ref:n,className:ie("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Ble.displayName=y6.displayName;const Ve=p.forwardRef(({className:t,children:e,...n},s)=>i.jsxs(w6,{ref:s,className:ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Ule,{children:i.jsx(Wd,{className:"h-4 w-4"})})}),i.jsx($le,{children:e})]}));Ve.displayName=w6.displayName;const zle=p.forwardRef(({className:t,...e},n)=>i.jsx(_6,{ref:n,className:ie("-mx-1 my-1 h-px bg-muted",t),...e}));zle.displayName=_6.displayName;const S6=({dogs:t,onAddReminder:e,defaultDogName:n,children:s})=>{const[r,a]=p.useState(!1),[o,l]=p.useState({dog:n||"",vaccine:"",due:void 0});p.useEffect(()=>{r?n&&l(h=>({...h,dog:n})):l({dog:n||"",vaccine:"",due:void 0})},[r,n]);const c=()=>{o.dog&&o.vaccine&&o.due?(e({dog:o.dog,vaccine:o.vaccine,due:o.due}),l({dog:n||"",vaccine:"",due:void 0}),a(!1)):H.error("Please fill out all fields.")},u=t.find(h=>h.name===o.dog),d=u!=null&&u.petType?u.petType.charAt(0).toUpperCase()+u.petType.slice(1):"Pet";return i.jsxs(Lt,{open:r,onOpenChange:a,children:[i.jsx(mr,{asChild:!0,children:s}),i.jsxs(At,{className:"w-[95vw] max-w-md mx-auto bg-slate-800 border-slate-700 text-white",children:[i.jsxs(Dt,{children:[i.jsx(Mt,{className:"text-white",children:"Add vaccination reminder"}),i.jsx(mo,{className:"text-slate-400",children:n?`Adding reminder for ${n}.`:"Select a pet and enter the vaccination details below."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(me,{htmlFor:"dog",className:"text-right text-white",children:d}),i.jsxs(_n,{onValueChange:h=>l({...o,dog:h}),value:o.dog,disabled:!!n,children:[i.jsx(hn,{className:"col-span-3 bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:`Select a ${d.toLowerCase()}`})}),i.jsx(fn,{className:"bg-slate-700 border-slate-600",children:t.map(h=>i.jsx(Ve,{value:h.name,className:"text-white hover:bg-slate-600 focus:bg-slate-600",children:h.name},h.name))})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(me,{htmlFor:"vaccine",className:"text-right text-white",children:"Vaccine"}),i.jsx(xe,{id:"vaccine",value:o.vaccine,onChange:h=>l({...o,vaccine:h.target.value}),className:"col-span-3 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g. Rabies Booster"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(me,{htmlFor:"due-date",className:"text-right text-white",children:"Due Date"}),i.jsxs(Qa,{children:[i.jsx(Ya,{asChild:!0,children:i.jsxs(z,{variant:"outline",className:ie("w-full justify-start text-left font-normal col-span-3 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!o.due&&"text-slate-400"),children:[i.jsx(Gt,{className:"mr-2 h-4 w-4"}),o.due?Ee(o.due,"PPP"):i.jsx("span",{children:"Pick a date"})]})}),i.jsx(ia,{className:"w-auto p-0 bg-slate-800 border-slate-700",children:i.jsx(Mc,{mode:"single",selected:o.due,onSelect:h=>l({...o,due:h}),initialFocus:!0,className:"bg-slate-800 text-white"})})]})]})]}),i.jsx(Dr,{children:i.jsx(z,{onClick:c,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Save Reminder"})})]})]})},nd=()=>i.jsxs("div",{className:"space-y-4",children:[i.jsx(Me,{className:"h-20 w-full rounded-lg"}),i.jsx(Me,{className:"h-20 w-full rounded-lg"}),i.jsx(Me,{className:"h-20 w-full rounded-lg"})]}),Hle=({transactions:t})=>{const e=t.filter(o=>o.status==="completed"||o.status==="successful"||o.status==="paid"),n=o=>{switch(o.toLowerCase()){case"successful":case"paid":case"confirmed":case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-orange-500/20 text-orange-300 border-orange-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},s=o=>{switch(o.toLowerCase()){case"successful":case"paid":return"Confirmed";case"failed":return"Failed";case"pending":return"Pending";case"confirmed":return"Confirmed";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return o}},r=o=>{switch(o.toLowerCase()){case"successful":case"confirmed":case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"failed":case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}},a=o=>{switch(o){case"vaccination":return i.jsx(lr,{className:"h-4 w-4 mr-2"});case"grooming":return i.jsx(mi,{className:"h-4 w-4 mr-2"});case"petHostel":return i.jsx(Os,{className:"h-4 w-4 mr-2"});default:return i.jsx(Gt,{className:"h-4 w-4 mr-2"})}};return e.length===0?i.jsxs("div",{className:"text-center py-12 text-slate-400",children:[i.jsx(dn,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No completed bookings yet"}),i.jsx("p",{className:"text-sm",children:"Completed home vaccinations, grooming, and pet hostel bookings will appear here."})]}):i.jsx("div",{className:"space-y-4",children:e.map(o=>{var l,c,u,d;return i.jsx(de,{className:"bg-slate-800/50 border-slate-700 overflow-hidden",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("h3",{className:"font-semibold text-white flex items-center",children:[a(o.type),o.service]}),i.jsxs(Ce,{className:n(o.status),children:[r(o.status),i.jsx("span",{className:"ml-1 capitalize",children:s(o.status)})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[o.petName&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Om,{className:"h-4 w-4"}),i.jsxs("span",{children:["For: ",o.petName," (",(l=o.petDetails)==null?void 0:l.breed,")"]})]}),o.type==="vaccination"&&o.slotDatetime&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Gt,{className:"h-4 w-4"}),i.jsxs("span",{children:["Scheduled: ",Ee(o.slotDatetime.toDate(),"MMM d, yyyy, p")]})]}),o.type==="grooming"&&o.preferredDate&&o.preferredTime&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Gt,{className:"h-4 w-4"}),i.jsxs("span",{children:["Date: ",Ee(new Date(o.preferredDate),"MMM d, yyyy")," at ",o.preferredTime]})]}),o.type==="petHostel"&&o.startDate&&o.endDate&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Gt,{className:"h-4 w-4"}),i.jsxs("span",{children:["Stay: ",Ee(new Date(o.startDate),"MMM d, yyyy")," to ",Ee(new Date(o.endDate),"MMM d, yyyy")]})]}),i.jsxs("div",{className:"flex items-center text-white font-bold",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.amount.toFixed(2)]}),((c=o.customer)==null?void 0:c.name)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(cr,{className:"h-4 w-4"}),i.jsxs("span",{children:["Booked by: ",o.customer.name]})]}),((u=o.customer)==null?void 0:u.phone)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(cr,{className:"h-4 w-4"}),i.jsxs("span",{children:["Contact: ",o.customer.phone]})]}),((d=o.customer)==null?void 0:d.address)&&i.jsxs("div",{className:"flex items-start gap-2 text-slate-300",children:[i.jsx(Qr,{className:"h-4 w-4 mt-0.5"}),i.jsxs("span",{className:"text-xs line-clamp-2",children:[o.customer.address,", ",o.customer.city," - ",o.customer.postalCode]})]}),o.type==="petHostel"&&o.foodPreference&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(b9,{className:"h-4 w-4"}),i.jsxs("span",{children:["Food: ",o.foodPreference]})]})]})]})},o.id)})})},Wle=({transactions:t})=>{const e=(t==null?void 0:t.filter(a=>a.type==="vaccination"))||[],n=a=>{switch(a.toLowerCase()){case"successful":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-orange-500/20 text-orange-300 border-orange-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},s=a=>{switch(a.toLowerCase()){case"successful":return i.jsx(dn,{className:"h-4 w-4"});case"failed":return i.jsx(Al,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}},r=a=>{switch(a.toLowerCase()){case"successful":return"Confirmed";case"failed":return"Failed";case"pending":return"Pending";default:return a}};return e.length===0?i.jsxs("div",{className:"text-center text-slate-400 py-8",children:[i.jsx(Os,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-base mb-1",children:"No home vaccination bookings found."}),i.jsx("p",{className:"text-sm",children:"You can book one from an upcoming reminder."})]}):i.jsx("div",{className:"space-y-3",children:e.map(a=>i.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border-l-4 border-l-blue-500",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(lr,{className:"h-4 w-4 text-blue-400 flex-shrink-0"})," ",i.jsx("p",{className:"font-semibold text-white text-sm truncate",children:a.service})]}),i.jsxs("div",{className:"space-y-1 text-xs text-slate-400",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gt,{className:"h-3 w-3"}),i.jsxs("span",{children:["Booked: ",a.createdAt?Ee(a.createdAt.toDate(),"MMM d, yyyy"):"N/A"]})]}),a.slotDatetime&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ln,{className:"h-3 w-3"}),i.jsxs("span",{children:["Scheduled: ",Ee(a.slotDatetime.toDate(),"MMM d, yyyy, p")]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"font-mono",children:["ID: ",a.paymentId?a.paymentId.slice(-8):a.id.slice(-8)]})})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[i.jsxs(Ce,{className:n(a.status),children:[s(a.status),i.jsx("span",{className:"ml-1",children:r(a.status)})]}),i.jsxs("div",{className:"flex items-center text-white font-semibold",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),i.jsx("span",{children:new Intl.NumberFormat("en-IN").format(a.amount)})]})]})]}),a.vaccines&&a.vaccines.length>0&&i.jsxs("div",{className:"mt-3 p-2 bg-slate-700/30 rounded text-xs",children:[i.jsx("p",{className:"text-slate-400 mb-1",children:"Vaccines:"}),i.jsx("div",{className:"space-y-1",children:a.vaccines.map((o,l)=>i.jsxs("div",{className:"flex justify-between text-slate-300",children:[i.jsx("span",{children:o.name}),i.jsxs("span",{children:["",o.price]})]},l))})]})]},a.id))})},qle=()=>{const{dogs:t,isLoadingDogs:e}=Jc(),{reminders:n,isLoadingReminders:s,addReminder:r,markReminderAsComplete:a,deleteReminder:o,editReminder:l}=tp(),{transactions:c,isLoading:u}=ch();return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8 pb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Vaccination Schedule"}),i.jsx(S6,{dogs:t,onAddReminder:r,children:i.jsxs(z,{size:"sm",disabled:e,className:"bg-purple-500 hover:bg-purple-600",children:[i.jsx(_d,{className:"mr-2 h-4 w-4"}),"Add Reminder"]})})]}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{className:"pb-4",children:i.jsxs(Ke,{className:"flex items-center text-base sm:text-lg text-white",children:[i.jsx(xf,{className:"mr-2 h-5 w-5 text-purple-400"}),"Vaccination Schedule"]})}),i.jsx(ge,{children:i.jsxs(xm,{defaultValue:"upcoming",className:"w-full",children:[i.jsxs(Ld,{className:"grid w-full grid-cols-3 bg-slate-700/50 mb-6",children:[i.jsx(an,{value:"upcoming",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Upcoming"}),i.jsx(an,{value:"completed",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"History"}),i.jsx(an,{value:"bookings",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Bookings"})]}),i.jsxs(on,{value:"upcoming",className:"mt-0",children:[i.jsx("div",{className:"mb-4",children:i.jsx("h3",{className:"text-lg font-semibold text-white",children:"All Upcoming Vaccinations"})}),s?i.jsx(nd,{}):i.jsx("div",{className:"space-y-3",children:i.jsx(B5,{reminders:n,transactions:c,onMarkAsComplete:a,onDeleteReminder:o,onEditReminder:l,title:""})})]}),i.jsxs(on,{value:"completed",className:"mt-0",children:[i.jsx("div",{className:"mb-4",children:i.jsx("h3",{className:"text-lg font-semibold text-white",children:"All Vaccination History"})}),s?i.jsx(nd,{}):i.jsxs("div",{className:"space-y-3",children:[" ",i.jsx(Hle,{transactions:c})]})]}),i.jsxs(on,{value:"bookings",className:"mt-0",children:[i.jsx("div",{className:"mb-4",children:i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Your Bookings"})}),u?i.jsx(nd,{}):i.jsx("div",{className:"space-y-3",children:i.jsx(Wle,{transactions:c.filter(d=>d.type==="vaccination")})})]})]})})]})]})})},Gle=({name:t,breed:e,age:n,detailedAge:s,imageUrl:r,onClick:a,onEdit:o,onDelete:l,reminderStatus:c,hasBookedReminders:u,dueDateInfo:d})=>{const h=v=>{v.stopPropagation()},f=()=>u?"border-green-500/50 bg-green-500/10":c==="overdue"?"border-red-500/50 bg-red-500/10":c==="due-soon"?"border-yellow-500/50 bg-yellow-500/10":"border-slate-700",g=()=>{if(u||!c||!d)return null;if(c==="overdue"){const v=Math.abs(d.daysUntilDue);return i.jsx("div",{className:"mt-3 px-3 py-2 bg-red-500/20 rounded-lg border border-red-500/30",children:i.jsxs("p",{className:"text-xs text-red-300 font-medium",children:[d.vaccineName," - Overdue by ",v," ",v===1?"day":"days"]})})}return c==="due-soon"?i.jsx("div",{className:"mt-3 px-3 py-2 bg-yellow-500/20 rounded-lg border border-yellow-500/30",children:i.jsxs("p",{className:"text-xs text-yellow-300 font-medium",children:[d.vaccineName," - Due in ",d.daysUntilDue," ",d.daysUntilDue===1?"day":"days"]})}):null};return i.jsxs(de,{onClick:a,className:ie("w-full transition-all duration-300 hover:shadow-xl hover:-translate-y-1 overflow-hidden cursor-pointer group bg-slate-800/50 border-2",f()),children:[i.jsx("div",{className:"overflow-hidden",children:r?i.jsx("picture",{children:i.jsx("img",{src:r,alt:t,className:"w-full h-32 sm:h-40 md:h-48 object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",decoding:"async",sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 33vw"})}):i.jsx("div",{className:"w-full h-32 sm:h-40 md:h-48 bg-slate-700/50 flex items-center justify-center",children:i.jsx(ir,{className:"h-16 w-16 sm:h-20 sm:w-20 md:h-24 md:w-24",children:i.jsx(ar,{className:"text-2xl sm:text-3xl md:text-4xl bg-purple-500/20 text-purple-300 font-semibold",children:t.charAt(0).toUpperCase()})})})}),i.jsxs(He,{className:"flex flex-row items-start justify-between p-3 sm:p-4 md:p-6",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx(Ke,{className:"text-lg sm:text-xl font-bold truncate text-white",children:t}),i.jsx("p",{className:"text-xs sm:text-sm text-slate-400 truncate",children:e}),i.jsxs("div",{className:"flex items-center text-xs sm:text-sm text-slate-300 mt-1 sm:mt-2",children:[i.jsx(Mm,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-1.5 text-pink-400 flex-shrink-0"}),i.jsx("span",{className:"font-medium truncate",children:s||`${n} ${n===1?"year":"years"} old`})]}),g()]}),i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",size:"icon",className:"flex-shrink-0 h-8 w-8 sm:h-9 sm:w-9 text-slate-400 hover:text-white hover:bg-slate-700",onClick:h,children:i.jsx(z2,{className:"h-3 w-3 sm:h-4 sm:w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsx(Wt,{onClick:v=>{v.stopPropagation(),o()},className:"text-white hover:bg-slate-700",children:"Edit"}),i.jsx(Wt,{onClick:v=>{v.stopPropagation(),l()},className:"text-red-400 focus:text-red-400 focus:bg-red-500/10 hover:bg-red-500/10",children:"Delete"})]})]})]})]})};var uS="Switch",[Kle,hhe]=Ws(uS),[Qle,Yle]=Kle(uS),E6=p.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,g]=p.useState(null),v=nt(e,N=>g(N)),x=p.useRef(!1),w=f?d||!!f.closest("form"):!0,[y=!1,b]=yi({prop:r,defaultProp:a,onChange:u});return i.jsxs(Qle,{scope:n,checked:y,disabled:l,children:[i.jsx(Ae.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":P6(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:ue(t.onClick,N=>{b(E=>!E),w&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),w&&i.jsx(Xle,{control:f,bubbles:!x.current,name:s,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});E6.displayName=uS;var T6="SwitchThumb",R6=p.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,r=Yle(T6,n);return i.jsx(Ae.span,{"data-state":P6(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:e})});R6.displayName=T6;var Xle=t=>{const{control:e,checked:n,bubbles:s=!0,...r}=t,a=p.useRef(null),o=X0(n),l=Jv(e);return p.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:s});h.call(c,n),c.dispatchEvent(f)}},[o,n,s]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function P6(t){return t?"checked":"unchecked"}var I6=E6,Zle=R6;const Ja=p.forwardRef(({className:t,...e},n)=>i.jsx(I6,{className:ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:i.jsx(Zle,{className:ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ja.displayName=I6.displayName;const Jle=["Labrador Retriever","German Shepherd","Golden Retriever","French Bulldog","Bulldog","Poodle","Beagle","Rottweiler","German Shorthaired Pointer","Dachshund","Pembroke Welsh Corgi","Australian Shepherd","Yorkshire Terrier","Boxer","Siberian Husky","Border Collie","Boston Terrier","Bernese Mountain Dog","Pomeranian","Havanese","English Springer Spaniel","Brittany","Cocker Spaniel","Border Terrier","Mastiff"],ece=["Ragdoll","Maine Coon","Exotic Shorthair","Persian","Devon Rex","Sphynx","Abyssinian","Scottish Fold","British Shorthair","American Shorthair","Siamese","Bengal","Russian Blue","Burmese","Siberian","Norwegian Forest Cat","Oriental Shorthair","Selkirk Rex","Manx","Egyptian Mau"],tce=({dog:t,isOpen:e,onSave:n,onClose:s,onImageSelect:r,isSaving:a})=>{const[o,l]=p.useState(t),[c,u]=p.useState(null),[d,h]=p.useState([]),[f,g]=p.useState([]),[v,x]=p.useState(!1),[w,y]=p.useState("");p.useEffect(()=>{l(t),u(null),h([]),g([]),y("")},[t]);const b=A=>{if(!A)return{years:0,months:0,displayText:"0 years old"};const C=new Date(A),_=new Date,S=fC(_,C),T=R0(_,C)%12;let k="";return S>0&&T>0?k=`${S} ${S===1?"year":"years"} ${T} ${T===1?"month":"months"} old`:S>0?k=`${S} ${S===1?"year":"years"} old`:T>0?k=`${T} ${T===1?"month":"months"} old`:k="Less than a month old",{years:S,months:T,displayText:k}},N=A=>{if(!A)return 0;const{years:C,months:_}=b(A);return C>0?C+_/12:Math.max(.1,_/12)},E=A=>{l(C=>({...C,dateOfBirth:A,age:N(A)}))},I=()=>{n({...o,age:Number(o.age)},c,d)};return i.jsx(Lt,{open:e,onOpenChange:s,children:i.jsxs(At,{className:"w-[95vw] max-w-lg mx-auto max-h-[90vh] overflow-y-auto rounded-lg bg-slate-800 border-slate-700",children:[i.jsx(Dt,{className:"space-y-3 pb-4",children:i.jsxs(Mt,{className:"text-xl font-bold text-center text-white",children:["Edit ",t.name,"'s Profile"]})}),i.jsxs("div",{className:"space-y-6 py-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"name",className:"text-sm font-medium text-white",children:"Name"}),i.jsx(xe,{id:"name",value:o.name,onChange:A=>l({...o,name:A.target.value}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"breed",className:"text-sm font-medium text-white",children:"Breed"}),i.jsxs(Qa,{open:v,onOpenChange:x,children:[i.jsx(Ya,{asChild:!0,children:i.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":v,className:"w-full h-12 justify-between bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[o.breed||"Select or type breed...",i.jsx(Ij,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ia,{className:"w-[--radix-popover-trigger-width] p-0 bg-slate-800 border-slate-700",children:i.jsxs(W0,{children:[i.jsx(q0,{placeholder:"Search breed...",className:"text-white",value:w,onValueChange:A=>{y(A),l({...o,breed:A})}}),i.jsxs(G0,{children:[i.jsx(K0,{className:"text-slate-400 p-4",children:w?`Use "${w}" as custom breed`:"No breed found."}),i.jsx(Q0,{children:(o.petType==="dog"?Jle:ece).filter(A=>A.toLowerCase().includes(w.toLowerCase())).map(A=>i.jsxs(Y0,{value:A,onSelect:C=>{l({...o,breed:C}),x(!1),y("")},className:"text-white hover:bg-slate-700 cursor-pointer",children:[i.jsx(Wd,{className:ie("mr-2 h-4 w-4",o.breed===A?"opacity-100":"opacity-0")}),A]},A))})]})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"dob",className:"text-sm font-medium text-white",children:"Date of Birth"}),i.jsx(xe,{id:"dob",type:"date",value:o.dateOfBirth||"",onChange:A=>E(A.target.value),className:"w-full h-12 bg-slate-700 border-slate-600 text-white",max:new Date().toISOString().split("T")[0]}),o.dateOfBirth&&i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Age: ",b(o.dateOfBirth).displayText]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"weight",className:"text-sm font-medium text-white",children:"Weight (kg)"}),i.jsx(xe,{id:"weight",type:"number",value:o.weight||"",onChange:A=>l({...o,weight:A.target.value?Number(A.target.value):void 0}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., 15",min:"0",step:"0.1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"sex",className:"text-sm font-medium text-white",children:"Sex"}),i.jsxs(_n,{value:o.sex||"",onValueChange:A=>l({...o,sex:A,pregnancyCount:void 0,pupCount:void 0}),children:[i.jsx(hn,{className:"w-full h-12 bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select sex"})}),i.jsxs(fn,{className:"bg-slate-700 border-slate-600",children:[i.jsx(Ve,{value:"Male",className:"text-white hover:bg-slate-600",children:" Male"}),i.jsx(Ve,{value:"Female",className:"text-white hover:bg-slate-600",children:" Female"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"aggressionLevel",className:"text-sm font-medium text-white",children:"Aggression Level"}),i.jsxs(_n,{value:o.aggressionLevel||"",onValueChange:A=>l({...o,aggressionLevel:A}),children:[i.jsx(hn,{className:"w-full h-12 bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select aggression level"})}),i.jsxs(fn,{className:"bg-slate-700 border-slate-600",children:[i.jsx(Ve,{value:"Low",className:"text-white hover:bg-slate-600",children:" Low (Friendly)"}),i.jsx(Ve,{value:"Medium",className:"text-white hover:bg-slate-600",children:" Medium (Cautious)"}),i.jsx(Ve,{value:"High",className:"text-white hover:bg-slate-600",children:" High (Aggressive)"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/30 rounded-lg border border-slate-600",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(me,{htmlFor:"matingInterest",className:"text-sm font-medium text-white",children:"Interested in Mating Service"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Would you like to receive mating service recommendations?"})]}),i.jsx(Ja,{id:"matingInterest",checked:o.matingInterest||!1,onCheckedChange:A=>l({...o,matingInterest:A})})]}),o.sex==="Female"&&i.jsxs("div",{className:"space-y-4 p-4 bg-pink-500/10 border border-pink-500/30 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-pink-300 flex items-center gap-2",children:" Pregnancy History"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"pregnancyCount",className:"text-sm font-medium text-white",children:"Times Pregnant"}),i.jsx(xe,{id:"pregnancyCount",type:"number",value:o.pregnancyCount||"",onChange:A=>l({...o,pregnancyCount:A.target.value?Number(A.target.value):void 0}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., 1",min:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"pupCount",className:"text-sm font-medium text-white",children:"Total Offspring"}),i.jsx(xe,{id:"pupCount",type:"number",value:o.pupCount||"",onChange:A=>l({...o,pupCount:A.target.value?Number(A.target.value):void 0}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., 5",min:"0"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"image",className:"text-sm font-medium text-white",children:"Photo"}),i.jsx(xe,{id:"image",type:"file",accept:"image/*",onChange:A=>{if(A.target.files&&A.target.files[0]){const C=A.target.files[0];u(C),r(C),l({...o,imageUrl:URL.createObjectURL(C)})}else r(null)},className:"w-full h-12 bg-slate-700 border-slate-600 text-white"}),o.imageUrl&&i.jsx("div",{className:"mt-3 flex justify-center",children:i.jsx("img",{src:o.imageUrl,alt:"Pet preview",className:"h-24 w-24 rounded-lg object-cover border-2 border-slate-600"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"scheduleImages",className:"text-sm font-medium text-white",children:"Vaccination Schedule Images (Optional)"}),i.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Upload vaccination records, certificates, or schedule documents"}),o.vaccinationScheduleImages&&o.vaccinationScheduleImages.length>0&&i.jsxs("div",{className:"mb-3",children:[i.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Current images (",o.vaccinationScheduleImages.length,"):"]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:o.vaccinationScheduleImages.map((A,C)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:A,alt:`Existing schedule ${C+1}`,className:"h-20 w-full rounded-lg object-cover border-2 border-slate-600"}),i.jsx("div",{className:"absolute top-1 right-1 bg-slate-900/80 rounded-full w-5 h-5 flex items-center justify-center text-xs text-white",children:C+1})]},C))})]}),i.jsx(xe,{id:"scheduleImages",type:"file",accept:"image/*",multiple:!0,onChange:A=>{if(A.target.files&&A.target.files.length>0){const C=Array.from(A.target.files);h(C);const _=C.map(S=>URL.createObjectURL(S));g(_)}else h([]),g([])},className:"w-full h-12 bg-slate-700 border-slate-600 text-white"}),f.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["New images to upload (",f.length,"):"]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map((A,C)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:A,alt:`New schedule ${C+1}`,className:"h-20 w-full rounded-lg object-cover border-2 border-green-500/50"}),i.jsxs("div",{className:"absolute top-1 right-1 bg-green-600/80 rounded-full w-5 h-5 flex items-center justify-center text-xs text-white",children:["+",C+1]})]},C))})]})]})]}),i.jsxs(Dr,{className:"pt-6 gap-3",children:[i.jsx(z,{variant:"outline",onClick:s,disabled:a,className:"flex-1 h-12 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(z,{onClick:I,disabled:a,className:"flex-1 h-12 bg-purple-500 hover:bg-purple-600",children:a?"Saving...":"Save changes"})]})]})})},nce=["Labrador Retriever","German Shepherd","Golden Retriever","French Bulldog","Bulldog","Poodle","Beagle","Rottweiler","German Shorthaired Pointer","Dachshund","Pembroke Welsh Corgi","Australian Shepherd","Yorkshire Terrier","Boxer","Siberian Husky","Border Collie","Boston Terrier","Bernese Mountain Dog","Pomeranian","Havanese","English Springer Spaniel","Brittany","Cocker Spaniel","Border Terrier","Mastiff"],sce=["Ragdoll","Maine Coon","Exotic Shorthair","Persian","Devon Rex","Sphynx","Abyssinian","Scottish Fold","British Shorthair","American Shorthair","Siamese","Bengal","Russian Blue","Burmese","Siberian","Norwegian Forest Cat","Oriental Shorthair","Selkirk Rex","Manx","Egyptian Mau"],rce=({reminderDueSoonDays:t})=>{const{user:e}=en(),n=rn(),s=cs(),[r,a]=p.useState(!1),[o,l]=p.useState({name:"",breed:"",petType:"",dateOfBirth:"",age:0,imageUrl:"",aggressionLevel:void 0,weight:void 0,sex:void 0,matingInterest:!1,pregnancyCount:void 0,pupCount:void 0}),[c,u]=p.useState(null),[d,h]=p.useState([]),[f,g]=p.useState([]),[v,x]=p.useState(null),[w,y]=p.useState(!1),[b,N]=p.useState(""),{dogs:E,isLoadingDogs:I}=Jc(),{reminders:A}=tp(),{transactions:C}=ch(),_=F=>{if(!F)return{years:0,months:0,displayText:"0 years old"};const L=new Date(F),B=new Date,K=fC(B,L),ne=R0(B,L)%12;let ae="";return K>0&&ne>0?ae=`${K} ${K===1?"year":"years"} ${ne} ${ne===1?"month":"months"} old`:K>0?ae=`${K} ${K===1?"year":"years"} old`:ne>0?ae=`${ne} ${ne===1?"month":"months"} old`:ae="Less than a month old",{years:K,months:ne,displayText:ae}},S=F=>{if(!F)return 0;const{years:L,months:B}=_(F);return L>0?L+B/12:Math.max(.1,B/12)},T=F=>{_(F),l(L=>({...L,dateOfBirth:F,age:S(F)}))},k=dt({mutationFn:async({dogData:F,file:L,scheduleFiles:B})=>{if(!e)throw new Error("User not authenticated");const K=at(Ze(he,"users",e.uid,"dogs"));let ne="",ae=[];if(L){const Pe=Zn(Jn,`users/${e.uid}/dogs/${K.id}/${L.name}`);await Yn(Pe,L),ne=await Xn(Pe)}if(B.length>0){const Pe=B.map(async(Oe,Ue)=>{const it=Zn(Jn,`users/${e.uid}/dogs/${K.id}/vaccination_schedules/${Ue}_${Oe.name}`);return await Yn(it,Oe),Xn(it)});ae=await Promise.all(Pe)}const oe={...F,imageUrl:ne,vaccinationScheduleImages:ae};return await Ou(K,oe),{...oe,id:K.id}},onSuccess:F=>{n.invalidateQueries({queryKey:["dogs",e==null?void 0:e.uid]}),H.success(`Welcome ${F.name}! `),l({name:"",breed:"",petType:"",dateOfBirth:"",age:0,imageUrl:""}),u(null),h([]),g([]),a(!1),N(""),y(!1)},onError:F=>{console.error("addDogMutation error",F),F.code==="storage/unauthorized"?H.error("Image upload failed: Permission issue. Please check Firebase Storage rules."):H.error(F.message||"Failed to add pet.")}}),D=dt({mutationFn:async({dogId:F,dogData:L,file:B,scheduleFiles:K})=>{if(!e)throw new Error("User not authenticated");const ne=at(he,"users",e.uid,"dogs",F),ae={...L};if(B){const oe=Zn(Jn,`users/${e.uid}/dogs/${F}/${B.name}`);await Yn(oe,B),ae.imageUrl=await Xn(oe)}if(K&&K.length>0){const oe=K.map(async(Ue,it)=>{const lt=Zn(Jn,`users/${e.uid}/dogs/${F}/vaccination_schedules/${Date.now()}_${it}_${Ue.name}`);return await Yn(lt,Ue),Xn(lt)}),Pe=await Promise.all(oe),Oe=L.vaccinationScheduleImages||[];ae.vaccinationScheduleImages=[...Oe,...Pe]}return Wn(ne,ae)},onSuccess:(F,{dogData:L})=>{n.invalidateQueries({queryKey:["dogs",e==null?void 0:e.uid]}),H.success(`${L.name||(v==null?void 0:v.name)}'s profile has been updated.`),x(null)},onError:F=>{H.error(F.message||"Failed to update pet.")}}),P=dt({mutationFn:F=>{if(!e)throw new Error("User not authenticated");const L=at(he,"users",e.uid,"dogs",F);return oh(L)},onSuccess:(F,L)=>{n.invalidateQueries({queryKey:["dogs",e==null?void 0:e.uid]});const B=E.find(K=>K.id===L);H.success(`${(B==null?void 0:B.name)||"The pet"} has been removed.`)},onError:F=>{H.error(F.message||"Failed to delete pet.")}}),G=dt({mutationFn:async({oldDogName:F,newDogName:L})=>{if(!e)throw new Error("User not authenticated");const B=Ze(he,"users",e.uid,"reminders"),K=ts(B,Ad("dog","==",F)),ne=await Rt(K),ae=ev(he);ne.forEach(oe=>{ae.update(oe.ref,{dog:L})}),await ae.commit()},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:F=>{H.error(F.message||"Failed to update reminders.")}}),ee=dt({mutationFn:async F=>{if(!e)throw new Error("User not authenticated");const L=Ze(he,"users",e.uid,"reminders"),B=ts(L,Ad("dog","==",F)),K=await Rt(B),ne=ev(he);K.forEach(ae=>{ne.delete(ae.ref)}),await ne.commit()},onSuccess:()=>{n.invalidateQueries({queryKey:["reminders",e==null?void 0:e.uid]})},onError:F=>{H.error(F.message||"Failed to delete associated reminders.")}}),te=()=>{if(o.name&&o.breed&&o.petType&&o.dateOfBirth){if(E.some(F=>F.name.toLowerCase()===o.name.toLowerCase())){H.error("A pet with this name already exists.");return}k.mutate({dogData:{name:o.name,breed:o.breed,age:o.age,petType:o.petType,dateOfBirth:o.dateOfBirth,aggressionLevel:o.aggressionLevel,weight:o.weight,sex:o.sex,matingInterest:o.matingInterest,pregnancyCount:o.sex==="Female"?o.pregnancyCount:void 0,pupCount:o.sex==="Female"?o.pupCount:void 0},file:c,scheduleFiles:d})}else H.error("Please fill out all fields.")},Q=(F,L,B)=>{if(!v)return;if(E.some(ne=>ne.id!==v.id&&ne.name.toLowerCase()===F.name.toLowerCase())){H.error("A pet with this name already exists.");return}D.mutate({dogId:v.id,dogData:F,file:L,scheduleFiles:B}),v&&v.name!==F.name&&G.mutate({oldDogName:v.name,newDogName:F.name})},O=F=>{ee.mutate(F.name),P.mutate(F.id)},V=F=>{const L=Ka();let B=null,K=!1,ne;for(const ae of A){if(ae.dog!==F.name||ae.status!=="upcoming")continue;if(C==null?void 0:C.some(Ue=>Ue.reminderId===ae.id&&Ue.status==="successful")){K=!0;continue}const Pe=new Date(ae.due),Oe=Xi(Pe,L);if(Oe<0)return{status:"overdue",hasBookedReminders:K,dueDateInfo:{daysUntilDue:Oe,vaccineName:ae.vaccine}};Oe>=0&&Oe<=t&&(B="due-soon",ne={daysUntilDue:Oe,vaccineName:ae.vaccine})}return{status:B,hasBookedReminders:K,dueDateInfo:ne}},Z=[...E].sort((F,L)=>{const B=V(F),K=V(L),ne=(Pe,Oe)=>Oe&&!Pe?3:Pe==="overdue"?0:Pe==="due-soon"?1:2,ae=ne(B.status,B.hasBookedReminders),oe=ne(K.status,K.hasBookedReminders);return ae!==oe?ae-oe:F.name.localeCompare(L.name)});return I?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Pets"}),i.jsx(Me,{className:"h-10 w-20 bg-slate-700"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(Me,{className:"h-40 rounded-lg bg-slate-700"}),i.jsx(Me,{className:"h-40 rounded-lg bg-slate-700"})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Pets"}),i.jsxs(Lt,{open:r,onOpenChange:F=>{!F&&k.isPending||a(F)},children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{className:"bg-purple-500 hover:bg-purple-600 text-white",children:[i.jsx(_d,{className:"mr-2 h-4 w-4"}),"Add Pet"]})}),i.jsxs(At,{className:"w-[95vw] max-w-lg mx-auto max-h-[90vh] overflow-y-auto rounded-lg bg-slate-800 border-slate-700",children:[i.jsxs(Dt,{className:"space-y-3 pb-4",children:[i.jsx(Mt,{className:"text-xl font-bold text-center text-white",children:"Add a new pet"}),i.jsx(mo,{className:"text-sm text-center text-slate-400",children:"Enter your pet's details here. Click save when you're done."})]}),i.jsxs("div",{className:"space-y-6 py-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"petType",className:"text-sm font-medium text-white",children:"Pet Type *"}),i.jsxs(_n,{onValueChange:F=>l({...o,petType:F}),children:[i.jsx(hn,{className:"w-full h-12 bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select pet type"})}),i.jsxs(fn,{className:"bg-slate-700 border-slate-600",children:[i.jsx(Ve,{value:"dog",className:"text-white hover:bg-slate-600",children:" Dog"}),i.jsx(Ve,{value:"cat",className:"text-white hover:bg-slate-600",children:" Cat"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"name",className:"text-sm font-medium text-white",children:"Name *"}),i.jsx(xe,{id:"name",value:o.name,onChange:F=>l({...o,name:F.target.value}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., Buddy"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"breed",className:"text-sm font-medium text-white",children:"Breed *"}),i.jsxs(Qa,{open:w,onOpenChange:y,children:[i.jsx(Ya,{asChild:!0,children:i.jsxs(z,{variant:"outline",role:"combobox","aria-expanded":w,className:"w-full h-12 justify-between bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[o.breed||"Select or type breed...",i.jsx(Ij,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),i.jsx(ia,{className:"w-[--radix-popover-trigger-width] p-0 bg-slate-800 border-slate-700",children:i.jsxs(W0,{children:[i.jsx(q0,{placeholder:"Search breed...",className:"text-white",value:b,onValueChange:F=>{N(F),l({...o,breed:F})}}),i.jsxs(G0,{children:[i.jsx(K0,{className:"text-slate-400 p-4",children:b?`Use "${b}" as custom breed`:"No breed found."}),i.jsx(Q0,{children:(o.petType==="dog"?nce:sce).filter(F=>F.toLowerCase().includes(b.toLowerCase())).map(F=>i.jsxs(Y0,{value:F,onSelect:L=>{l({...o,breed:L}),y(!1),N("")},className:"text-white hover:bg-slate-700 cursor-pointer",children:[i.jsx(Wd,{className:ie("mr-2 h-4 w-4",o.breed===F?"opacity-100":"opacity-0")}),F]},F))})]})]})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"dob",className:"text-sm font-medium text-white",children:"Date of Birth *"}),i.jsx(xe,{id:"dob",type:"date",value:o.dateOfBirth,onChange:F=>T(F.target.value),className:"w-full h-12 bg-slate-700 border-slate-600 text-white",max:new Date().toISOString().split("T")[0]}),o.dateOfBirth&&i.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Age: ",_(o.dateOfBirth).displayText]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"weight",className:"text-sm font-medium text-white",children:"Weight (kg)"}),i.jsx(xe,{id:"weight",type:"number",value:o.weight||"",onChange:F=>l({...o,weight:F.target.value?Number(F.target.value):void 0}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., 15",min:"0",step:"0.1"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"sex",className:"text-sm font-medium text-white",children:"Sex"}),i.jsxs(_n,{value:o.sex||"",onValueChange:F=>l({...o,sex:F,pregnancyCount:void 0,pupCount:void 0}),children:[i.jsx(hn,{className:"w-full h-12 bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select sex"})}),i.jsxs(fn,{className:"bg-slate-700 border-slate-600",children:[i.jsx(Ve,{value:"Male",className:"text-white hover:bg-slate-600",children:" Male"}),i.jsx(Ve,{value:"Female",className:"text-white hover:bg-slate-600",children:" Female"})]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"aggressionLevel",className:"text-sm font-medium text-white",children:"Aggression Level"}),i.jsxs(_n,{value:o.aggressionLevel||"",onValueChange:F=>l({...o,aggressionLevel:F}),children:[i.jsx(hn,{className:"w-full h-12 bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select aggression level"})}),i.jsxs(fn,{className:"bg-slate-700 border-slate-600",children:[i.jsx(Ve,{value:"Low",className:"text-white hover:bg-slate-600",children:" Low (Friendly)"}),i.jsx(Ve,{value:"Medium",className:"text-white hover:bg-slate-600",children:" Medium (Cautious)"}),i.jsx(Ve,{value:"High",className:"text-white hover:bg-slate-600",children:" High (Aggressive)"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-700/30 rounded-lg border border-slate-600",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(me,{htmlFor:"matingInterest",className:"text-sm font-medium text-white",children:"Interested in Mating Service"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Would you like to receive mating service recommendations?"})]}),i.jsx(Ja,{id:"matingInterest",checked:o.matingInterest,onCheckedChange:F=>l({...o,matingInterest:F})})]}),o.sex==="Female"&&i.jsxs("div",{className:"space-y-4 p-4 bg-pink-500/10 border border-pink-500/30 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-pink-300 flex items-center gap-2",children:" Pregnancy History"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"pregnancyCount",className:"text-sm font-medium text-white",children:"Times Pregnant"}),i.jsx(xe,{id:"pregnancyCount",type:"number",value:o.pregnancyCount||"",onChange:F=>l({...o,pregnancyCount:F.target.value?Number(F.target.value):void 0}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., 1",min:"0"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"pupCount",className:"text-sm font-medium text-white",children:"Total Offspring"}),i.jsx(xe,{id:"pupCount",type:"number",value:o.pupCount||"",onChange:F=>l({...o,pupCount:F.target.value?Number(F.target.value):void 0}),className:"w-full h-12 bg-slate-700 border-slate-600 text-white placeholder-slate-400",placeholder:"e.g., 5",min:"0"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"image",className:"text-sm font-medium text-white",children:"Photo (Optional)"}),i.jsx(xe,{id:"image",type:"file",accept:"image/*",onChange:F=>{if(F.target.files&&F.target.files[0]){const L=F.target.files[0];u(L),l({...o,imageUrl:URL.createObjectURL(L)})}else u(null),l({...o,imageUrl:""})},className:"w-full h-12 bg-slate-700 border-slate-600 text-white"}),o.imageUrl&&i.jsx("div",{className:"mt-3 flex justify-center",children:i.jsx("img",{src:o.imageUrl,alt:"Pet preview",className:"h-24 w-24 rounded-lg object-cover border-2 border-slate-600"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(me,{htmlFor:"scheduleImages",className:"text-sm font-medium text-white",children:"Vaccination Schedule Images (Optional)"}),i.jsx("p",{className:"text-xs text-slate-400 mb-2",children:"Upload vaccination records, certificates, or schedule documents"}),i.jsx(xe,{id:"scheduleImages",type:"file",accept:"image/*",multiple:!0,onChange:F=>{if(F.target.files&&F.target.files.length>0){const L=Array.from(F.target.files);h(L);const B=L.map(K=>URL.createObjectURL(K));g(B)}else h([]),g([])},className:"w-full h-12 bg-slate-700 border-slate-600 text-white"}),f.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsxs("p",{className:"text-xs text-slate-400 mb-2",children:["Selected images (",f.length,"):"]}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:f.map((F,L)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:F,alt:`Schedule ${L+1}`,className:"h-20 w-full rounded-lg object-cover border-2 border-slate-600"}),i.jsx("div",{className:"absolute top-1 right-1 bg-slate-900/80 rounded-full w-5 h-5 flex items-center justify-center text-xs text-white",children:L+1})]},L))})]})]})]}),i.jsx(Dr,{className:"pt-6",children:i.jsx(z,{onClick:te,disabled:k.isPending,className:"w-full h-12 text-base font-medium bg-purple-500 hover:bg-purple-600",children:k.isPending?"Saving...":"Save pet"})})]})]})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:E.length===0&&!I?i.jsxs("div",{className:"md:col-span-2 text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(_d,{className:"h-8 w-8 text-purple-400"})}),i.jsx("p",{className:"text-slate-400 text-lg mb-2",children:"No pets yet"}),i.jsx("p",{className:"text-slate-500 text-sm",children:"Add your first furry friend to get started!"})]}):Z.map(F=>{const{status:L,hasBookedReminders:B,dueDateInfo:K}=V(F),ne=_(F.dateOfBirth||"");return i.jsx(Gle,{...F,detailedAge:ne.displayText,reminderStatus:L,hasBookedReminders:B,dueDateInfo:K,onClick:()=>s(`/my-dogs/${encodeURIComponent(F.name)}`),onEdit:()=>x(F),onDelete:()=>O(F)},F.id)})}),v&&i.jsx(tce,{dog:v,isOpen:!!v,onSave:Q,onClose:()=>{D.isPending||x(null)},onImageSelect:F=>{},isSaving:D.isPending})]})})},ice=async()=>{const t=Ze(he,"categories");return(await Rt(t)).docs.map(n=>({id:n.id,...n.data()}))},dS=()=>{const t=rn(),{data:e=[],isLoading:n,error:s}=In({queryKey:["categories"],queryFn:ice}),r=dt({mutationFn:async({categoryData:l,imageFile:c})=>{let u="";if(c){const d=Zn(Jn,`categories/${Date.now()}_${c.name}`);await Yn(d,c),u=await Xn(d)}return Ei(Ze(he,"categories"),{...l,imageUrl:u,createdAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]}),H.success("Category added successfully!")},onError:l=>{H.error(l.message||"Failed to add category")}}),a=dt({mutationFn:async({categoryId:l,categoryData:c,imageFile:u})=>{const d={...c};if(u){const f=Zn(Jn,`categories/${Date.now()}_${u.name}`);await Yn(f,u),d.imageUrl=await Xn(f)}const h=at(he,"categories",l);return Wn(h,d)},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]}),H.success("Category updated successfully!")},onError:l=>{H.error(l.message||"Failed to update category")}}),o=dt({mutationFn:async l=>{const c=at(he,"categories",l);return oh(c)},onSuccess:()=>{t.invalidateQueries({queryKey:["categories"]}),H.success("Category deleted successfully!")},onError:l=>{H.error(l.message||"Failed to delete category")}});return{categories:e.filter(l=>l.isActive),allCategories:e,isLoading:n,error:s,addCategory:r.mutateAsync,updateCategory:a.mutateAsync,deleteCategory:o.mutateAsync,isAddingCategory:r.isPending,isUpdatingCategory:a.isPending,isDeletingCategory:o.isPending}},ace=async(t,e)=>{const n=Ze(he,"shopProducts");let s=ts(n,Ad("isActive","==",!0));return(await Rt(s)).docs.map(a=>({id:a.id,...a.data()}))},k6=(t,e)=>{const n=rn(),{data:s=[],isLoading:r,error:a}=In({queryKey:["shopProducts",t,e],queryFn:()=>ace()}),o=dt({mutationFn:async({productData:u,imageFile:d,galleryFiles:h})=>{let f="",g=[];if(d){const v=Zn(Jn,`shopProducts/${Date.now()}_${d.name}`);await Yn(v,d),f=await Xn(v)}if(h&&h.length>0){const v=h.map(async(x,w)=>{const y=Zn(Jn,`shopProducts/gallery/${Date.now()}_${w}_${x.name}`);return await Yn(y,x),Xn(y)});g=await Promise.all(v)}return Ei(Ze(he,"shopProducts"),{...u,imageUrl:f,galleryImages:g,createdAt:_t()})},onSuccess:()=>{n.invalidateQueries({queryKey:["shopProducts"]}),H.success("Product added successfully!")},onError:u=>{H.error(u.message||"Failed to add product")}}),l=dt({mutationFn:async({productId:u,productData:d,imageFile:h,galleryFiles:f})=>{const g={...d};if(h){const x=Zn(Jn,`shopProducts/${Date.now()}_${h.name}`);await Yn(x,h),g.imageUrl=await Xn(x)}if(f&&f.length>0){const x=f.map(async(w,y)=>{const b=Zn(Jn,`shopProducts/gallery/${Date.now()}_${y}_${w.name}`);return await Yn(b,w),Xn(b)});g.galleryImages=await Promise.all(x)}const v=at(he,"shopProducts",u);return Wn(v,g)},onSuccess:()=>{n.invalidateQueries({queryKey:["shopProducts"]}),H.success("Product updated successfully!")},onError:u=>{H.error(u.message||"Failed to update product")}}),c=dt({mutationFn:async u=>{const d=at(he,"shopProducts",u);return Wn(d,{isActive:!1})},onSuccess:()=>{n.invalidateQueries({queryKey:["shopProducts"]}),H.success("Product deleted successfully!")},onError:u=>{H.error(u.message||"Failed to delete product")}});return{products:s,featuredProducts:s.filter(u=>u.isFeatured),bestSellerProducts:s.filter(u=>u.isBestSeller),vaccineProducts:s.filter(u=>u.isVaccine),isLoading:r,error:a,addProduct:o.mutateAsync,updateProduct:l.mutateAsync,deleteProduct:c.mutateAsync,isAddingProduct:o.isPending,isUpdatingProduct:l.isPending,isDeletingProduct:c.isPending}},bp=()=>{const[t,e]=p.useState([]),[n,s]=p.useState([]),[r,a]=p.useState(!1);p.useEffect(()=>{try{const N=localStorage.getItem("vaxdog-cart"),E=localStorage.getItem("vaxdog-wishlist");if(N){const I=JSON.parse(N);console.log("Loading cart from localStorage:",I),e(Array.isArray(I)?I:[])}if(E){const I=JSON.parse(E);console.log("Loading wishlist from localStorage:",I),s(Array.isArray(I)?I:[])}a(!0)}catch(N){console.error("Error loading from localStorage:",N),localStorage.removeItem("vaxdog-cart"),localStorage.removeItem("vaxdog-wishlist"),a(!0)}},[]),p.useEffect(()=>{r&&(console.log("Saving cart to localStorage:",t),localStorage.setItem("vaxdog-cart",JSON.stringify(t)))},[t,r]),p.useEffect(()=>{r&&(console.log("Saving wishlist to localStorage:",n),localStorage.setItem("vaxdog-wishlist",JSON.stringify(n)))},[n,r]);const o=(N,E=1)=>{if(console.log("Adding to cart - product:",N,"quantity:",E),!N||!N.id||!N.name||N.price===void 0){console.error("Invalid product data:",N),H.error("Invalid product data");return}const I=String(N.id);e(A=>{console.log("Current cart items before add:",A);const C=A.find(_=>String(_.id)===I);if(C){const _=C.quantity+E,S=N.stock||99;if(_>S)return H.error(`Cannot add more items. Only ${S} in stock.`),A;const T=A.map(k=>String(k.id)===I?{...k,quantity:_}:k);return console.log("Updated cart items:",T),H.success("Updated quantity in cart!",{description:`${N.name} quantity updated to ${_}.`}),T}else{const _={id:I,name:N.name,price:Number(N.price),quantity:E,imageUrl:N.imageUrl||N.image,petType:N.petType,stock:N.stock};console.log("Creating new cart item:",_);const S=[...A,_];return console.log("New cart items array:",S),H.success("Added to cart!",{description:`${N.name} has been added to your cart.`}),S}})},l=N=>{const E=String(N);e(I=>{const A=I.find(_=>String(_.id)===E),C=I.filter(_=>String(_.id)!==E);return A&&H.success("Item removed from cart",{description:`${A.name} has been removed from your cart.`}),console.log("Removed from cart, new items:",C),C})},c=(N,E)=>{const I=String(N);if(E<=0){l(I);return}e(A=>{const C=A.find(S=>String(S.id)===I),_=(C==null?void 0:C.stock)||99;return E>_?(H.error(`Cannot add more items. Only ${_} in stock.`),A):A.map(S=>String(S.id)===I?{...S,quantity:E}:S)})},u=()=>{console.log("Clearing cart..."),e([]),localStorage.setItem("vaxdog-cart",JSON.stringify([])),H.success("Cart cleared")},d=N=>{if(console.log("Adding to wishlist - product:",N),!N||!N.id||!N.name||N.price===void 0){console.error("Invalid product data:",N),H.error("Invalid product data");return}const E=String(N.id);s(I=>{if(console.log("Current wishlist items before add:",I),I.some(S=>String(S.id)===E))return H.info("Item already in wishlist"),I;const C={id:E,name:N.name,price:Number(N.price),imageUrl:N.imageUrl||N.image,petType:N.petType,stock:N.stock};console.log("Creating new wishlist item:",C);const _=[...I,C];return console.log("New wishlist items array:",_),H.success("Added to wishlist!",{description:`${N.name} has been added to your wishlist.`}),_})},h=N=>{const E=String(N);s(I=>{const A=I.find(_=>String(_.id)===E),C=I.filter(_=>String(_.id)!==E);return A&&H.success("Removed from wishlist",{description:`${A.name} has been removed from your wishlist.`}),console.log("Removed from wishlist, new items:",C),C})},f=(N,E=1)=>{const I=String(N),A=n.find(C=>String(C.id)===I);A&&(o(A,E),h(I))},g=()=>{console.log("Clearing wishlist..."),s([]),localStorage.setItem("vaxdog-wishlist",JSON.stringify([])),H.success("Wishlist cleared")},v=N=>{const E=String(N);return n.some(I=>String(I.id)===E)},x=N=>{const E=String(N);return t.some(I=>String(I.id)===E)},w=N=>{const E=String(N),I=t.find(A=>String(A.id)===E);return(I==null?void 0:I.quantity)||0},y=t.reduce((N,E)=>N+E.price*E.quantity,0),b=t.reduce((N,E)=>N+E.quantity,0);return console.log("Current cart items:",t),console.log("Current wishlist items:",n),console.log("Cart count:",b),console.log("Wishlist count:",n.length),console.log("Is initialized:",r),{cartItems:t,wishlistItems:n,cartTotal:y,cartItemsCount:b,wishlistCount:n.length,addToCart:o,removeFromCart:l,updateCartQuantity:c,clearCart:u,addToWishlist:d,removeFromWishlist:h,moveToCart:f,clearWishlist:g,isInWishlist:v,isInCart:x,getCartItemQuantity:w}},hS=HC,oce=WC,A6=p.forwardRef(({className:t,...e},n)=>i.jsx(lp,{className:ie("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));A6.displayName=lp.displayName;const lce=Dm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ty=p.forwardRef(({side:t="right",className:e,children:n,...s},r)=>i.jsxs(oce,{children:[i.jsx(A6,{}),i.jsxs(cp,{ref:r,className:ie(lce({side:t}),e),...s,children:[n,i.jsxs(hp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Kc,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ty.displayName=cp.displayName;const ny=({className:t,...e})=>i.jsx("div",{className:ie("flex flex-col space-y-2 text-center sm:text-left",t),...e});ny.displayName="SheetHeader";const sy=p.forwardRef(({className:t,...e},n)=>i.jsx(up,{ref:n,className:ie("text-lg font-semibold text-foreground",t),...e}));sy.displayName=up.displayName;const cce=p.forwardRef(({className:t,...e},n)=>i.jsx(dp,{ref:n,className:ie("text-sm text-muted-foreground",t),...e}));cce.displayName=dp.displayName;const D6=({open:t,onOpenChange:e})=>{const n=cs(),{cartItems:s,cartTotal:r,removeFromCart:a,updateCartQuantity:o,clearCart:l}=bp(),c=()=>{if(s.length===0){H.error("Your cart is empty");return}e(!1),n("/checkout")},u=(h,f)=>{f<=0?a(h):o(h,f)},d=()=>{if(s.length===0){H.info("Cart is already empty");return}l()};return console.log("CartDrawer - cartItems:",s),i.jsx(hS,{open:t,onOpenChange:e,children:i.jsxs(ty,{side:"right",className:"bg-slate-900 border-slate-700 w-full sm:max-w-md p-0 flex flex-col h-full",children:[i.jsx(ny,{className:"p-4 pb-0 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(sy,{className:"text-white flex items-center gap-2 text-lg",children:[i.jsx(zr,{className:"h-5 w-5"}),"Cart (",s.length,")"]}),i.jsx(z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-slate-400 hover:text-white hover:bg-slate-800",onClick:()=>e(!1),children:i.jsx(Kc,{className:"h-4 w-4"})})]})}),i.jsx("div",{className:"flex flex-col flex-1 min-h-0",children:s.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-6",children:[i.jsx("div",{className:"w-20 h-20 bg-slate-800 rounded-full flex items-center justify-center mb-4",children:i.jsx(zr,{className:"h-10 w-10 text-slate-500"})}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Your cart is empty"}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add some products to get started!"}),i.jsx(z,{onClick:()=>e(!1),className:"bg-purple-500 hover:bg-purple-600",children:"Continue Shopping"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:i.jsx("div",{className:"space-y-3 py-4",children:s.map(h=>i.jsx("div",{className:"bg-slate-800/50 rounded-lg p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:h.imageUrl?i.jsx("img",{src:h.imageUrl,alt:h.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(zr,{className:"h-6 w-6 text-slate-500"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-white font-medium text-sm line-clamp-2 mb-1",children:h.name}),h.petType&&i.jsx(Ce,{variant:"outline",className:"text-xs mb-2 border-slate-600 text-slate-300",children:h.petType}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center text-purple-400 font-bold text-sm",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),(h.price*h.quantity).toFixed(2)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(z,{size:"icon",variant:"outline",className:"h-7 w-7 bg-slate-700 border-slate-600 hover:bg-slate-600",onClick:()=>u(h.id,h.quantity-1),children:i.jsx(H2,{className:"h-3 w-3"})}),i.jsx("span",{className:"text-white text-sm w-8 text-center font-medium",children:h.quantity}),i.jsx(z,{size:"icon",variant:"outline",className:"h-7 w-7 bg-slate-700 border-slate-600 hover:bg-slate-600",onClick:()=>u(h.id,h.quantity+1),disabled:h.quantity>=(h.stock||99),children:i.jsx(_d,{className:"h-3 w-3"})}),i.jsx(z,{size:"icon",variant:"ghost",className:"h-7 w-7 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>a(h.id),children:i.jsx(la,{className:"h-3 w-3"})})]})]}),h.stock&&h.quantity>=h.stock&&i.jsx("p",{className:"text-yellow-400 text-xs mt-1",children:"Maximum stock reached"})]})]})},h.id))})}),i.jsx("div",{className:"flex-shrink-0 border-t border-slate-700 bg-slate-900",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-slate-400 text-lg",children:"Total:"}),i.jsxs("div",{className:"flex items-center text-white font-bold text-xl",children:[i.jsx(rt,{className:"h-5 w-5 mr-1"}),r.toFixed(2)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(z,{className:"w-full bg-purple-500 hover:bg-purple-600 h-12 text-base font-semibold",onClick:c,children:"Proceed to Checkout"}),i.jsx(z,{variant:"outline",className:"w-full bg-slate-800 border-slate-600 text-white hover:bg-slate-700 h-10",onClick:d,children:"Clear Cart"})]}),i.jsx("div",{className:"h-2 sm:h-0"})]})})]})})]})})},M6=({open:t,onOpenChange:e})=>{const{wishlistItems:n,removeFromWishlist:s,moveToCart:r,clearWishlist:a}=bp(),o=c=>{r(c,1)},l=()=>{if(n.length===0){H.info("Wishlist is already empty");return}a()};return console.log("WishlistDrawer - wishlistItems:",n),i.jsx(hS,{open:t,onOpenChange:e,children:i.jsxs(ty,{className:"bg-slate-900 border-slate-700 w-full sm:max-w-lg",children:[i.jsx(ny,{children:i.jsxs(sy,{className:"text-white flex items-center gap-2",children:[i.jsx(ta,{className:"h-5 w-5"}),"Wishlist (",n.length,")"]})}),i.jsx("div",{className:"flex flex-col h-full mt-6",children:n.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mb-4",children:i.jsx(ta,{className:"h-12 w-12 text-slate-500"})}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Your wishlist is empty"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Save items you love for later!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-y-auto space-y-4",children:n.map(c=>i.jsx("div",{className:"bg-slate-800/50 rounded-lg p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:c.imageUrl?i.jsx("img",{src:c.imageUrl,alt:c.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(zr,{className:"h-6 w-6 text-slate-500"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-white font-medium text-sm line-clamp-2 mb-1",children:c.name}),c.petType&&i.jsx(Ce,{variant:"outline",className:"text-xs mb-2",children:c.petType}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center text-purple-400 font-bold",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),c.price.toFixed(2)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(z,{size:"sm",className:"bg-purple-500 hover:bg-purple-600 h-8 px-3",onClick:()=>o(c.id),disabled:c.stock===0,children:[i.jsx(zr,{className:"h-3 w-3 mr-1"}),"Add to Cart"]}),i.jsx(z,{size:"icon",variant:"ghost",className:"h-8 w-8 text-red-400 hover:text-red-300 hover:bg-red-500/10",onClick:()=>s(c.id),children:i.jsx(la,{className:"h-3 w-3"})})]})]}),c.stock===0&&i.jsx("p",{className:"text-red-400 text-xs mt-1",children:"Out of stock"})]})]})},c.id))}),i.jsx("div",{className:"pt-4",children:i.jsx(z,{variant:"outline",className:"w-full bg-slate-800 border-slate-600 text-white hover:bg-slate-700",onClick:l,children:"Clear Wishlist"})})]})})]})})},LI=({title:t,actionText:e,onActionClick:n})=>i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-white tracking-wide",children:t}),e&&n&&i.jsxs(z,{variant:"ghost",size:"sm",className:"text-purple-400 hover:text-white",onClick:n,children:[e,i.jsx(Aa,{className:"h-4 w-4 ml-1"})]})]}),VI=({product:t,isCompact:e,onWishlistToggle:n,onAddToCart:s,onProductClick:r,isInWishlist:a})=>{const o="bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 cursor-pointer hover:border-purple-500/50 transition-all duration-300 group overflow-hidden flex flex-col";return e?i.jsx(de,{className:"bg-slate-800/60 backdrop-blur-sm border border-slate-700/50 cursor-pointer hover:border-purple-500/50 transition-all duration-300 group overflow-hidden",onClick:()=>r(t),children:i.jsxs(ge,{className:"flex p-0",children:[i.jsx("div",{className:"relative w-28 h-auto flex-shrink-0",children:i.jsx("img",{src:t.imageUrl||"https://via.placeholder.com/300",alt:t.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-3 flex flex-col flex-1 min-w-0",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex gap-2 mb-1",children:[t.isFeatured&&i.jsxs(Ce,{className:"bg-yellow-500/90 text-black text-xs",children:[i.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Featured"]}),t.isBestSeller&&i.jsxs(Ce,{className:"bg-orange-500/90 text-white text-xs",children:[i.jsx(em,{className:"h-3 w-3 mr-1"}),"Best Seller"]})]}),i.jsx("h3",{className:"text-white font-medium text-sm line-clamp-2 mb-1",children:t.name}),i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("p",{className:"text-purple-400 text-lg font-bold",children:["",t.price.toFixed(2)]}),i.jsx(Ce,{variant:"outline",className:"text-xs text-purple-300 border-purple-300/50",children:t.petType})]})]}),i.jsxs(z,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 mt-auto",onClick:l=>s(l,t),disabled:t.stock===0,children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),t.stock===0?"Out of Stock":"Add to Cart"]})]})]})}):i.jsx(de,{className:o,onClick:()=>r(t),children:i.jsxs(ge,{className:"p-0 flex flex-col flex-1",children:[i.jsxs("div",{className:"relative h-44 sm:h-48 overflow-hidden",children:[i.jsx("img",{src:t.imageUrl||"https://via.placeholder.com/300",alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),i.jsx(z,{size:"icon",variant:"ghost",className:`absolute top-2 right-2 h-8 w-8 rounded-full backdrop-blur-sm transition-all duration-300 ${a?"text-red-400 bg-red-900/50 hover:bg-red-900/80":"text-white bg-slate-900/50 hover:bg-slate-900/80"}`,onClick:l=>n(l,t),children:i.jsx(ta,{className:`h-4 w-4 transition-all ${a?"fill-current":""}`})}),i.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[t.isFeatured&&i.jsxs(Ce,{className:"bg-yellow-500/90 text-black",children:[i.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Featured"]}),t.isBestSeller&&i.jsxs(Ce,{className:"bg-orange-500/90 text-white",children:[i.jsx(em,{className:"h-3 w-3 mr-1"}),"Best Seller"]})]})]}),i.jsxs("div",{className:"p-2 flex flex-col flex-1",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"text-white font-medium text-sm line-clamp-2 mb-2",children:t.name}),i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("p",{className:"text-purple-400 text-base font-bold",children:["",t.price.toFixed(2)]}),i.jsx(Ce,{variant:"outline",className:"text-xs text-purple-300 border-purple-300/50",children:t.petType})]})]}),i.jsxs(z,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 disabled:bg-slate-600 mt-auto",onClick:l=>s(l,t),disabled:t.stock===0,children:[i.jsx(zr,{className:"h-4 w-4 mr-2"}),t.stock===0?"Out of Stock":"Add to Cart"]})]})]})})},$I=({category:t,selectedCategory:e,onClick:n})=>i.jsx("button",{onClick:()=>n(t.id),className:`flex-shrink-0 px-4 py-2 text-sm font-medium rounded-full transition-all duration-300 border
      ${e===t.id?"bg-purple-600 text-white border-purple-600":"bg-slate-800/80 border-slate-700 text-slate-300 hover:bg-slate-700 hover:border-slate-600"}`,children:t.name}),uce=({open:t,onOpenChange:e,categories:n,selectedCategory:s,selectedPetType:r,sortBy:a,onCategoryChange:o,onPetTypeChange:l,onSortByChange:c,onClear:u,hasActiveFilters:d})=>i.jsx(hS,{open:t,onOpenChange:e,children:i.jsxs(ty,{side:"left",className:"bg-slate-900 border-slate-700 w-[85vw] max-w-sm",children:[i.jsx(ny,{children:i.jsx(sy,{className:"text-white text-xl",children:"Filters & Sort"})}),i.jsxs("div",{className:"space-y-6 mt-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Category"}),i.jsxs(_n,{value:s||"all",onValueChange:h=>o(h==="all"?"":h),children:[i.jsx(hn,{className:"bg-slate-800 border-slate-700 text-white",children:i.jsx(jn,{placeholder:"All Categories"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"all",children:"All Categories"}),n.map(h=>i.jsx(Ve,{value:h.id,children:h.name},h.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Pet Type"}),i.jsxs(_n,{value:r||"all",onValueChange:h=>l(h==="all"?"":h),children:[i.jsx(hn,{className:"bg-slate-800 border-slate-700 text-white",children:i.jsx(jn,{placeholder:"All Pets"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"all",children:"All Pets"}),i.jsx(Ve,{value:"Dog",children:"Dog"}),i.jsx(Ve,{value:"Cat",children:"Cat"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Sort By"}),i.jsxs(_n,{value:a,onValueChange:c,children:[i.jsx(hn,{className:"bg-slate-800 border-slate-700 text-white",children:i.jsx(jn,{placeholder:"Sort By"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"name",children:"Name"}),i.jsx(Ve,{value:"price-low",children:"Price: Low to High"}),i.jsx(Ve,{value:"price-high",children:"Price: High to Low"})]})]})]}),d&&i.jsx(z,{variant:"outline",onClick:()=>{u(),e(!1)},className:"w-full",children:"Clear All Filters"})]})]})}),dce=()=>{var Q;const t=cs(),[e,n]=p.useState(""),[s,r]=p.useState(""),[a,o]=p.useState(""),[l,c]=p.useState("name"),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[g,v]=p.useState(!1),{categories:x,isLoading:w}=dS(),{products:y,isLoading:b}=k6(),{cartItemsCount:N,wishlistCount:E,addToCart:I,addToWishlist:A,removeFromWishlist:C,isInWishlist:_}=bp(),S=p.useMemo(()=>y.filter(O=>(s?O.categoryId===s:!0)&&(a?O.petType===a:!0)&&(O.name.toLowerCase().includes(e.toLowerCase())||O.description&&O.description.toLowerCase().includes(e.toLowerCase()))).sort((O,V)=>{switch(l){case"price-low":return O.price-V.price;case"price-high":return V.price-O.price;case"name":return O.name.localeCompare(V.name);default:return 0}}),[y,s,a,e,l]),T=p.useMemo(()=>y.filter(O=>O.isFeatured),[y]),k=!!(s||a||e),D=O=>t("/product-detail",{state:{product:O}}),P=(O,V)=>{O.stopPropagation(),_(V.id)?C(V.id):A(V)},G=(O,V)=>{O.stopPropagation(),I(V,1)},ee=()=>{r(""),o(""),n(""),c("name")},te=O=>{r(V=>V===O?"":O)};return w||b?i.jsxs("div",{className:"min-h-screen bg-slate-900 p-4 space-y-6 animate-pulse",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Me,{className:"h-10 w-48"}),i.jsx(Me,{className:"h-10 w-24"})]}),i.jsx(Me,{className:"h-14 w-full rounded-xl"}),i.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-3",children:[i.jsx(Me,{className:"h-10 w-24 rounded-full"}),i.jsx(Me,{className:"h-10 w-28 rounded-full"}),i.jsx(Me,{className:"h-10 w-24 rounded-full"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:[...Array(8)].map((O,V)=>i.jsx(Me,{className:"h-72 w-full rounded-lg"},V))})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-black to-slate-900 text-white",children:[i.jsxs("header",{className:"flex items-center justify-between p-4 bg-slate-900/70 backdrop-blur-lg sticky top-0 z-20 border-b border-slate-700/50",children:[i.jsx("h1",{className:"text-2xl font-bold tracking-tighter",children:"Shop"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(z,{size:"icon",variant:"ghost",className:"relative",onClick:()=>v(!0),children:[i.jsx(ta,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Wishlist"}),E>0&&i.jsx(Ce,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 bg-red-500 text-white",children:E})]}),i.jsxs(z,{size:"icon",variant:"ghost",className:"relative",onClick:()=>f(!0),children:[i.jsx(zr,{className:"h-5 w-5"}),i.jsx("span",{className:"sr-only",children:"Cart"}),N>0&&i.jsx(Ce,{className:"absolute -top-1 -right-1 h-5 w-5 justify-center p-0 bg-purple-500 text-white",children:N})]})]})]}),i.jsxs("main",{className:"p-4 md:p-6 space-y-8 pb-24",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Yr,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),i.jsx(xe,{placeholder:"Search for food, toys, treats...",value:e,onChange:O=>n(O.target.value),className:"w-full h-14 bg-slate-800/80 border-2 border-slate-700 pl-12 pr-12 rounded-xl text-base focus:border-purple-500"}),e&&i.jsx(z,{size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>n(""),children:i.jsx(Kc,{})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs(z,{variant:"outline",onClick:()=>d(!0),className:"lg:hidden bg-slate-800 border-slate-700",children:[i.jsx(x9,{className:"h-4 w-4 mr-2"})," Filters",k&&i.jsx("span",{className:"ml-2 h-2 w-2 rounded-full bg-purple-500 animate-pulse"})]}),i.jsx("div",{className:"hidden lg:flex gap-2",children:i.jsxs(_n,{value:a||"all",onValueChange:O=>o(O==="all"?"":O),children:[i.jsx(hn,{className:"w-40 bg-slate-800 border-slate-700",children:i.jsx(jn,{placeholder:"All Pets"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"all",children:"All Pets"}),i.jsx(Ve,{value:"Dog",children:"Dog"}),i.jsx(Ve,{value:"Cat",children:"Cat"})]})]})}),i.jsxs(_n,{value:l,onValueChange:c,children:[i.jsx(hn,{className:"w-48 bg-slate-800 border-slate-700",children:i.jsx(jn,{placeholder:"Sort By"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"name",children:"Name"}),i.jsx(Ve,{value:"price-low",children:"Price: Low to High"}),i.jsx(Ve,{value:"price-high",children:"Price: High to Low"})]})]})]})]}),i.jsxs("div",{className:"flex gap-3 overflow-x-auto pb-3 -mx-4 px-4 scrollbar-hide",children:[i.jsx($I,{category:{id:"",name:"All"},selectedCategory:s,onClick:()=>te("")}),x.map(O=>i.jsx($I,{category:O,selectedCategory:s,onClick:te},O.id))]}),T.length>0&&!k&&i.jsxs("section",{children:[i.jsx(LI,{title:"Featured Products"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:T.slice(0,2).map(O=>i.jsx(VI,{product:O,isCompact:!0,onAddToCart:G,onWishlistToggle:P,onProductClick:D,isInWishlist:_(O.id)},O.id))})]}),i.jsxs("section",{children:[i.jsx(LI,{title:s?((Q=x.find(O=>O.id===s))==null?void 0:Q.name)||"Products":"All Products"}),S.length>0?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4",children:S.map(O=>i.jsx(VI,{product:O,onAddToCart:G,onWishlistToggle:P,onProductClick:D,isInWishlist:_(O.id)},O.id))}):i.jsxs("div",{className:"text-center py-20 rounded-lg bg-slate-800/50",children:[i.jsx("div",{className:"w-24 h-24 bg-slate-900/70 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(zr,{className:"h-12 w-12 text-slate-500"})}),i.jsx("h3",{className:"text-xl font-medium text-white mb-2",children:"No Products Found"}),i.jsx("p",{className:"text-slate-400 mb-6",children:"Try adjusting your search or filter settings."}),k&&i.jsx(z,{variant:"outline",onClick:ee,children:"Clear All Filters"})]})]})]}),i.jsx(uce,{open:u,onOpenChange:d,categories:x,selectedCategory:s,selectedPetType:a,sortBy:l,onCategoryChange:r,onPetTypeChange:o,onSortByChange:c,onClear:ee,hasActiveFilters:k}),i.jsx(D6,{open:h,onOpenChange:f}),i.jsx(M6,{open:g,onOpenChange:v})]})},hce=()=>{var G;const t=cs(),e=so(),[n,s]=p.useState(!1),[r,a]=p.useState(0),[o,l]=p.useState(1),[c,u]=p.useState(!1),[d,h]=p.useState(!1),{cartItemsCount:f,wishlistCount:g,addToCart:v,addToWishlist:x,removeFromWishlist:w,isInWishlist:y}=bp(),b={id:1,name:"Long Line Leash 5 meters 10 m The Company Of Animals",price:38,imageUrl:"https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&cs=tinysrgb&w=600",galleryImages:["https://images.pexels.com/photos/1404819/pexels-photo-1404819.jpeg?auto=compress&cs=tinysrgb&w=600","https://images.pexels.com/photos/2253275/pexels-photo-2253275.jpeg?auto=compress&cs=tinysrgb&w=600","https://images.pexels.com/photos/1805164/pexels-photo-1805164.jpeg?auto=compress&cs=tinysrgb&w=600"],description:"The Company of Animals Recall Line gives your dog the freedom to explore while you remain in control, making it a perfect tool for recall training and socialisation. A must-have for recall training, this lead allows you to keep control of your dog while gently encouraging them back to you to reinforce the command. The Recall Line is also ideal for allowing the safe and controlled socialisation of puppies, young or nervous dogs, and those with behavioural issues. The Recall Line is available in a choice of lengths - 5m or 10m. With the longer lead better suited for larger dogs. Soft padded webbing ensures this lead is comfortable for you to hold.",categoryId:"1",stock:15,isFeatured:!0,petType:"Dog"},N=((G=e.state)==null?void 0:G.product)||b,E=[N.imageUrl||N.image,...N.galleryImages||[]].filter(Boolean),I=()=>{t(-1)},A=()=>{s(!n)},C=()=>{a(ee=>ee===0?E.length-1:ee-1)},_=()=>{a(ee=>ee===E.length-1?0:ee+1)},S=()=>{v(N,o)},T=()=>{y(N.id)?w(N.id):x(N)},k=ee=>{const te=o+ee;te>=1&&te<=(N.stock||99)&&l(te)},D=N.description||"",P=D.length>200?D.slice(0,200)+"...":D;return i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[i.jsx(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:I,children:i.jsx($a,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold truncate mx-4",children:"Product Details"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700 relative",onClick:()=>h(!0),children:[i.jsx(ta,{className:"h-5 w-5"}),g>0&&i.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold",children:g})})]}),i.jsxs(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700 relative",onClick:()=>u(!0),children:[i.jsx(zr,{className:"h-5 w-5"}),f>0&&i.jsx("div",{className:"absolute -top-1 -right-1 h-5 w-5 bg-purple-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold",children:f})})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative h-80 sm:h-96 overflow-hidden",children:[i.jsx("img",{src:E[r],alt:N.name,className:"w-full h-full object-cover transition-transform duration-300"}),E.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(z,{size:"icon",variant:"ghost",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:C,children:i.jsx(Qv,{className:"h-5 w-5"})}),i.jsx(z,{size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:_,children:i.jsx(Aa,{className:"h-5 w-5"})})]}),E.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:E.map((ee,te)=>i.jsx("button",{className:`w-2 h-2 rounded-full transition-colors ${te===r?"bg-white":"bg-white/50"}`,onClick:()=>a(te)},te))}),i.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[N.isFeatured&&i.jsxs(Ce,{className:"bg-yellow-500/90 text-black",children:[i.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Featured"]}),N.isBestSeller&&i.jsx(Ce,{className:"bg-orange-500/90 text-white",children:"Best Seller"})]})]}),E.length>1&&i.jsx("div",{className:"p-4 bg-slate-800/50",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:E.map((ee,te)=>i.jsx("button",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${te===r?"border-purple-500":"border-slate-600 hover:border-slate-500"}`,onClick:()=>a(te),children:i.jsx("img",{src:ee,alt:`${N.name} ${te+1}`,className:"w-full h-full object-cover"})},te))})})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-2 leading-tight",children:N.name}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-purple-400",children:["",N.price.toFixed(2)]}),N.petType&&i.jsxs(Ce,{variant:"outline",className:"text-purple-300 border-purple-300",children:["For ",N.petType,"s"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"text-sm text-slate-400",children:N.stock?i.jsxs("span",{className:"text-green-400",children:["In Stock (",N.stock," available)"]}):i.jsx("span",{className:"text-red-400",children:"Out of Stock"})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Quantity:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(z,{size:"icon",variant:"outline",className:"h-8 w-8 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>k(-1),disabled:o<=1,children:i.jsx(H2,{className:"h-4 w-4"})}),i.jsx("span",{className:"w-8 text-center font-medium",children:o}),i.jsx(z,{size:"icon",variant:"outline",className:"h-8 w-8 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>k(1),disabled:o>=(N.stock||99),children:i.jsx(_d,{className:"h-4 w-4"})})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(z,{variant:"outline",className:`bg-slate-700 border-slate-600 hover:bg-slate-600 h-12 px-6 ${y(N.id)?"text-red-400 border-red-400":"text-white"}`,onClick:T,children:[i.jsx(ta,{className:`h-5 w-5 mr-2 ${y(N.id)?"fill-current":""}`}),y(N.id)?"Wishlisted":"Wishlist"]}),i.jsxs(z,{className:"flex-1 bg-purple-500 hover:bg-purple-600 text-white h-12 font-semibold",onClick:S,disabled:!N.stock||N.stock===0,children:[i.jsx(zr,{className:"h-5 w-5 mr-2"}),"Add To Cart"]})]}),D&&i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Product Details"}),i.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[n?D:P,D.length>200&&i.jsx("button",{onClick:A,className:"text-purple-400 ml-2 hover:text-purple-300 font-medium",children:n?"Read Less":"Read More"})]})]})}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Shipping & Returns"}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[i.jsx("p",{children:" Free shipping on orders over 999"}),i.jsx("p",{children:" 30-day return policy"}),i.jsx("p",{children:" Secure payment processing"}),i.jsx("p",{children:" Customer support available 24/7"})]})]})})]}),i.jsx(D6,{open:c,onOpenChange:u}),i.jsx(M6,{open:d,onOpenChange:h})]})},fce=()=>{const[t,e]=p.useState("home-vaccinations"),[n,s]=p.useState(""),{transactions:r,isLoading:a}=ch(),o=x=>{switch(x.toLowerCase()){case"successful":case"paid":case"confirmed":case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"failed":case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-orange-500/20 text-orange-300 border-orange-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},l=x=>{switch(x.toLowerCase()){case"successful":case"paid":return"Confirmed";case"failed":return"Failed";case"pending":return"Pending";case"confirmed":return"Confirmed";case"completed":return"Completed";case"cancelled":return"Cancelled";default:return x}},c=x=>{switch(x.toLowerCase()){case"successful":case"confirmed":case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"failed":case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}},u=(r==null?void 0:r.filter(x=>x.type==="vaccination"))||[],d=(r==null?void 0:r.filter(x=>x.type==="grooming"))||[],h=(r==null?void 0:r.filter(x=>x.type==="petHostel"))||[],f=u.filter(x=>x.service.toLowerCase().includes(n.toLowerCase())||x.petName&&x.petName.toLowerCase().includes(n.toLowerCase())),g=d.filter(x=>x.service.toLowerCase().includes(n.toLowerCase())||x.petName&&x.petName.toLowerCase().includes(n.toLowerCase())),v=h.filter(x=>x.service.toLowerCase().includes(n.toLowerCase())||x.petName&&x.petName.toLowerCase().includes(n.toLowerCase()));return a?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Bookings"}),i.jsx(nd,{})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8 pb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-white",children:"Bookings"}),i.jsx("div",{className:"flex items-center gap-2"})]}),i.jsxs(xm,{value:t,onValueChange:e,className:"w-full",children:[i.jsxs(Ld,{className:"grid w-full grid-cols-3 bg-slate-700/50 mb-6",children:[i.jsx(an,{value:"home-vaccinations",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Home Vaccinations"}),i.jsx(an,{value:"grooming",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Grooming"}),i.jsx(an,{value:"pet-hostel",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Pet Hostel"})]}),i.jsxs(on,{value:"home-vaccinations",className:"mt-0",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(xe,{type:"text",placeholder:"Search bookings...",value:n,onChange:x=>s(x.target.value),className:"w-full bg-slate-800/50 border-slate-700 text-white placeholder-slate-400 pl-10 rounded-xl h-12"})]}),i.jsx("div",{className:"space-y-4",children:f.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Gt,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:u.length===0?"No bookings yet":"No bookings found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:u.length===0?"Your home vaccination bookings will appear here":"Try adjusting your search terms"})]}):f.map(x=>{const w=x.id.slice(-3).toUpperCase();return i.jsx(de,{className:"bg-slate-800/50 border-slate-700 overflow-hidden",children:i.jsxs(ge,{className:"p-0",children:[i.jsxs("div",{className:"p-4 pb-2",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs(Ce,{className:"px-6 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white border-0 rounded-full",children:[i.jsx(lr,{className:"h-4 w-4 mr-2"}),"Home Vaccination"]})}),i.jsxs("div",{className:"text-center mb-4",children:[i.jsxs("h2",{className:"text-2xl font-bold text-white mb-1",children:["#",w]}),i.jsxs("p",{className:"text-slate-400 text-sm",children:["Booking status: ",i.jsx("span",{className:`font-medium ${o(x.status)}`,children:l(x.status)})]})]})]}),i.jsxs("div",{className:"px-4 pb-4 space-y-3",children:[i.jsx("div",{className:"text-center mb-4",children:i.jsx("p",{className:"text-white font-medium text-sm",children:x.service})}),x.petName&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ir,{className:"h-12 w-12",children:i.jsx(ar,{className:"bg-purple-500 text-white",children:x.petName.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-white font-medium",children:x.petName}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Your pet"})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[i.jsx(Ln,{className:"h-4 w-4"}),"Booked On"]}),i.jsx("span",{className:"text-white font-medium",children:x.createdAt?Ee(x.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]}),x.slotDatetime&&i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[i.jsx(Gt,{className:"h-4 w-4"}),"Scheduled"]}),i.jsx("span",{className:"text-white font-medium",children:Ee(x.slotDatetime.toDate(),"MMM d, yyyy, p")})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[i.jsx(rt,{className:"h-4 w-4"}),"Amount"]}),i.jsxs("span",{className:"text-green-400 font-bold text-lg",children:["",x.amount.toFixed(2)]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Payment ID"}),i.jsx("span",{className:"text-white font-mono text-xs",children:x.paymentId?x.paymentId.slice(-8):"N/A"})]}),x.customer&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Contact"]}),i.jsx("span",{className:"text-white font-medium",children:x.customer.name})]}),x.customer.address&&i.jsxs("div",{className:"flex items-start justify-between text-sm",children:[i.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4 mt-0.5"}),"Address"]}),i.jsx("div",{className:"text-right text-white max-w-48",children:i.jsxs("p",{className:"text-xs leading-relaxed",children:[x.customer.address,", ",x.customer.city," - ",x.customer.postalCode]})})]})]}),x.vaccines&&x.vaccines.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("p",{className:"text-slate-400 text-sm mb-2",children:"Vaccines:"}),i.jsx("div",{className:"space-y-1",children:x.vaccines.map((y,b)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-white",children:y.name}),i.jsxs("span",{className:"text-slate-300",children:["",y.price]})]},b))})]})]}),i.jsx("div",{className:"px-4 pb-4",children:i.jsxs("div",{className:`flex items-center justify-center gap-2 p-3 rounded-xl ${o(x.status)}`,children:[c(x.status),i.jsx("span",{className:"font-medium",children:x.status==="successful"?"Payment Successful - Home Visit Scheduled":x.status==="failed"?"Payment Failed - Please Try Again":"Payment Processing"})]})})]})},x.id)})})]}),i.jsxs(on,{value:"grooming",className:"mt-0",children:[i.jsx(mce,{transactions:g})," "]}),i.jsxs(on,{value:"pet-hostel",className:"mt-0",children:[i.jsx(pce,{transactions:v})," "]})]})]})})},mce=({transactions:t})=>{const[e,n]=p.useState(""),s=t.filter(o=>o.service.toLowerCase().includes(e.toLowerCase())||o.petName&&o.petName.toLowerCase().includes(e.toLowerCase())),r=o=>{switch(o.toLowerCase()){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},a=o=>{switch(o.toLowerCase()){case"confirmed":return i.jsx(dn,{className:"h-4 w-4"});case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});case"pending":return i.jsx(Ln,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}};return t.length===0&&e===""?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(mi,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No grooming bookings yet"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Book a grooming service to see it here."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(xe,{type:"text",placeholder:"Search grooming bookings...",value:e,onChange:o=>n(o.target.value),className:"w-full bg-slate-800/50 border-slate-700 text-white placeholder-slate-400 pl-10 rounded-xl h-12"})]}),s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(mi,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No grooming bookings found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search terms."})]}):s.map(o=>{var l,c,u,d;return i.jsx(de,{className:"bg-slate-800/50 border-slate-700 overflow-hidden",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-white",children:o.service})," ",i.jsxs(Ce,{className:r(o.status),children:[" ",a(o.status),i.jsx("span",{className:"ml-1 capitalize",children:getStatusText(o.status)})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{className:"text-slate-300",children:["For: ",o.petName," (",(l=o.petDetails)==null?void 0:l.breed,")"]}),((c=o.petDetails)==null?void 0:c.age)&&i.jsxs("p",{className:"text-slate-300",children:["Age: ",o.petDetails.age," years"]}),((u=o.petDetails)==null?void 0:u.weight)&&i.jsxs("p",{className:"text-slate-300",children:["Weight: ",o.petDetails.weight," kg"]}),((d=o.petDetails)==null?void 0:d.sex)&&i.jsxs("p",{className:"text-slate-300",children:["Sex: ",o.petDetails.sex]}),i.jsxs("p",{className:"text-slate-300",children:["Date: ",o.preferredDate?Ee(new Date(o.preferredDate),"PPP"):"N/A"]}),i.jsxs("p",{className:"text-slate-300",children:["Time: ",o.preferredTime||"N/A"]}),i.jsxs("div",{className:"flex items-center text-white font-bold",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.amount.toFixed(2)]})]})]})},o.id)})]})},pce=({transactions:t})=>{const[e,n]=p.useState(""),s=t.filter(o=>o.service.toLowerCase().includes(e.toLowerCase())||o.petName&&o.petName.toLowerCase().includes(e.toLowerCase())),r=o=>{switch(o.toLowerCase()){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},a=o=>{switch(o.toLowerCase()){case"confirmed":return i.jsx(dn,{className:"h-4 w-4"});case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});case"pending":return i.jsx(Ln,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}};return t.length===0&&e===""?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Os,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No pet hostel bookings yet"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Book a pet hostel service to see it here."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(xe,{type:"text",placeholder:"Search pet hostel bookings...",value:e,onChange:o=>n(o.target.value),className:"w-full bg-slate-800/50 border-slate-700 text-white placeholder-slate-400 pl-10 rounded-xl h-12"})]}),s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Os,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No pet hostel bookings found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Try adjusting your search terms."})]}):s.map(o=>{var l,c,u,d;return i.jsx(de,{className:"bg-slate-800/50 border-slate-700 overflow-hidden",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"font-semibold text-white",children:o.service})," ",i.jsxs(Ce,{className:r(o.status),children:[" ",a(o.status),i.jsx("span",{className:"ml-1 capitalize",children:getStatusText(o.status)})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("p",{className:"text-slate-300",children:["For: ",o.petName," (",(l=o.petDetails)==null?void 0:l.breed,")"]}),((c=o.petDetails)==null?void 0:c.age)&&i.jsxs("p",{className:"text-slate-300",children:["Age: ",o.petDetails.age," years"]}),((u=o.petDetails)==null?void 0:u.weight)&&i.jsxs("p",{className:"text-slate-300",children:["Weight: ",o.petDetails.weight," kg"]}),((d=o.petDetails)==null?void 0:d.sex)&&i.jsxs("p",{className:"text-slate-300",children:["Sex: ",o.petDetails.sex]}),i.jsxs("p",{className:"text-slate-300",children:["Check-in: ",o.startDate?Ee(new Date(o.startDate),"PPP"):"N/A"]}),i.jsxs("p",{className:"text-slate-300",children:["Check-out: ",o.endDate?Ee(new Date(o.endDate),"PPP"):"N/A"]}),i.jsxs("p",{className:"text-slate-300",children:["Food: ",o.foodPreference||"N/A"]}),i.jsxs("div",{className:"flex items-center text-white font-bold",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.amount.toFixed(2)]})]})]})},o.id)})]})};var fS="Radio",[gce,O6]=Ws(fS),[xce,vce]=gce(fS),F6=p.forwardRef((t,e)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[h,f]=p.useState(null),g=nt(e,w=>f(w)),v=p.useRef(!1),x=h?u||!!h.closest("form"):!0;return i.jsxs(xce,{scope:n,checked:r,disabled:o,children:[i.jsx(Ae.button,{type:"button",role:"radio","aria-checked":r,"data-state":$6(r),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:g,onClick:ue(t.onClick,w=>{r||c==null||c(),x&&(v.current=w.isPropagationStopped(),v.current||w.stopPropagation())})}),x&&i.jsx(yce,{control:h,bubbles:!v.current,name:s,value:l,checked:r,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});F6.displayName=fS;var L6="RadioIndicator",V6=p.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:s,...r}=t,a=vce(L6,n);return i.jsx(qn,{present:s||a.checked,children:i.jsx(Ae.span,{"data-state":$6(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:e})})});V6.displayName=L6;var yce=t=>{const{control:e,checked:n,bubbles:s=!0,...r}=t,a=p.useRef(null),o=X0(n),l=Jv(e);return p.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const f=new Event("click",{bubbles:s});h.call(c,n),c.dispatchEvent(f)}},[o,n,s]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $6(t){return t?"checked":"unchecked"}var wce=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],mS="RadioGroup",[bce,fhe]=Ws(mS,[dh,O6]),U6=dh(),B6=O6(),[Nce,_ce]=bce(mS),z6=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:h,...f}=t,g=U6(n),v=uh(u),[x,w]=yi({prop:a,defaultProp:r,onChange:h});return i.jsx(Nce,{scope:n,name:s,required:o,disabled:l,value:x,onValueChange:w,children:i.jsx(EC,{asChild:!0,...g,orientation:c,dir:v,loop:d,children:i.jsx(Ae.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:v,...f,ref:e})})})});z6.displayName=mS;var H6="RadioGroupItem",W6=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:s,...r}=t,a=_ce(H6,n),o=a.disabled||s,l=U6(n),c=B6(n),u=p.useRef(null),d=nt(e,u),h=a.value===r.value,f=p.useRef(!1);return p.useEffect(()=>{const g=x=>{wce.includes(x.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),i.jsx(TC,{asChild:!0,...l,focusable:!o,active:h,children:i.jsx(F6,{disabled:o,required:a.required,checked:h,...c,...r,name:a.name,ref:d,onCheck:()=>a.onValueChange(r.value),onKeyDown:ue(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:ue(r.onFocus,()=>{var g;f.current&&((g=u.current)==null||g.click())})})})});W6.displayName=H6;var jce="RadioGroupIndicator",q6=p.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...s}=t,r=B6(n);return i.jsx(V6,{...r,...s,ref:e})});q6.displayName=jce;var G6=z6,K6=W6,Cce=q6;const Q6=p.forwardRef(({className:t,...e},n)=>i.jsx(G6,{className:ie("grid gap-2",t),...e,ref:n}));Q6.displayName=G6.displayName;const N_=p.forwardRef(({className:t,...e},n)=>i.jsx(K6,{ref:n,className:ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(Cce,{className:"flex items-center justify-center",children:i.jsx(B2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));N_.displayName=K6.displayName;var Sce="Separator",UI="horizontal",Ece=["horizontal","vertical"],Y6=p.forwardRef((t,e)=>{const{decorative:n,orientation:s=UI,...r}=t,a=Tce(s)?s:UI,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Ae.div,{"data-orientation":a,...l,...r,ref:e})});Y6.displayName=Sce;function Tce(t){return Ece.includes(t)}var X6=Y6;const __=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...s},r)=>i.jsx(X6,{ref:r,decorative:n,orientation:e,className:ie("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...s}));__.displayName=X6.displayName;const Rce=()=>{const t=Date.now().toString().slice(-6),e=Math.random().toString(36).substring(2,5).toUpperCase();return`ORD${t}${e}`},Z6=()=>{const{user:t}=en(),e=rn(),{data:n=[],isLoading:s}=In({queryKey:["orders",t==null?void 0:t.uid],queryFn:async()=>{if(!t)return[];const a=Ze(he,"users",t.uid,"orders"),o=ts(a,Hr("createdAt","desc"));return(await Rt(o)).docs.map(c=>({id:c.id,...c.data()}))},enabled:!!t}),r=dt({mutationFn:async a=>{if(!t)throw new Error("User not authenticated");const o=Rce(),l=Ze(he,"users",t.uid,"orders"),c={...a,userId:t.uid,orderNumber:o,createdAt:_t(),updatedAt:_t()};return{id:(await Ei(l,c)).id,...c}},onSuccess:()=>{e.invalidateQueries({queryKey:["orders",t==null?void 0:t.uid]}),e.invalidateQueries({queryKey:["adminOrders"]}),H.success("Order placed successfully!")},onError:a=>{H.error(a.message||"Failed to place order")}});return{orders:n,isLoading:s,createOrder:r.mutateAsync,isCreatingOrder:r.isPending}},Pce=()=>{const{isAdmin:t}=en(),e=rn(),{data:n=[],isLoading:s}=In({queryKey:["adminOrders"],queryFn:async()=>{if(!t)return[];const a=[],o=await Rt(Ze(he,"users"));for(const l of o.docs){const c=l.id;l.data();const u=Ze(he,"users",c,"orders");(await Rt(u)).docs.forEach(h=>{const f=h.data();a.push({...f,id:h.id,customerName:f.shippingAddress.fullName,customerPhone:f.shippingAddress.phone})})}return a.sort((l,c)=>!l.createdAt||!c.createdAt?0:c.createdAt.toMillis()-l.createdAt.toMillis())},enabled:!!t}),r=dt({mutationFn:async({userId:a,orderId:o,status:l,trackingNumber:c})=>{const u=at(he,"users",a,"orders",o),d={orderStatus:l,updatedAt:_t()};return c&&(d.trackingNumber=c),Wn(u,d)},onSuccess:()=>{e.invalidateQueries({queryKey:["adminOrders"]}),H.success("Order status updated successfully!")},onError:a=>{H.error(a.message||"Failed to update order status")}});return{adminOrders:n,isLoading:s,updateOrderStatus:r.mutateAsync,isUpdatingStatus:r.isPending}},Ice="rzp_test_2n6MS8hK3tgdba",kce=$c({fullName:cn().min(2,"Full name must be at least 2 characters"),phone:cn().min(10,"Phone number must be at least 10 digits"),address:cn().min(10,"Address must be at least 10 characters"),city:cn().min(2,"City must be at least 2 characters"),state:cn().min(2,"State must be at least 2 characters"),postalCode:cn().min(6,"Postal code must be 6 digits").max(6),landmark:cn().optional(),paymentMethod:$0(["razorpay","cod"])}),Ace=()=>{const t=cs(),{cartItems:e,cartTotal:n,clearCart:s}=bp(),{createOrder:r,isCreatingOrder:a}=Z6(),{user:o}=en(),l=iS(),[c,u]=p.useState(!1),d=hh({resolver:fh(kce),defaultValues:{fullName:"",phone:(o==null?void 0:o.phoneNumber)||"",address:"",city:"",state:"",postalCode:"",landmark:"",paymentMethod:"razorpay"}}),h=n>=999?0:50,f=n+h,g=()=>{t("/shop")},v=async w=>{if(e.length===0){H.error("Your cart is empty");return}if(!o){H.error("Please login to continue");return}u(!0);try{const y={items:e.map(b=>({id:b.id,name:b.name,price:b.price,quantity:b.quantity,imageUrl:b.imageUrl})),subtotal:n,shippingFee:h,total:f,paymentMethod:w.paymentMethod,paymentStatus:(w.paymentMethod==="cod","pending"),orderStatus:"confirmed",shippingAddress:{fullName:w.fullName,phone:w.phone,address:w.address,city:w.city,state:w.state,postalCode:w.postalCode,landmark:w.landmark},estimatedDelivery:new Date(Date.now()+6048e5)};w.paymentMethod==="razorpay"?await x(y):(await r({...y,paymentStatus:"pending"}),s(),H.success("Order placed successfully! You can pay when the order is delivered."),t("/my-orders"))}catch(y){console.error("Error placing order:",y),H.error("Failed to place order. Please try again.")}finally{u(!1)}},x=async w=>{if(!l){H.error("Payment gateway is not ready. Please try again.");return}const y={key:Ice,amount:(f*100).toString(),currency:"INR",name:"VaxDog Shop",description:`Order for ${e.length} items`,image:"/favicon.ico",handler:async function(b){try{await r({...w,paymentStatus:"paid",razorpayPaymentId:b.razorpay_payment_id,razorpayOrderId:b.razorpay_order_id}),s(),H.success("Payment successful! Your order has been placed."),t("/my-orders")}catch(N){console.error("Error saving order:",N),H.error("Payment successful but failed to save order. Please contact support.")}},prefill:{name:w.shippingAddress.fullName,contact:w.shippingAddress.phone},theme:{color:"#8b5cf6"},modal:{ondismiss:function(){u(!1)}}};try{new window.Razorpay(y).open()}catch(b){console.error("Error opening Razorpay:",b),H.error("Failed to open payment gateway. Please try again."),u(!1)}};return e.length===0?i.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Ui,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your cart is empty"}),i.jsx("p",{className:"text-slate-400 mb-6",children:"Add some products to proceed with checkout"}),i.jsx(z,{onClick:()=>t("/shop"),className:"bg-purple-500 hover:bg-purple-600",children:"Continue Shopping"})]})}):i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[i.jsx(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:g,children:i.jsx($a,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Checkout"}),i.jsx("div",{className:"w-10"})," "]}),i.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:i.jsx(mh,{...d,children:i.jsx("form",{onSubmit:d.handleSubmit(v),className:"space-y-6",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center text-white",children:[i.jsx(Qr,{className:"h-5 w-5 mr-2 text-purple-400"}),"Shipping Address"]})}),i.jsxs(ge,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx(Ct,{control:d.control,name:"fullName",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Full Name"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Enter your full name"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:d.control,name:"phone",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Phone Number"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Enter phone number"})}),i.jsx(St,{})]})})]}),i.jsx(Ct,{control:d.control,name:"address",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Address"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"House no, Building, Street, Area"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:d.control,name:"landmark",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Landmark (Optional)"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"Near landmark"})}),i.jsx(St,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(Ct,{control:d.control,name:"city",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"City"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"City"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:d.control,name:"state",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"State"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"State"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:d.control,name:"postalCode",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Postal Code"}),i.jsx(Nt,{children:i.jsx(xe,{...w,className:"bg-slate-700 border-slate-600 text-white",placeholder:"400001"})}),i.jsx(St,{})]})})]})]})]}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center text-white",children:[i.jsx(jx,{className:"h-5 w-5 mr-2 text-purple-400"}),"Payment Method"]})}),i.jsx(ge,{children:i.jsx(Ct,{control:d.control,name:"paymentMethod",render:({field:w})=>i.jsxs(bt,{children:[i.jsx(Nt,{children:i.jsxs(Q6,{onValueChange:w.onChange,defaultValue:w.value,className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-slate-600 rounded-lg hover:border-purple-500 transition-colors",children:[i.jsx(N_,{value:"razorpay",id:"razorpay"}),i.jsx(me,{htmlFor:"razorpay",className:"flex-1 cursor-pointer text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(jx,{className:"h-5 w-5 mr-2 text-purple-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Pay Online"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Credit/Debit Card, UPI, Net Banking"})]})]}),i.jsx(Ce,{className:"bg-green-500/20 text-green-300",children:"Recommended"})]})})]}),i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-slate-600 rounded-lg hover:border-purple-500 transition-colors",children:[i.jsx(N_,{value:"cod",id:"cod"}),i.jsx(me,{htmlFor:"cod",className:"flex-1 cursor-pointer text-white",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Mj,{className:"h-5 w-5 mr-2 text-purple-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Cash on Delivery"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Pay when your order is delivered"})]})]})})]})]})}),i.jsx(St,{})]})})})]})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(de,{className:"bg-slate-800/50 border-slate-700 sticky top-24",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Order Summary"})}),i.jsxs(ge,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:e.map(w=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:w.imageUrl?i.jsx("img",{src:w.imageUrl,alt:w.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ui,{className:"h-6 w-6 text-slate-500"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-white text-sm font-medium line-clamp-1",children:w.name}),i.jsxs("p",{className:"text-slate-400 text-xs",children:["Qty: ",w.quantity]})]}),i.jsxs("div",{className:"text-white text-sm font-medium",children:["",(w.price*w.quantity).toFixed(2)]})]},w.id))}),i.jsx(__,{className:"bg-slate-600"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Subtotal"}),i.jsxs("span",{className:"text-white",children:["",n.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Shipping"}),i.jsx("span",{className:"text-white",children:h===0?"Free":`${h.toFixed(2)}`})]}),n<999&&i.jsxs("p",{className:"text-xs text-slate-400",children:["Add ",(999-n).toFixed(2)," more for free shipping"]}),i.jsx(__,{className:"bg-slate-600"}),i.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[i.jsx("span",{className:"text-white",children:"Total"}),i.jsxs("div",{className:"flex items-center text-purple-400",children:[i.jsx(rt,{className:"h-5 w-5 mr-1"}),f.toFixed(2)]})]})]}),i.jsx(z,{type:"submit",className:"w-full bg-purple-500 hover:bg-purple-600 h-12 text-base font-semibold",disabled:c||a,children:c||a?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):`Place Order  ${f.toFixed(2)}`}),i.jsx("p",{className:"text-xs text-slate-400 text-center",children:"By placing your order, you agree to our Terms & Conditions"})]})]})})]})})})})]})},Dce=()=>{const t=cs(),{orders:e,isLoading:n}=Z6(),[s,r]=p.useState(""),a=()=>{t("/profile")},o=h=>{switch(h){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"processing":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"shipped":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},l=h=>{switch(h){case"confirmed":return i.jsx(dn,{className:"h-4 w-4"});case"processing":return i.jsx(Ln,{className:"h-4 w-4"});case"shipped":return i.jsx(Mj,{className:"h-4 w-4"});case"delivered":return i.jsx(dn,{className:"h-4 w-4"});case"cancelled":return i.jsx(Ui,{className:"h-4 w-4"});default:return i.jsx(Ui,{className:"h-4 w-4"})}},c=h=>{switch(h){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";case"failed":return"bg-red-500/20 text-red-300";default:return"bg-slate-500/20 text-slate-300"}},u=h=>{navigator.clipboard.writeText(h),H.success("Copied to clipboard")},d=e.filter(h=>h.orderNumber.toLowerCase().includes(s.toLowerCase())||h.items.some(f=>f.name.toLowerCase().includes(s.toLowerCase())));return n?i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[i.jsx(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",children:i.jsx($a,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"My Orders"}),i.jsx("div",{className:"w-10"})]}),i.jsx("div",{className:"p-4 space-y-4",children:[...Array(3)].map((h,f)=>i.jsx(Me,{className:"h-32 w-full bg-slate-800"},f))})]}):i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white pb-20",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[i.jsx(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:a,children:i.jsx($a,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"My Orders"}),i.jsx("div",{className:"w-10"})," "]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(xe,{type:"text",placeholder:"Search orders...",value:s,onChange:h=>r(h.target.value),className:"w-full bg-slate-800/60 border-slate-700 text-white placeholder-slate-400 pl-10 rounded-xl h-12"})]}),d.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Ui,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:e.length===0?"No orders yet":"No orders found"}),i.jsx("p",{className:"text-slate-400 text-sm mb-6",children:e.length===0?"Your orders will appear here once you make a purchase":"Try adjusting your search terms"}),e.length===0&&i.jsx(z,{onClick:()=>t("/shop"),className:"bg-purple-500 hover:bg-purple-600",children:"Start Shopping"})]}):i.jsx("div",{className:"space-y-4",children:d.map(h=>i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsxs("h3",{className:"text-white font-semibold",children:["#",h.orderNumber]}),i.jsx(z,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-white",onClick:()=>u(h.orderNumber),children:i.jsx(ST,{className:"h-3 w-3"})})]}),i.jsx("p",{className:"text-slate-400 text-sm",children:h.createdAt?Ee(h.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]}),i.jsx("div",{className:"text-right",children:i.jsxs(Ce,{className:o(h.orderStatus),children:[l(h.orderStatus),i.jsx("span",{className:"ml-1 capitalize",children:h.orderStatus})]})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex gap-2 mb-2",children:[h.items.slice(0,3).map((f,g)=>i.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:f.imageUrl?i.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ui,{className:"h-6 w-6 text-slate-500"})})},g)),h.items.length>3&&i.jsx("div",{className:"w-12 h-12 bg-slate-700 rounded-lg flex items-center justify-center",children:i.jsxs("span",{className:"text-slate-400 text-xs",children:["+",h.items.length-3]})})]}),i.jsxs("p",{className:"text-slate-300 text-sm",children:[h.items.length," item",h.items.length>1?"s":""]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Total Amount"}),i.jsxs("div",{className:"flex items-center text-white font-semibold",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),h.total.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Payment"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ce,{className:c(h.paymentStatus),children:h.paymentStatus==="paid"?"Paid":h.paymentStatus==="pending"?"Pending":"Failed"}),i.jsx("span",{className:"text-slate-400 text-xs",children:h.paymentMethod==="cod"?"COD":"Online"})]})]})]}),h.trackingNumber&&i.jsxs("div",{className:"mb-4 p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("p",{className:"text-slate-400 text-xs mb-1",children:"Tracking Number"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-white font-mono text-sm",children:h.trackingNumber}),i.jsx(z,{size:"icon",variant:"ghost",className:"h-6 w-6 text-slate-400 hover:text-white",onClick:()=>u(h.trackingNumber),children:i.jsx(ST,{className:"h-3 w-3"})})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Lt,{children:[i.jsx(mr,{asChild:!0,children:i.jsx(z,{variant:"outline",size:"sm",className:"flex-1 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"View Details"})}),i.jsxs(At,{className:"max-w-2xl bg-slate-800 border-slate-700 max-h-[90vh] overflow-y-auto",children:[i.jsx(Dt,{children:i.jsxs(Mt,{className:"text-white",children:["Order Details - #",h.orderNumber]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium mb-2",children:"Order Status"}),i.jsxs(Ce,{className:o(h.orderStatus),children:[l(h.orderStatus),i.jsx("span",{className:"ml-1 capitalize",children:h.orderStatus})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-medium mb-3",children:"Items Ordered"}),i.jsx("div",{className:"space-y-3",children:h.items.map((f,g)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-lg overflow-hidden flex-shrink-0",children:f.imageUrl?i.jsx("img",{src:f.imageUrl,alt:f.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ui,{className:"h-8 w-8 text-slate-500"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h5",{className:"text-white font-medium",children:f.name}),i.jsxs("p",{className:"text-slate-400 text-sm",children:["Quantity: ",f.quantity]})]}),i.jsxs("div",{className:"text-white font-medium",children:["",(f.price*f.quantity).toFixed(2)]})]},g))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center",children:[i.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Shipping Address"]}),i.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("p",{className:"text-white font-medium",children:h.shippingAddress.fullName}),i.jsx("p",{className:"text-slate-300 text-sm",children:h.shippingAddress.phone}),i.jsxs("p",{className:"text-slate-300 text-sm mt-1",children:[h.shippingAddress.address,h.shippingAddress.landmark&&`, ${h.shippingAddress.landmark}`]}),i.jsxs("p",{className:"text-slate-300 text-sm",children:[h.shippingAddress.city,", ",h.shippingAddress.state," - ",h.shippingAddress.postalCode]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-white font-medium mb-3 flex items-center",children:[i.jsx(jx,{className:"h-4 w-4 mr-2"}),"Payment Details"]}),i.jsxs("div",{className:"space-y-2 p-3 bg-slate-700/30 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-400",children:"Subtotal"}),i.jsxs("span",{className:"text-white",children:["",h.subtotal.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-slate-400",children:"Shipping"}),i.jsxs("span",{className:"text-white",children:["",h.shippingFee.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between font-semibold border-t border-slate-600 pt-2",children:[i.jsx("span",{className:"text-white",children:"Total"}),i.jsxs("span",{className:"text-white",children:["",h.total.toFixed(2)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Payment Method"}),i.jsx("span",{className:"text-white capitalize",children:h.paymentMethod==="cod"?"Cash on Delivery":"Online Payment"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Payment Status"}),i.jsx(Ce,{className:c(h.paymentStatus),children:h.paymentStatus==="paid"?"Paid":h.paymentStatus==="pending"?"Pending":"Failed"})]}),h.razorpayPaymentId&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:"Payment ID"}),i.jsx("span",{className:"text-white font-mono text-xs",children:h.razorpayPaymentId})]})]})]})]})]})]}),h.orderStatus==="shipped"&&h.trackingNumber&&i.jsx(z,{size:"sm",className:"bg-purple-500 hover:bg-purple-600",children:"Track Order"})]})]})},h.id))})]})]})},J6=()=>{const t=In({queryKey:["allTransactions"],queryFn:async()=>{console.log("=== STARTING FETCH ALL TRANSACTIONS ==="),console.log("Database reference:",he);const e=[];try{console.log("Checking users collection accessibility...");const n=Ze(he,"users");console.log("Users collection reference:",n),console.log("Fetching all users...");const s=await Rt(n);if(console.log("Total users found:",s.docs.length),console.log("Users snapshot:",s),s.docs.forEach((a,o)=>{console.log(`User ${o+1} - ID: ${a.id}, Data:`,a.data())}),s.docs.length===0){console.log(" NO USERS FOUND IN DATABASE"),console.log("This could mean:"),console.log("1. No users have signed up and made transactions yet"),console.log("2. Firestore security rules are blocking access"),console.log("3. The users collection structure is different"),console.log("4. Users are stored in a different collection"),console.log("Checking for any existing data in Firestore...");try{const a=await Rt(Ze(he,"products"));console.log("Products collection accessible, count:",a.docs.length)}catch(a){console.error("Cannot access products collection:",a)}try{const a=await Rt(Ze(he,"admins"));console.log("Admins collection accessible, count:",a.docs.length)}catch(a){console.error("Cannot access admins collection:",a)}console.log(" ALTERNATIVE DEBUGGING APPROACHES:"),console.log("Checking if this is an auth vs firestore mismatch...");try{console.log("Checking if there are any documents in root collections...");const a=["user","customers","clients","profiles"];for(const o of a)try{const l=await Rt(Ze(he,o));l.docs.length>0&&(console.log(`Found ${l.docs.length} documents in '${o}' collection`),l.docs.forEach((c,u)=>{console.log(`${o} ${u+1}:`,{id:c.id,data:c.data()})}))}catch{console.log(`Collection '${o}' doesn't exist or isn't accessible`)}}catch(a){console.error("Error checking alternative collections:",a)}try{console.log("Testing security rules by trying to access a test document...");const a=at(he,"users","test-user-id"),o=await Pc(a);console.log("Test document access result:",o.exists()?o.data():"Document does not exist")}catch(a){console.error(" SECURITY RULE ERROR detected:",a),console.error("This confirms that security rules are blocking access to users collection")}return[]}for(const a of s.docs){const o=a.id;console.log(`Processing user: ${o}`),console.log("User data:",a.data());try{const l=Ze(he,"users",o,"transactions");console.log(`Transactions collection ref for user ${o}:`,l);const c=ts(l,Hr("createdAt","desc")),u=await Rt(c);console.log(`User ${o} has ${u.docs.length} transactions`),u.docs.forEach((g,v)=>{console.log(`Transaction ${v+1} for user ${o}:`,{id:g.id,data:g.data()})});const d=Ze(he,"users",o,"dogs"),f=(await Rt(d)).docs.map(g=>({id:g.id,...g.data()}));console.log(`User ${o} has ${f.length} dogs:`,f);for(const g of u.docs){const v=g.data();console.log(`Processing transaction ${g.id}:`,v);let x=null;if(v.dogName){const y=f.find(b=>b.name===v.dogName);y&&(x={name:y.name,breed:y.breed,petType:y.petType||"Dog",dateOfBirth:y.dateOfBirth||"",age:y.age||0,aggressionLevel:y.aggressionLevel,weight:y.weight,sex:y.sex,matingInterest:y.matingInterest,pregnancyCount:y.pregnancyCount,pupCount:y.pupCount},console.log(`Found pet details for ${v.dogName}:`,x))}const w={id:g.id,userId:o,petDetails:x,...v};e.push(w),console.log("Added transaction:",w)}}catch(l){console.error(`Error processing user ${o}:`,l),console.error("Error details:",{name:l.name,message:l.message,code:l.code})}}const r=e.sort((a,o)=>!a.createdAt||!o.createdAt?0:o.createdAt.toMillis()-a.createdAt.toMillis());return console.log("Final sorted transactions:",r),console.log(`Total transactions found: ${r.length}`),console.log("=== FETCH ALL TRANSACTIONS COMPLETE ==="),r}catch(n){return console.error(" Error in useAllTransactions:",n),console.error("Error details:",{name:n.name,message:n.message,code:n.code,stack:n.stack}),n.code==="permission-denied"&&(console.error(" PERMISSION DENIED - This is definitely a security rules issue"),console.error("Check your Firestore security rules for the users collection")),[]}}});return console.log("useAllTransactions result:",t.data),t.error&&console.error("useAllTransactions error:",t.error),{transactions:t.data||[],isLoading:t.isLoading,error:t.error}};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Jo(t,e){return typeof t=="function"?t(e):t}function Ir(t,e){return n=>{e.setState(s=>({...s,[t]:Jo(n,s[t])}))}}function ry(t){return t instanceof Function}function Mce(t){return Array.isArray(t)&&t.every(e=>typeof e=="number")}function Oce(t,e){const n=[],s=r=>{r.forEach(a=>{n.push(a);const o=e(a);o!=null&&o.length&&s(o)})};return s(t),n}function qe(t,e,n){let s=[],r;return a=>{let o;n.key&&n.debug&&(o=Date.now());const l=t(a);if(!(l.length!==s.length||l.some((d,h)=>s[h]!==d)))return r;s=l;let u;if(n.key&&n.debug&&(u=Date.now()),r=e(...l),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,h=Math.round((Date.now()-u)*100)/100,f=h/16,g=(v,x)=>{for(v=String(v);v.length<x;)v=" "+v;return v};console.info(`%c ${g(h,5)} /${g(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function Ge(t,e,n,s){return{debug:()=>{var r;return(r=t==null?void 0:t.debugAll)!=null?r:t[e]},key:!1,onChange:s}}function Fce(t,e,n,s){const r=()=>{var o;return(o=a.getValue())!=null?o:t.options.renderFallbackValue},a={id:`${e.id}_${n.id}`,row:e,column:n,getValue:()=>e.getValue(s),renderValue:r,getContext:qe(()=>[t,n,e,a],(o,l,c,u)=>({table:o,column:l,row:c,cell:u,getValue:u.getValue,renderValue:u.renderValue}),Ge(t.options,"debugCells"))};return t._features.forEach(o=>{o.createCell==null||o.createCell(a,n,e,t)},{}),a}function Lce(t,e,n,s){var r,a;const l={...t._getDefaultColumnDef(),...e},c=l.accessorKey;let u=(r=(a=l.id)!=null?a:c?typeof String.prototype.replaceAll=="function"?c.replaceAll(".","_"):c.replace(/\./g,"_"):void 0)!=null?r:typeof l.header=="string"?l.header:void 0,d;if(l.accessorFn?d=l.accessorFn:c&&(c.includes(".")?d=f=>{let g=f;for(const x of c.split(".")){var v;g=(v=g)==null?void 0:v[x]}return g}:d=f=>f[l.accessorKey]),!u)throw new Error;let h={id:`${String(u)}`,accessorFn:d,parent:s,depth:n,columnDef:l,columns:[],getFlatColumns:qe(()=>[!0],()=>{var f;return[h,...(f=h.columns)==null?void 0:f.flatMap(g=>g.getFlatColumns())]},Ge(t.options,"debugColumns")),getLeafColumns:qe(()=>[t._getOrderColumnsFn()],f=>{var g;if((g=h.columns)!=null&&g.length){let v=h.columns.flatMap(x=>x.getLeafColumns());return f(v)}return[h]},Ge(t.options,"debugColumns"))};for(const f of t._features)f.createColumn==null||f.createColumn(h,t);return h}const xs="debugHeaders";function BI(t,e,n){var s;let a={id:(s=n.id)!=null?s:e.id,column:e,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],l=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(l),o.push(c)};return l(a),o},getContext:()=>({table:t,header:a,column:e})};return t._features.forEach(o=>{o.createHeader==null||o.createHeader(a,t)}),a}const Vce={createTable:t=>{t.getHeaderGroups=qe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s,r)=>{var a,o;const l=(a=s==null?void 0:s.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?a:[],c=(o=r==null?void 0:r.map(h=>n.find(f=>f.id===h)).filter(Boolean))!=null?o:[],u=n.filter(h=>!(s!=null&&s.includes(h.id))&&!(r!=null&&r.includes(h.id)));return Ng(e,[...l,...u,...c],t)},Ge(t.options,xs)),t.getCenterHeaderGroups=qe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s,r)=>(n=n.filter(a=>!(s!=null&&s.includes(a.id))&&!(r!=null&&r.includes(a.id))),Ng(e,n,t,"center")),Ge(t.options,xs)),t.getLeftHeaderGroups=qe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.left],(e,n,s)=>{var r;const a=(r=s==null?void 0:s.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return Ng(e,a,t,"left")},Ge(t.options,xs)),t.getRightHeaderGroups=qe(()=>[t.getAllColumns(),t.getVisibleLeafColumns(),t.getState().columnPinning.right],(e,n,s)=>{var r;const a=(r=s==null?void 0:s.map(o=>n.find(l=>l.id===o)).filter(Boolean))!=null?r:[];return Ng(e,a,t,"right")},Ge(t.options,xs)),t.getFooterGroups=qe(()=>[t.getHeaderGroups()],e=>[...e].reverse(),Ge(t.options,xs)),t.getLeftFooterGroups=qe(()=>[t.getLeftHeaderGroups()],e=>[...e].reverse(),Ge(t.options,xs)),t.getCenterFooterGroups=qe(()=>[t.getCenterHeaderGroups()],e=>[...e].reverse(),Ge(t.options,xs)),t.getRightFooterGroups=qe(()=>[t.getRightHeaderGroups()],e=>[...e].reverse(),Ge(t.options,xs)),t.getFlatHeaders=qe(()=>[t.getHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,xs)),t.getLeftFlatHeaders=qe(()=>[t.getLeftHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,xs)),t.getCenterFlatHeaders=qe(()=>[t.getCenterHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,xs)),t.getRightFlatHeaders=qe(()=>[t.getRightHeaderGroups()],e=>e.map(n=>n.headers).flat(),Ge(t.options,xs)),t.getCenterLeafHeaders=qe(()=>[t.getCenterFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),Ge(t.options,xs)),t.getLeftLeafHeaders=qe(()=>[t.getLeftFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),Ge(t.options,xs)),t.getRightLeafHeaders=qe(()=>[t.getRightFlatHeaders()],e=>e.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),Ge(t.options,xs)),t.getLeafHeaders=qe(()=>[t.getLeftHeaderGroups(),t.getCenterHeaderGroups(),t.getRightHeaderGroups()],(e,n,s)=>{var r,a,o,l,c,u;return[...(r=(a=e[0])==null?void 0:a.headers)!=null?r:[],...(o=(l=n[0])==null?void 0:l.headers)!=null?o:[],...(c=(u=s[0])==null?void 0:u.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},Ge(t.options,xs))}};function Ng(t,e,n,s){var r,a;let o=0;const l=function(f,g){g===void 0&&(g=1),o=Math.max(o,g),f.filter(v=>v.getIsVisible()).forEach(v=>{var x;(x=v.columns)!=null&&x.length&&l(v.columns,g+1)},0)};l(t);let c=[];const u=(f,g)=>{const v={depth:g,id:[s,`${g}`].filter(Boolean).join("_"),headers:[]},x=[];f.forEach(w=>{const y=[...x].reverse()[0],b=w.column.depth===v.depth;let N,E=!1;if(b&&w.column.parent?N=w.column.parent:(N=w.column,E=!0),y&&(y==null?void 0:y.column)===N)y.subHeaders.push(w);else{const I=BI(n,N,{id:[s,g,N.id,w==null?void 0:w.id].filter(Boolean).join("_"),isPlaceholder:E,placeholderId:E?`${x.filter(A=>A.column===N).length}`:void 0,depth:g,index:x.length});I.subHeaders.push(w),x.push(I)}v.headers.push(w),w.headerGroup=v}),c.push(v),g>0&&u(x,g-1)},d=e.map((f,g)=>BI(n,f,{depth:o,index:g}));u(d,o-1),c.reverse();const h=f=>f.filter(v=>v.column.getIsVisible()).map(v=>{let x=0,w=0,y=[0];v.subHeaders&&v.subHeaders.length?(y=[],h(v.subHeaders).forEach(N=>{let{colSpan:E,rowSpan:I}=N;x+=E,y.push(I)})):x=1;const b=Math.min(...y);return w=w+b,v.colSpan=x,v.rowSpan=w,{colSpan:x,rowSpan:w}});return h((r=(a=c[0])==null?void 0:a.headers)!=null?r:[]),c}const pS=(t,e,n,s,r,a,o)=>{let l={id:e,index:s,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(l._valuesCache.hasOwnProperty(c))return l._valuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return l._valuesCache[c]=u.accessorFn(l.original,s),l._valuesCache[c]},getUniqueValues:c=>{if(l._uniqueValuesCache.hasOwnProperty(c))return l._uniqueValuesCache[c];const u=t.getColumn(c);if(u!=null&&u.accessorFn)return u.columnDef.getUniqueValues?(l._uniqueValuesCache[c]=u.columnDef.getUniqueValues(l.original,s),l._uniqueValuesCache[c]):(l._uniqueValuesCache[c]=[l.getValue(c)],l._uniqueValuesCache[c])},renderValue:c=>{var u;return(u=l.getValue(c))!=null?u:t.options.renderFallbackValue},subRows:[],getLeafRows:()=>Oce(l.subRows,c=>c.subRows),getParentRow:()=>l.parentId?t.getRow(l.parentId,!0):void 0,getParentRows:()=>{let c=[],u=l;for(;;){const d=u.getParentRow();if(!d)break;c.push(d),u=d}return c.reverse()},getAllCells:qe(()=>[t.getAllLeafColumns()],c=>c.map(u=>Fce(t,l,u,u.id)),Ge(t.options,"debugRows")),_getAllCellsByColumnId:qe(()=>[l.getAllCells()],c=>c.reduce((u,d)=>(u[d.column.id]=d,u),{}),Ge(t.options,"debugRows"))};for(let c=0;c<t._features.length;c++){const u=t._features[c];u==null||u.createRow==null||u.createRow(l,t)}return l},$ce={createColumn:(t,e)=>{t._getFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,t.id),t.getFacetedRowModel=()=>t._getFacetedRowModel?t._getFacetedRowModel():e.getPreFilteredRowModel(),t._getFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,t.id),t.getFacetedUniqueValues=()=>t._getFacetedUniqueValues?t._getFacetedUniqueValues():new Map,t._getFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,t.id),t.getFacetedMinMaxValues=()=>{if(t._getFacetedMinMaxValues)return t._getFacetedMinMaxValues()}}},eV=(t,e,n)=>{var s,r;const a=n==null||(s=n.toString())==null?void 0:s.toLowerCase();return!!(!((r=t.getValue(e))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(a))};eV.autoRemove=t=>xi(t);const tV=(t,e,n)=>{var s;return!!(!((s=t.getValue(e))==null||(s=s.toString())==null)&&s.includes(n))};tV.autoRemove=t=>xi(t);const nV=(t,e,n)=>{var s;return((s=t.getValue(e))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(n==null?void 0:n.toLowerCase())};nV.autoRemove=t=>xi(t);const sV=(t,e,n)=>{var s;return(s=t.getValue(e))==null?void 0:s.includes(n)};sV.autoRemove=t=>xi(t);const rV=(t,e,n)=>!n.some(s=>{var r;return!((r=t.getValue(e))!=null&&r.includes(s))});rV.autoRemove=t=>xi(t)||!(t!=null&&t.length);const iV=(t,e,n)=>n.some(s=>{var r;return(r=t.getValue(e))==null?void 0:r.includes(s)});iV.autoRemove=t=>xi(t)||!(t!=null&&t.length);const aV=(t,e,n)=>t.getValue(e)===n;aV.autoRemove=t=>xi(t);const oV=(t,e,n)=>t.getValue(e)==n;oV.autoRemove=t=>xi(t);const gS=(t,e,n)=>{let[s,r]=n;const a=t.getValue(e);return a>=s&&a<=r};gS.resolveFilterValue=t=>{let[e,n]=t,s=typeof e!="number"?parseFloat(e):e,r=typeof n!="number"?parseFloat(n):n,a=e===null||Number.isNaN(s)?-1/0:s,o=n===null||Number.isNaN(r)?1/0:r;if(a>o){const l=a;a=o,o=l}return[a,o]};gS.autoRemove=t=>xi(t)||xi(t[0])&&xi(t[1]);const ja={includesString:eV,includesStringSensitive:tV,equalsString:nV,arrIncludes:sV,arrIncludesAll:rV,arrIncludesSome:iV,equals:aV,weakEquals:oV,inNumberRange:gS};function xi(t){return t==null||t===""}const Uce={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:t=>({columnFilters:[],...t}),getDefaultOptions:t=>({onColumnFiltersChange:Ir("columnFilters",t),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(t,e)=>{t.getAutoFilterFn=()=>{const n=e.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(t.id);return typeof s=="string"?ja.includesString:typeof s=="number"?ja.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?ja.equals:Array.isArray(s)?ja.arrIncludes:ja.weakEquals},t.getFilterFn=()=>{var n,s;return ry(t.columnDef.filterFn)?t.columnDef.filterFn:t.columnDef.filterFn==="auto"?t.getAutoFilterFn():(n=(s=e.options.filterFns)==null?void 0:s[t.columnDef.filterFn])!=null?n:ja[t.columnDef.filterFn]},t.getCanFilter=()=>{var n,s,r;return((n=t.columnDef.enableColumnFilter)!=null?n:!0)&&((s=e.options.enableColumnFilters)!=null?s:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&!!t.accessorFn},t.getIsFiltered=()=>t.getFilterIndex()>-1,t.getFilterValue=()=>{var n;return(n=e.getState().columnFilters)==null||(n=n.find(s=>s.id===t.id))==null?void 0:n.value},t.getFilterIndex=()=>{var n,s;return(n=(s=e.getState().columnFilters)==null?void 0:s.findIndex(r=>r.id===t.id))!=null?n:-1},t.setFilterValue=n=>{e.setColumnFilters(s=>{const r=t.getFilterFn(),a=s==null?void 0:s.find(d=>d.id===t.id),o=Jo(n,a?a.value:void 0);if(zI(r,o,t)){var l;return(l=s==null?void 0:s.filter(d=>d.id!==t.id))!=null?l:[]}const c={id:t.id,value:o};if(a){var u;return(u=s==null?void 0:s.map(d=>d.id===t.id?c:d))!=null?u:[]}return s!=null&&s.length?[...s,c]:[c]})}},createRow:(t,e)=>{t.columnFilters={},t.columnFiltersMeta={}},createTable:t=>{t.setColumnFilters=e=>{const n=t.getAllLeafColumns(),s=r=>{var a;return(a=Jo(e,r))==null?void 0:a.filter(o=>{const l=n.find(c=>c.id===o.id);if(l){const c=l.getFilterFn();if(zI(c,o.value,l))return!1}return!0})};t.options.onColumnFiltersChange==null||t.options.onColumnFiltersChange(s)},t.resetColumnFilters=e=>{var n,s;t.setColumnFilters(e?[]:(n=(s=t.initialState)==null?void 0:s.columnFilters)!=null?n:[])},t.getPreFilteredRowModel=()=>t.getCoreRowModel(),t.getFilteredRowModel=()=>(!t._getFilteredRowModel&&t.options.getFilteredRowModel&&(t._getFilteredRowModel=t.options.getFilteredRowModel(t)),t.options.manualFiltering||!t._getFilteredRowModel?t.getPreFilteredRowModel():t._getFilteredRowModel())}};function zI(t,e,n){return(t&&t.autoRemove?t.autoRemove(e,n):!1)||typeof e>"u"||typeof e=="string"&&!e}const Bce=(t,e,n)=>n.reduce((s,r)=>{const a=r.getValue(t);return s+(typeof a=="number"?a:0)},0),zce=(t,e,n)=>{let s;return n.forEach(r=>{const a=r.getValue(t);a!=null&&(s>a||s===void 0&&a>=a)&&(s=a)}),s},Hce=(t,e,n)=>{let s;return n.forEach(r=>{const a=r.getValue(t);a!=null&&(s<a||s===void 0&&a>=a)&&(s=a)}),s},Wce=(t,e,n)=>{let s,r;return n.forEach(a=>{const o=a.getValue(t);o!=null&&(s===void 0?o>=o&&(s=r=o):(s>o&&(s=o),r<o&&(r=o)))}),[s,r]},qce=(t,e)=>{let n=0,s=0;if(e.forEach(r=>{let a=r.getValue(t);a!=null&&(a=+a)>=a&&(++n,s+=a)}),n)return s/n},Gce=(t,e)=>{if(!e.length)return;const n=e.map(a=>a.getValue(t));if(!Mce(n))return;if(n.length===1)return n[0];const s=Math.floor(n.length/2),r=n.sort((a,o)=>a-o);return n.length%2!==0?r[s]:(r[s-1]+r[s])/2},Kce=(t,e)=>Array.from(new Set(e.map(n=>n.getValue(t))).values()),Qce=(t,e)=>new Set(e.map(n=>n.getValue(t))).size,Yce=(t,e)=>e.length,zw={sum:Bce,min:zce,max:Hce,extent:Wce,mean:qce,median:Gce,unique:Kce,uniqueCount:Qce,count:Yce},Xce={getDefaultColumnDef:()=>({aggregatedCell:t=>{var e,n;return(e=(n=t.getValue())==null||n.toString==null?void 0:n.toString())!=null?e:null},aggregationFn:"auto"}),getInitialState:t=>({grouping:[],...t}),getDefaultOptions:t=>({onGroupingChange:Ir("grouping",t),groupedColumnMode:"reorder"}),createColumn:(t,e)=>{t.toggleGrouping=()=>{e.setGrouping(n=>n!=null&&n.includes(t.id)?n.filter(s=>s!==t.id):[...n??[],t.id])},t.getCanGroup=()=>{var n,s;return((n=t.columnDef.enableGrouping)!=null?n:!0)&&((s=e.options.enableGrouping)!=null?s:!0)&&(!!t.accessorFn||!!t.columnDef.getGroupingValue)},t.getIsGrouped=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.includes(t.id)},t.getGroupedIndex=()=>{var n;return(n=e.getState().grouping)==null?void 0:n.indexOf(t.id)},t.getToggleGroupingHandler=()=>{const n=t.getCanGroup();return()=>{n&&t.toggleGrouping()}},t.getAutoAggregationFn=()=>{const n=e.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(t.id);if(typeof s=="number")return zw.sum;if(Object.prototype.toString.call(s)==="[object Date]")return zw.extent},t.getAggregationFn=()=>{var n,s;if(!t)throw new Error;return ry(t.columnDef.aggregationFn)?t.columnDef.aggregationFn:t.columnDef.aggregationFn==="auto"?t.getAutoAggregationFn():(n=(s=e.options.aggregationFns)==null?void 0:s[t.columnDef.aggregationFn])!=null?n:zw[t.columnDef.aggregationFn]}},createTable:t=>{t.setGrouping=e=>t.options.onGroupingChange==null?void 0:t.options.onGroupingChange(e),t.resetGrouping=e=>{var n,s;t.setGrouping(e?[]:(n=(s=t.initialState)==null?void 0:s.grouping)!=null?n:[])},t.getPreGroupedRowModel=()=>t.getFilteredRowModel(),t.getGroupedRowModel=()=>(!t._getGroupedRowModel&&t.options.getGroupedRowModel&&(t._getGroupedRowModel=t.options.getGroupedRowModel(t)),t.options.manualGrouping||!t._getGroupedRowModel?t.getPreGroupedRowModel():t._getGroupedRowModel())},createRow:(t,e)=>{t.getIsGrouped=()=>!!t.groupingColumnId,t.getGroupingValue=n=>{if(t._groupingValuesCache.hasOwnProperty(n))return t._groupingValuesCache[n];const s=e.getColumn(n);return s!=null&&s.columnDef.getGroupingValue?(t._groupingValuesCache[n]=s.columnDef.getGroupingValue(t.original),t._groupingValuesCache[n]):t.getValue(n)},t._groupingValuesCache={}},createCell:(t,e,n,s)=>{t.getIsGrouped=()=>e.getIsGrouped()&&e.id===n.groupingColumnId,t.getIsPlaceholder=()=>!t.getIsGrouped()&&e.getIsGrouped(),t.getIsAggregated=()=>{var r;return!t.getIsGrouped()&&!t.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function Zce(t,e,n){if(!(e!=null&&e.length)||!n)return t;const s=t.filter(a=>!e.includes(a.id));return n==="remove"?s:[...e.map(a=>t.find(o=>o.id===a)).filter(Boolean),...s]}const Jce={getInitialState:t=>({columnOrder:[],...t}),getDefaultOptions:t=>({onColumnOrderChange:Ir("columnOrder",t)}),createColumn:(t,e)=>{t.getIndex=qe(n=>[Mf(e,n)],n=>n.findIndex(s=>s.id===t.id),Ge(e.options,"debugColumns")),t.getIsFirstColumn=n=>{var s;return((s=Mf(e,n)[0])==null?void 0:s.id)===t.id},t.getIsLastColumn=n=>{var s;const r=Mf(e,n);return((s=r[r.length-1])==null?void 0:s.id)===t.id}},createTable:t=>{t.setColumnOrder=e=>t.options.onColumnOrderChange==null?void 0:t.options.onColumnOrderChange(e),t.resetColumnOrder=e=>{var n;t.setColumnOrder(e?[]:(n=t.initialState.columnOrder)!=null?n:[])},t._getOrderColumnsFn=qe(()=>[t.getState().columnOrder,t.getState().grouping,t.options.groupedColumnMode],(e,n,s)=>r=>{let a=[];if(!(e!=null&&e.length))a=r;else{const o=[...e],l=[...r];for(;l.length&&o.length;){const c=o.shift(),u=l.findIndex(d=>d.id===c);u>-1&&a.push(l.splice(u,1)[0])}a=[...a,...l]}return Zce(a,n,s)},Ge(t.options,"debugTable"))}},Hw=()=>({left:[],right:[]}),eue={getInitialState:t=>({columnPinning:Hw(),...t}),getDefaultOptions:t=>({onColumnPinningChange:Ir("columnPinning",t)}),createColumn:(t,e)=>{t.pin=n=>{const s=t.getLeafColumns().map(r=>r.id).filter(Boolean);e.setColumnPinning(r=>{var a,o;if(n==="right"){var l,c;return{left:((l=r==null?void 0:r.left)!=null?l:[]).filter(h=>!(s!=null&&s.includes(h))),right:[...((c=r==null?void 0:r.right)!=null?c:[]).filter(h=>!(s!=null&&s.includes(h))),...s]}}if(n==="left"){var u,d;return{left:[...((u=r==null?void 0:r.left)!=null?u:[]).filter(h=>!(s!=null&&s.includes(h))),...s],right:((d=r==null?void 0:r.right)!=null?d:[]).filter(h=>!(s!=null&&s.includes(h)))}}return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(h=>!(s!=null&&s.includes(h))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(h=>!(s!=null&&s.includes(h)))}})},t.getCanPin=()=>t.getLeafColumns().some(s=>{var r,a,o;return((r=s.columnDef.enablePinning)!=null?r:!0)&&((a=(o=e.options.enableColumnPinning)!=null?o:e.options.enablePinning)!=null?a:!0)}),t.getIsPinned=()=>{const n=t.getLeafColumns().map(l=>l.id),{left:s,right:r}=e.getState().columnPinning,a=n.some(l=>s==null?void 0:s.includes(l)),o=n.some(l=>r==null?void 0:r.includes(l));return a?"left":o?"right":!1},t.getPinnedIndex=()=>{var n,s;const r=t.getIsPinned();return r?(n=(s=e.getState().columnPinning)==null||(s=s[r])==null?void 0:s.indexOf(t.id))!=null?n:-1:0}},createRow:(t,e)=>{t.getCenterVisibleCells=qe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,s,r)=>{const a=[...s??[],...r??[]];return n.filter(o=>!a.includes(o.column.id))},Ge(e.options,"debugRows")),t.getLeftVisibleCells=qe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.left],(n,s)=>(s??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"left"})),Ge(e.options,"debugRows")),t.getRightVisibleCells=qe(()=>[t._getAllVisibleCells(),e.getState().columnPinning.right],(n,s)=>(s??[]).map(a=>n.find(o=>o.column.id===a)).filter(Boolean).map(a=>({...a,position:"right"})),Ge(e.options,"debugRows"))},createTable:t=>{t.setColumnPinning=e=>t.options.onColumnPinningChange==null?void 0:t.options.onColumnPinningChange(e),t.resetColumnPinning=e=>{var n,s;return t.setColumnPinning(e?Hw():(n=(s=t.initialState)==null?void 0:s.columnPinning)!=null?n:Hw())},t.getIsSomeColumnsPinned=e=>{var n;const s=t.getState().columnPinning;if(!e){var r,a;return!!((r=s.left)!=null&&r.length||(a=s.right)!=null&&a.length)}return!!((n=s[e])!=null&&n.length)},t.getLeftLeafColumns=qe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left],(e,n)=>(n??[]).map(s=>e.find(r=>r.id===s)).filter(Boolean),Ge(t.options,"debugColumns")),t.getRightLeafColumns=qe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.right],(e,n)=>(n??[]).map(s=>e.find(r=>r.id===s)).filter(Boolean),Ge(t.options,"debugColumns")),t.getCenterLeafColumns=qe(()=>[t.getAllLeafColumns(),t.getState().columnPinning.left,t.getState().columnPinning.right],(e,n,s)=>{const r=[...n??[],...s??[]];return e.filter(a=>!r.includes(a.id))},Ge(t.options,"debugColumns"))}};function tue(t){return t||(typeof document<"u"?document:null)}const _g={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ww=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),nue={getDefaultColumnDef:()=>_g,getInitialState:t=>({columnSizing:{},columnSizingInfo:Ww(),...t}),getDefaultOptions:t=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ir("columnSizing",t),onColumnSizingInfoChange:Ir("columnSizingInfo",t)}),createColumn:(t,e)=>{t.getSize=()=>{var n,s,r;const a=e.getState().columnSizing[t.id];return Math.min(Math.max((n=t.columnDef.minSize)!=null?n:_g.minSize,(s=a??t.columnDef.size)!=null?s:_g.size),(r=t.columnDef.maxSize)!=null?r:_g.maxSize)},t.getStart=qe(n=>[n,Mf(e,n),e.getState().columnSizing],(n,s)=>s.slice(0,t.getIndex(n)).reduce((r,a)=>r+a.getSize(),0),Ge(e.options,"debugColumns")),t.getAfter=qe(n=>[n,Mf(e,n),e.getState().columnSizing],(n,s)=>s.slice(t.getIndex(n)+1).reduce((r,a)=>r+a.getSize(),0),Ge(e.options,"debugColumns")),t.resetSize=()=>{e.setColumnSizing(n=>{let{[t.id]:s,...r}=n;return r})},t.getCanResize=()=>{var n,s;return((n=t.columnDef.enableResizing)!=null?n:!0)&&((s=e.options.enableColumnResizing)!=null?s:!0)},t.getIsResizing=()=>e.getState().columnSizingInfo.isResizingColumn===t.id},createHeader:(t,e)=>{t.getSize=()=>{let n=0;const s=r=>{if(r.subHeaders.length)r.subHeaders.forEach(s);else{var a;n+=(a=r.column.getSize())!=null?a:0}};return s(t),n},t.getStart=()=>{if(t.index>0){const n=t.headerGroup.headers[t.index-1];return n.getStart()+n.getSize()}return 0},t.getResizeHandler=n=>{const s=e.getColumn(t.column.id),r=s==null?void 0:s.getCanResize();return a=>{if(!s||!r||(a.persist==null||a.persist(),qw(a)&&a.touches&&a.touches.length>1))return;const o=t.getSize(),l=t?t.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[s.id,s.getSize()]],c=qw(a)?Math.round(a.touches[0].clientX):a.clientX,u={},d=(y,b)=>{typeof b=="number"&&(e.setColumnSizingInfo(N=>{var E,I;const A=e.options.columnResizeDirection==="rtl"?-1:1,C=(b-((E=N==null?void 0:N.startOffset)!=null?E:0))*A,_=Math.max(C/((I=N==null?void 0:N.startSize)!=null?I:0),-.999999);return N.columnSizingStart.forEach(S=>{let[T,k]=S;u[T]=Math.round(Math.max(k+k*_,0)*100)/100}),{...N,deltaOffset:C,deltaPercentage:_}}),(e.options.columnResizeMode==="onChange"||y==="end")&&e.setColumnSizing(N=>({...N,...u})))},h=y=>d("move",y),f=y=>{d("end",y),e.setColumnSizingInfo(b=>({...b,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=tue(n),v={moveHandler:y=>h(y.clientX),upHandler:y=>{g==null||g.removeEventListener("mousemove",v.moveHandler),g==null||g.removeEventListener("mouseup",v.upHandler),f(y.clientX)}},x={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),h(y.touches[0].clientX),!1),upHandler:y=>{var b;g==null||g.removeEventListener("touchmove",x.moveHandler),g==null||g.removeEventListener("touchend",x.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),f((b=y.touches[0])==null?void 0:b.clientX)}},w=sue()?{passive:!1}:!1;qw(a)?(g==null||g.addEventListener("touchmove",x.moveHandler,w),g==null||g.addEventListener("touchend",x.upHandler,w)):(g==null||g.addEventListener("mousemove",v.moveHandler,w),g==null||g.addEventListener("mouseup",v.upHandler,w)),e.setColumnSizingInfo(y=>({...y,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:l,isResizingColumn:s.id}))}}},createTable:t=>{t.setColumnSizing=e=>t.options.onColumnSizingChange==null?void 0:t.options.onColumnSizingChange(e),t.setColumnSizingInfo=e=>t.options.onColumnSizingInfoChange==null?void 0:t.options.onColumnSizingInfoChange(e),t.resetColumnSizing=e=>{var n;t.setColumnSizing(e?{}:(n=t.initialState.columnSizing)!=null?n:{})},t.resetHeaderSizeInfo=e=>{var n;t.setColumnSizingInfo(e?Ww():(n=t.initialState.columnSizingInfo)!=null?n:Ww())},t.getTotalSize=()=>{var e,n;return(e=(n=t.getHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getLeftTotalSize=()=>{var e,n;return(e=(n=t.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getCenterTotalSize=()=>{var e,n;return(e=(n=t.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0},t.getRightTotalSize=()=>{var e,n;return(e=(n=t.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?e:0}}};let jg=null;function sue(){if(typeof jg=="boolean")return jg;let t=!1;try{const e={get passive(){return t=!0,!1}},n=()=>{};window.addEventListener("test",n,e),window.removeEventListener("test",n)}catch{t=!1}return jg=t,jg}function qw(t){return t.type==="touchstart"}const rue={getInitialState:t=>({columnVisibility:{},...t}),getDefaultOptions:t=>({onColumnVisibilityChange:Ir("columnVisibility",t)}),createColumn:(t,e)=>{t.toggleVisibility=n=>{t.getCanHide()&&e.setColumnVisibility(s=>({...s,[t.id]:n??!t.getIsVisible()}))},t.getIsVisible=()=>{var n,s;const r=t.columns;return(n=r.length?r.some(a=>a.getIsVisible()):(s=e.getState().columnVisibility)==null?void 0:s[t.id])!=null?n:!0},t.getCanHide=()=>{var n,s;return((n=t.columnDef.enableHiding)!=null?n:!0)&&((s=e.options.enableHiding)!=null?s:!0)},t.getToggleVisibilityHandler=()=>n=>{t.toggleVisibility==null||t.toggleVisibility(n.target.checked)}},createRow:(t,e)=>{t._getAllVisibleCells=qe(()=>[t.getAllCells(),e.getState().columnVisibility],n=>n.filter(s=>s.column.getIsVisible()),Ge(e.options,"debugRows")),t.getVisibleCells=qe(()=>[t.getLeftVisibleCells(),t.getCenterVisibleCells(),t.getRightVisibleCells()],(n,s,r)=>[...n,...s,...r],Ge(e.options,"debugRows"))},createTable:t=>{const e=(n,s)=>qe(()=>[s(),s().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(a=>a.getIsVisible==null?void 0:a.getIsVisible()),Ge(t.options,"debugColumns"));t.getVisibleFlatColumns=e("getVisibleFlatColumns",()=>t.getAllFlatColumns()),t.getVisibleLeafColumns=e("getVisibleLeafColumns",()=>t.getAllLeafColumns()),t.getLeftVisibleLeafColumns=e("getLeftVisibleLeafColumns",()=>t.getLeftLeafColumns()),t.getRightVisibleLeafColumns=e("getRightVisibleLeafColumns",()=>t.getRightLeafColumns()),t.getCenterVisibleLeafColumns=e("getCenterVisibleLeafColumns",()=>t.getCenterLeafColumns()),t.setColumnVisibility=n=>t.options.onColumnVisibilityChange==null?void 0:t.options.onColumnVisibilityChange(n),t.resetColumnVisibility=n=>{var s;t.setColumnVisibility(n?{}:(s=t.initialState.columnVisibility)!=null?s:{})},t.toggleAllColumnsVisible=n=>{var s;n=(s=n)!=null?s:!t.getIsAllColumnsVisible(),t.setColumnVisibility(t.getAllLeafColumns().reduce((r,a)=>({...r,[a.id]:n||!(a.getCanHide!=null&&a.getCanHide())}),{}))},t.getIsAllColumnsVisible=()=>!t.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),t.getIsSomeColumnsVisible=()=>t.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),t.getToggleAllColumnsVisibilityHandler=()=>n=>{var s;t.toggleAllColumnsVisible((s=n.target)==null?void 0:s.checked)}}};function Mf(t,e){return e?e==="center"?t.getCenterVisibleLeafColumns():e==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns()}const iue={createTable:t=>{t._getGlobalFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,"__global__"),t.getGlobalFacetedRowModel=()=>t.options.manualFiltering||!t._getGlobalFacetedRowModel?t.getPreFilteredRowModel():t._getGlobalFacetedRowModel(),t._getGlobalFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,"__global__"),t.getGlobalFacetedUniqueValues=()=>t._getGlobalFacetedUniqueValues?t._getGlobalFacetedUniqueValues():new Map,t._getGlobalFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,"__global__"),t.getGlobalFacetedMinMaxValues=()=>{if(t._getGlobalFacetedMinMaxValues)return t._getGlobalFacetedMinMaxValues()}}},aue={getInitialState:t=>({globalFilter:void 0,...t}),getDefaultOptions:t=>({onGlobalFilterChange:Ir("globalFilter",t),globalFilterFn:"auto",getColumnCanGlobalFilter:e=>{var n;const s=(n=t.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[e.id])==null?void 0:n.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(t,e)=>{t.getCanGlobalFilter=()=>{var n,s,r,a;return((n=t.columnDef.enableGlobalFilter)!=null?n:!0)&&((s=e.options.enableGlobalFilter)!=null?s:!0)&&((r=e.options.enableFilters)!=null?r:!0)&&((a=e.options.getColumnCanGlobalFilter==null?void 0:e.options.getColumnCanGlobalFilter(t))!=null?a:!0)&&!!t.accessorFn}},createTable:t=>{t.getGlobalAutoFilterFn=()=>ja.includesString,t.getGlobalFilterFn=()=>{var e,n;const{globalFilterFn:s}=t.options;return ry(s)?s:s==="auto"?t.getGlobalAutoFilterFn():(e=(n=t.options.filterFns)==null?void 0:n[s])!=null?e:ja[s]},t.setGlobalFilter=e=>{t.options.onGlobalFilterChange==null||t.options.onGlobalFilterChange(e)},t.resetGlobalFilter=e=>{t.setGlobalFilter(e?void 0:t.initialState.globalFilter)}}},oue={getInitialState:t=>({expanded:{},...t}),getDefaultOptions:t=>({onExpandedChange:Ir("expanded",t),paginateExpandedRows:!0}),createTable:t=>{let e=!1,n=!1;t._autoResetExpanded=()=>{var s,r;if(!e){t._queue(()=>{e=!0});return}if((s=(r=t.options.autoResetAll)!=null?r:t.options.autoResetExpanded)!=null?s:!t.options.manualExpanding){if(n)return;n=!0,t._queue(()=>{t.resetExpanded(),n=!1})}},t.setExpanded=s=>t.options.onExpandedChange==null?void 0:t.options.onExpandedChange(s),t.toggleAllRowsExpanded=s=>{s??!t.getIsAllRowsExpanded()?t.setExpanded(!0):t.setExpanded({})},t.resetExpanded=s=>{var r,a;t.setExpanded(s?{}:(r=(a=t.initialState)==null?void 0:a.expanded)!=null?r:{})},t.getCanSomeRowsExpand=()=>t.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),t.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),t.toggleAllRowsExpanded()},t.getIsSomeRowsExpanded=()=>{const s=t.getState().expanded;return s===!0||Object.values(s).some(Boolean)},t.getIsAllRowsExpanded=()=>{const s=t.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||t.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},t.getExpandedDepth=()=>{let s=0;return(t.getState().expanded===!0?Object.keys(t.getRowModel().rowsById):Object.keys(t.getState().expanded)).forEach(a=>{const o=a.split(".");s=Math.max(s,o.length)}),s},t.getPreExpandedRowModel=()=>t.getSortedRowModel(),t.getExpandedRowModel=()=>(!t._getExpandedRowModel&&t.options.getExpandedRowModel&&(t._getExpandedRowModel=t.options.getExpandedRowModel(t)),t.options.manualExpanding||!t._getExpandedRowModel?t.getPreExpandedRowModel():t._getExpandedRowModel())},createRow:(t,e)=>{t.toggleExpanded=n=>{e.setExpanded(s=>{var r;const a=s===!0?!0:!!(s!=null&&s[t.id]);let o={};if(s===!0?Object.keys(e.getRowModel().rowsById).forEach(l=>{o[l]=!0}):o=s,n=(r=n)!=null?r:!a,!a&&n)return{...o,[t.id]:!0};if(a&&!n){const{[t.id]:l,...c}=o;return c}return s})},t.getIsExpanded=()=>{var n;const s=e.getState().expanded;return!!((n=e.options.getIsRowExpanded==null?void 0:e.options.getIsRowExpanded(t))!=null?n:s===!0||s!=null&&s[t.id])},t.getCanExpand=()=>{var n,s,r;return(n=e.options.getRowCanExpand==null?void 0:e.options.getRowCanExpand(t))!=null?n:((s=e.options.enableExpanding)!=null?s:!0)&&!!((r=t.subRows)!=null&&r.length)},t.getIsAllParentsExpanded=()=>{let n=!0,s=t;for(;n&&s.parentId;)s=e.getRow(s.parentId,!0),n=s.getIsExpanded();return n},t.getToggleExpandedHandler=()=>{const n=t.getCanExpand();return()=>{n&&t.toggleExpanded()}}}},j_=0,C_=10,Gw=()=>({pageIndex:j_,pageSize:C_}),lue={getInitialState:t=>({...t,pagination:{...Gw(),...t==null?void 0:t.pagination}}),getDefaultOptions:t=>({onPaginationChange:Ir("pagination",t)}),createTable:t=>{let e=!1,n=!1;t._autoResetPageIndex=()=>{var s,r;if(!e){t._queue(()=>{e=!0});return}if((s=(r=t.options.autoResetAll)!=null?r:t.options.autoResetPageIndex)!=null?s:!t.options.manualPagination){if(n)return;n=!0,t._queue(()=>{t.resetPageIndex(),n=!1})}},t.setPagination=s=>{const r=a=>Jo(s,a);return t.options.onPaginationChange==null?void 0:t.options.onPaginationChange(r)},t.resetPagination=s=>{var r;t.setPagination(s?Gw():(r=t.initialState.pagination)!=null?r:Gw())},t.setPageIndex=s=>{t.setPagination(r=>{let a=Jo(s,r.pageIndex);const o=typeof t.options.pageCount>"u"||t.options.pageCount===-1?Number.MAX_SAFE_INTEGER:t.options.pageCount-1;return a=Math.max(0,Math.min(a,o)),{...r,pageIndex:a}})},t.resetPageIndex=s=>{var r,a;t.setPageIndex(s?j_:(r=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageIndex)!=null?r:j_)},t.resetPageSize=s=>{var r,a;t.setPageSize(s?C_:(r=(a=t.initialState)==null||(a=a.pagination)==null?void 0:a.pageSize)!=null?r:C_)},t.setPageSize=s=>{t.setPagination(r=>{const a=Math.max(1,Jo(s,r.pageSize)),o=r.pageSize*r.pageIndex,l=Math.floor(o/a);return{...r,pageIndex:l,pageSize:a}})},t.setPageCount=s=>t.setPagination(r=>{var a;let o=Jo(s,(a=t.options.pageCount)!=null?a:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),t.getPageOptions=qe(()=>[t.getPageCount()],s=>{let r=[];return s&&s>0&&(r=[...new Array(s)].fill(null).map((a,o)=>o)),r},Ge(t.options,"debugTable")),t.getCanPreviousPage=()=>t.getState().pagination.pageIndex>0,t.getCanNextPage=()=>{const{pageIndex:s}=t.getState().pagination,r=t.getPageCount();return r===-1?!0:r===0?!1:s<r-1},t.previousPage=()=>t.setPageIndex(s=>s-1),t.nextPage=()=>t.setPageIndex(s=>s+1),t.firstPage=()=>t.setPageIndex(0),t.lastPage=()=>t.setPageIndex(t.getPageCount()-1),t.getPrePaginationRowModel=()=>t.getExpandedRowModel(),t.getPaginationRowModel=()=>(!t._getPaginationRowModel&&t.options.getPaginationRowModel&&(t._getPaginationRowModel=t.options.getPaginationRowModel(t)),t.options.manualPagination||!t._getPaginationRowModel?t.getPrePaginationRowModel():t._getPaginationRowModel()),t.getPageCount=()=>{var s;return(s=t.options.pageCount)!=null?s:Math.ceil(t.getRowCount()/t.getState().pagination.pageSize)},t.getRowCount=()=>{var s;return(s=t.options.rowCount)!=null?s:t.getPrePaginationRowModel().rows.length}}},Kw=()=>({top:[],bottom:[]}),cue={getInitialState:t=>({rowPinning:Kw(),...t}),getDefaultOptions:t=>({onRowPinningChange:Ir("rowPinning",t)}),createRow:(t,e)=>{t.pin=(n,s,r)=>{const a=s?t.getLeafRows().map(c=>{let{id:u}=c;return u}):[],o=r?t.getParentRows().map(c=>{let{id:u}=c;return u}):[],l=new Set([...o,t.id,...a]);e.setRowPinning(c=>{var u,d;if(n==="bottom"){var h,f;return{top:((h=c==null?void 0:c.top)!=null?h:[]).filter(x=>!(l!=null&&l.has(x))),bottom:[...((f=c==null?void 0:c.bottom)!=null?f:[]).filter(x=>!(l!=null&&l.has(x))),...Array.from(l)]}}if(n==="top"){var g,v;return{top:[...((g=c==null?void 0:c.top)!=null?g:[]).filter(x=>!(l!=null&&l.has(x))),...Array.from(l)],bottom:((v=c==null?void 0:c.bottom)!=null?v:[]).filter(x=>!(l!=null&&l.has(x)))}}return{top:((u=c==null?void 0:c.top)!=null?u:[]).filter(x=>!(l!=null&&l.has(x))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(x=>!(l!=null&&l.has(x)))}})},t.getCanPin=()=>{var n;const{enableRowPinning:s,enablePinning:r}=e.options;return typeof s=="function"?s(t):(n=s??r)!=null?n:!0},t.getIsPinned=()=>{const n=[t.id],{top:s,bottom:r}=e.getState().rowPinning,a=n.some(l=>s==null?void 0:s.includes(l)),o=n.some(l=>r==null?void 0:r.includes(l));return a?"top":o?"bottom":!1},t.getPinnedIndex=()=>{var n,s;const r=t.getIsPinned();if(!r)return-1;const a=(n=r==="top"?e.getTopRows():e.getBottomRows())==null?void 0:n.map(o=>{let{id:l}=o;return l});return(s=a==null?void 0:a.indexOf(t.id))!=null?s:-1}},createTable:t=>{t.setRowPinning=e=>t.options.onRowPinningChange==null?void 0:t.options.onRowPinningChange(e),t.resetRowPinning=e=>{var n,s;return t.setRowPinning(e?Kw():(n=(s=t.initialState)==null?void 0:s.rowPinning)!=null?n:Kw())},t.getIsSomeRowsPinned=e=>{var n;const s=t.getState().rowPinning;if(!e){var r,a;return!!((r=s.top)!=null&&r.length||(a=s.bottom)!=null&&a.length)}return!!((n=s[e])!=null&&n.length)},t._getPinnedRows=(e,n,s)=>{var r;return((r=t.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const l=t.getRow(o,!0);return l.getIsAllParentsExpanded()?l:null}):(n??[]).map(o=>e.find(l=>l.id===o))).filter(Boolean).map(o=>({...o,position:s}))},t.getTopRows=qe(()=>[t.getRowModel().rows,t.getState().rowPinning.top],(e,n)=>t._getPinnedRows(e,n,"top"),Ge(t.options,"debugRows")),t.getBottomRows=qe(()=>[t.getRowModel().rows,t.getState().rowPinning.bottom],(e,n)=>t._getPinnedRows(e,n,"bottom"),Ge(t.options,"debugRows")),t.getCenterRows=qe(()=>[t.getRowModel().rows,t.getState().rowPinning.top,t.getState().rowPinning.bottom],(e,n,s)=>{const r=new Set([...n??[],...s??[]]);return e.filter(a=>!r.has(a.id))},Ge(t.options,"debugRows"))}},uue={getInitialState:t=>({rowSelection:{},...t}),getDefaultOptions:t=>({onRowSelectionChange:Ir("rowSelection",t),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:t=>{t.setRowSelection=e=>t.options.onRowSelectionChange==null?void 0:t.options.onRowSelectionChange(e),t.resetRowSelection=e=>{var n;return t.setRowSelection(e?{}:(n=t.initialState.rowSelection)!=null?n:{})},t.toggleAllRowsSelected=e=>{t.setRowSelection(n=>{e=typeof e<"u"?e:!t.getIsAllRowsSelected();const s={...n},r=t.getPreGroupedRowModel().flatRows;return e?r.forEach(a=>{a.getCanSelect()&&(s[a.id]=!0)}):r.forEach(a=>{delete s[a.id]}),s})},t.toggleAllPageRowsSelected=e=>t.setRowSelection(n=>{const s=typeof e<"u"?e:!t.getIsAllPageRowsSelected(),r={...n};return t.getRowModel().rows.forEach(a=>{S_(r,a.id,s,!0,t)}),r}),t.getPreSelectedRowModel=()=>t.getCoreRowModel(),t.getSelectedRowModel=qe(()=>[t.getState().rowSelection,t.getCoreRowModel()],(e,n)=>Object.keys(e).length?Qw(t,n):{rows:[],flatRows:[],rowsById:{}},Ge(t.options,"debugTable")),t.getFilteredSelectedRowModel=qe(()=>[t.getState().rowSelection,t.getFilteredRowModel()],(e,n)=>Object.keys(e).length?Qw(t,n):{rows:[],flatRows:[],rowsById:{}},Ge(t.options,"debugTable")),t.getGroupedSelectedRowModel=qe(()=>[t.getState().rowSelection,t.getSortedRowModel()],(e,n)=>Object.keys(e).length?Qw(t,n):{rows:[],flatRows:[],rowsById:{}},Ge(t.options,"debugTable")),t.getIsAllRowsSelected=()=>{const e=t.getFilteredRowModel().flatRows,{rowSelection:n}=t.getState();let s=!!(e.length&&Object.keys(n).length);return s&&e.some(r=>r.getCanSelect()&&!n[r.id])&&(s=!1),s},t.getIsAllPageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=t.getState();let s=!!e.length;return s&&e.some(r=>!n[r.id])&&(s=!1),s},t.getIsSomeRowsSelected=()=>{var e;const n=Object.keys((e=t.getState().rowSelection)!=null?e:{}).length;return n>0&&n<t.getFilteredRowModel().flatRows.length},t.getIsSomePageRowsSelected=()=>{const e=t.getPaginationRowModel().flatRows;return t.getIsAllPageRowsSelected()?!1:e.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},t.getToggleAllRowsSelectedHandler=()=>e=>{t.toggleAllRowsSelected(e.target.checked)},t.getToggleAllPageRowsSelectedHandler=()=>e=>{t.toggleAllPageRowsSelected(e.target.checked)}},createRow:(t,e)=>{t.toggleSelected=(n,s)=>{const r=t.getIsSelected();e.setRowSelection(a=>{var o;if(n=typeof n<"u"?n:!r,t.getCanSelect()&&r===n)return a;const l={...a};return S_(l,t.id,n,(o=s==null?void 0:s.selectChildren)!=null?o:!0,e),l})},t.getIsSelected=()=>{const{rowSelection:n}=e.getState();return xS(t,n)},t.getIsSomeSelected=()=>{const{rowSelection:n}=e.getState();return E_(t,n)==="some"},t.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=e.getState();return E_(t,n)==="all"},t.getCanSelect=()=>{var n;return typeof e.options.enableRowSelection=="function"?e.options.enableRowSelection(t):(n=e.options.enableRowSelection)!=null?n:!0},t.getCanSelectSubRows=()=>{var n;return typeof e.options.enableSubRowSelection=="function"?e.options.enableSubRowSelection(t):(n=e.options.enableSubRowSelection)!=null?n:!0},t.getCanMultiSelect=()=>{var n;return typeof e.options.enableMultiRowSelection=="function"?e.options.enableMultiRowSelection(t):(n=e.options.enableMultiRowSelection)!=null?n:!0},t.getToggleSelectedHandler=()=>{const n=t.getCanSelect();return s=>{var r;n&&t.toggleSelected((r=s.target)==null?void 0:r.checked)}}}},S_=(t,e,n,s,r)=>{var a;const o=r.getRow(e,!0);n?(o.getCanMultiSelect()||Object.keys(t).forEach(l=>delete t[l]),o.getCanSelect()&&(t[e]=!0)):delete t[e],s&&(a=o.subRows)!=null&&a.length&&o.getCanSelectSubRows()&&o.subRows.forEach(l=>S_(t,l.id,n,s,r))};function Qw(t,e){const n=t.getState().rowSelection,s=[],r={},a=function(o,l){return o.map(c=>{var u;const d=xS(c,n);if(d&&(s.push(c),r[c.id]=c),(u=c.subRows)!=null&&u.length&&(c={...c,subRows:a(c.subRows)}),d)return c}).filter(Boolean)};return{rows:a(e.rows),flatRows:s,rowsById:r}}function xS(t,e){var n;return(n=e[t.id])!=null?n:!1}function E_(t,e,n){var s;if(!((s=t.subRows)!=null&&s.length))return!1;let r=!0,a=!1;return t.subRows.forEach(o=>{if(!(a&&!r)&&(o.getCanSelect()&&(xS(o,e)?a=!0:r=!1),o.subRows&&o.subRows.length)){const l=E_(o,e);l==="all"?a=!0:(l==="some"&&(a=!0),r=!1)}}),r?"all":a?"some":!1}const T_=/([0-9]+)/gm,due=(t,e,n)=>lV(Rl(t.getValue(n)).toLowerCase(),Rl(e.getValue(n)).toLowerCase()),hue=(t,e,n)=>lV(Rl(t.getValue(n)),Rl(e.getValue(n))),fue=(t,e,n)=>vS(Rl(t.getValue(n)).toLowerCase(),Rl(e.getValue(n)).toLowerCase()),mue=(t,e,n)=>vS(Rl(t.getValue(n)),Rl(e.getValue(n))),pue=(t,e,n)=>{const s=t.getValue(n),r=e.getValue(n);return s>r?1:s<r?-1:0},gue=(t,e,n)=>vS(t.getValue(n),e.getValue(n));function vS(t,e){return t===e?0:t>e?1:-1}function Rl(t){return typeof t=="number"?isNaN(t)||t===1/0||t===-1/0?"":String(t):typeof t=="string"?t:""}function lV(t,e){const n=t.split(T_).filter(Boolean),s=e.split(T_).filter(Boolean);for(;n.length&&s.length;){const r=n.shift(),a=s.shift(),o=parseInt(r,10),l=parseInt(a,10),c=[o,l].sort();if(isNaN(c[0])){if(r>a)return 1;if(a>r)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>l)return 1;if(l>o)return-1}return n.length-s.length}const Wh={alphanumeric:due,alphanumericCaseSensitive:hue,text:fue,textCaseSensitive:mue,datetime:pue,basic:gue},xue={getInitialState:t=>({sorting:[],...t}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:t=>({onSortingChange:Ir("sorting",t),isMultiSortEvent:e=>e.shiftKey}),createColumn:(t,e)=>{t.getAutoSortingFn=()=>{const n=e.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const r of n){const a=r==null?void 0:r.getValue(t.id);if(Object.prototype.toString.call(a)==="[object Date]")return Wh.datetime;if(typeof a=="string"&&(s=!0,a.split(T_).length>1))return Wh.alphanumeric}return s?Wh.text:Wh.basic},t.getAutoSortDir=()=>{const n=e.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(t.id))=="string"?"asc":"desc"},t.getSortingFn=()=>{var n,s;if(!t)throw new Error;return ry(t.columnDef.sortingFn)?t.columnDef.sortingFn:t.columnDef.sortingFn==="auto"?t.getAutoSortingFn():(n=(s=e.options.sortingFns)==null?void 0:s[t.columnDef.sortingFn])!=null?n:Wh[t.columnDef.sortingFn]},t.toggleSorting=(n,s)=>{const r=t.getNextSortingOrder(),a=typeof n<"u"&&n!==null;e.setSorting(o=>{const l=o==null?void 0:o.find(g=>g.id===t.id),c=o==null?void 0:o.findIndex(g=>g.id===t.id);let u=[],d,h=a?n:r==="desc";if(o!=null&&o.length&&t.getCanMultiSort()&&s?l?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":l?d="toggle":d="replace",d==="toggle"&&(a||r||(d="remove")),d==="add"){var f;u=[...o,{id:t.id,desc:h}],u.splice(0,u.length-((f=e.options.maxMultiSortColCount)!=null?f:Number.MAX_SAFE_INTEGER))}else d==="toggle"?u=o.map(g=>g.id===t.id?{...g,desc:h}:g):d==="remove"?u=o.filter(g=>g.id!==t.id):u=[{id:t.id,desc:h}];return u})},t.getFirstSortDir=()=>{var n,s;return((n=(s=t.columnDef.sortDescFirst)!=null?s:e.options.sortDescFirst)!=null?n:t.getAutoSortDir()==="desc")?"desc":"asc"},t.getNextSortingOrder=n=>{var s,r;const a=t.getFirstSortDir(),o=t.getIsSorted();return o?o!==a&&((s=e.options.enableSortingRemoval)==null||s)&&(!(n&&(r=e.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":a},t.getCanSort=()=>{var n,s;return((n=t.columnDef.enableSorting)!=null?n:!0)&&((s=e.options.enableSorting)!=null?s:!0)&&!!t.accessorFn},t.getCanMultiSort=()=>{var n,s;return(n=(s=t.columnDef.enableMultiSort)!=null?s:e.options.enableMultiSort)!=null?n:!!t.accessorFn},t.getIsSorted=()=>{var n;const s=(n=e.getState().sorting)==null?void 0:n.find(r=>r.id===t.id);return s?s.desc?"desc":"asc":!1},t.getSortIndex=()=>{var n,s;return(n=(s=e.getState().sorting)==null?void 0:s.findIndex(r=>r.id===t.id))!=null?n:-1},t.clearSorting=()=>{e.setSorting(n=>n!=null&&n.length?n.filter(s=>s.id!==t.id):[])},t.getToggleSortingHandler=()=>{const n=t.getCanSort();return s=>{n&&(s.persist==null||s.persist(),t.toggleSorting==null||t.toggleSorting(void 0,t.getCanMultiSort()?e.options.isMultiSortEvent==null?void 0:e.options.isMultiSortEvent(s):!1))}}},createTable:t=>{t.setSorting=e=>t.options.onSortingChange==null?void 0:t.options.onSortingChange(e),t.resetSorting=e=>{var n,s;t.setSorting(e?[]:(n=(s=t.initialState)==null?void 0:s.sorting)!=null?n:[])},t.getPreSortedRowModel=()=>t.getGroupedRowModel(),t.getSortedRowModel=()=>(!t._getSortedRowModel&&t.options.getSortedRowModel&&(t._getSortedRowModel=t.options.getSortedRowModel(t)),t.options.manualSorting||!t._getSortedRowModel?t.getPreSortedRowModel():t._getSortedRowModel())}},vue=[Vce,rue,Jce,eue,$ce,Uce,iue,aue,xue,Xce,oue,lue,cue,uue,nue];function yue(t){var e,n;const s=[...vue,...(e=t._features)!=null?e:[]];let r={_features:s};const a=r._features.reduce((f,g)=>Object.assign(f,g.getDefaultOptions==null?void 0:g.getDefaultOptions(r)),{}),o=f=>r.options.mergeOptions?r.options.mergeOptions(a,f):{...a,...f};let c={...{},...(n=t.initialState)!=null?n:{}};r._features.forEach(f=>{var g;c=(g=f.getInitialState==null?void 0:f.getInitialState(c))!=null?g:c});const u=[];let d=!1;const h={_features:s,options:{...a,...t},initialState:c,_queue:f=>{u.push(f),d||(d=!0,Promise.resolve().then(()=>{for(;u.length;)u.shift()();d=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{r.setState(r.initialState)},setOptions:f=>{const g=Jo(f,r.options);r.options=o(g)},getState:()=>r.options.state,setState:f=>{r.options.onStateChange==null||r.options.onStateChange(f)},_getRowId:(f,g,v)=>{var x;return(x=r.options.getRowId==null?void 0:r.options.getRowId(f,g,v))!=null?x:`${v?[v.id,g].join("."):g}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(f,g)=>{let v=(g?r.getPrePaginationRowModel():r.getRowModel()).rowsById[f];if(!v&&(v=r.getCoreRowModel().rowsById[f],!v))throw new Error;return v},_getDefaultColumnDef:qe(()=>[r.options.defaultColumn],f=>{var g;return f=(g=f)!=null?g:{},{header:v=>{const x=v.header.column.columnDef;return x.accessorKey?x.accessorKey:x.accessorFn?x.id:null},cell:v=>{var x,w;return(x=(w=v.renderValue())==null||w.toString==null?void 0:w.toString())!=null?x:null},...r._features.reduce((v,x)=>Object.assign(v,x.getDefaultColumnDef==null?void 0:x.getDefaultColumnDef()),{}),...f}},Ge(t,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:qe(()=>[r._getColumnDefs()],f=>{const g=function(v,x,w){return w===void 0&&(w=0),v.map(y=>{const b=Lce(r,y,w,x),N=y;return b.columns=N.columns?g(N.columns,b,w+1):[],b})};return g(f)},Ge(t,"debugColumns")),getAllFlatColumns:qe(()=>[r.getAllColumns()],f=>f.flatMap(g=>g.getFlatColumns()),Ge(t,"debugColumns")),_getAllFlatColumnsById:qe(()=>[r.getAllFlatColumns()],f=>f.reduce((g,v)=>(g[v.id]=v,g),{}),Ge(t,"debugColumns")),getAllLeafColumns:qe(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(f,g)=>{let v=f.flatMap(x=>x.getLeafColumns());return g(v)},Ge(t,"debugColumns")),getColumn:f=>r._getAllFlatColumnsById()[f]};Object.assign(r,h);for(let f=0;f<r._features.length;f++){const g=r._features[f];g==null||g.createTable==null||g.createTable(r)}return r}function wue(){return t=>qe(()=>[t.options.data],e=>{const n={rows:[],flatRows:[],rowsById:{}},s=function(r,a,o){a===void 0&&(a=0);const l=[];for(let u=0;u<r.length;u++){const d=pS(t,t._getRowId(r[u],u,o),r[u],u,a,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,l.push(d),t.options.getSubRows){var c;d.originalSubRows=t.options.getSubRows(r[u],u),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=s(d.originalSubRows,a+1,d))}}return l};return n.rows=s(e),n},Ge(t.options,"debugTable","getRowModel",()=>t._autoResetPageIndex()))}function bue(t){const e=[],n=s=>{var r;e.push(s),(r=s.subRows)!=null&&r.length&&s.getIsExpanded()&&s.subRows.forEach(n)};return t.rows.forEach(n),{rows:e,flatRows:t.flatRows,rowsById:t.rowsById}}function Nue(t,e,n){return n.options.filterFromLeafRows?_ue(t,e,n):jue(t,e,n)}function _ue(t,e,n){var s;const r=[],a={},o=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let f=0;f<c.length;f++){var h;let g=c[f];const v=pS(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(v.columnFilters=g.columnFilters,(h=g.subRows)!=null&&h.length&&u<o){if(v.subRows=l(g.subRows,u+1),g=v,e(g)&&!v.subRows.length){d.push(g),a[g.id]=g,r.push(g);continue}if(e(g)||v.subRows.length){d.push(g),a[g.id]=g,r.push(g);continue}}else g=v,e(g)&&(d.push(g),a[g.id]=g,r.push(g))}return d};return{rows:l(t),flatRows:r,rowsById:a}}function jue(t,e,n){var s;const r=[],a={},o=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,l=function(c,u){u===void 0&&(u=0);const d=[];for(let f=0;f<c.length;f++){let g=c[f];if(e(g)){var h;if((h=g.subRows)!=null&&h.length&&u<o){const x=pS(n,g.id,g.original,g.index,g.depth,void 0,g.parentId);x.subRows=l(g.subRows,u+1),g=x}d.push(g),r.push(g),a[g.id]=g}}return d};return{rows:l(t),flatRows:r,rowsById:a}}function Cue(){return t=>qe(()=>[t.getPreFilteredRowModel(),t.getState().columnFilters,t.getState().globalFilter],(e,n,s)=>{if(!e.rows.length||!(n!=null&&n.length)&&!s){for(let f=0;f<e.flatRows.length;f++)e.flatRows[f].columnFilters={},e.flatRows[f].columnFiltersMeta={};return e}const r=[],a=[];(n??[]).forEach(f=>{var g;const v=t.getColumn(f.id);if(!v)return;const x=v.getFilterFn();x&&r.push({id:f.id,filterFn:x,resolvedValue:(g=x.resolveFilterValue==null?void 0:x.resolveFilterValue(f.value))!=null?g:f.value})});const o=(n??[]).map(f=>f.id),l=t.getGlobalFilterFn(),c=t.getAllLeafColumns().filter(f=>f.getCanGlobalFilter());s&&l&&c.length&&(o.push("__global__"),c.forEach(f=>{var g;a.push({id:f.id,filterFn:l,resolvedValue:(g=l.resolveFilterValue==null?void 0:l.resolveFilterValue(s))!=null?g:s})}));let u,d;for(let f=0;f<e.flatRows.length;f++){const g=e.flatRows[f];if(g.columnFilters={},r.length)for(let v=0;v<r.length;v++){u=r[v];const x=u.id;g.columnFilters[x]=u.filterFn(g,x,u.resolvedValue,w=>{g.columnFiltersMeta[x]=w})}if(a.length){for(let v=0;v<a.length;v++){d=a[v];const x=d.id;if(d.filterFn(g,x,d.resolvedValue,w=>{g.columnFiltersMeta[x]=w})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const h=f=>{for(let g=0;g<o.length;g++)if(f.columnFilters[o[g]]===!1)return!1;return!0};return Nue(e.rows,h,t)},Ge(t.options,"debugTable","getFilteredRowModel",()=>t._autoResetPageIndex()))}function Sue(t){return e=>qe(()=>[e.getState().pagination,e.getPrePaginationRowModel(),e.options.paginateExpandedRows?void 0:e.getState().expanded],(n,s)=>{if(!s.rows.length)return s;const{pageSize:r,pageIndex:a}=n;let{rows:o,flatRows:l,rowsById:c}=s;const u=r*a,d=u+r;o=o.slice(u,d);let h;e.options.paginateExpandedRows?h={rows:o,flatRows:l,rowsById:c}:h=bue({rows:o,flatRows:l,rowsById:c}),h.flatRows=[];const f=g=>{h.flatRows.push(g),g.subRows.length&&g.subRows.forEach(f)};return h.rows.forEach(f),h},Ge(e.options,"debugTable"))}function Eue(){return t=>qe(()=>[t.getState().sorting,t.getPreSortedRowModel()],(e,n)=>{if(!n.rows.length||!(e!=null&&e.length))return n;const s=t.getState().sorting,r=[],a=s.filter(c=>{var u;return(u=t.getColumn(c.id))==null?void 0:u.getCanSort()}),o={};a.forEach(c=>{const u=t.getColumn(c.id);u&&(o[c.id]={sortUndefined:u.columnDef.sortUndefined,invertSorting:u.columnDef.invertSorting,sortingFn:u.getSortingFn()})});const l=c=>{const u=c.map(d=>({...d}));return u.sort((d,h)=>{for(let g=0;g<a.length;g+=1){var f;const v=a[g],x=o[v.id],w=x.sortUndefined,y=(f=v==null?void 0:v.desc)!=null?f:!1;let b=0;if(w){const N=d.getValue(v.id),E=h.getValue(v.id),I=N===void 0,A=E===void 0;if(I||A){if(w==="first")return I?-1:1;if(w==="last")return I?1:-1;b=I&&A?0:I?w:-w}}if(b===0&&(b=x.sortingFn(d,h,v.id)),b!==0)return y&&(b*=-1),x.invertSorting&&(b*=-1),b}return d.index-h.index}),u.forEach(d=>{var h;r.push(d),(h=d.subRows)!=null&&h.length&&(d.subRows=l(d.subRows))}),u};return{rows:l(n.rows),flatRows:r,rowsById:n.rowsById}},Ge(t.options,"debugTable","getSortedRowModel",()=>t._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function HI(t,e){return t?Tue(t)?p.createElement(t,e):t:null}function Tue(t){return Rue(t)||typeof t=="function"||Pue(t)}function Rue(t){return typeof t=="function"&&(()=>{const e=Object.getPrototypeOf(t);return e.prototype&&e.prototype.isReactComponent})()}function Pue(t){return typeof t=="object"&&typeof t.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(t.$$typeof.description)}function Iue(t){const e={state:{},onStateChange:()=>{},renderFallbackValue:null,...t},[n]=p.useState(()=>({current:yue(e)})),[s,r]=p.useState(()=>n.current.initialState);return n.current.setOptions(a=>({...a,...t,state:{...s,...t.state},onStateChange:o=>{r(o),t.onStateChange==null||t.onStateChange(o)}})),n.current}const Us=p.forwardRef(({className:t,...e},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:ie("w-full caption-bottom text-sm",t),...e})}));Us.displayName="Table";const gr=p.forwardRef(({className:t,...e},n)=>i.jsx("thead",{ref:n,className:ie("[&_tr]:border-b",t),...e}));gr.displayName="TableHeader";const Bs=p.forwardRef(({className:t,...e},n)=>i.jsx("tbody",{ref:n,className:ie("[&_tr:last-child]:border-0",t),...e}));Bs.displayName="TableBody";const kue=p.forwardRef(({className:t,...e},n)=>i.jsx("tfoot",{ref:n,className:ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));kue.displayName="TableFooter";const yt=p.forwardRef(({className:t,...e},n)=>i.jsx("tr",{ref:n,className:ie("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));yt.displayName="TableRow";const _e=p.forwardRef(({className:t,...e},n)=>i.jsx("th",{ref:n,className:ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));_e.displayName="TableHead";const pe=p.forwardRef(({className:t,...e},n)=>i.jsx("td",{ref:n,className:ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));pe.displayName="TableCell";const Aue=p.forwardRef(({className:t,...e},n)=>i.jsx("caption",{ref:n,className:ie("mt-4 text-sm text-muted-foreground",t),...e}));Aue.displayName="TableCaption";function Due({table:t}){var e;return i.jsx("div",{className:"rounded-md border",children:i.jsxs(Us,{children:[i.jsx(gr,{children:t.getHeaderGroups().map(n=>i.jsx(yt,{children:n.headers.map(s=>i.jsx(_e,{children:s.isPlaceholder?null:HI(s.column.columnDef.header,s.getContext())},s.id))},n.id))}),i.jsx(Bs,{children:(e=t.getRowModel().rows)!=null&&e.length?t.getRowModel().rows.map(n=>i.jsx(yt,{"data-state":n.getIsSelected()&&"selected",children:n.getVisibleCells().map(s=>i.jsx(pe,{children:HI(s.column.columnDef.cell,s.getContext())},s.id))},n.id)):i.jsx(yt,{children:i.jsx(pe,{colSpan:t.getAllColumns().length,className:"h-24 text-center",children:"No results."})})})]})})}const Mue=t=>[{id:"customerName",accessorFn:e=>{var n;return(n=e.customer)==null?void 0:n.name},header:"Customer",cell:({row:e})=>{var s;const n=(s=e.original.customer)==null?void 0:s.name;return n?i.jsx("div",{className:"font-medium",children:n}):i.jsx("span",{className:"text-muted-foreground",children:"N/A"})}},{accessorKey:"service",header:"Service"},{accessorKey:"status",header:"Status",cell:({row:e})=>{const n=e.getValue("status"),s=n==="successful"?"default":"destructive",r=n==="successful"?"Paid":"Failed",a=n==="successful"?"bg-green-600 hover:bg-green-600/90":"";return i.jsx(Ce,{variant:s,className:a,children:r})}},{accessorKey:"amount",header:()=>i.jsx("div",{className:"text-right",children:"Amount"}),cell:({row:e})=>{const n=parseFloat(e.getValue("amount")),s=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(n);return i.jsx("div",{className:"text-right font-medium",children:s})}},{accessorKey:"createdAt",header:"Booking Date",cell:({row:e})=>{var s;const n=(s=e.original.createdAt)==null?void 0:s.toDate();return n?Ee(n,"PP"):"N/A"}},{id:"actions",cell:({row:e})=>{const n=e.original;return i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsxs(z,{variant:"ghost",className:"h-8 w-8 p-0",children:[i.jsx("span",{className:"sr-only",children:"Open menu"}),i.jsx(Ci,{className:"h-4 w-4"})]})}),i.jsxs(Gs,{align:"end",children:[i.jsx(VC,{children:"Actions"}),i.jsx(Wt,{onClick:()=>t(n),children:"View details"})]})]})}}],Yw=768;function gh(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Yw-1}px)`),s=()=>{e(window.innerWidth<Yw)};return n.addEventListener("change",s),e(window.innerWidth<Yw),()=>n.removeEventListener("change",s)},[]),!!t}const Oue=()=>{const t=rn(),e=dt({mutationFn:async({userId:s,reminderId:r})=>{const a=at(he,"users",s,"reminders",r);return Wn(a,{status:"completed",completedDate:Ee(new Date,"MMMM d, yyyy")})},onSuccess:()=>{t.invalidateQueries({queryKey:["allTransactions"]}),t.invalidateQueries({queryKey:["reminders"]}),H.success("Home visit marked as completed!")},onError:s=>{H.error(s.message||"Failed to mark booking as complete.")}});return{markBookingAsComplete:(s,r)=>{e.mutate({userId:s,reminderId:r})},isMarkingComplete:e.isPending}},Fue=()=>{var b,N,E,I,A,C,_;const{transactions:t,isLoading:e,error:n}=J6(),[s,r]=p.useState(null),{markBookingAsComplete:a,isMarkingComplete:o}=Oue(),l=gh(),{user:c}=en(),[u,d]=se.useState([]),[h,f]=se.useState([]);p.useEffect(()=>{(async()=>{if(c!=null&&c.uid){console.log(" DEBUGGING: Checking current user access..."),console.log("Current user UID:",c.uid);try{const T=at(he,"users",c.uid),k=await Pc(T);if(k.exists()){console.log(" Current user document exists:",k.data());const D=Ze(he,"users",c.uid,"transactions"),P=await Rt(D);console.log(`Current user has ${P.docs.length} transactions`),P.docs.forEach((G,ee)=>{console.log(`Current user transaction ${ee+1}:`,{id:G.id,data:G.data()})})}else console.log(" Current user document does not exist in Firestore"),console.log("This means the user signed up but their profile was never created in Firestore")}catch(T){console.error(" Error accessing current user data:",T)}}})()},[c]);const g=()=>{s!=null&&s.reminderId&&(s!=null&&s.userId)&&(a(s.userId,s.reminderId),r(null))},v=p.useMemo(()=>Mue(r),[]),x=Iue({data:t,columns:v,getCoreRowModel:wue(),getPaginationRowModel:Sue(),onSortingChange:d,getSortedRowModel:Eue(),onColumnFiltersChange:f,getFilteredRowModel:Cue(),state:{sorting:u,columnFilters:h},initialState:{pagination:{pageSize:10}}});if(e)return i.jsx(nd,{});if(n)return console.error("Error fetching all bookings:",n),i.jsxs("div",{className:"text-center py-10",children:[i.jsx(U2,{className:"h-12 w-12 text-destructive mx-auto mb-4"}),i.jsx("p",{className:"text-destructive font-medium mb-2",children:"Error fetching bookings"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Make sure you've set up the Firestore index and security rules."}),i.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 p-3 rounded-lg max-w-md mx-auto",children:[i.jsx("p",{className:"font-medium mb-2",children:"Possible issues:"}),i.jsxs("ul",{className:"text-left space-y-1",children:[i.jsx("li",{children:" Firestore security rules blocking admin access"}),i.jsx("li",{children:" Missing user documents in Firestore"}),i.jsx("li",{children:" Authentication vs Firestore user mismatch"})]})]})]});if(!t||t.length===0)return i.jsxs("div",{className:"text-center py-10",children:[i.jsx(CT,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No bookings found"}),i.jsxs("div",{className:"text-sm text-muted-foreground space-y-2 mb-4",children:[i.jsx("p",{children:"This could mean:"}),i.jsx("div",{className:"bg-muted/30 p-3 rounded-lg text-xs max-w-md mx-auto",children:i.jsxs("ul",{className:"text-left space-y-1",children:[i.jsx("li",{children:" No users have completed bookings yet"}),i.jsx("li",{children:" Users created accounts but never made transactions"}),i.jsx("li",{children:" Firestore security rules are blocking access"}),i.jsx("li",{children:" User documents aren't being created in Firestore"})]})})]}),i.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-xs text-blue-800 max-w-md mx-auto",children:[i.jsx("p",{className:"font-medium mb-1",children:" Debugging Tip:"}),i.jsx("p",{children:"Check the browser console for detailed logs about user data access and security rules."})]})]});const w=i.jsxs("div",{className:"flex items-center py-4 gap-2",children:[i.jsx(xe,{placeholder:"Filter by customer name...",value:((b=x.getColumn("customerName"))==null?void 0:b.getFilterValue())??"",onChange:S=>{var T;return(T=x.getColumn("customerName"))==null?void 0:T.setFilterValue(S.target.value)},className:"max-w-sm"}),i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"outline",className:"ml-auto",children:"Filter by Status"})}),i.jsxs(Gs,{align:"end",children:[i.jsx(VC,{children:"Payment Status"}),i.jsx(JN,{}),i.jsx(ZN,{checked:((N=x.getColumn("status"))==null?void 0:N.getFilterValue())==="successful",onCheckedChange:S=>{var T;return(T=x.getColumn("status"))==null?void 0:T.setFilterValue(S?"successful":void 0)},children:"Paid"}),i.jsx(ZN,{checked:((E=x.getColumn("status"))==null?void 0:E.getFilterValue())==="failed",onCheckedChange:S=>{var T;return(T=x.getColumn("status"))==null?void 0:T.setFilterValue(S?"failed":void 0)},children:"Failed"}),i.jsx(JN,{}),i.jsx(z,{variant:"ghost",className:"w-full justify-start font-normal h-8 px-2",onClick:()=>{var S;return(S=x.getColumn("status"))==null?void 0:S.setFilterValue(void 0)},children:"Clear filter"})]})]})]}),y=i.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[i.jsx(z,{variant:"outline",size:"sm",onClick:()=>x.previousPage(),disabled:!x.getCanPreviousPage(),children:"Previous"}),i.jsx(z,{variant:"outline",size:"sm",onClick:()=>x.nextPage(),disabled:!x.getCanNextPage(),children:"Next"})]});return i.jsxs(i.Fragment,{children:[l?i.jsxs("div",{children:[w,i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:x.getRowModel().rows.map(({original:S})=>{var T;return i.jsxs(de,{onClick:()=>r(S),className:"cursor-pointer hover:shadow-md transition-shadow",children:[i.jsxs(He,{children:[i.jsx(Ke,{className:"truncate text-lg",children:((T=S.customer)==null?void 0:T.name)||S.service}),i.jsx(Fu,{children:S.createdAt?Ee(S.createdAt.toDate(),"PP"):"N/A"})]}),i.jsxs(ge,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"font-semibold flex items-center",children:[i.jsx(rt,{className:"h-4 w-4 mr-0.5"}),new Intl.NumberFormat("en-IN").format(S.amount)]}),i.jsx(Ce,{variant:S.status==="successful"?"default":"destructive",className:`${S.status==="successful"?"bg-green-600 hover:bg-green-600/90":""} whitespace-nowrap`,children:S.status==="successful"?"Paid":"Failed"})]})]},S.id)})}),x.getRowModel().rows.length===0&&i.jsx("p",{className:"text-center text-muted-foreground py-10",children:"No results."}),x.getPageCount()>1&&y]}):i.jsxs("div",{children:[w,i.jsx(Due,{table:x}),x.getPageCount()>1&&y]}),i.jsx(Lt,{open:!!s,onOpenChange:S=>!S&&r(null),children:i.jsx(At,{className:"max-w-[90vw] sm:max-w-lg rounded-lg",children:s&&i.jsxs(i.Fragment,{children:[i.jsxs(Dt,{children:[i.jsx(Mt,{className:"text-balance",children:s.service}),i.jsx(mo,{children:"Booking Details"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex items-center text-2xl font-bold",children:[i.jsx(rt,{className:"h-6 w-6 mr-1"}),new Intl.NumberFormat("en-IN").format(s.amount)]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(Gt,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:s.createdAt?Ee(s.createdAt.toDate(),"PPP p"):"N/A"})]}),s.petDetails&&i.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[i.jsxs("h4",{className:"font-semibold flex items-center mb-2",children:[i.jsx(ta,{className:"h-4 w-4 mr-2"}),"Pet Details"]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Name:"})," ",s.petDetails.name]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",s.petDetails.petType]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Breed:"})," ",s.petDetails.breed]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Age:"})," ",s.petDetails.age," years"]}),s.petDetails.dateOfBirth&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Mm,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"font-medium",children:"D.O.B:"}),i.jsx("span",{className:"ml-1",children:Ee(new Date(s.petDetails.dateOfBirth),"MMM d, yyyy")})]}),s.petDetails.weight!==void 0&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Weight:"})," ",s.petDetails.weight," kg"]}),s.petDetails.sex&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Sex:"})," ",s.petDetails.sex]}),s.petDetails.aggressionLevel&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Aggression Level:"})," ",s.petDetails.aggressionLevel]}),s.petDetails.matingInterest!==void 0&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Mating Interest:"})," ",s.petDetails.matingInterest?"Yes":"No"]}),s.petDetails.sex==="Female"&&s.petDetails.pregnancyCount!==void 0&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Times Pregnant:"})," ",s.petDetails.pregnancyCount]}),s.petDetails.sex==="Female"&&s.petDetails.pupCount!==void 0&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Total Offspring:"})," ",s.petDetails.pupCount]})]})]}),((I=s.petDetails)==null?void 0:I.vaccinationScheduleImages)&&s.petDetails.vaccinationScheduleImages.length>0&&i.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[i.jsxs("h4",{className:"font-semibold flex items-center mb-2",children:[i.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Vaccination Schedule Images"]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:s.petDetails.vaccinationScheduleImages.map((S,T)=>i.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"block relative group",children:[i.jsx("img",{src:S,alt:`Vaccination Schedule ${T+1}`,className:"w-full h-24 object-cover rounded-md border border-gray-300 group-hover:opacity-75 transition-opacity"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:i.jsx(Eye,{className:"h-6 w-6 text-white"})})]},T))})]}),s.vaccines&&s.vaccines.length>0&&i.jsxs("div",{className:"border rounded-lg p-3 bg-muted/30",children:[i.jsxs("h4",{className:"font-semibold flex items-center mb-2",children:[i.jsx(Stethoscope,{className:"h-4 w-4 mr-2"}),"Vaccines Administered"]}),i.jsx("ul",{className:"list-disc list-inside text-sm space-y-1",children:s.vaccines.map((S,T)=>i.jsxs("li",{children:[S.name," (",S.price.toFixed(2),")"]},T))})]}),((A=s.customer)==null?void 0:A.name)&&i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(CT,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:["Customer: ",s.customer.name]})]}),((C=s.customer)==null?void 0:C.phone)&&i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(Fm,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{children:["Contact: ",s.customer.phone]})]}),((_=s.customer)==null?void 0:_.address)&&i.jsxs("div",{className:"flex items-start text-sm text-muted-foreground",children:[i.jsx(Os,{className:"h-4 w-4 mr-2 mt-0.5 flex-shrink-0"}),i.jsxs("span",{className:"break-words",children:["Address: ",`${s.customer.address}, ${s.customer.city} - ${s.customer.postalCode}`]})]}),i.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[i.jsx(cr,{className:"h-4 w-4 mr-2"}),i.jsxs("span",{className:"font-mono text-xs break-all",children:["User ID: ",s.userId]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Payment ID: ",i.jsx("span",{className:"font-mono text-xs break-all",children:s.paymentId})]}),i.jsxs(Ce,{variant:s.status==="successful"?"default":"destructive",className:`${s.status==="successful"?"bg-green-600 hover:bg-green-600/90":""} whitespace-nowrap`,children:["Status: ",s.status==="successful"?"Paid":"Failed"]})]}),i.jsxs(Dr,{className:"flex gap-2",children:[i.jsx(z,{onClick:()=>r(null),variant:"outline",children:"Close"}),s.status==="successful"&&s.reminderId&&i.jsxs(z,{onClick:g,disabled:o,className:"bg-green-600 hover:bg-green-700",children:[i.jsx(kj,{className:"h-4 w-4 mr-2"}),o?"Marking Complete...":"Mark Home Visit Done"]})]})]})})})]})};var yS="Checkbox",[Lue,mhe]=Ws(yS),[Vue,$ue]=Lue(yS),cV=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[f,g]=p.useState(null),v=nt(e,E=>g(E)),x=p.useRef(!1),w=f?d||!!f.closest("form"):!0,[y=!1,b]=yi({prop:r,defaultProp:a,onChange:u}),N=p.useRef(y);return p.useEffect(()=>{const E=f==null?void 0:f.form;if(E){const I=()=>b(N.current);return E.addEventListener("reset",I),()=>E.removeEventListener("reset",I)}},[f,b]),i.jsxs(Vue,{scope:n,state:y,disabled:l,children:[i.jsx(Ae.button,{type:"button",role:"checkbox","aria-checked":ml(y)?"mixed":y,"aria-required":o,"data-state":hV(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onKeyDown:ue(t.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:ue(t.onClick,E=>{b(I=>ml(I)?!0:!I),w&&(x.current=E.isPropagationStopped(),x.current||E.stopPropagation())})}),w&&i.jsx(Uue,{control:f,bubbles:!x.current,name:s,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:ml(a)?!1:a})]})});cV.displayName=yS;var uV="CheckboxIndicator",dV=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...r}=t,a=$ue(uV,n);return i.jsx(qn,{present:s||ml(a.state)||a.state===!0,children:i.jsx(Ae.span,{"data-state":hV(a.state),"data-disabled":a.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});dV.displayName=uV;var Uue=t=>{const{control:e,checked:n,bubbles:s=!0,defaultChecked:r,...a}=t,o=p.useRef(null),l=X0(n),c=Jv(e);p.useEffect(()=>{const d=o.current,h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const v=new Event("click",{bubbles:s});d.indeterminate=ml(n),g.call(d,ml(n)?!1:n),d.dispatchEvent(v)}},[l,n,s]);const u=p.useRef(ml(n)?!1:n);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ml(t){return t==="indeterminate"}function hV(t){return ml(t)?"indeterminate":t?"checked":"unchecked"}var fV=cV,Bue=dV;const Of=p.forwardRef(({className:t,...e},n)=>i.jsx(fV,{ref:n,className:ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(Bue,{className:ie("flex items-center justify-center text-current"),children:i.jsx(Wd,{className:"h-4 w-4"})})}));Of.displayName=fV.displayName;const zue=$c({name:cn().min(3,"Vaccine name must be at least 3 characters."),price:c_.number({invalid_type_error:"Price must be a number."}).min(0,"Price must be a positive number.").finite("Price must be a valid number."),category:$0(["Dog","Cat","Both"],{required_error:"Please select a category."}),includeServiceCharge:Rae().default(!1).optional(),serviceCharge:c_.number({invalid_type_error:"Service charge must be a number."}).min(0).optional()}).refine(t=>!(t.includeServiceCharge&&(t.serviceCharge===void 0||t.serviceCharge<0)),{message:"Service charge is required when included.",path:["serviceCharge"]}),Hue=async t=>await Ei(Ze(he,"products"),{...t,createdAt:_t()}),Wue=({onSuccess:t})=>{const e=rn(),n=hh({resolver:fh(zue),defaultValues:{name:"",price:0,category:void 0,includeServiceCharge:!1,serviceCharge:300}}),s=n.watch("includeServiceCharge"),r=dt({mutationFn:Hue,onSuccess:()=>{H.success("Product added successfully!"),n.reset(),e.invalidateQueries({queryKey:["products"]}),t&&t()},onError:o=>{H.error(`Failed to add product: ${o.message}`)}}),a=o=>{const l={name:o.name,price:o.price,category:o.category};o.includeServiceCharge&&(l.serviceCharge=o.serviceCharge),r.mutate(l)};return i.jsx(mh,{...n,children:i.jsxs("form",{onSubmit:n.handleSubmit(a),className:"space-y-4",children:[i.jsx(Ct,{control:n.control,name:"name",render:({field:o})=>i.jsxs(bt,{children:[i.jsx(Tt,{children:"Vaccine Name"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"e.g., Rabies Booster",...o})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:n.control,name:"price",render:({field:o})=>i.jsxs(bt,{children:[i.jsx(Tt,{children:"Price (INR)"}),i.jsx(Nt,{children:i.jsx(xe,{type:"number",placeholder:"e.g., 500.00",...o})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:n.control,name:"category",render:({field:o})=>i.jsxs(bt,{children:[i.jsx(Tt,{children:"Category"}),i.jsxs(_n,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(Nt,{children:i.jsx(hn,{children:i.jsx(jn,{placeholder:"Select pet category"})})}),i.jsxs(fn,{children:[i.jsx(Ve,{value:"Dog",children:"Dog"}),i.jsx(Ve,{value:"Cat",children:"Cat"}),i.jsx(Ve,{value:"Both",children:"Both (Dog & Cat)"})]})]}),i.jsx(St,{})]})}),i.jsx(Ct,{control:n.control,name:"includeServiceCharge",render:({field:o})=>i.jsxs(bt,{className:"flex flex-row items-center space-x-3 space-y-0 rounded-md border p-4",children:[i.jsx(Nt,{children:i.jsx(Of,{checked:o.value,onCheckedChange:o.onChange})}),i.jsx("div",{className:"space-y-1 leading-none",children:i.jsx(Tt,{children:"Include Service Charge"})})]})}),s&&i.jsx(Ct,{control:n.control,name:"serviceCharge",render:({field:o})=>i.jsxs(bt,{className:"animate-in fade-in",children:[i.jsx(Tt,{children:"Service Charge (INR)"}),i.jsx(Nt,{children:i.jsx(xe,{type:"number",...o})}),i.jsx(St,{})]})}),i.jsx(z,{type:"submit",disabled:r.isPending,className:"w-full sm:w-auto",children:r.isPending?"Adding...":"Add Product"})]})})},que=$c({name:cn().min(3,"Vaccine name must be at least 3 characters."),price:c_.number({invalid_type_error:"Price must be a number."}).min(0,"Price must be a positive number."),category:$0(["Dog","Cat","Both"],{required_error:"Please select a category."})}),Gue=({product:t,open:e,onOpenChange:n})=>{const s=rn(),r=hh({resolver:fh(que),defaultValues:{name:t.name,price:t.price,category:t.category}}),a=dt({mutationFn:async l=>{const c=at(he,"products",t.id);await Wn(c,l)},onSuccess:()=>{H.success("Product updated successfully!"),s.invalidateQueries({queryKey:["products"]}),n(!1)},onError:l=>H.error(`Failed to update product: ${l.message}`)}),o=l=>a.mutate(l);return i.jsx(Lt,{open:e,onOpenChange:n,children:i.jsxs(At,{children:[i.jsx(Dt,{children:i.jsx(Mt,{children:"Edit Product"})}),i.jsx(mh,{...r,children:i.jsxs("form",{onSubmit:r.handleSubmit(o),className:"space-y-4",children:[i.jsx(Ct,{control:r.control,name:"name",render:({field:l})=>i.jsxs(bt,{children:[i.jsx(Tt,{children:"Vaccine Name"}),i.jsx(Nt,{children:i.jsx(xe,{...l})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:r.control,name:"price",render:({field:l})=>i.jsxs(bt,{children:[i.jsx(Tt,{children:"Price (INR)"}),i.jsx(Nt,{children:i.jsx(xe,{type:"number",...l})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:r.control,name:"category",render:({field:l})=>i.jsxs(bt,{children:[i.jsx(Tt,{children:"Category"}),i.jsxs(_n,{onValueChange:l.onChange,defaultValue:l.value,children:[i.jsx(Nt,{children:i.jsx(hn,{children:i.jsx(jn,{placeholder:"Select pet category"})})}),i.jsxs(fn,{children:[i.jsx(Ve,{value:"Dog",children:"Dog"}),i.jsx(Ve,{value:"Cat",children:"Cat"}),i.jsx(Ve,{value:"Both",children:"Both (Dog & Cat)"})]})]}),i.jsx(St,{})]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",children:"Cancel"})}),i.jsx(z,{type:"submit",disabled:a.isPending,children:a.isPending?"Saving...":"Save Changes"})]})]})})]})})},Kue=()=>{const{data:t,isLoading:e,error:n}=w5(),s=rn(),[r,a]=p.useState(!1),[o,l]=p.useState(!1),[c,u]=p.useState(!1),[d,h]=p.useState(null),f=dt({mutationFn:async v=>{const x=at(he,"products",v);await oh(x)},onSuccess:()=>{H.success("Product deleted successfully!"),s.invalidateQueries({queryKey:["products"]}),u(!1),h(null)},onError:v=>H.error(`Failed to delete product: ${v.message}`)}),g=()=>{d&&f.mutate(d.id)};return n?i.jsxs("p",{children:["Error loading products: ",n.message]}):i.jsxs(i.Fragment,{children:[i.jsxs(de,{children:[i.jsxs(He,{className:"flex flex-row items-center justify-between",children:[i.jsx(Ke,{children:"Manage Products"}),i.jsxs(Lt,{open:r,onOpenChange:a,children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{size:"sm",children:[i.jsx(ea,{className:"mr-2"})," Add Product"]})}),i.jsxs(At,{children:[i.jsx(Dt,{children:i.jsx(Mt,{children:"Add New Vaccine Product"})}),i.jsx(Wue,{onSuccess:()=>a(!1)})]})]})]}),i.jsx(ge,{children:i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{children:[i.jsx(_e,{children:"Vaccine Name"}),i.jsx(_e,{children:"Category"}),i.jsx(_e,{children:"Price (INR)"}),i.jsx(_e,{className:"text-right",children:"Actions"})]})}),i.jsx(Bs,{children:e?Array.from({length:3}).map((v,x)=>i.jsxs(yt,{children:[i.jsx(pe,{children:i.jsx(Me,{className:"h-6 w-48"})}),i.jsx(pe,{children:i.jsx(Me,{className:"h-6 w-20"})}),i.jsx(pe,{children:i.jsx(Me,{className:"h-6 w-24"})}),i.jsx(pe,{className:"text-right",children:i.jsx(Me,{className:"h-8 w-8 ml-auto"})})]},x)):t&&t.length>0?t.map(v=>i.jsxs(yt,{children:[i.jsx(pe,{className:"font-medium",children:v.name}),i.jsx(pe,{children:i.jsx(Ce,{variant:v.category==="Both"?"default":"secondary",children:v.category})}),i.jsxs(pe,{children:["",v.price.toFixed(2)]}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsxs(z,{variant:"ghost",className:"h-8 w-8 p-0",children:[i.jsx("span",{className:"sr-only",children:"Open menu"}),i.jsx(Ci,{className:"h-4 w-4"})]})}),i.jsxs(Gs,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{h(v),l(!0)},children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"})," Edit"]}),i.jsxs(Wt,{className:"text-destructive",onClick:()=>{h(v),u(!0)},children:[i.jsx(la,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},v.id)):i.jsx(yt,{children:i.jsx(pe,{colSpan:4,className:"text-center",children:"No products found."})})})]})})]}),d&&o&&i.jsx(Gue,{product:d,open:o,onOpenChange:l}),i.jsx(Bl,{open:c,onOpenChange:u,children:i.jsxs(ao,{children:[i.jsxs(oo,{children:[i.jsx(co,{children:"Are you sure?"}),i.jsxs(uo,{children:['This action cannot be undone. This will permanently delete the product "',d==null?void 0:d.name,'".']})]}),i.jsxs(lo,{children:[i.jsx(fo,{children:"Cancel"}),i.jsx(ho,{onClick:g,disabled:f.isPending,children:f.isPending?"Deleting...":"Delete"})]})]})})]})},Que=()=>{const t=rn(),{isAdmin:e}=en(),n=async()=>{if(!e)return[];const u=Ze(he,"bookingSlots"),d=ts(u,Hr("datetime","desc"));return(await Rt(d)).docs.map(f=>({id:f.id,...f.data()}))},{data:s,isLoading:r,error:a}=In({queryKey:["bookingSlots"],queryFn:n,enabled:!!e}),o=dt({mutationFn:u=>Ei(Ze(he,"bookingSlots"),{datetime:Nn.fromDate(u),isBooked:!1,createdAt:_t()}),onSuccess:()=>{t.invalidateQueries({queryKey:["bookingSlots"]})}}),l=dt({mutationFn:async({date:u,startTime:d,endTime:h,interval:f})=>{const g=ev(he),v=Ze(he,"bookingSlots");let x=nv(qN(zee(Bee(u,0),0),0),d);const w=nv(u,h);for(;x<w;){const y=at(v);g.set(y,{datetime:Nn.fromDate(x),isBooked:!1,createdAt:_t()}),x=EJ(x,f)}return g.commit()},onSuccess:()=>{t.invalidateQueries({queryKey:["bookingSlots"]})}}),c=dt({mutationFn:u=>oh(at(he,"bookingSlots",u)),onSuccess:()=>{t.invalidateQueries({queryKey:["bookingSlots"]})}});return{slots:s,isLoading:r,error:a,addSlot:o.mutateAsync,addSlotsBatch:l.mutateAsync,deleteSlot:c.mutateAsync}},Yue=$c({date:Jg({required_error:"A date is required."})}),Xue=()=>{const{slots:t,isLoading:e,error:n,addSlotsBatch:s,deleteSlot:r}=Que(),a=hh({resolver:fh(Yue)}),o=async c=>{try{const u=t==null?void 0:t.filter(d=>Ns(d.datetime.toDate(),c.date)).length;if(u&&u>0){H.warning("Slots already exist for this date. Delete them first to regenerate.",{description:"This prevents creating duplicate time slots."});return}await s({date:c.date,startTime:9,endTime:17,interval:30}),H.success("Booking slots generated for "+Ee(c.date,"PPP")),a.reset({date:void 0})}catch(u){console.error("Failed to add slots:",u),H.error("Failed to generate booking slots.")}},l=async c=>{if(c.isBooked){H.warning("Cannot delete a booked slot.");return}if(window.confirm("Are you sure you want to delete this slot?"))try{await r(c.id),H.success("Slot deleted successfully.")}catch(u){console.error("Failed to delete slot:",u),H.error("Failed to delete slot.")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsx(mh,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4 md:space-y-0 md:flex md:items-end md:gap-4",children:[i.jsx(Ct,{control:a.control,name:"date",render:({field:c})=>i.jsxs(bt,{className:"flex flex-col",children:[i.jsx(Tt,{className:"text-white",children:"Generate Slots for Date"}),i.jsxs(Qa,{children:[i.jsx(Ya,{asChild:!0,children:i.jsx(Nt,{children:i.jsxs(z,{variant:"outline",className:ie("w-full sm:w-[240px] pl-3 text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!c.value&&"text-slate-400"),children:[c.value?Ee(c.value,"PPP"):i.jsx("span",{children:"Pick a date"}),i.jsx(Gt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),i.jsx(ia,{className:"w-auto p-0 bg-slate-800 border-slate-700",align:"start",children:i.jsx(Mc,{mode:"single",selected:c.value,onSelect:c.onChange,disabled:u=>u<Ka(),initialFocus:!0,className:"bg-slate-800 text-white"})})]}),i.jsx(St,{className:"text-red-400"})]})}),i.jsx(z,{type:"submit",disabled:a.formState.isSubmitting,className:"bg-blue-600 hover:bg-blue-700 text-white",children:a.formState.isSubmitting?"Generating...":"Generate Slots"})]})}),i.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-800/50",children:i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700 hover:bg-slate-700/50",children:[i.jsx(_e,{className:"text-slate-300 font-medium",children:"Date & Time"}),i.jsx(_e,{className:"text-slate-300 font-medium",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300 font-medium",children:"Actions"})]})}),i.jsx(Bs,{children:e?i.jsx(yt,{children:i.jsx(pe,{colSpan:3,className:"p-0",children:i.jsx("div",{className:"p-4",children:i.jsx(nd,{})})})}):n?i.jsx(yt,{children:i.jsx(pe,{colSpan:3,className:"h-24 text-center text-red-400",children:"Failed to load slots."})}):t&&t.length>0?t.map(c=>i.jsxs(yt,{className:ie("border-slate-700 hover:bg-slate-700/30 transition-colors",c.isBooked&&"bg-slate-700/20"),children:[i.jsx(pe,{className:"font-medium text-white",children:Ee(c.datetime.toDate(),"PPP p")}),i.jsx(pe,{children:i.jsx("span",{className:ie("px-3 py-1 rounded-full text-xs font-medium",c.isBooked?"bg-red-500/20 text-red-300 border border-red-500/30":"bg-green-500/20 text-green-300 border border-green-500/30"),children:c.isBooked?"Booked":"Available"})}),i.jsx(pe,{className:"text-right",children:i.jsx(z,{variant:"ghost",size:"icon",onClick:()=>l(c),disabled:c.isBooked,className:"h-8 w-8 text-slate-400 hover:text-red-400 hover:bg-red-500/10 disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Delete slot",children:i.jsx(la,{className:"h-4 w-4"})})})]},c.id)):i.jsx(yt,{children:i.jsx(pe,{colSpan:3,className:"h-24 text-center text-slate-400",children:"No slots found. Generate some slots to get started."})})})]})})]})},eo=p.forwardRef(({className:t,...e},n)=>i.jsx("textarea",{className:ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));eo.displayName="Textarea";const Zue=()=>{const{allCategories:t,isLoading:e,addCategory:n,updateCategory:s,deleteCategory:r,isAddingCategory:a,isUpdatingCategory:o,isDeletingCategory:l}=dS(),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(!1),[v,x]=p.useState(null),[w,y]=p.useState({name:"",description:"",isActive:!0}),[b,N]=p.useState(null),[E,I]=p.useState(""),A=()=>{y({name:"",description:"",isActive:!0}),N(null),I("")},C=P=>{var ee;const G=(ee=P.target.files)==null?void 0:ee[0];G&&(N(G),I(URL.createObjectURL(G)))},_=async()=>{if(!w.name.trim()){H.error("Category name is required");return}try{await n({categoryData:w,imageFile:b||void 0}),u(!1),A()}catch(P){console.error("Error adding category:",P)}},S=async()=>{if(!v||!w.name.trim()){H.error("Category name is required");return}try{await s({categoryId:v.id,categoryData:w,imageFile:b||void 0}),h(!1),x(null),A()}catch(P){console.error("Error updating category:",P)}},T=async()=>{if(v)try{await r(v.id),g(!1),x(null)}catch(P){console.error("Error deleting category:",P)}},k=P=>{x(P),y({name:P.name,description:P.description||"",isActive:P.isActive}),I(P.imageUrl||""),h(!0)},D=P=>{x(P),g(!0)};return e?i.jsxs(de,{children:[i.jsx(He,{children:i.jsx(Ke,{children:"Category Management"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((P,G)=>i.jsx(Me,{className:"h-16 w-full"},G))})})]}):i.jsxs(i.Fragment,{children:[i.jsxs(de,{children:[i.jsxs(He,{className:"flex flex-row items-center justify-between",children:[i.jsx(Ke,{children:"Category Management"}),i.jsxs(Lt,{open:c,onOpenChange:u,children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{onClick:A,children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Category"]})}),i.jsxs(At,{className:"max-w-md",children:[i.jsx(Dt,{children:i.jsx(Mt,{children:"Add New Category"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"name",children:"Category Name *"}),i.jsx(xe,{id:"name",value:w.name,onChange:P=>y({...w,name:P.target.value}),placeholder:"e.g., Food and Treats"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"description",children:"Description"}),i.jsx(eo,{id:"description",value:w.description,onChange:P=>y({...w,description:P.target.value}),placeholder:"Category description...",rows:3})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"image",children:"Category Image"}),i.jsx(xe,{id:"image",type:"file",accept:"image/*",onChange:C}),E&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:E,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"isActive",checked:w.isActive,onCheckedChange:P=>y({...w,isActive:P})}),i.jsx(me,{htmlFor:"isActive",children:"Active"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",children:"Cancel"})}),i.jsx(z,{onClick:_,disabled:a,children:a?"Adding...":"Add Category"})]})]})]})]})]}),i.jsx(ge,{children:i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{children:[i.jsx(_e,{children:"Image"}),i.jsx(_e,{children:"Name"}),i.jsx(_e,{children:"Description"}),i.jsx(_e,{children:"Status"}),i.jsx(_e,{className:"text-right",children:"Actions"})]})}),i.jsx(Bs,{children:t.length>0?t.map(P=>i.jsxs(yt,{children:[i.jsx(pe,{children:P.imageUrl?i.jsx("img",{src:P.imageUrl,alt:P.name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(qd,{className:"h-6 w-6 text-gray-400"})})}),i.jsx(pe,{className:"font-medium",children:P.name}),i.jsx(pe,{className:"max-w-xs truncate",children:P.description||"No description"}),i.jsx(pe,{children:i.jsx(Ce,{variant:P.isActive?"default":"secondary",children:P.isActive?"Active":"Inactive"})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",children:[i.jsxs(Wt,{onClick:()=>k(P),children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-destructive",onClick:()=>D(P),children:[i.jsx(la,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},P.id)):i.jsx(yt,{children:i.jsx(pe,{colSpan:5,className:"text-center",children:"No categories found."})})})]})})]}),i.jsx(Lt,{open:d,onOpenChange:h,children:i.jsxs(At,{className:"max-w-md",children:[i.jsx(Dt,{children:i.jsx(Mt,{children:"Edit Category"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"edit-name",children:"Category Name *"}),i.jsx(xe,{id:"edit-name",value:w.name,onChange:P=>y({...w,name:P.target.value}),placeholder:"e.g., Food and Treats"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"edit-description",children:"Description"}),i.jsx(eo,{id:"edit-description",value:w.description,onChange:P=>y({...w,description:P.target.value}),placeholder:"Category description...",rows:3})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"edit-image",children:"Category Image"}),i.jsx(xe,{id:"edit-image",type:"file",accept:"image/*",onChange:C}),E&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:E,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"edit-isActive",checked:w.isActive,onCheckedChange:P=>y({...w,isActive:P})}),i.jsx(me,{htmlFor:"edit-isActive",children:"Active"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",children:"Cancel"})}),i.jsx(z,{onClick:S,disabled:o,children:o?"Updating...":"Update Category"})]})]})]})}),i.jsx(Bl,{open:f,onOpenChange:g,children:i.jsxs(ao,{children:[i.jsxs(oo,{children:[i.jsx(co,{children:"Are you sure?"}),i.jsxs(uo,{children:['This action cannot be undone. This will permanently delete the category "',v==null?void 0:v.name,'".']})]}),i.jsxs(lo,{children:[i.jsx(fo,{children:"Cancel"}),i.jsx(ho,{onClick:T,disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})},Jue=()=>{const{products:t,isLoading:e,addProduct:n,updateProduct:s,deleteProduct:r,isAddingProduct:a,isUpdatingProduct:o,isDeletingProduct:l}=k6(),{categories:c}=dS(),[u,d]=p.useState(!1),[h,f]=p.useState(!1),[g,v]=p.useState(!1),[x,w]=p.useState(null),[y,b]=p.useState({name:"",description:"",price:0,categoryId:"",petType:"",isFeatured:!1,isBestSeller:!1,isVaccine:!1,serviceCharge:0,isActive:!0,stock:0,sku:""}),[N,E]=p.useState(null),[I,A]=p.useState([]),[C,_]=p.useState(""),[S,T]=p.useState([]),k=()=>{b({name:"",description:"",price:0,categoryId:"",petType:"",isFeatured:!1,isBestSeller:!1,isVaccine:!1,serviceCharge:0,isActive:!0,stock:0,sku:""}),E(null),A([]),_(""),T([])},D=F=>{var B;const L=(B=F.target.files)==null?void 0:B[0];L&&(E(L),_(URL.createObjectURL(L)))},P=F=>{const L=Array.from(F.target.files||[]);A(L),T(L.map(B=>URL.createObjectURL(B)))},G=async()=>{if(!y.name.trim()||!y.categoryId||!y.petType){H.error("Please fill in all required fields");return}try{await n({productData:y,imageFile:N||void 0,galleryFiles:I.length>0?I:void 0}),d(!1),k()}catch(F){console.error("Error adding product:",F)}},ee=async()=>{if(!x||!y.name.trim()||!y.categoryId||!y.petType){H.error("Please fill in all required fields");return}try{await s({productId:x.id,productData:y,imageFile:N||void 0,galleryFiles:I.length>0?I:void 0}),f(!1),w(null),k()}catch(F){console.error("Error updating product:",F)}},te=async()=>{if(x)try{await r(x.id),v(!1),w(null)}catch(F){console.error("Error deleting product:",F)}},Q=F=>{w(F),b({name:F.name,description:F.description,price:F.price,categoryId:F.categoryId,petType:F.petType,isFeatured:F.isFeatured,isBestSeller:F.isBestSeller,isVaccine:F.isVaccine,serviceCharge:F.serviceCharge||0,isActive:F.isActive,stock:F.stock||0,sku:F.sku||""}),_(F.imageUrl||""),T(F.galleryImages||[]),f(!0)},O=F=>{w(F),v(!0)},V=F=>{const L=c.find(B=>B.id===F);return(L==null?void 0:L.name)||"Unknown Category"};if(e)return i.jsxs(de,{children:[i.jsx(He,{children:i.jsx(Ke,{children:"Shop Product Management"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((F,L)=>i.jsx(Me,{className:"h-16 w-full"},L))})})]});const Z=({isEdit:F=!1})=>i.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"name",children:"Product Name *"}),i.jsx(xe,{id:"name",value:y.name,onChange:L=>b({...y,name:L.target.value}),placeholder:"e.g., Premium Dog Food"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"sku",children:"SKU"}),i.jsx(xe,{id:"sku",value:y.sku,onChange:L=>b({...y,sku:L.target.value}),placeholder:"e.g., PDF001"})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"description",children:"Description *"}),i.jsx(eo,{id:"description",value:y.description,onChange:L=>b({...y,description:L.target.value}),placeholder:"Product description...",rows:3})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"price",children:"Price () *"}),i.jsx(xe,{id:"price",type:"number",value:y.price,onChange:L=>b({...y,price:Number(L.target.value)}),placeholder:"0.00",min:"0",step:"0.01"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"stock",children:"Stock Quantity"}),i.jsx(xe,{id:"stock",type:"number",value:y.stock,onChange:L=>b({...y,stock:Number(L.target.value)}),placeholder:"0",min:"0"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"category",children:"Category *"}),i.jsxs(_n,{value:y.categoryId,onValueChange:L=>b({...y,categoryId:L}),children:[i.jsx(hn,{children:i.jsx(jn,{placeholder:"Select category"})}),i.jsx(fn,{children:c.map(L=>i.jsx(Ve,{value:L.id,children:L.name},L.id))})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"petType",children:"Pet Type *"}),i.jsxs(_n,{value:y.petType,onValueChange:L=>b({...y,petType:L}),children:[i.jsx(hn,{children:i.jsx(jn,{placeholder:"Select pet type"})}),i.jsxs(fn,{children:[i.jsx(Ve,{value:"Dog",children:"Dog"}),i.jsx(Ve,{value:"Cat",children:"Cat"}),i.jsx(Ve,{value:"Both",children:"Both"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"image",children:"Product Image"}),i.jsx(xe,{id:"image",type:"file",accept:"image/*",onChange:D}),C&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:C,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"gallery",children:"Gallery Images (Multiple)"}),i.jsx(xe,{id:"gallery",type:"file",accept:"image/*",multiple:!0,onChange:P}),S.length>0&&i.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:S.map((L,B)=>i.jsx("img",{src:L,alt:`Gallery ${B+1}`,className:"w-16 h-16 object-cover rounded"},B))})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Of,{id:"isVaccine",checked:y.isVaccine,onCheckedChange:L=>b({...y,isVaccine:!!L})}),i.jsx(me,{htmlFor:"isVaccine",children:"This is a vaccine product"})]}),y.isVaccine&&i.jsxs("div",{children:[i.jsx(me,{htmlFor:"serviceCharge",children:"Service Charge ()"}),i.jsx(xe,{id:"serviceCharge",type:"number",value:y.serviceCharge,onChange:L=>b({...y,serviceCharge:Number(L.target.value)}),placeholder:"0.00",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Of,{id:"isFeatured",checked:y.isFeatured,onCheckedChange:L=>b({...y,isFeatured:!!L})}),i.jsx(me,{htmlFor:"isFeatured",children:"Featured Product"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Of,{id:"isBestSeller",checked:y.isBestSeller,onCheckedChange:L=>b({...y,isBestSeller:!!L})}),i.jsx(me,{htmlFor:"isBestSeller",children:"Best Seller"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"isActive",checked:y.isActive,onCheckedChange:L=>b({...y,isActive:L})}),i.jsx(me,{htmlFor:"isActive",children:"Active"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",children:"Cancel"})}),i.jsx(z,{onClick:F?ee:G,disabled:F?o:a,children:F?o?"Updating...":"Update Product":a?"Adding...":"Add Product"})]})]});return i.jsxs(i.Fragment,{children:[i.jsxs(de,{children:[i.jsxs(He,{className:"flex flex-row items-center justify-between",children:[i.jsx(Ke,{children:"Shop Product Management"}),i.jsxs(Lt,{open:u,onOpenChange:d,children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{onClick:k,children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Product"]})}),i.jsxs(At,{className:"max-w-2xl",children:[i.jsx(Dt,{children:i.jsx(Mt,{children:"Add New Product"})}),i.jsx(Z,{})]})]})]}),i.jsx(ge,{children:i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{children:[i.jsx(_e,{children:"Image"}),i.jsx(_e,{children:"Name"}),i.jsx(_e,{children:"Category"}),i.jsx(_e,{children:"Pet Type"}),i.jsx(_e,{children:"Price"}),i.jsx(_e,{children:"Tags"}),i.jsx(_e,{children:"Status"}),i.jsx(_e,{className:"text-right",children:"Actions"})]})}),i.jsx(Bs,{children:t.length>0?t.map(F=>i.jsxs(yt,{children:[i.jsx(pe,{children:F.imageUrl?i.jsx("img",{src:F.imageUrl,alt:F.name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(qd,{className:"h-6 w-6 text-gray-400"})})}),i.jsx(pe,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:F.name}),F.sku&&i.jsxs("div",{className:"text-sm text-gray-500",children:["SKU: ",F.sku]})]})}),i.jsx(pe,{children:V(F.categoryId)}),i.jsx(pe,{children:i.jsx(Ce,{variant:"outline",children:F.petType})}),i.jsxs(pe,{children:["",F.price.toFixed(2)]}),i.jsx(pe,{children:i.jsxs("div",{className:"flex gap-1 flex-wrap",children:[F.isFeatured&&i.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[i.jsx(Cx,{className:"h-3 w-3 mr-1"}),"Featured"]}),F.isBestSeller&&i.jsxs(Ce,{variant:"secondary",className:"text-xs",children:[i.jsx(em,{className:"h-3 w-3 mr-1"}),"Best Seller"]}),F.isVaccine&&i.jsx(Ce,{variant:"outline",className:"text-xs",children:"Vaccine"})]})}),i.jsx(pe,{children:i.jsx(Ce,{variant:F.isActive?"default":"secondary",children:F.isActive?"Active":"Inactive"})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",children:[i.jsxs(Wt,{onClick:()=>Q(F),children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-destructive",onClick:()=>O(F),children:[i.jsx(la,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},F.id)):i.jsx(yt,{children:i.jsx(pe,{colSpan:8,className:"text-center",children:"No products found."})})})]})})]}),i.jsx(Lt,{open:h,onOpenChange:f,children:i.jsxs(At,{className:"max-w-2xl",children:[i.jsx(Dt,{children:i.jsx(Mt,{children:"Edit Product"})}),i.jsx(Z,{isEdit:!0})]})}),i.jsx(Bl,{open:g,onOpenChange:v,children:i.jsxs(ao,{children:[i.jsxs(oo,{children:[i.jsx(co,{children:"Are you sure?"}),i.jsxs(uo,{children:['This action cannot be undone. This will permanently delete the product "',x==null?void 0:x.name,'".']})]}),i.jsxs(lo,{children:[i.jsx(fo,{children:"Cancel"}),i.jsx(ho,{onClick:te,disabled:l,children:l?"Deleting...":"Delete"})]})]})})]})},ede=()=>{const{adminOrders:t,isLoading:e,updateOrderStatus:n,isUpdatingStatus:s}=Pce(),[r,a]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(null),[d,h]=p.useState(""),[f,g]=p.useState(""),[v,x]=p.useState(!1),[w,y]=p.useState(!1),b=gh(),N=S=>{switch(S){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"processing":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"shipped":return"bg-purple-500/20 text-purple-300 border-purple-500/30";case"delivered":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},E=S=>{switch(S){case"paid":return"bg-green-500/20 text-green-300";case"pending":return"bg-yellow-500/20 text-yellow-300";case"failed":return"bg-red-500/20 text-red-300";default:return"bg-slate-500/20 text-slate-300"}},I=t.filter(S=>S.orderNumber.toLowerCase().includes(r.toLowerCase())||S.customerName.toLowerCase().includes(r.toLowerCase())||S.customerPhone.includes(r)),A=S=>{l(S),x(!0)},C=S=>{u(S),h(S.orderStatus),g(S.trackingNumber||""),y(!0)},_=async()=>{if(!(!c||!d))try{await n({userId:c.userId,orderId:c.id,status:d,trackingNumber:d==="shipped"?f:void 0}),y(!1),u(null),h(""),g("")}catch(S){console.error("Error updating order status:",S)}};return e?i.jsxs(de,{children:[i.jsx(He,{children:i.jsx(Ke,{children:"Order Management"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((S,T)=>i.jsx(Me,{className:"h-16 w-full"},T))})})]}):i.jsxs(de,{children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center justify-between",children:[i.jsx("span",{children:"Order Management"}),i.jsxs(Ce,{variant:"secondary",children:[t.length," Orders"]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"text",placeholder:"Search by order number, customer name, or phone...",value:r,onChange:S=>a(S.target.value),className:"pl-10"})]}),I.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Ui,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:t.length===0?"No orders yet":"No orders found"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:t.length===0?"Orders will appear here when customers place them":"Try adjusting your search terms"})]}):b?i.jsx("div",{className:"space-y-4",children:I.map(S=>i.jsx(de,{className:"border",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold",children:["#",S.orderNumber]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:S.customerName})]}),i.jsx(Ce,{className:N(S.orderStatus),children:S.orderStatus})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Total:"}),i.jsxs("div",{className:"flex items-center font-medium",children:[i.jsx(rt,{className:"h-3 w-3 mr-1"}),S.total.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"Payment:"}),i.jsx(Ce,{className:E(S.paymentStatus),size:"sm",children:S.paymentStatus})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>A(S),children:[i.jsx(Gi,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(z,{size:"sm",className:"flex-1",onClick:()=>C(S),children:[i.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Update"]})]})]})},S.id))}):i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{children:[i.jsx(_e,{children:"Order"}),i.jsx(_e,{children:"Customer"}),i.jsx(_e,{children:"Items"}),i.jsx(_e,{children:"Total"}),i.jsx(_e,{children:"Payment"}),i.jsx(_e,{children:"Status"}),i.jsx(_e,{children:"Date"}),i.jsx(_e,{className:"text-right",children:"Actions"})]})}),i.jsx(Bs,{children:I.map(S=>i.jsxs(yt,{children:[i.jsxs(pe,{className:"font-medium",children:["#",S.orderNumber]}),i.jsx(pe,{children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:S.customerName}),i.jsx("p",{className:"text-sm text-muted-foreground",children:S.customerPhone})]})}),i.jsxs(pe,{children:[S.items.length," items"]}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),S.total.toFixed(2)]})}),i.jsx(pe,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ce,{className:E(S.paymentStatus),children:S.paymentStatus}),i.jsx("p",{className:"text-xs text-muted-foreground",children:S.paymentMethod==="cod"?"COD":"Online"})]})}),i.jsx(pe,{children:i.jsx(Ce,{className:N(S.orderStatus),children:S.orderStatus})}),i.jsx(pe,{children:S.createdAt?Ee(S.createdAt.toDate(),"MMM d, yyyy"):"N/A"}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",children:[i.jsxs(Wt,{onClick:()=>A(S),children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"View Details"]}),i.jsxs(Wt,{onClick:()=>C(S),children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Update Status"]})]})]})})]},S.id))})]}),i.jsx(Lt,{open:v,onOpenChange:x,children:i.jsxs(At,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx(Dt,{children:i.jsxs(Mt,{children:["Order Details - #",o==null?void 0:o.orderNumber]})}),o&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(de,{children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(cr,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"Customer"})]}),i.jsx("p",{className:"font-semibold",children:o.customerName}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.customerPhone})]})}),i.jsx(de,{children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(Gt,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"Order Date"})]}),i.jsx("p",{className:"font-semibold",children:o.createdAt?Ee(o.createdAt.toDate(),"MMM d, yyyy, p"):"N/A"})]})}),i.jsx(de,{children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(rt,{className:"h-4 w-4 mr-2 text-muted-foreground"}),i.jsx("span",{className:"font-medium",children:"Total Amount"})]}),i.jsxs("p",{className:"font-semibold text-lg",children:["",o.total.toFixed(2)]})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium mb-3",children:"Items Ordered"}),i.jsx("div",{className:"space-y-2",children:o.items.map((S,T)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-muted rounded-lg overflow-hidden",children:S.imageUrl?i.jsx("img",{src:S.imageUrl,alt:S.name,className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx(Ui,{className:"h-6 w-6 text-muted-foreground"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:S.name}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Qty: ",S.quantity]})]})]}),i.jsxs("p",{className:"font-medium",children:["",(S.price*S.quantity).toFixed(2)]})]},T))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(Qr,{className:"h-4 w-4 mr-2"}),"Shipping Address"]}),i.jsxs("div",{className:"p-3 border rounded-lg",children:[i.jsx("p",{className:"font-medium",children:o.shippingAddress.fullName}),i.jsx("p",{className:"text-sm text-muted-foreground",children:o.shippingAddress.phone}),i.jsxs("p",{className:"text-sm mt-1",children:[o.shippingAddress.address,o.shippingAddress.landmark&&`, ${o.shippingAddress.landmark}`]}),i.jsxs("p",{className:"text-sm",children:[o.shippingAddress.city,", ",o.shippingAddress.state," - ",o.shippingAddress.postalCode]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(jx,{className:"h-4 w-4 mr-2"}),"Payment Details"]}),i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Method:"}),i.jsx("span",{className:"capitalize",children:o.paymentMethod==="cod"?"Cash on Delivery":"Online Payment"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Status:"}),i.jsx(Ce,{className:E(o.paymentStatus),children:o.paymentStatus})]}),o.razorpayPaymentId&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Payment ID:"}),i.jsx("span",{className:"font-mono",children:o.razorpayPaymentId})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium mb-3 flex items-center",children:[i.jsx(Mj,{className:"h-4 w-4 mr-2"}),"Order Status"]}),i.jsxs("div",{className:"space-y-2 p-3 border rounded-lg",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Status:"}),i.jsx(Ce,{className:N(o.orderStatus),children:o.orderStatus})]}),o.trackingNumber&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Tracking:"}),i.jsx("span",{className:"font-mono",children:o.trackingNumber})]})]})]})]})]})]})}),i.jsx(Lt,{open:w,onOpenChange:y,children:i.jsxs(At,{children:[i.jsx(Dt,{children:i.jsxs(Mt,{children:["Update Order Status - #",c==null?void 0:c.orderNumber]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"status",children:"Order Status"}),i.jsxs(_n,{value:d,onValueChange:h,children:[i.jsx(hn,{children:i.jsx(jn,{placeholder:"Select status"})}),i.jsxs(fn,{children:[i.jsx(Ve,{value:"confirmed",children:"Confirmed"}),i.jsx(Ve,{value:"processing",children:"Processing"}),i.jsx(Ve,{value:"shipped",children:"Shipped"}),i.jsx(Ve,{value:"delivered",children:"Delivered"}),i.jsx(Ve,{value:"cancelled",children:"Cancelled"})]})]})]}),d==="shipped"&&i.jsxs("div",{children:[i.jsx(me,{htmlFor:"tracking",children:"Tracking Number"}),i.jsx(xe,{id:"tracking",value:f,onChange:S=>g(S.target.value),placeholder:"Enter tracking number"})]})]}),i.jsxs(Dr,{children:[i.jsx(z,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),i.jsx(z,{onClick:_,disabled:s,children:s?"Updating...":"Update Status"})]})]})})]})]})},tde=async()=>{const t=Ze(he,"doctors"),e=ts(t,Hr("createdAt","desc"));return(await Rt(e)).docs.map(s=>({uid:s.id,...s.data()}))},mV=()=>{const{isAdmin:t}=en(),e=rn(),{data:n=[],isLoading:s,error:r}=In({queryKey:["allDoctors"],queryFn:tde,enabled:!!t}),a=dt({mutationFn:async({doctorId:l,isActive:c})=>{const u=at(he,"doctors",l);return Wn(u,{isActive:c,updatedAt:new Date})},onSuccess:(l,{isActive:c})=>{e.invalidateQueries({queryKey:["allDoctors"]}),H.success(`Doctor ${c?"activated":"deactivated"} successfully!`)},onError:l=>{H.error(l.message||"Failed to update doctor status")}});return{doctors:n,isLoading:s,error:r,updateDoctorStatus:(l,c)=>{a.mutate({doctorId:l,isActive:c})},isDeletingDoctor:a.isPending}},nde=()=>{var b;const{doctors:t,isLoading:e,updateDoctorStatus:n,isDeletingDoctor:s}=mV(),[r,a]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(!1),[d,h]=p.useState(!1),f=gh(),g=N=>N?"bg-green-500/20 text-green-300 border-green-500/30":"bg-red-500/20 text-red-300 border-red-500/30",v=t.filter(N=>{var E,I,A,C;return((E=N.name)==null?void 0:E.toLowerCase().includes(r.toLowerCase()))||((I=N.email)==null?void 0:I.toLowerCase().includes(r.toLowerCase()))||((A=N.phoneNumber)==null?void 0:A.includes(r))||((C=N.specialization)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))}),x=N=>{l(N),u(!0)},w=async N=>{try{await n(N.uid,!N.isActive)}catch(E){console.error("Error updating doctor status:",E)}},y=async()=>{if(o)try{await n(o.uid,!1),h(!1),l(null)}catch(N){console.error("Error deactivating doctor:",N)}};return e?i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Doctor Management"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((N,E)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},E))})})]}):i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center justify-between text-white",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(lr,{className:"h-5 w-5 mr-2 text-blue-400"}),"Doctor Management"]}),i.jsxs(Ce,{variant:"secondary",className:"bg-blue-500/20 text-blue-300",children:[t.length," Doctors"]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"text",placeholder:"Search by name, email, phone, or specialization...",value:r,onChange:N=>a(N.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),v.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(lr,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:t.length===0?"No doctors registered yet":"No doctors found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:t.length===0?"Doctors will appear here when they register with the app":"Try adjusting your search terms"})]}):f?i.jsx("div",{className:"space-y-4",children:v.map(N=>{var E;return i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsxs(ir,{className:"h-12 w-12 border-2 border-blue-500/30",children:[i.jsx(gi,{src:N.profileImage}),i.jsx(ar,{className:"bg-blue-500/20 text-blue-300",children:((E=N.name)==null?void 0:E.charAt(0).toUpperCase())||"D"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-white truncate",children:N.name||"Unnamed Doctor"}),i.jsx("p",{className:"text-sm text-slate-400 truncate",children:N.specialization||"General Practice"}),i.jsx("p",{className:"text-xs text-slate-500",children:N.phoneNumber})]}),i.jsx(Ce,{className:g(N.isActive??!0),children:N.isActive!==!1?"Active":"Inactive"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>x(N),children:[i.jsx(Gi,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsx(z,{size:"sm",className:`flex-1 ${N.isActive!==!1?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"}`,onClick:()=>w(N),children:N.isActive!==!1?"Deactivate":"Activate"})]})]})},N.uid)})}):i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(_e,{className:"text-slate-300",children:"Doctor"}),i.jsx(_e,{className:"text-slate-300",children:"Contact"}),i.jsx(_e,{className:"text-slate-300",children:"Specialization"}),i.jsx(_e,{className:"text-slate-300",children:"Experience"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Actions"})]})}),i.jsx(Bs,{children:v.map(N=>{var E;return i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ir,{className:"h-10 w-10 border-2 border-blue-500/30",children:[i.jsx(gi,{src:N.profileImage}),i.jsx(ar,{className:"bg-blue-500/20 text-blue-300",children:((E=N.name)==null?void 0:E.charAt(0).toUpperCase())||"D"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white",children:N.name||"Unnamed Doctor"}),i.jsx("div",{className:"text-sm text-slate-400",children:N.phoneNumber})]})]})}),i.jsx(pe,{children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-white text-sm",children:N.email||"No email"}),i.jsx("div",{className:"text-slate-400 text-xs",children:N.phoneNumber})]})}),i.jsx(pe,{className:"text-white",children:N.specialization||"General Practice"}),i.jsx(pe,{className:"text-white",children:N.experience||"Not specified"}),i.jsx(pe,{children:i.jsx(Ce,{className:g(N.isActive??!0),children:N.isActive!==!1?"Active":"Inactive"})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsxs(Wt,{onClick:()=>x(N),className:"text-white hover:bg-slate-700",children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"View Details"]}),i.jsxs(Wt,{onClick:()=>w(N),className:"text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),N.isActive!==!1?"Deactivate":"Activate"]})]})]})})]},N.uid)})})]}),i.jsx(Lt,{open:c,onOpenChange:u,children:i.jsxs(At,{className:"max-w-2xl bg-slate-800 border-slate-700 max-h-[90vh] overflow-y-auto",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Doctor Profile Details"})}),o&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-700/30 rounded-lg",children:[i.jsxs(ir,{className:"h-16 w-16 border-2 border-blue-500/30",children:[i.jsx(gi,{src:o.profileImage}),i.jsx(ar,{className:"bg-blue-500/20 text-blue-300 text-xl",children:((b=o.name)==null?void 0:b.charAt(0).toUpperCase())||"D"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:o.name||"Unnamed Doctor"}),i.jsx("p",{className:"text-blue-300",children:o.specialization||"General Practice"}),i.jsx(Ce,{className:g(o.isActive??!0),children:o.isActive!==!1?"Active":"Inactive"})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center",children:[i.jsx(Fm,{className:"h-4 w-4 mr-2 text-blue-400"}),"Contact Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-slate-700/20 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Phone"}),i.jsx("p",{className:"text-white",children:o.phoneNumber||"Not provided"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Email"}),i.jsx("p",{className:"text-white",children:o.email||"Not provided"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center",children:[i.jsx(em,{className:"h-4 w-4 mr-2 text-blue-400"}),"Professional Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-3 bg-slate-700/20 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Qualification"}),i.jsx("p",{className:"text-white",children:o.qualification||"Not specified"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Experience"}),i.jsx("p",{className:"text-white",children:o.experience||"Not specified"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Consultation Fee"}),i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.consultationFee||0]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Joined"}),i.jsx("p",{className:"text-white",children:o.createdAt?Ee(o.createdAt.toDate(),"MMM d, yyyy"):"Unknown"})]})]})]}),(o.clinicName||o.clinicAddress)&&i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-white mb-3 flex items-center",children:[i.jsx(Qr,{className:"h-4 w-4 mr-2 text-blue-400"}),"Clinic Information"]}),i.jsxs("div",{className:"p-3 bg-slate-700/20 rounded-lg",children:[o.clinicName&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Clinic Name"}),i.jsx("p",{className:"text-white",children:o.clinicName})]}),o.clinicAddress&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-400",children:"Address"}),i.jsx("p",{className:"text-white",children:o.clinicAddress})]})]})]}),o.bio&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-white mb-3",children:"Professional Bio"}),i.jsx("div",{className:"p-3 bg-slate-700/20 rounded-lg",children:i.jsx("p",{className:"text-white leading-relaxed",children:o.bio})})]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx(z,{onClick:()=>w(o),className:o.isActive!==!1?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:o.isActive!==!1?"Deactivate Doctor":"Activate Doctor"})})]})]})}),i.jsx(Bl,{open:d,onOpenChange:h,children:i.jsxs(ao,{className:"bg-slate-800 border-slate-700",children:[i.jsxs(oo,{children:[i.jsx(co,{className:"text-white",children:"Deactivate Doctor?"}),i.jsxs(uo,{className:"text-slate-400",children:["This will deactivate Dr. ",o==null?void 0:o.name,"'s account. They will not be able to access the doctor panel until reactivated."]})]}),i.jsxs(lo,{children:[i.jsx(fo,{className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(ho,{onClick:y,disabled:s,className:"bg-red-600 hover:bg-red-700",children:s?"Deactivating...":"Deactivate"})]})]})})]})]})},sde=()=>{const t=rn(),e=dt({mutationFn:async({userId:s,transactionId:r,doctorId:a})=>{const o=at(he,"users",s,"transactions",r);return Wn(o,{assignedDoctorId:a,assignedAt:_t(),updatedAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["allTransactions"]}),t.invalidateQueries({queryKey:["doctorBookings"]}),H.success("Doctor assigned successfully!")},onError:s=>{H.error(s.message||"Failed to assign doctor")}}),n=dt({mutationFn:async({userId:s,transactionId:r})=>{const a=at(he,"users",s,"transactions",r);return Wn(a,{assignedDoctorId:null,assignedAt:null,updatedAt:_t()})},onSuccess:()=>{t.invalidateQueries({queryKey:["allTransactions"]}),t.invalidateQueries({queryKey:["doctorBookings"]}),H.success("Doctor unassigned successfully!")},onError:s=>{H.error(s.message||"Failed to unassign doctor")}});return{assignDoctor:e.mutateAsync,unassignDoctor:n.mutateAsync,isAssigning:e.isPending,isUnassigning:n.isPending}},rde=()=>{var A;const{transactions:t,isLoading:e}=J6(),{doctors:n,isLoading:s}=mV(),{assignDoctor:r,isAssigning:a}=sde(),[o,l]=p.useState(""),[c,u]=p.useState(null),[d,h]=p.useState(""),[f,g]=p.useState(!1);gh();const v=t.filter(C=>C.status==="successful"&&!C.assignedDoctorId),x=t.filter(C=>C.status==="successful"&&C.assignedDoctorId),w=v.filter(C=>{var _,S,T;return((S=(_=C.customer)==null?void 0:_.name)==null?void 0:S.toLowerCase().includes(o.toLowerCase()))||C.service.toLowerCase().includes(o.toLowerCase())||((T=C.dogName)==null?void 0:T.toLowerCase().includes(o.toLowerCase()))}),y=x.filter(C=>{var _,S,T;return((S=(_=C.customer)==null?void 0:_.name)==null?void 0:S.toLowerCase().includes(o.toLowerCase()))||C.service.toLowerCase().includes(o.toLowerCase())||((T=C.dogName)==null?void 0:T.toLowerCase().includes(o.toLowerCase()))}),b=C=>{u(C),h(""),g(!0)},N=async()=>{if(!(!c||!d))try{await r({userId:c.userId,transactionId:c.id,doctorId:d}),g(!1),u(null),h("")}catch(C){console.error("Error assigning doctor:",C)}},E=C=>n.find(_=>_.uid===C);if(e||s)return i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Booking Assignment"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((C,_)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},_))})})]});const I=({booking:C,isAssigned:_=!1})=>{var T,k,D,P;const S=_&&C.assignedDoctorId?E(C.assignedDoctorId):null;return i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:C.service}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(cr,{className:"h-4 w-4"}),i.jsx("span",{children:((T=C.customer)==null?void 0:T.name)||"Unknown"})]}),C.dogName&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:C.dogName})]})]})]}),i.jsxs("div",{className:"flex items-center text-white font-medium",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),C.amount.toFixed(2)]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Gt,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{children:C.slotDatetime?Ee(C.slotDatetime.toDate(),"MMM d, yyyy, p"):"Date TBD"})]}),((k=C.customer)==null?void 0:k.phone)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Fm,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{children:C.customer.phone})]}),((D=C.customer)==null?void 0:D.address)&&i.jsxs("div",{className:"flex items-start gap-2 text-slate-300",children:[i.jsx(Qr,{className:"h-4 w-4 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsxs("span",{className:"text-xs line-clamp-2",children:[C.customer.address,", ",C.customer.city," - ",C.customer.postalCode]})]})]}),_&&S?i.jsx("div",{className:"mt-3 p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ir,{className:"h-8 w-8 border border-green-500/30",children:[i.jsx(gi,{src:S.profileImage}),i.jsx(ar,{className:"bg-green-500/20 text-green-300 text-sm",children:((P=S.name)==null?void 0:P.charAt(0).toUpperCase())||"D"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-green-300 font-medium text-sm",children:["Assigned to Dr. ",S.name||"Unknown"]}),i.jsx("p",{className:"text-green-400 text-xs",children:S.specialization||"General Practice"})]})]})}):i.jsx("div",{className:"mt-3",children:i.jsxs(z,{size:"sm",className:"w-full bg-blue-500 hover:bg-blue-600",onClick:()=>b(C),children:[i.jsx(Ky,{className:"h-4 w-4 mr-2"}),"Assign Doctor"]})})]})})};return i.jsxs(i.Fragment,{children:[i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center justify-between text-white",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ky,{className:"h-5 w-5 mr-2 text-blue-400"}),"Booking Assignment"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Ce,{variant:"secondary",className:"bg-orange-500/20 text-orange-300",children:[v.length," Unassigned"]}),i.jsxs(Ce,{variant:"secondary",className:"bg-green-500/20 text-green-300",children:[x.length," Assigned"]})]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"text",placeholder:"Search by customer, service, or pet name...",value:o,onChange:C=>l(C.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(Ln,{className:"h-5 w-5 mr-2 text-orange-400"}),"Unassigned Bookings (",w.length,")"]}),w.length===0?i.jsxs("div",{className:"text-center py-8 bg-slate-700/20 rounded-lg",children:[i.jsx(dn,{className:"h-12 w-12 text-green-400 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-400",children:"All bookings have been assigned!"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:w.map(C=>i.jsx(I,{booking:C},C.id))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[i.jsx(dn,{className:"h-5 w-5 mr-2 text-green-400"}),"Assigned Bookings (",y.length,")"]}),y.length===0?i.jsxs("div",{className:"text-center py-8 bg-slate-700/20 rounded-lg",children:[i.jsx(Ky,{className:"h-12 w-12 text-slate-600 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-400",children:"No bookings have been assigned yet."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(C=>i.jsx(I,{booking:C,isAssigned:!0},C.id))})]})]})]}),i.jsx(Lt,{open:f,onOpenChange:g,children:i.jsxs(At,{className:"bg-slate-800 border-slate-700",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Assign Doctor to Booking"})}),c&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-white mb-2",children:"Booking Details"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{className:"text-slate-300",children:["Service: ",c.service]}),i.jsxs("p",{className:"text-slate-300",children:["Customer: ",(A=c.customer)==null?void 0:A.name]}),c.dogName&&i.jsxs("p",{className:"text-slate-300",children:["Pet: ",c.dogName]}),i.jsxs("p",{className:"text-slate-300",children:["Scheduled: ",c.slotDatetime?Ee(c.slotDatetime.toDate(),"MMM d, yyyy, p"):"TBD"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-white mb-2 block",children:"Select Doctor"}),i.jsxs(_n,{value:d,onValueChange:h,children:[i.jsx(hn,{className:"bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Choose a doctor..."})}),i.jsx(fn,{className:"bg-slate-800 border-slate-700",children:n.filter(C=>C.isActive!==!1).map(C=>{var _;return i.jsx(Ve,{value:C.uid,className:"text-white hover:bg-slate-700",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(ir,{className:"h-6 w-6",children:[i.jsx(gi,{src:C.profileImage}),i.jsx(ar,{className:"bg-blue-500/20 text-blue-300 text-xs",children:((_=C.name)==null?void 0:_.charAt(0).toUpperCase())||"D"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:C.name||"Unnamed Doctor"}),i.jsx("span",{className:"text-xs text-slate-400 ml-2",children:C.specialization||"General Practice"})]})]})},C.uid)})})]})]}),d&&i.jsx("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:(()=>{var _;const C=n.find(S=>S.uid===d);return C?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ir,{className:"h-10 w-10 border border-blue-500/30",children:[i.jsx(gi,{src:C.profileImage}),i.jsx(ar,{className:"bg-blue-500/20 text-blue-300",children:((_=C.name)==null?void 0:_.charAt(0).toUpperCase())||"D"})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-blue-300 font-medium",children:["Dr. ",C.name]}),i.jsx("p",{className:"text-blue-400 text-sm",children:C.specialization||"General Practice"}),i.jsx("p",{className:"text-slate-400 text-xs",children:C.phoneNumber})]})]}):null})()})]}),i.jsxs(Dr,{children:[i.jsx(z,{variant:"outline",onClick:()=>g(!1),className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(z,{onClick:N,disabled:!d||a,className:"bg-blue-500 hover:bg-blue-600",children:a?"Assigning...":"Assign Doctor"})]})]})})]})},ide=()=>{const{services:t,isLoading:e,addService:n,updateService:s,deleteService:r,isAddingService:a,isUpdatingService:o,isDeletingService:l}=xC(),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(!1),[v,x]=p.useState(null),[w,y]=p.useState({name:"",description:"",price:0,duration:60,isActive:!0}),[b,N]=p.useState(null),[E,I]=p.useState([]),[A,C]=p.useState(""),[_,S]=p.useState([]),T=()=>{y({name:"",description:"",price:0,duration:60,isActive:!0}),N(null),I([]),C(""),S([])},k=V=>{var F;const Z=(F=V.target.files)==null?void 0:F[0];Z&&(N(Z),C(URL.createObjectURL(Z)))},D=V=>{const Z=Array.from(V.target.files||[]);I(Z),S(Z.map(F=>URL.createObjectURL(F)))},P=async()=>{if(!w.name.trim()||w.price<=0){H.error("Please fill in all required fields");return}try{await n({serviceData:w,imageFile:b||void 0,galleryFiles:E.length>0?E:void 0}),u(!1),T()}catch(V){console.error("Error adding grooming service:",V)}},G=async()=>{if(!v||!w.name.trim()||w.price<=0){H.error("Please fill in all required fields");return}try{await s({serviceId:v.id,serviceData:w,imageFile:b||void 0,galleryFiles:E.length>0?E:void 0}),h(!1),x(null),T()}catch(V){console.error("Error updating grooming service:",V)}},ee=async()=>{if(v)try{await r(v.id),g(!1),x(null)}catch(V){console.error("Error deleting grooming service:",V)}},te=V=>{x(V),y({name:V.name,description:V.description,price:V.price,duration:V.duration,isActive:V.isActive}),C(V.imageUrl||""),S(V.galleryImages||[]),h(!0)},Q=V=>{x(V),g(!0)};if(e)return i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Grooming Service Management"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((V,Z)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},Z))})})]});const O=({isEdit:V=!1})=>i.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"name",children:"Service Name *"}),i.jsx(xe,{id:"name",value:w.name,onChange:Z=>y({...w,name:Z.target.value}),placeholder:"e.g., Full Body Grooming",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"description",children:"Description *"}),i.jsx(eo,{id:"description",value:w.description,onChange:Z=>y({...w,description:Z.target.value}),placeholder:"Service description...",rows:3,className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"price",children:"Price () *"}),i.jsx(xe,{id:"price",type:"number",value:w.price,onChange:Z=>y({...w,price:Number(Z.target.value)}),placeholder:"0.00",min:"0",step:"0.01",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"duration",children:"Duration (minutes)"}),i.jsx(xe,{id:"duration",type:"number",value:w.duration,onChange:Z=>y({...w,duration:Number(Z.target.value)}),placeholder:"60",min:"15",step:"15",className:"bg-slate-700 border-slate-600 text-white"})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"image",children:"Service Image"}),i.jsx(xe,{id:"image",type:"file",accept:"image/*",onChange:k,className:"bg-slate-700 border-slate-600 text-white"}),A&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:A,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"gallery",children:"Gallery Images (Multiple)"}),i.jsx(xe,{id:"gallery",type:"file",accept:"image/*",multiple:!0,onChange:D,className:"bg-slate-700 border-slate-600 text-white"}),_.length>0&&i.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:_.map((Z,F)=>i.jsx("img",{src:Z,alt:`Gallery ${F+1}`,className:"w-16 h-16 object-cover rounded"},F))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"isActive",checked:w.isActive,onCheckedChange:Z=>y({...w,isActive:Z})}),i.jsx(me,{htmlFor:"isActive",className:"text-white",children:"Active Service"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"})}),i.jsx(z,{onClick:V?G:P,disabled:V?o:a,className:"bg-purple-500 hover:bg-purple-600",children:V?o?"Updating...":"Update Service":a?"Adding...":"Add Service"})]})]});return i.jsxs(i.Fragment,{children:[i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsxs(He,{className:"flex flex-row items-center justify-between",children:[i.jsxs(Ke,{className:"flex items-center text-white",children:[i.jsx(mi,{className:"h-5 w-5 mr-2 text-purple-400"}),"Grooming Service Management"]}),i.jsxs(Lt,{open:c,onOpenChange:u,children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{onClick:T,className:"bg-purple-500 hover:bg-purple-600",children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Service"]})}),i.jsxs(At,{className:"max-w-2xl bg-slate-800 border-slate-700",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Add New Grooming Service"})}),i.jsx(O,{})]})]})]}),i.jsx(ge,{children:t.length>0?i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(_e,{className:"text-slate-300",children:"Image"}),i.jsx(_e,{className:"text-slate-300",children:"Service"}),i.jsx(_e,{className:"text-slate-300",children:"Price"}),i.jsx(_e,{className:"text-slate-300",children:"Duration"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Actions"})]})}),i.jsx(Bs,{children:t.map(V=>i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{children:V.imageUrl?i.jsx("img",{src:V.imageUrl,alt:V.name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(qd,{className:"h-6 w-6 text-gray-400"})})}),i.jsx(pe,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white",children:V.name}),i.jsx("div",{className:"text-sm text-slate-400 line-clamp-1",children:V.description})]})}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),V.price.toFixed(2)]})}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(Ln,{className:"h-4 w-4 mr-1"}),V.duration," min"]})}),i.jsx(pe,{children:i.jsx(Ce,{variant:V.isActive?"default":"secondary",children:V.isActive?"Active":"Inactive"})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsxs(Wt,{onClick:()=>te(V),className:"text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-red-400 hover:bg-red-500/10",onClick:()=>Q(V),children:[i.jsx(la,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},V.id))})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(mi,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No grooming services yet"}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add your first grooming service to get started"}),i.jsxs(z,{onClick:()=>u(!0),className:"bg-purple-500 hover:bg-purple-600",children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Service"]})]})})]}),i.jsx(Lt,{open:d,onOpenChange:h,children:i.jsxs(At,{className:"max-w-2xl bg-slate-800 border-slate-700",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Edit Grooming Service"})}),i.jsx(O,{isEdit:!0})]})}),i.jsx(Bl,{open:f,onOpenChange:g,children:i.jsxs(ao,{className:"bg-slate-800 border-slate-700",children:[i.jsxs(oo,{children:[i.jsx(co,{className:"text-white",children:"Are you sure?"}),i.jsxs(uo,{className:"text-slate-400",children:['This action cannot be undone. This will permanently delete the grooming service "',v==null?void 0:v.name,'".']})]}),i.jsxs(lo,{children:[i.jsx(fo,{className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(ho,{onClick:ee,disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?"Deleting...":"Delete"})]})]})})]})},ade=()=>{const{services:t,isLoading:e,addService:n,updateService:s,deleteService:r,isAddingService:a,isUpdatingService:o,isDeletingService:l}=vC(),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(!1),[v,x]=p.useState(null),[w,y]=p.useState({name:"",description:"",dailyRate:0,capacity:10,amenities:[],isActive:!0}),[b,N]=p.useState(null),[E,I]=p.useState([]),[A,C]=p.useState(""),[_,S]=p.useState([]),[T,k]=p.useState(""),D=()=>{y({name:"",description:"",dailyRate:0,capacity:10,amenities:[],isActive:!0}),N(null),I([]),C(""),S([]),k("")},P=B=>{var ne;const K=(ne=B.target.files)==null?void 0:ne[0];K&&(N(K),C(URL.createObjectURL(K)))},G=B=>{const K=Array.from(B.target.files||[]);I(K),S(K.map(ne=>URL.createObjectURL(ne)))},ee=()=>{T.trim()&&!w.amenities.includes(T.trim())&&(y({...w,amenities:[...w.amenities,T.trim()]}),k(""))},te=B=>{y({...w,amenities:w.amenities.filter(K=>K!==B)})},Q=async()=>{if(!w.name.trim()||w.dailyRate<=0){H.error("Please fill in all required fields");return}try{await n({serviceData:w,imageFile:b||void 0,galleryFiles:E.length>0?E:void 0}),u(!1),D()}catch(B){console.error("Error adding pet hostel service:",B)}},O=async()=>{if(!v||!w.name.trim()||w.dailyRate<=0){H.error("Please fill in all required fields");return}try{await s({serviceId:v.id,serviceData:w,imageFile:b||void 0,galleryFiles:E.length>0?E:void 0}),h(!1),x(null),D()}catch(B){console.error("Error updating pet hostel service:",B)}},V=async()=>{if(v)try{await r(v.id),g(!1),x(null)}catch(B){console.error("Error deleting pet hostel service:",B)}},Z=B=>{x(B),y({name:B.name,description:B.description,dailyRate:B.dailyRate,capacity:B.capacity,amenities:B.amenities||[],isActive:B.isActive}),C(B.imageUrl||""),S(B.galleryImages||[]),h(!0)},F=B=>{x(B),g(!0)};if(e)return i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Pet Hostel Management"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((B,K)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},K))})})]});const L=({isEdit:B=!1})=>i.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"name",children:"Service Name *"}),i.jsx(xe,{id:"name",value:w.name,onChange:K=>y({...w,name:K.target.value}),placeholder:"e.g., Premium Pet Boarding",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"description",children:"Description *"}),i.jsx(eo,{id:"description",value:w.description,onChange:K=>y({...w,description:K.target.value}),placeholder:"Service description...",rows:3,className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"dailyRate",children:"Daily Rate () *"}),i.jsx(xe,{id:"dailyRate",type:"number",value:w.dailyRate,onChange:K=>y({...w,dailyRate:Number(K.target.value)}),placeholder:"0.00",min:"0",step:"0.01",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"capacity",children:"Capacity (pets)"}),i.jsx(xe,{id:"capacity",type:"number",value:w.capacity,onChange:K=>y({...w,capacity:Number(K.target.value)}),placeholder:"10",min:"1",className:"bg-slate-700 border-slate-600 text-white"})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"amenities",children:"Amenities"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx(xe,{id:"amenities",value:T,onChange:K=>k(K.target.value),placeholder:"e.g., Air Conditioning",className:"bg-slate-700 border-slate-600 text-white",onKeyPress:K=>K.key==="Enter"&&(K.preventDefault(),ee())}),i.jsx(z,{type:"button",onClick:ee,size:"sm",className:"bg-purple-500 hover:bg-purple-600",children:"Add"})]}),w.amenities.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2",children:w.amenities.map((K,ne)=>i.jsxs(Ce,{variant:"secondary",className:"bg-slate-600 text-white",children:[K,i.jsx("button",{type:"button",onClick:()=>te(K),className:"ml-2 text-red-400 hover:text-red-300",children:""})]},ne))})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"image",children:"Service Image"}),i.jsx(xe,{id:"image",type:"file",accept:"image/*",onChange:P,className:"bg-slate-700 border-slate-600 text-white"}),A&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:A,alt:"Preview",className:"w-20 h-20 object-cover rounded"})})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"gallery",children:"Gallery Images (Multiple)"}),i.jsx(xe,{id:"gallery",type:"file",accept:"image/*",multiple:!0,onChange:G,className:"bg-slate-700 border-slate-600 text-white"}),_.length>0&&i.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:_.map((K,ne)=>i.jsx("img",{src:K,alt:`Gallery ${ne+1}`,className:"w-16 h-16 object-cover rounded"},ne))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"isActive",checked:w.isActive,onCheckedChange:K=>y({...w,isActive:K})}),i.jsx(me,{htmlFor:"isActive",className:"text-white",children:"Active Service"})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"})}),i.jsx(z,{onClick:B?O:Q,disabled:B?o:a,className:"bg-purple-500 hover:bg-purple-600",children:B?o?"Updating...":"Update Service":a?"Adding...":"Add Service"})]})]});return i.jsxs(i.Fragment,{children:[i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsxs(He,{className:"flex flex-row items-center justify-between",children:[i.jsxs(Ke,{className:"flex items-center text-white",children:[i.jsx(Os,{className:"h-5 w-5 mr-2 text-blue-400"}),"Pet Hostel Management"]}),i.jsxs(Lt,{open:c,onOpenChange:u,children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{onClick:D,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Service"]})}),i.jsxs(At,{className:"max-w-2xl bg-slate-800 border-slate-700",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Add New Pet Hostel Service"})}),i.jsx(L,{})]})]})]}),i.jsx(ge,{children:t.length>0?i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(_e,{className:"text-slate-300",children:"Image"}),i.jsx(_e,{className:"text-slate-300",children:"Service"}),i.jsx(_e,{className:"text-slate-300",children:"Daily Rate"}),i.jsx(_e,{className:"text-slate-300",children:"Capacity"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Actions"})]})}),i.jsx(Bs,{children:t.map(B=>i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{children:B.imageUrl?i.jsx("img",{src:B.imageUrl,alt:B.name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(qd,{className:"h-6 w-6 text-gray-400"})})}),i.jsx(pe,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white",children:B.name}),i.jsx("div",{className:"text-sm text-slate-400 line-clamp-1",children:B.description})]})}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),B.dailyRate.toFixed(2),"/day"]})}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(Oj,{className:"h-4 w-4 mr-1"}),B.capacity," pets"]})}),i.jsx(pe,{children:i.jsx(Ce,{variant:B.isActive?"default":"secondary",children:B.isActive?"Active":"Inactive"})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsxs(Wt,{onClick:()=>Z(B),className:"text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-red-400 hover:bg-red-500/10",onClick:()=>F(B),children:[i.jsx(la,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},B.id))})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Os,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No pet hostel services yet"}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add your first pet hostel service to get started"}),i.jsxs(z,{onClick:()=>u(!0),className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Service"]})]})})]}),i.jsx(Lt,{open:d,onOpenChange:h,children:i.jsxs(At,{className:"max-w-2xl bg-slate-800 border-slate-700",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Edit Pet Hostel Service"})}),i.jsx(L,{isEdit:!0})]})}),i.jsx(Bl,{open:f,onOpenChange:g,children:i.jsxs(ao,{className:"bg-slate-800 border-slate-700",children:[i.jsxs(oo,{children:[i.jsx(co,{className:"text-white",children:"Are you sure?"}),i.jsxs(uo,{className:"text-slate-400",children:['This action cannot be undone. This will permanently delete the pet hostel service "',v==null?void 0:v.name,'".']})]}),i.jsxs(lo,{children:[i.jsx(fo,{className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(ho,{onClick:V,disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?"Deleting...":"Delete"})]})]})})]})},ode=async t=>{const e=Ze(he,"users",t,"groomingBookings"),n=ts(e,Hr("createdAt","desc"));return(await Rt(n)).docs.map(r=>({id:r.id,...r.data()}))},lde=async()=>{const t=[],e=await Rt(Ze(he,"users"));for(const n of e.docs){const s=n.id,r=Ze(he,"users",s,"groomingBookings");(await Rt(r)).docs.forEach(o=>{t.push({...o.data(),id:o.id,userId:s})})}return t.sort((n,s)=>{var r,a;return((r=s.createdAt)==null?void 0:r.toMillis())-((a=n.createdAt)==null?void 0:a.toMillis())})},pV=()=>{const{user:t,isAdmin:e}=en(),n=rn(),{data:s=[],isLoading:r}=In({queryKey:["userGroomingBookings",t==null?void 0:t.uid],queryFn:()=>ode(t.uid),enabled:!!t&&!e}),{data:a=[],isLoading:o}=In({queryKey:["adminGroomingBookings"],queryFn:lde,enabled:!!e}),l=dt({mutationFn:async u=>{if(!t)throw new Error("User not authenticated");const d=Ze(he,"users",t.uid,"groomingBookings"),h={...u,userId:t.uid,createdAt:_t(),updatedAt:_t()};return{id:(await Ei(d,h)).id,...h}},onSuccess:()=>{n.invalidateQueries({queryKey:["userGroomingBookings",t==null?void 0:t.uid]}),n.invalidateQueries({queryKey:["adminGroomingBookings"]}),H.success("Grooming booking placed successfully!")},onError:u=>{H.error(u.message||"Failed to place grooming booking")}}),c=dt({mutationFn:async({userId:u,bookingId:d,status:h})=>{const f=at(he,"users",u,"groomingBookings",d);return Wn(f,{bookingStatus:h,updatedAt:_t()})},onSuccess:()=>{n.invalidateQueries({queryKey:["userGroomingBookings"]}),n.invalidateQueries({queryKey:["adminGroomingBookings"]}),H.success("Grooming booking status updated!")},onError:u=>{H.error(u.message||"Failed to update grooming booking status")}});return{userGroomingBookings:s,adminGroomingBookings:a,isLoading:r||o,createGroomingBooking:l.mutateAsync,isCreatingGroomingBooking:l.isPending,updateGroomingBookingStatus:c.mutateAsync,isUpdatingGroomingBookingStatus:c.isPending}},cde=()=>{var C;const{adminGroomingBookings:t,isLoading:e,updateGroomingBookingStatus:n,isUpdatingGroomingBookingStatus:s}=pV(),[r,a]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(null),[d,h]=p.useState(""),[f,g]=p.useState(!1),[v,x]=p.useState(!1),w=gh(),y=_=>{switch(_.toLowerCase()){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},b=_=>{switch(_.toLowerCase()){case"confirmed":return i.jsx(dn,{className:"h-4 w-4"});case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});case"pending":return i.jsx(Ln,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}},N=t.filter(_=>_.serviceName.toLowerCase().includes(r.toLowerCase())||_.customerDetails.name.toLowerCase().includes(r.toLowerCase())||_.petName.toLowerCase().includes(r.toLowerCase())),E=_=>{l(_),g(!0)},I=_=>{u(_),h(_.bookingStatus),x(!0)},A=async()=>{if(!(!c||!d))try{await n({userId:c.userId,bookingId:c.id,status:d}),x(!1),u(null),h("")}catch(_){console.error("Error updating booking status:",_)}};return e?i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Grooming Bookings"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((_,S)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},S))})})]}):i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center justify-between text-white",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(mi,{className:"h-5 w-5 mr-2 text-purple-400"}),"Grooming Bookings"]}),i.jsxs(Ce,{variant:"secondary",className:"bg-purple-500/20 text-purple-300",children:[t.length," Bookings"]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"text",placeholder:"Search by service, customer, or pet name...",value:r,onChange:_=>a(_.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),N.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(mi,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:t.length===0?"No grooming bookings yet":"No bookings found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:t.length===0?"Grooming bookings will appear here when customers place them":"Try adjusting your search terms"})]}):w?i.jsx("div",{className:"space-y-4",children:N.map(_=>i.jsx(de,{className:"border bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white",children:_.serviceName}),i.jsx("p",{className:"text-sm text-slate-400",children:_.customerDetails.name}),i.jsx("p",{className:"text-xs text-slate-500",children:_.petName})]}),i.jsxs(Ce,{className:y(_.bookingStatus),children:[b(_.bookingStatus),i.jsx("span",{className:"ml-1 capitalize",children:_.bookingStatus})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"Date:"}),i.jsx("p",{className:"font-medium text-white",children:_.preferredDate?Ee(new Date(_.preferredDate),"MMM d, yyyy"):"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"Amount:"}),i.jsxs("div",{className:"flex items-center font-medium text-white",children:[i.jsx(rt,{className:"h-3 w-3 mr-1"}),_.amount.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>E(_),children:[i.jsx(Gi,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(z,{size:"sm",className:"flex-1 bg-blue-500 hover:bg-blue-600",onClick:()=>I(_),children:[i.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Update"]})]})]})},_.id))}):i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(_e,{className:"text-slate-300",children:"Service"}),i.jsx(_e,{className:"text-slate-300",children:"Customer"}),i.jsx(_e,{className:"text-slate-300",children:"Pet"}),i.jsx(_e,{className:"text-slate-300",children:"Date & Time"}),i.jsx(_e,{className:"text-slate-300",children:"Amount"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Actions"})]})}),i.jsx(Bs,{children:N.map(_=>i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{className:"font-medium text-white",children:_.serviceName}),i.jsx(pe,{children:i.jsxs("div",{className:"text-white",children:[i.jsx("p",{className:"font-medium",children:_.customerDetails.name}),i.jsx("p",{className:"text-sm text-slate-400",children:_.customerDetails.phone})]})}),i.jsxs(pe,{className:"text-white",children:[i.jsx("p",{className:"font-medium",children:_.petName}),i.jsx("p",{className:"text-sm text-slate-400",children:_.petDetails.breed})]}),i.jsxs(pe,{className:"text-white",children:[i.jsx("p",{children:_.preferredDate?Ee(new Date(_.preferredDate),"MMM d, yyyy"):"N/A"}),i.jsx("p",{className:"text-sm text-slate-400",children:_.preferredTime||"N/A"})]}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),_.amount.toFixed(2)]})}),i.jsx(pe,{children:i.jsxs(Ce,{className:y(_.bookingStatus),children:[b(_.bookingStatus),i.jsx("span",{className:"ml-1 capitalize",children:_.bookingStatus})]})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsxs(Wt,{onClick:()=>E(_),className:"text-white hover:bg-slate-700",children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"View Details"]}),i.jsxs(Wt,{onClick:()=>I(_),className:"text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Update Status"]})]})]})})]},_.id))})]}),i.jsx(Lt,{open:f,onOpenChange:g,children:i.jsxs(At,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-slate-800 border-slate-700 text-white",children:[i.jsx(Dt,{children:i.jsxs(Mt,{className:"text-white",children:["Grooming Booking Details - ",o==null?void 0:o.serviceName]})}),o&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(cr,{className:"h-4 w-4 mr-2"}),"Customer Details"]}),i.jsx("p",{className:"font-semibold text-white",children:o.customerDetails.name}),i.jsx("p",{className:"text-sm text-slate-400",children:o.customerDetails.phone}),i.jsxs("p",{className:"text-sm text-slate-400",children:[o.customerDetails.address,", ",o.customerDetails.city," - ",o.customerDetails.postalCode]})]})}),i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(Om,{className:"h-4 w-4 mr-2"}),"Pet Details"]}),i.jsx("p",{className:"font-semibold text-white",children:o.petName}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Breed: ",o.petDetails.breed]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Type: ",o.petDetails.petType]}),o.petDetails.dateOfBirth&&i.jsxs("p",{className:"text-sm text-slate-400 flex items-center gap-1",children:[i.jsx(Mm,{className:"h-4 w-4"})," DOB: ",Ee(new Date(o.petDetails.dateOfBirth),"PPP")]}),o.petDetails.age!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Age: ",o.petDetails.age," years"]}),o.petDetails.weight!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Weight: ",o.petDetails.weight," kg"]}),o.petDetails.sex&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Sex: ",o.petDetails.sex]}),o.petDetails.aggressionLevel&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Aggression Level: ",o.petDetails.aggressionLevel]}),o.petDetails.matingInterest!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400 flex items-center gap-1",children:[i.jsx(ta,{className:"h-4 w-4"})," Mating Interest: ",o.petDetails.matingInterest?"Yes":"No"]}),o.petDetails.sex==="Female"&&o.petDetails.pregnancyCount!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Times Pregnant: ",o.petDetails.pregnancyCount]}),o.petDetails.sex==="Female"&&o.petDetails.pupCount!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Total Offspring: ",o.petDetails.pupCount]})]})}),((C=o.petDetails)==null?void 0:C.vaccinationScheduleImages)&&o.petDetails.vaccinationScheduleImages.length>0&&i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(qd,{className:"h-4 w-4 mr-2"}),"Vaccination Schedule Images"]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:o.petDetails.vaccinationScheduleImages.map((_,S)=>i.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"block relative group",children:[i.jsx("img",{src:_,alt:`Vaccination Schedule ${S+1}`,className:"w-full h-24 object-cover rounded-md border border-gray-300 group-hover:opacity-75 transition-opacity"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:i.jsx(Gi,{className:"h-6 w-6 text-white"})})]},S))})]})}),i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(mi,{className:"h-4 w-4 mr-2"}),"Service Details"]}),i.jsx("p",{className:"font-semibold text-white",children:o.serviceName}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Date: ",o.preferredDate?Ee(new Date(o.preferredDate),"PPP"):"N/A"]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Time: ",o.preferredTime||"N/A"]}),i.jsxs("div",{className:"flex items-center text-white font-bold mt-2",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.amount.toFixed(2)]})]})}),i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(dn,{className:"h-4 w-4 mr-2"}),"Status & Payment"]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs(Ce,{className:y(o.bookingStatus),children:[b(o.bookingStatus),i.jsx("span",{className:"ml-1 capitalize",children:o.bookingStatus})]}),i.jsx(Ce,{className:"bg-green-500/20 text-green-300 border-green-500/30",children:o.paymentStatus})]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Payment Method: ",o.paymentMethod]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Payment ID: ",o.razorpayPaymentId||"N/A"]})]})})]})]})}),i.jsx(Lt,{open:v,onOpenChange:x,children:i.jsxs(At,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Update Grooming Booking Status"})}),c&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(me,{htmlFor:"status",className:"text-white",children:"Booking Status"}),i.jsxs(_n,{value:d,onValueChange:h,children:[i.jsx(hn,{className:"bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select status"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"pending",children:"Pending"}),i.jsx(Ve,{value:"confirmed",children:"Confirmed"}),i.jsx(Ve,{value:"completed",children:"Completed"}),i.jsx(Ve,{value:"cancelled",children:"Cancelled"})]})]})]})}),i.jsxs(Dr,{children:[i.jsx(z,{variant:"outline",onClick:()=>x(!1),className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(z,{onClick:A,disabled:s,className:"bg-blue-500 hover:bg-blue-600",children:s?"Updating...":"Update Status"})]})]})})]})]})},ude=async t=>{const e=Ze(he,"users",t,"petHostelBookings"),n=ts(e,Hr("createdAt","desc"));return(await Rt(n)).docs.map(r=>({id:r.id,...r.data()}))},dde=async()=>{const t=[],e=await Rt(Ze(he,"users"));for(const n of e.docs){const s=n.id,r=Ze(he,"users",s,"petHostelBookings");(await Rt(r)).docs.forEach(o=>{t.push({...o.data(),id:o.id,userId:s})})}return t.sort((n,s)=>{var r,a;return((r=s.createdAt)==null?void 0:r.toMillis())-((a=n.createdAt)==null?void 0:a.toMillis())})},gV=()=>{const{user:t,isAdmin:e}=en(),n=rn(),{data:s=[],isLoading:r}=In({queryKey:["userPetHostelBookings",t==null?void 0:t.uid],queryFn:()=>ude(t.uid),enabled:!!t&&!e}),{data:a=[],isLoading:o}=In({queryKey:["adminPetHostelBookings"],queryFn:dde,enabled:!!e}),l=dt({mutationFn:async u=>{if(!t)throw new Error("User not authenticated");const d=Ze(he,"users",t.uid,"petHostelBookings"),h={...u,userId:t.uid,createdAt:_t(),updatedAt:_t()};return{id:(await Ei(d,h)).id,...h}},onSuccess:()=>{n.invalidateQueries({queryKey:["userPetHostelBookings",t==null?void 0:t.uid]}),n.invalidateQueries({queryKey:["adminPetHostelBookings"]}),H.success("Pet hostel booking placed successfully!")},onError:u=>{H.error(u.message||"Failed to place pet hostel booking")}}),c=dt({mutationFn:async({userId:u,bookingId:d,status:h})=>{const f=at(he,"users",u,"petHostelBookings",d);return Wn(f,{bookingStatus:h,updatedAt:_t()})},onSuccess:()=>{n.invalidateQueries({queryKey:["userPetHostelBookings"]}),n.invalidateQueries({queryKey:["adminPetHostelBookings"]}),H.success("Pet hostel booking status updated!")},onError:u=>{H.error(u.message||"Failed to update pet hostel booking status")}});return{userPetHostelBookings:s,adminPetHostelBookings:a,isLoading:r||o,createPetHostelBooking:l.mutateAsync,isCreatingPetHostelBooking:l.isPending,updatePetHostelBookingStatus:c.mutateAsync,isUpdatingPetHostelBookingStatus:c.isPending}},hde=()=>{var C;const{adminPetHostelBookings:t,isLoading:e,updatePetHostelBookingStatus:n,isUpdatingPetHostelBookingStatus:s}=gV(),[r,a]=p.useState(""),[o,l]=p.useState(null),[c,u]=p.useState(null),[d,h]=p.useState(""),[f,g]=p.useState(!1),[v,x]=p.useState(!1),w=gh(),y=_=>{switch(_.toLowerCase()){case"confirmed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"completed":return"bg-green-500/20 text-green-300 border-green-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";case"pending":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}},b=_=>{switch(_.toLowerCase()){case"confirmed":return i.jsx(dn,{className:"h-4 w-4"});case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});case"pending":return i.jsx(Ln,{className:"h-4 w-4"});default:return i.jsx(Ln,{className:"h-4 w-4"})}},N=t.filter(_=>_.serviceName.toLowerCase().includes(r.toLowerCase())||_.customerDetails.name.toLowerCase().includes(r.toLowerCase())||_.petName.toLowerCase().includes(r.toLowerCase())),E=_=>{l(_),g(!0)},I=_=>{u(_),h(_.bookingStatus),x(!0)},A=async()=>{if(!(!c||!d))try{await n({userId:c.userId,bookingId:c.id,status:d}),x(!1),u(null),h("")}catch(_){console.error("Error updating booking status:",_)}};return e?i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Pet Hostel Bookings"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(5)].map((_,S)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},S))})})]}):i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center justify-between text-white",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Os,{className:"h-5 w-5 mr-2 text-blue-400"}),"Pet Hostel Bookings"]}),i.jsxs(Ce,{variant:"secondary",className:"bg-blue-500/20 text-blue-300",children:[t.length," Bookings"]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx(xe,{type:"text",placeholder:"Search by service, customer, or pet name...",value:r,onChange:_=>a(_.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),N.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Os,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:t.length===0?"No pet hostel bookings yet":"No bookings found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:t.length===0?"Pet hostel bookings will appear here when customers place them":"Try adjusting your search terms"})]}):w?i.jsx("div",{className:"space-y-4",children:N.map(_=>i.jsx(de,{className:"border bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-white",children:_.serviceName}),i.jsx("p",{className:"text-sm text-slate-400",children:_.customerDetails.name}),i.jsx("p",{className:"text-xs text-slate-500",children:_.petName})]}),i.jsxs(Ce,{className:y(_.bookingStatus),children:[b(_.bookingStatus),i.jsx("span",{className:"ml-1 capitalize",children:_.bookingStatus})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"Check-in:"}),i.jsx("p",{className:"font-medium text-white",children:_.startDate?Ee(new Date(_.startDate),"MMM d, yyyy"):"N/A"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"Amount:"}),i.jsxs("div",{className:"flex items-center font-medium text-white",children:[i.jsx(rt,{className:"h-3 w-3 mr-1"}),_.amount.toFixed(2)]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(z,{variant:"outline",size:"sm",className:"flex-1 bg-slate-700 border-slate-600 text-white hover:bg-slate-600",onClick:()=>E(_),children:[i.jsx(Gi,{className:"h-4 w-4 mr-1"}),"View"]}),i.jsxs(z,{size:"sm",className:"flex-1 bg-blue-500 hover:bg-blue-600",onClick:()=>I(_),children:[i.jsx(Fs,{className:"h-4 w-4 mr-1"}),"Update"]})]})]})},_.id))}):i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(_e,{className:"text-slate-300",children:"Service"}),i.jsx(_e,{className:"text-slate-300",children:"Customer"}),i.jsx(_e,{className:"text-slate-300",children:"Pet"}),i.jsx(_e,{className:"text-slate-300",children:"Dates"}),i.jsx(_e,{className:"text-slate-300",children:"Amount"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Actions"})]})}),i.jsx(Bs,{children:N.map(_=>i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{className:"font-medium text-white",children:_.serviceName}),i.jsx(pe,{children:i.jsxs("div",{className:"text-white",children:[i.jsx("p",{className:"font-medium",children:_.customerDetails.name}),i.jsx("p",{className:"text-sm text-slate-400",children:_.customerDetails.phone})]})}),i.jsxs(pe,{className:"text-white",children:[i.jsx("p",{className:"font-medium",children:_.petName}),i.jsx("p",{className:"text-sm text-slate-400",children:_.petDetails.breed})]}),i.jsxs(pe,{className:"text-white",children:[i.jsx("p",{children:_.startDate?Ee(new Date(_.startDate),"MMM d, yyyy"):"N/A"}),i.jsx("p",{className:"text-sm text-slate-400",children:_.endDate?Ee(new Date(_.endDate),"MMM d, yyyy"):"N/A"})]}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),_.amount.toFixed(2)]})}),i.jsx(pe,{children:i.jsxs(Ce,{className:y(_.bookingStatus),children:[b(_.bookingStatus),i.jsx("span",{className:"ml-1 capitalize",children:_.bookingStatus})]})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsxs(Wt,{onClick:()=>E(_),className:"text-white hover:bg-slate-700",children:[i.jsx(Gi,{className:"mr-2 h-4 w-4"}),"View Details"]}),i.jsxs(Wt,{onClick:()=>I(_),className:"text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Update Status"]})]})]})})]},_.id))})]}),i.jsx(Lt,{open:f,onOpenChange:g,children:i.jsxs(At,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-slate-800 border-slate-700 text-white",children:[i.jsx(Dt,{children:i.jsxs(Mt,{className:"text-white",children:["Pet Hostel Booking Details - ",o==null?void 0:o.serviceName]})}),o&&i.jsxs("div",{className:"space-y-6",children:[i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(cr,{className:"h-4 w-4 mr-2"}),"Customer Details"]}),i.jsx("p",{className:"font-semibold text-white",children:o.customerDetails.name}),i.jsx("p",{className:"text-sm text-slate-400",children:o.customerDetails.phone}),i.jsxs("p",{className:"text-sm text-slate-400",children:[o.customerDetails.address,", ",o.customerDetails.city," - ",o.customerDetails.postalCode]})]})}),i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(Om,{className:"h-4 w-4 mr-2"}),"Pet Details"]}),i.jsx("p",{className:"font-semibold text-white",children:o.petName}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Breed: ",o.petDetails.breed]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Type: ",o.petDetails.petType]}),o.petDetails.dateOfBirth&&i.jsxs("p",{className:"text-sm text-slate-400 flex items-center gap-1",children:[i.jsx(Mm,{className:"h-4 w-4"})," DOB: ",Ee(new Date(o.petDetails.dateOfBirth),"PPP")]}),o.petDetails.age!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Age: ",o.petDetails.age," years"]}),o.petDetails.weight!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Weight: ",o.petDetails.weight," kg"]}),o.petDetails.sex&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Sex: ",o.petDetails.sex]}),o.petDetails.aggressionLevel&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Aggression Level: ",o.petDetails.aggressionLevel]}),o.petDetails.matingInterest!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400 flex items-center gap-1",children:[i.jsx(ta,{className:"h-4 w-4"})," Mating Interest: ",o.petDetails.matingInterest?"Yes":"No"]}),o.petDetails.sex==="Female"&&o.petDetails.pregnancyCount!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Times Pregnant: ",o.petDetails.pregnancyCount]}),o.petDetails.sex==="Female"&&o.petDetails.pupCount!==void 0&&i.jsxs("p",{className:"text-sm text-slate-400",children:["Total Offspring: ",o.petDetails.pupCount]})]})}),((C=o.petDetails)==null?void 0:C.vaccinationScheduleImages)&&o.petDetails.vaccinationScheduleImages.length>0&&i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(qd,{className:"h-4 w-4 mr-2"}),"Vaccination Schedule Images"]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:o.petDetails.vaccinationScheduleImages.map((_,S)=>i.jsxs("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"block relative group",children:[i.jsx("img",{src:_,alt:`Vaccination Schedule ${S+1}`,className:"w-full h-24 object-cover rounded-md border border-gray-300 group-hover:opacity-75 transition-opacity"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-md",children:i.jsx(Gi,{className:"h-6 w-6 text-white"})})]},S))})]})}),i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(Os,{className:"h-4 w-4 mr-2"}),"Service Details"]}),i.jsx("p",{className:"font-semibold text-white",children:o.serviceName}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Check-in: ",o.startDate?Ee(new Date(o.startDate),"PPP"):"N/A"]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Check-out: ",o.endDate?Ee(new Date(o.endDate),"PPP"):"N/A"]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Food Preference: ",o.foodPreference||"N/A"]}),i.jsxs("div",{className:"flex items-center text-white font-bold mt-2",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),o.amount.toFixed(2)]})]})}),i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("h4",{className:"font-medium text-white mb-2 flex items-center",children:[i.jsx(dn,{className:"h-4 w-4 mr-2"}),"Status & Payment"]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsxs(Ce,{className:y(o.bookingStatus),children:[b(o.bookingStatus),i.jsx("span",{className:"ml-1 capitalize",children:o.bookingStatus})]}),i.jsx(Ce,{className:"bg-green-500/20 text-green-300 border-green-500/30",children:o.paymentStatus})]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Payment Method: ",o.paymentMethod]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Payment ID: ",o.razorpayPaymentId||"N/A"]})]})})]})]})}),i.jsx(Lt,{open:v,onOpenChange:x,children:i.jsxs(At,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Update Pet Hostel Booking Status"})}),c&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx(me,{htmlFor:"status",className:"text-white",children:"Booking Status"}),i.jsxs(_n,{value:d,onValueChange:h,children:[i.jsx(hn,{className:"bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select status"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"pending",children:"Pending"}),i.jsx(Ve,{value:"confirmed",children:"Confirmed"}),i.jsx(Ve,{value:"completed",children:"Completed"}),i.jsx(Ve,{value:"cancelled",children:"Cancelled"})]})]})]})}),i.jsxs(Dr,{children:[i.jsx(z,{variant:"outline",onClick:()=>x(!1),className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(z,{onClick:A,disabled:s,className:"bg-blue-500 hover:bg-blue-600",children:s?"Updating...":"Update Status"})]})]})})]})]})},fde=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl p-6 text-white shadow-xl",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:i.jsx("div",{className:"text-3xl",children:""})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Dashboard"}),i.jsx("p",{className:"text-blue-100",children:"Manage your VaxDog platform"})]})]})}),i.jsxs(xm,{defaultValue:"doctors",className:"w-full",children:[i.jsxs(Ld,{className:"flex w-full overflow-x-auto whitespace-nowrap pb-2 scrollbar-hide text-sm bg-slate-800/50 border border-slate-700 rounded-lg p-1 gap-1",children:[i.jsx(an,{value:"doctors",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Doctors"}),i.jsx(an,{value:"assignments",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Assignments"}),i.jsx(an,{value:"orders",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Orders"}),i.jsx(an,{value:"bookings",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Bookings"}),i.jsx(an,{value:"grooming-bookings",className:"data-[state=active]:bg-purple-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Grooming Bookings"}),i.jsx(an,{value:"pet-hostel-bookings",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Pet Hostel Bookings"}),i.jsx(an,{value:"vaccines",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Vaccines"}),i.jsx(an,{value:"categories",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Categories"}),i.jsx(an,{value:"products",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Shop Products"}),i.jsx(an,{value:"slots",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Manage Slots"}),i.jsx(an,{value:"services",className:"data-[state=active]:bg-blue-600 data-[state=active]:text-white text-slate-300 data-[state=active]:shadow-md hover:bg-slate-700/80 transition-colors duration-200 rounded-md px-4 py-2 flex-shrink-0",children:"Services"})]}),i.jsx(on,{value:"doctors",className:"mt-6",children:i.jsx(nde,{})}),i.jsx(on,{value:"assignments",className:"mt-6",children:i.jsx(rde,{})}),i.jsx(on,{value:"orders",className:"mt-6",children:i.jsx(ede,{})}),i.jsx(on,{value:"bookings",className:"mt-6",children:i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"All User Bookings"})}),i.jsx(ge,{children:i.jsx(Fue,{})})]})}),i.jsx(on,{value:"grooming-bookings",className:"mt-6",children:i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Grooming Bookings Management"})}),i.jsx(ge,{children:i.jsx(cde,{})})]})}),i.jsx(on,{value:"pet-hostel-bookings",className:"mt-6",children:i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Pet Hostel Bookings Management"})}),i.jsx(ge,{children:i.jsx(hde,{})})]})}),i.jsx(on,{value:"vaccines",className:"mt-6",children:i.jsx(Kue,{})}),i.jsx(on,{value:"categories",className:"mt-6",children:i.jsx(Zue,{})}),i.jsx(on,{value:"products",className:"mt-6",children:i.jsx(Jue,{})}),i.jsx(on,{value:"slots",className:"mt-6",children:i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Manage Booking Slots"})}),i.jsx(ge,{children:i.jsx(Xue,{})})]})}),i.jsx(on,{value:"services",className:"mt-6",children:i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Service Management"})}),i.jsx(ge,{children:i.jsxs(xm,{defaultValue:"grooming",className:"w-full",children:[i.jsxs(Ld,{className:"grid w-full grid-cols-2 bg-slate-700/50 mb-6",children:[i.jsx(an,{value:"grooming",className:"data-[state=active]:bg-purple-500 data-[state=active]:text-white text-slate-300",children:"Grooming Services"}),i.jsx(an,{value:"hostel",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white text-slate-300",children:"Pet Boarding"})]}),i.jsx(on,{value:"grooming",className:"mt-0",children:i.jsx(ide,{})}),i.jsx(on,{value:"hostel",className:"mt-0",children:i.jsx(ade,{})})]})})]})})]})]}),mde=async t=>{const e=Ze(he,"doctors",t,"services");return(await Rt(e)).docs.map(s=>({id:s.id,...s.data()}))},pde=()=>{const{user:t,isDoctor:e}=en(),n=rn(),{data:s=[],isLoading:r,error:a}=In({queryKey:["doctorServices",t==null?void 0:t.uid],queryFn:()=>mde(t.uid),enabled:!!t&&e}),o=dt({mutationFn:async u=>{if(!t)throw new Error("User not authenticated");return Ei(Ze(he,"doctors",t.uid,"services"),{...u,createdAt:_t()})},onSuccess:()=>{n.invalidateQueries({queryKey:["doctorServices",t==null?void 0:t.uid]}),H.success("Service added successfully!")},onError:u=>{H.error(u.message||"Failed to add service")}}),l=dt({mutationFn:async({serviceId:u,serviceData:d})=>{if(!t)throw new Error("User not authenticated");const h=at(he,"doctors",t.uid,"services",u);return Wn(h,{...d,updatedAt:_t()})},onSuccess:()=>{n.invalidateQueries({queryKey:["doctorServices",t==null?void 0:t.uid]}),H.success("Service updated successfully!")},onError:u=>{H.error(u.message||"Failed to update service")}}),c=dt({mutationFn:async u=>{if(!t)throw new Error("User not authenticated");const d=at(he,"doctors",t.uid,"services",u);return oh(d)},onSuccess:()=>{n.invalidateQueries({queryKey:["doctorServices",t==null?void 0:t.uid]}),H.success("Service deleted successfully!")},onError:u=>{H.error(u.message||"Failed to delete service")}});return{services:s,isLoading:r,error:a,addService:o.mutateAsync,updateService:l.mutateAsync,deleteService:c.mutateAsync,isAddingService:o.isPending,isUpdatingService:l.isPending,isDeletingService:c.isPending}},gde=()=>{const{services:t,isLoading:e,addService:n,updateService:s,deleteService:r,isAddingService:a,isUpdatingService:o,isDeletingService:l}=pde(),[c,u]=p.useState(!1),[d,h]=p.useState(!1),[f,g]=p.useState(!1),[v,x]=p.useState(null),[w,y]=p.useState({name:"",description:"",price:0,duration:30,isActive:!0,category:"consultation"}),b=()=>{y({name:"",description:"",price:0,duration:30,isActive:!0,category:"consultation"})},N=async()=>{if(!w.name.trim()||w.price<=0){H.error("Please fill in all required fields");return}try{await n(w),u(!1),b()}catch(T){console.error("Error adding service:",T)}},E=async()=>{if(!v||!w.name.trim()||w.price<=0){H.error("Please fill in all required fields");return}try{await s({serviceId:v.id,serviceData:w}),h(!1),x(null),b()}catch(T){console.error("Error updating service:",T)}},I=async()=>{if(v)try{await r(v.id),g(!1),x(null)}catch(T){console.error("Error deleting service:",T)}},A=T=>{x(T),y({name:T.name,description:T.description||"",price:T.price,duration:T.duration||30,isActive:T.isActive,category:T.category||"consultation"}),h(!0)},C=T=>{x(T),g(!0)},_=T=>{switch(T){case"consultation":return"bg-blue-500/20 text-blue-300";case"vaccination":return"bg-green-500/20 text-green-300";case"surgery":return"bg-red-500/20 text-red-300";case"checkup":return"bg-yellow-500/20 text-yellow-300";default:return"bg-slate-500/20 text-slate-300"}};if(e)return i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"My Services"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((T,k)=>i.jsx(Me,{className:"h-16 w-full bg-slate-700"},k))})})]});const S=({isEdit:T=!1})=>i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"name",children:"Service Name *"}),i.jsx(xe,{id:"name",value:w.name,onChange:k=>y({...w,name:k.target.value}),placeholder:"e.g., General Consultation",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"description",children:"Description"}),i.jsx(eo,{id:"description",value:w.description,onChange:k=>y({...w,description:k.target.value}),placeholder:"Service description...",rows:3,className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"price",children:"Price () *"}),i.jsx(xe,{id:"price",type:"number",value:w.price,onChange:k=>y({...w,price:Number(k.target.value)}),placeholder:"0.00",min:"0",step:"0.01",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"duration",children:"Duration (minutes)"}),i.jsx(xe,{id:"duration",type:"number",value:w.duration,onChange:k=>y({...w,duration:Number(k.target.value)}),placeholder:"30",min:"15",step:"15",className:"bg-slate-700 border-slate-600 text-white"})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"category",children:"Category"}),i.jsxs("select",{id:"category",value:w.category,onChange:k=>y({...w,category:k.target.value}),className:"w-full h-10 px-3 py-2 bg-slate-700 border border-slate-600 text-white rounded-md",children:[i.jsx("option",{value:"consultation",children:"Consultation"}),i.jsx("option",{value:"vaccination",children:"Vaccination"}),i.jsx("option",{value:"surgery",children:"Surgery"}),i.jsx("option",{value:"checkup",children:"Health Checkup"}),i.jsx("option",{value:"emergency",children:"Emergency"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ja,{id:"isActive",checked:w.isActive,onCheckedChange:k=>y({...w,isActive:k})}),i.jsx(me,{htmlFor:"isActive",className:"text-white",children:"Active Service"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(aa,{asChild:!0,children:i.jsx(z,{variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"})}),i.jsx(z,{onClick:T?E:N,disabled:T?o:a,className:"bg-blue-500 hover:bg-blue-600",children:T?o?"Updating...":"Update Service":a?"Adding...":"Add Service"})]})]});return i.jsxs(i.Fragment,{children:[i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsxs(He,{className:"flex flex-row items-center justify-between",children:[i.jsxs(Ke,{className:"flex items-center text-white",children:[i.jsx(lr,{className:"h-5 w-5 mr-2 text-blue-400"}),"My Services"]}),i.jsxs(Lt,{open:c,onOpenChange:u,children:[i.jsx(mr,{asChild:!0,children:i.jsxs(z,{onClick:b,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Service"]})}),i.jsxs(At,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Add New Service"})}),i.jsx(S,{})]})]})]}),i.jsx(ge,{children:t.length>0?i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(_e,{className:"text-slate-300",children:"Service"}),i.jsx(_e,{className:"text-slate-300",children:"Category"}),i.jsx(_e,{className:"text-slate-300",children:"Price"}),i.jsx(_e,{className:"text-slate-300",children:"Duration"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Actions"})]})}),i.jsx(Bs,{children:t.map(T=>i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{children:i.jsxs("div",{children:[i.jsx("div",{className:"font-medium text-white",children:T.name}),T.description&&i.jsx("div",{className:"text-sm text-slate-400 line-clamp-1",children:T.description})]})}),i.jsx(pe,{children:i.jsx(Ce,{className:_(T.category),children:T.category})}),i.jsx(pe,{children:i.jsxs("div",{className:"flex items-center text-white",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),T.price.toFixed(2)]})}),i.jsxs(pe,{className:"text-white",children:[T.duration," min"]}),i.jsx(pe,{children:i.jsx(Ce,{variant:T.isActive?"default":"secondary",children:T.isActive?"Active":"Inactive"})}),i.jsx(pe,{className:"text-right",children:i.jsxs(hr,{children:[i.jsx(fr,{asChild:!0,children:i.jsx(z,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-400 hover:text-white",children:i.jsx(Ci,{className:"h-4 w-4"})})}),i.jsxs(Gs,{align:"end",className:"bg-slate-800 border-slate-700",children:[i.jsxs(Wt,{onClick:()=>A(T),className:"text-white hover:bg-slate-700",children:[i.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-red-400 hover:bg-red-500/10",onClick:()=>C(T),children:[i.jsx(la,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},T.id))})]}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(lr,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No services yet"}),i.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Add your first service to get started"}),i.jsxs(z,{onClick:()=>u(!0),className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(ea,{className:"mr-2 h-4 w-4"}),"Add Service"]})]})})]}),i.jsx(Lt,{open:d,onOpenChange:h,children:i.jsxs(At,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Dt,{children:i.jsx(Mt,{className:"text-white",children:"Edit Service"})}),i.jsx(S,{isEdit:!0})]})}),i.jsx(Bl,{open:f,onOpenChange:g,children:i.jsxs(ao,{className:"bg-slate-800 border-slate-700",children:[i.jsxs(oo,{children:[i.jsx(co,{className:"text-white",children:"Are you sure?"}),i.jsxs(uo,{className:"text-slate-400",children:['This action cannot be undone. This will permanently delete the service "',v==null?void 0:v.name,'".']})]}),i.jsxs(lo,{children:[i.jsx(fo,{className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsx(ho,{onClick:I,disabled:l,className:"bg-red-600 hover:bg-red-700",children:l?"Deleting...":"Delete"})]})]})})]})},xde=async t=>{const e=[];try{const n=ts(FX(he,"transactions"),Ad("assignedDoctorId","==",t));return(await Rt(n)).docs.forEach(r=>{var l,c;const a=r.data(),o={id:r.id,userId:a.userId,customerName:((l=a.customer)==null?void 0:l.name)||"Unknown Customer",customerPhone:((c=a.customer)==null?void 0:c.phone)||"",customerAddress:a.customer?`${a.customer.address}, ${a.customer.city} - ${a.customer.postalCode}`:void 0,petName:a.dogName,service:a.service,amount:a.amount,status:a.status||"confirmed",scheduledDate:a.slotDatetime,assignedDoctorId:t,createdAt:a.createdAt,petDetails:a.petDetails,reminderId:a.reminderId};e.push(o)}),e.sort((r,a)=>!r.scheduledDate||!a.scheduledDate?0:r.scheduledDate.toMillis()-a.scheduledDate.toMillis())}catch(n){throw console.error("Error fetching doctor bookings:",n),n}},vde=()=>{const{user:t,isDoctor:e}=en(),{data:n=[],isLoading:s,error:r}=In({queryKey:["doctorBookings",t==null?void 0:t.uid],queryFn:()=>xde(t.uid),enabled:!!t&&e});return{bookings:n,isLoading:s,error:r}},yde=()=>{const t=rn(),{user:e}=en(),n=dt({mutationFn:async({transactionId:s,petOwnerUserId:r,reminderId:a})=>{if(!e||!e.uid)throw new Error("Doctor not authenticated.");const o=ev(he),l=at(he,"users",r,"transactions",s);o.update(l,{status:"completed",updatedAt:new Date});const c=at(he,"users",r,"reminders",a);o.update(c,{status:"completed",completedDate:Ee(new Date,"MMMM d, yyyy")}),await o.commit()},onSuccess:(s,{petOwnerUserId:r})=>{H.success("Booking marked as completed!"),t.invalidateQueries({queryKey:["doctorBookings",e==null?void 0:e.uid]}),t.invalidateQueries({queryKey:["allTransactions"]}),t.invalidateQueries({queryKey:["transactions",r]}),t.invalidateQueries({queryKey:["reminders",r]})},onError:s=>{H.error(s.message||"Failed to mark booking as complete.")}});return{markBookingAsComplete:n.mutate,isMarkingComplete:n.isPending}},wde=()=>{const{bookings:t,isLoading:e}=vde(),{markBookingAsComplete:n,isMarkingComplete:s}=yde(),[r,a]=p.useState(""),o=d=>{switch(d.toLowerCase()){case"confirmed":return"bg-green-500/20 text-green-300 border-green-500/30";case"completed":return"bg-blue-500/20 text-blue-300 border-blue-500/30";case"cancelled":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"}},l=d=>{switch(d.toLowerCase()){case"confirmed":return i.jsx(dn,{className:"h-4 w-4"});case"completed":return i.jsx(dn,{className:"h-4 w-4"});case"cancelled":return i.jsx(Al,{className:"h-4 w-4"});default:return i.jsx(U2,{className:"h-4 w-4"})}},c=t.filter(d=>{var h,f,g;return((h=d.customerName)==null?void 0:h.toLowerCase().includes(r.toLowerCase()))||((f=d.service)==null?void 0:f.toLowerCase().includes(r.toLowerCase()))||((g=d.petName)==null?void 0:g.toLowerCase().includes(r.toLowerCase()))}),u=(d,h,f)=>{if(!f){toast.error("Cannot mark as complete: Reminder ID is missing.");return}n({transactionId:d,petOwnerUserId:h,reminderId:f})};return e?i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"My Assigned Bookings"})}),i.jsx(ge,{children:i.jsx("div",{className:"space-y-4",children:[...Array(3)].map((d,h)=>i.jsx(Me,{className:"h-24 w-full bg-slate-700"},h))})})]}):i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsxs(Ke,{className:"flex items-center justify-between text-white",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(Gt,{className:"h-5 w-5 mr-2 text-blue-400"}),"My Assigned Bookings"]}),i.jsxs(Ce,{variant:"secondary",className:"bg-blue-500/20 text-blue-300",children:[t.length," Total"]})]})}),i.jsxs(ge,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(xe,{type:"text",placeholder:"Search by customer, service, or pet name...",value:r,onChange:d=>a(d.target.value),className:"pl-10 bg-slate-700 border-slate-600 text-white"})]}),c.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Gt,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:t.length===0?"No bookings assigned yet":"No bookings found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:t.length===0?"Bookings assigned to you by the admin will appear here":"Try adjusting your search terms"})]}):i.jsx("div",{className:"space-y-4",children:c.map(d=>{var h;return i.jsx(de,{className:"bg-slate-700/30 border-slate-600",children:i.jsxs(ge,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:d.service}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-300",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(cr,{className:"h-4 w-4"}),i.jsx("span",{children:d.customerName})]}),d.petName&&i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:""}),i.jsx("span",{children:d.petName})]})]})]}),i.jsxs(Ce,{className:o(d.status),children:[l(d.status),i.jsx("span",{className:"ml-1 capitalize",children:d.status})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Gt,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{children:d.scheduledDate?Ee(d.scheduledDate.toDate(),"MMM d, yyyy, p"):"Date TBD"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(Fm,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{children:d.customerPhone})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[i.jsx(rt,{className:"h-4 w-4 text-blue-400"}),i.jsxs("span",{className:"font-medium",children:["",((h=d.amount)==null?void 0:h.toFixed(2))||"0.00"]})]}),d.customerAddress&&i.jsxs("div",{className:"flex items-start gap-2 text-slate-300",children:[i.jsx(Qr,{className:"h-4 w-4 text-blue-400 mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-xs line-clamp-2",children:d.customerAddress})]})]})]}),d.status==="confirmed"&&i.jsxs("div",{className:"mt-4 flex gap-2",children:[i.jsx(z,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>u(d.id,d.userId,d.reminderId),disabled:s,children:"Mark as Completed"}),i.jsx(z,{size:"sm",variant:"outline",className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Contact Customer"})]})]})},d.id)})})]})]})},bde=async t=>{const e=at(he,"doctors",t),n=await Pc(e);return n.exists()?{uid:n.id,...n.data()}:null},Nde=()=>{const{user:t,isDoctor:e}=en(),n=rn(),{data:s,isLoading:r,error:a}=In({queryKey:["doctorProfile",t==null?void 0:t.uid],queryFn:()=>bde(t.uid),enabled:!!t&&e}),o=dt({mutationFn:async l=>{if(!t)throw new Error("User not authenticated");const c=at(he,"doctors",t.uid);return Wn(c,{...l,updatedAt:_t()})},onSuccess:()=>{n.invalidateQueries({queryKey:["doctorProfile",t==null?void 0:t.uid]}),H.success("Profile updated successfully!")},onError:l=>{H.error(l.message||"Failed to update profile")}});return{profile:s,isLoading:r,error:a,updateProfile:o.mutateAsync,isUpdating:o.isPending}},_de=()=>{const{user:t}=en(),{profile:e,isLoading:n,updateProfile:s,isUpdating:r}=Nde(),[a,o]=p.useState(!1),[l,c]=p.useState({name:"",email:"",specialization:"",experience:"",qualification:"",clinicName:"",clinicAddress:"",bio:"",consultationFee:0});se.useEffect(()=>{e&&c({name:e.name||"",email:e.email||"",specialization:e.specialization||"",experience:e.experience||"",qualification:e.qualification||"",clinicName:e.clinicName||"",clinicAddress:e.clinicAddress||"",bio:e.bio||"",consultationFee:e.consultationFee||0})},[e]);const u=async()=>{try{await s(l),o(!1),H.success("Profile updated successfully!")}catch(f){console.error("Error updating profile:",f),H.error("Failed to update profile")}},d=()=>{e&&c({name:e.name||"",email:e.email||"",specialization:e.specialization||"",experience:e.experience||"",qualification:e.qualification||"",clinicName:e.clinicName||"",clinicAddress:e.clinicAddress||"",bio:e.bio||"",consultationFee:e.consultationFee||0}),o(!1)},h=()=>e!=null&&e.name?e.name:t!=null&&t.displayName?t.displayName:t!=null&&t.phoneNumber?`Dr. ${t.phoneNumber.slice(-4)}`:"Doctor";return n?i.jsx("div",{className:"space-y-6",children:i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(ge,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 bg-slate-700 rounded-full animate-pulse"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-6 w-48 bg-slate-700 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-32 bg-slate-700 rounded animate-pulse"})]})]})})})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(ge,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(ir,{className:"h-20 w-20 border-2 border-blue-500/30",children:[i.jsx(gi,{src:e==null?void 0:e.profileImage}),i.jsx(ar,{className:"bg-blue-500/20 text-blue-300 text-xl font-bold",children:h().charAt(0).toUpperCase()})]}),i.jsx(z,{size:"icon",variant:"ghost",className:"absolute -bottom-1 -right-1 h-8 w-8 bg-blue-500 hover:bg-blue-600 text-white rounded-full",children:i.jsx(d9,{className:"h-4 w-4"})})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:h()}),i.jsx("p",{className:"text-slate-400",children:t==null?void 0:t.phoneNumber}),(e==null?void 0:e.specialization)&&i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(lr,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-blue-300 text-sm",children:e.specialization})]})]})]}),i.jsxs(z,{onClick:()=>o(!a),variant:a?"outline":"default",className:a?"bg-slate-700 border-slate-600 text-white hover:bg-slate-600":"bg-blue-500 hover:bg-blue-600",children:[i.jsx(Fs,{className:"h-4 w-4 mr-2"}),a?"Cancel":"Edit Profile"]})]})})}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Ke,{className:"text-white",children:"Professional Information"})}),i.jsx(ge,{className:"space-y-4",children:a?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"name",className:"text-white",children:"Full Name"}),i.jsx(xe,{id:"name",value:l.name,onChange:f=>c({...l,name:f.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"email",className:"text-white",children:"Email"}),i.jsx(xe,{id:"email",type:"email",value:l.email,onChange:f=>c({...l,email:f.target.value}),className:"bg-slate-700 border-slate-600 text-white"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"specialization",className:"text-white",children:"Specialization"}),i.jsx(xe,{id:"specialization",value:l.specialization,onChange:f=>c({...l,specialization:f.target.value}),placeholder:"e.g., Small Animal Medicine",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"experience",className:"text-white",children:"Years of Experience"}),i.jsx(xe,{id:"experience",value:l.experience,onChange:f=>c({...l,experience:f.target.value}),placeholder:"e.g., 5 years",className:"bg-slate-700 border-slate-600 text-white"})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"qualification",className:"text-white",children:"Qualification"}),i.jsx(xe,{id:"qualification",value:l.qualification,onChange:f=>c({...l,qualification:f.target.value}),placeholder:"e.g., BVSc & AH, MVSc",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(me,{htmlFor:"clinicName",className:"text-white",children:"Clinic Name"}),i.jsx(xe,{id:"clinicName",value:l.clinicName,onChange:f=>c({...l,clinicName:f.target.value}),placeholder:"e.g., Happy Paws Clinic",className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"consultationFee",className:"text-white",children:"Consultation Fee ()"}),i.jsx(xe,{id:"consultationFee",type:"number",value:l.consultationFee,onChange:f=>c({...l,consultationFee:Number(f.target.value)}),placeholder:"500",min:"0",className:"bg-slate-700 border-slate-600 text-white"})]})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"clinicAddress",className:"text-white",children:"Clinic Address"}),i.jsx(eo,{id:"clinicAddress",value:l.clinicAddress,onChange:f=>c({...l,clinicAddress:f.target.value}),placeholder:"Full clinic address...",rows:2,className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{children:[i.jsx(me,{htmlFor:"bio",className:"text-white",children:"Professional Bio"}),i.jsx(eo,{id:"bio",value:l.bio,onChange:f=>c({...l,bio:f.target.value}),placeholder:"Tell us about your experience and approach to veterinary care...",rows:4,className:"bg-slate-700 border-slate-600 text-white"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(z,{variant:"outline",onClick:d,className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"}),i.jsxs(z,{onClick:u,disabled:r,className:"bg-blue-500 hover:bg-blue-600",children:[i.jsx(p9,{className:"h-4 w-4 mr-2"}),r?"Saving...":"Save Changes"]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(m9,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Email"})]}),i.jsx("p",{className:"text-white",children:l.email||"Not provided"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fm,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Phone"})]}),i.jsx("p",{className:"text-white",children:(t==null?void 0:t.phoneNumber)||"Not provided"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lr,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Specialization"})]}),i.jsx("p",{className:"text-white",children:l.specialization||"Not specified"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Gt,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Experience"})]}),i.jsx("p",{className:"text-white",children:l.experience||"Not specified"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(em,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Qualification"})]}),i.jsx("p",{className:"text-white",children:l.qualification||"Not provided"})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[i.jsx("h4",{className:"font-medium text-white",children:"Clinic Information"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Clinic Name"})]}),i.jsx("p",{className:"text-white",children:l.clinicName||"Not provided"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm text-slate-400",children:"Consultation Fee"})}),i.jsxs("p",{className:"text-white",children:["",l.consultationFee||0]})]})]}),l.clinicAddress&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Clinic Address"})]}),i.jsx("p",{className:"text-white",children:l.clinicAddress})]})]}),l.bio&&i.jsxs("div",{className:"space-y-3 pt-4 border-t border-slate-700",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Professional Bio"})]}),i.jsx("p",{className:"text-white leading-relaxed",children:l.bio})]})]})})]})]})},jde=()=>{const{user:t}=en(),e=()=>t!=null&&t.displayName?t.displayName:t!=null&&t.phoneNumber?`Dr. ${t.phoneNumber.slice(-4)}`:"Doctor";return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl p-6 text-white",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx(lr,{className:"h-8 w-8"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome, ",e()]}),i.jsx("p",{className:"text-blue-100",children:"Manage your veterinary services and appointments"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(ge,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:i.jsx(Gt,{className:"h-5 w-5 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Today's Appointments"})]})]})})}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(ge,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:i.jsx(f9,{className:"h-5 w-5 text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Services Offered"})]})]})})}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(ge,{className:"p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center",children:i.jsx(y9,{className:"h-5 w-5 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Total Patients"})]})]})})})]}),i.jsxs(xm,{defaultValue:"bookings",className:"w-full",children:[i.jsxs(Ld,{className:"grid w-full grid-cols-3 bg-slate-800/50",children:[i.jsxs(an,{value:"bookings",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white text-slate-300",children:[i.jsx(Gt,{className:"h-4 w-4 mr-2"}),"My Bookings"]}),i.jsxs(an,{value:"services",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white text-slate-300",children:[i.jsx(lr,{className:"h-4 w-4 mr-2"}),"My Services"]}),i.jsxs(an,{value:"profile",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white text-slate-300",children:[i.jsx(W2,{className:"h-4 w-4 mr-2"}),"Profile"]})]}),i.jsx(on,{value:"bookings",className:"mt-6",children:i.jsx(wde,{})}),i.jsx(on,{value:"services",className:"mt-6",children:i.jsx(gde,{})}),i.jsx(on,{value:"profile",className:"mt-6",children:i.jsx(_de,{})})]})]})},Cde=[{href:"/home",label:"Home",icon:Os},{href:"/dashboard",label:"Bookings",icon:Gt},{href:"/shop",label:"Shop",icon:zr},{href:"/my-orders",label:"Orders",icon:xf},{href:"/profile",label:"Profile",icon:cr}],Sde=()=>{const t=so();return i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-sm border-t border-slate-700 shadow-lg",children:i.jsx("div",{className:"flex justify-around max-w-lg mx-auto",children:Cde.map(e=>{const n=t.pathname===e.href||e.href==="/home"&&t.pathname==="/"||e.href==="/dashboard"&&(t.pathname.startsWith("/dashboard")||t.pathname.startsWith("/my-dogs"));return i.jsxs(OH,{to:e.href,className:ie("flex flex-col items-center justify-center w-full pt-3 pb-2 text-xs font-medium transition-all duration-200 rounded-t-lg mx-1 relative",n?"text-purple-400":"text-slate-400 hover:text-purple-300"),children:[n&&i.jsx("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 w-8 h-1 bg-purple-400 rounded-full"}),i.jsx("div",{className:ie("p-2 rounded-xl transition-all duration-200",n?"bg-purple-500/20":"hover:bg-slate-800/50"),children:i.jsx(e.icon,{className:"h-5 w-5"})}),i.jsx("span",{className:"mt-1 truncate",children:e.label})]},e.href)})})})},Ede=()=>{const t=so(),n=!["/"].includes(t.pathname);return i.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[i.jsx("main",{className:"flex-grow",children:i.jsx(s1,{})}),n&&i.jsx(Sde,{})]})},Tde=()=>{const t=cs(),e=async()=>{try{await l0(li),H.success("Logged out successfully."),t("/")}catch{H.error("Failed to log out.")}};return i.jsxs("div",{className:"flex flex-col min-h-screen bg-slate-950 text-white",children:[i.jsx("header",{className:"bg-gradient-to-r from-slate-900 to-slate-800 border-b border-slate-700 sticky top-0 z-10 shadow-lg",children:i.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:i.jsx(g9,{className:"h-5 w-5 text-white"})}),i.jsx("h1",{className:"text-xl font-bold text-white",children:"VaxDog Admin"})]}),i.jsxs(z,{variant:"outline",size:"sm",onClick:e,className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600 hover:border-slate-500 transition-colors",children:[i.jsx(Dj,{className:"mr-2 h-4 w-4"}),"Logout"]})]})}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 bg-gradient-to-br from-slate-950 via-slate-900 to-slate-950",children:i.jsx(s1,{})})]})},Rde=()=>{const t=cs(),e=async()=>{try{await l0(li),H.success("Logged out successfully."),t("/")}catch{H.error("Failed to log out.")}};return i.jsxs("div",{className:"flex flex-col min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900",children:[i.jsx("header",{className:"bg-slate-800/95 backdrop-blur-sm border-b border-slate-700 sticky top-0 z-10",children:i.jsxs("div",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center",children:i.jsx(lr,{className:"h-5 w-5 text-white"})}),i.jsx("h1",{className:"text-xl font-bold text-white",children:"VaxDog Doctor"})]}),i.jsxs(z,{variant:"outline",size:"sm",onClick:e,className:"bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[i.jsx(Dj,{className:"mr-2 h-4 w-4"}),"Logout"]})]})}),i.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:i.jsx(s1,{})})]})},Pde=({reminders:t,title:e="Vaccination History",showDogName:n=!0})=>{const s=t.filter(r=>r.status==="completed");return i.jsxs("div",{className:"space-y-3",children:[e&&i.jsx("h3",{className:"text-base sm:text-lg font-semibold text-white",children:e}),s.length>0?s.map(r=>i.jsx("div",{className:"p-4 bg-slate-800/30 rounded-lg border-l-4 border-l-green-500 opacity-80",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("p",{className:"font-semibold text-white text-base mb-1",children:r.vaccine}),n&&i.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["For ",r.dog]}),i.jsxs("div",{className:"flex items-center text-sm text-green-400 font-medium",children:[i.jsx(kj,{className:"mr-2 h-4 w-4"}),i.jsxs("span",{children:["Completed on ",r.completedDate]})]})]})})},r.id)):i.jsx("p",{className:"text-slate-400 text-center py-8",children:"No completed vaccinations yet."})]})},Ide=()=>{const{dogName:t}=n1(),e=decodeURIComponent(t||""),n=cs(),{dogs:s=[],isLoadingDogs:r}=Jc(),a=s.find(b=>b.name===e),{reminders:o,isLoadingReminders:l,addReminder:c,markReminderAsComplete:u,deleteReminder:d,editReminder:h}=tp(a==null?void 0:a.name),f=b=>{if(!b)return null;const N=new Date(b),E=new Date,I=fC(E,N),A=R0(E,N)%12;return I>0&&A>0?`${I} ${I===1?"year":"years"} ${A} ${A===1?"month":"months"} old`:I>0?`${I} ${I===1?"year":"years"} old`:A>0?`${A} ${A===1?"month":"months"} old`:"Less than a month old"},g=b=>{u(b)},v=({dog:b,vaccine:N,due:E})=>{c({dog:b,vaccine:N,due:E})},x=b=>{d(b)},w=(b,N)=>{h(b,N)};if(r)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8 space-y-6",children:[i.jsx(Me,{className:"h-9 w-40 bg-slate-700"}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsx(He,{children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[i.jsx(Me,{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full bg-slate-700"}),i.jsxs("div",{className:"text-center sm:text-left space-y-2",children:[i.jsx(Me,{className:"h-10 w-48 bg-slate-700"}),i.jsx(Me,{className:"h-7 w-32 bg-slate-700"}),i.jsx(Me,{className:"h-6 w-24 bg-slate-700"})]})]})})}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsx(He,{children:i.jsx(Me,{className:"h-8 w-60 bg-slate-700"})}),i.jsx(ge,{children:i.jsx(Me,{className:"h-20 w-full bg-slate-700"})})]})]})});if(!a)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"text-center py-10 px-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Dog not found"}),i.jsx(z,{onClick:()=>n("/my-dogs"),className:"bg-purple-500 hover:bg-purple-600",children:"Back to My Dogs"})]})});const y=f(a.dateOfBirth);return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8 pb-6 space-y-6 max-w-4xl mx-auto",children:[i.jsxs(z,{variant:"ghost",onClick:()=>n("/my-dogs"),className:"pl-0 text-white hover:text-purple-300 hover:bg-white/10",children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Back to My Dogs"]}),i.jsx(de,{className:"overflow-hidden bg-slate-800/50 border-slate-700",children:i.jsx(He,{className:"pb-4",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6",children:[a.imageUrl?i.jsx("div",{className:"relative",children:i.jsx("picture",{children:i.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full object-cover border-4 border-purple-500/30 shadow-lg",loading:"lazy",decoding:"async",sizes:"(max-width: 640px) 96px, 128px"})})}):i.jsx(ir,{className:"h-24 w-24 sm:h-32 sm:w-32 border-4 border-purple-500/30 shadow-lg",children:i.jsx(ar,{className:"text-3xl sm:text-4xl bg-purple-500/20 text-purple-300 font-bold",children:a.name.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"text-center sm:text-left space-y-1",children:[i.jsx(Ke,{className:"text-2xl sm:text-3xl font-bold tracking-tight text-white",children:a.name}),i.jsx("p",{className:"text-base sm:text-lg text-slate-300 font-medium",children:a.breed}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start text-sm sm:text-base text-slate-300 mt-2",children:[i.jsx(Mm,{className:"w-4 h-4 mr-2 text-pink-400 flex-shrink-0"}),i.jsx("span",{className:"font-medium",children:y||"Age not available"})]})]})]})})}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsxs(He,{className:"flex flex-row items-center justify-between pb-4",children:[i.jsx(Ke,{className:"text-lg sm:text-xl font-semibold text-white",children:"Vaccination Schedule"}),i.jsx(S6,{dogs:s,onAddReminder:v,defaultDogName:a.name,children:i.jsxs(z,{size:"sm",className:"text-xs sm:text-sm bg-purple-500 hover:bg-purple-600",children:[i.jsx(_d,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4"}),"Add Reminder"]})})]}),i.jsxs(ge,{className:"space-y-6 pt-0",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Upcoming Vaccinations"}),i.jsx(B5,{reminders:l?[]:o,onMarkAsComplete:g,onDeleteReminder:x,onEditReminder:w,showDogName:!1,title:""})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vaccination History"}),i.jsx(Pde,{reminders:l?[]:o,showDogName:!1,title:""})]})]})]})]})})},kde=({control:t})=>{const{dogs:e,isLoadingDogs:n}=Jc();return n?i.jsxs("div",{className:"space-y-4",children:[i.jsx(Me,{className:"h-10 w-full"}),i.jsx(Me,{className:"h-20 w-full"})]}):e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No pets found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Please add a pet to your profile before booking a service."})]}):i.jsx("div",{className:"animate-in fade-in",children:i.jsx(Ct,{control:t,name:"petId",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Select Your Pet"}),i.jsx(Nt,{children:i.jsxs(_n,{onValueChange:s.onChange,defaultValue:s.value,children:[i.jsx(hn,{className:"w-full bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Choose your pet"})}),i.jsx(fn,{className:"bg-slate-800 border-slate-700 text-white",children:e.map(r=>i.jsx(Ve,{value:r.id,className:"flex items-center gap-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(ir,{className:"h-8 w-8",children:[i.jsx(gi,{src:r.imageUrl,alt:r.name}),i.jsx(ar,{className:"bg-purple-500/20 text-purple-300",children:r.name.charAt(0)})]}),i.jsxs("span",{children:[r.name," (",r.breed,")"]})]})},r.id))})]})}),i.jsx(St,{})]})})})},Ade=({control:t,serviceType:e})=>{const n=Ka();if(e==="grooming"){kf({control:t,name:"preferredDate"}),kf({control:t,name:"preferredTime"});const r=(()=>{const a=[];for(let o=9;o<=17;o++)a.push(Ee(qN(nv(new Date,o),0),"HH:mm")),o<17&&a.push(Ee(qN(nv(new Date,o),30),"HH:mm"));return a})();return i.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[i.jsx(Ct,{control:t,name:"preferredDate",render:({field:a})=>i.jsxs(bt,{className:"flex flex-col",children:[i.jsx(Tt,{className:"text-white",children:"Preferred Date"}),i.jsxs(Qa,{children:[i.jsx(Ya,{asChild:!0,children:i.jsx(Nt,{children:i.jsxs(z,{variant:"outline",className:ie("w-full pl-3 text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!a.value&&"text-slate-400"),children:[a.value?Ee(a.value,"PPP"):i.jsx("span",{children:"Pick a date"}),i.jsx(Gt,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),i.jsx(ia,{className:"w-auto p-0 bg-slate-800 border-slate-700",align:"start",children:i.jsx(Mc,{mode:"single",selected:a.value,onSelect:a.onChange,disabled:o=>tv(o,n),initialFocus:!0,className:"bg-slate-800 text-white"})})]}),i.jsx(St,{})]})}),i.jsx(Ct,{control:t,name:"preferredTime",render:({field:a})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Preferred Time"}),i.jsx(Nt,{children:i.jsxs(_n,{onValueChange:a.onChange,value:a.value,children:[i.jsx(hn,{className:"w-full bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select a time"})}),i.jsx(fn,{className:"bg-slate-800 border-slate-700 text-white",children:r.map(o=>i.jsx(Ve,{value:o,children:o},o))})]})}),i.jsx(St,{})]})})]})}else if(e==="petHostel")return kf({control:t,name:"dateRange"}),i.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[i.jsx(Ct,{control:t,name:"dateRange",render:({field:s})=>{var r,a;return i.jsxs(bt,{className:"flex flex-col",children:[i.jsx(Tt,{className:"text-white",children:"Stay Dates"}),i.jsxs(Qa,{children:[i.jsx(Ya,{asChild:!0,children:i.jsx(Nt,{children:i.jsxs(z,{id:"date",variant:"outline",className:ie("w-full justify-start text-left font-normal bg-slate-700 border-slate-600 text-white hover:bg-slate-600",!((r=s.value)!=null&&r.from)&&"text-slate-400"),children:[i.jsx(Gt,{className:"mr-2 h-4 w-4 opacity-50"}),(a=s.value)!=null&&a.from?s.value.to?i.jsxs(i.Fragment,{children:[Ee(s.value.from,"LLL dd, y")," -"," ",Ee(s.value.to,"LLL dd, y")]}):Ee(s.value.from,"LLL dd, y"):i.jsx("span",{children:"Pick a date range"})]})})}),i.jsx(ia,{className:"w-auto p-0 bg-slate-800 border-slate-700",align:"start",children:i.jsx(Mc,{mode:"range",selected:s.value,onSelect:s.onChange,numberOfMonths:2,disabled:o=>tv(o,n),className:"bg-slate-800 text-white"})})]}),i.jsx(St,{})]})}}),i.jsx(Ct,{control:t,name:"foodPreference",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Food Preference"}),i.jsx(Nt,{children:i.jsxs(_n,{onValueChange:s.onChange,value:s.value,children:[i.jsx(hn,{className:"w-full bg-slate-700 border-slate-600 text-white",children:i.jsx(jn,{placeholder:"Select food preference"})}),i.jsxs(fn,{className:"bg-slate-800 border-slate-700 text-white",children:[i.jsx(Ve,{value:"veg",children:"Vegetarian"}),i.jsx(Ve,{value:"non-veg",children:"Non-Vegetarian"}),i.jsx(Ve,{value:"both",children:"Both"})]})]})}),i.jsx(St,{})]})})]});return null},Dde=({control:t})=>{const{user:e}=en(),{setValue:n}=xp();return p.useEffect(()=>{e&&(e.displayName&&n("fullName",e.displayName),e.phoneNumber&&n("phone",e.phoneNumber))},[e,n]),i.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[i.jsx(Ct,{control:t,name:"fullName",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Full Name"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"John Doe",...s,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:t,name:"phone",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Phone Number"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"+91 98765 43210",...s,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:t,name:"address",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Address"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"123, Main Street",...s,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(Ct,{control:t,name:"city",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"City"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"Mumbai",...s,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})}),i.jsx(Ct,{control:t,name:"postalCode",render:({field:s})=>i.jsxs(bt,{children:[i.jsx(Tt,{className:"text-white",children:"Postal Code"}),i.jsx(Nt,{children:i.jsx(xe,{placeholder:"400001",...s,className:"bg-slate-700 border-slate-600 text-white placeholder-slate-400"})}),i.jsx(St,{})]})})]})]})},Mde=({formValues:t,serviceType:e,service:n,selectedPet:s})=>{var o,l;const a=(()=>{var c,u;if(e==="grooming")return n.price;if(e==="petHostel"){const d=n,h=(c=t.dateRange)==null?void 0:c.from,f=(u=t.dateRange)==null?void 0:u.to;return h&&f?(Xi(f,h)+1)*d.dailyRate:0}return 0})();return i.jsxs("div",{className:"space-y-3 animate-in fade-in",children:[i.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-white",children:"Confirm Your Booking"}),i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(Om,{className:"mr-2 h-4 w-4 text-purple-400"}),"Pet & Service Details"]})}),i.jsxs(ge,{className:"text-sm space-y-2",children:[i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Pet:"})," ",s.name," (",s.breed,")"]}),i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Service:"})," ",n.name]}),e==="grooming"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Date:"})," ",t.preferredDate?Ee(t.preferredDate,"PPP"):"N/A"]}),i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Time:"})," ",t.preferredTime||"N/A"]}),i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Duration:"})," ",n.duration," minutes"]})]}),e==="petHostel"&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Check-in:"})," ",(o=t.dateRange)!=null&&o.from?Ee(t.dateRange.from,"PPP"):"N/A"]}),i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Check-out:"})," ",(l=t.dateRange)!=null&&l.to?Ee(t.dateRange.to,"PPP"):"N/A"]}),i.jsxs("p",{className:"text-white",children:[i.jsx("strong",{children:"Food Preference:"})," ",t.foodPreference||"N/A"]})]}),i.jsx("div",{className:"border-t border-slate-600 pt-2 mt-2",children:i.jsxs("div",{className:"flex justify-between font-bold text-base text-white",children:[i.jsx("span",{children:"Total Fee:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),a.toFixed(2)]})]})})]})]}),i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(cr,{className:"mr-2 h-4 w-4 text-purple-400"}),"Contact Details"]})}),i.jsxs(ge,{className:"text-sm",children:[i.jsx("p",{className:"font-semibold text-white",children:t.fullName}),i.jsx("p",{className:"text-slate-400",children:t.phone})]})]}),i.jsxs(de,{className:"bg-slate-700/30 border-slate-600",children:[i.jsx(He,{className:"pb-3",children:i.jsxs(Ke,{className:"flex items-center text-base text-white",children:[i.jsx(Qr,{className:"mr-2 h-4 w-4 text-purple-400"}),"Address"]})}),i.jsxs(ge,{className:"text-sm",children:[i.jsx("p",{className:"text-white",children:t.address}),i.jsxs("p",{className:"text-slate-400",children:[t.city,", ",t.postalCode]})]})]})]})},Ode="rzp_test_2n6MS8hK3tgdba",xV=({serviceType:t,service:e,children:n})=>{const[s,r]=p.useState(!1),[a,o]=p.useState(1),l=iS(),{user:c}=en();rn();const{dogs:u}=Jc(),{createGroomingBooking:d}=pV(),{createPetHostelBooking:h}=gV(),[f,g]=p.useState(!1),v=$c({petId:cn().min(1,{message:"Please select a pet."}),fullName:cn().min(2,{message:"Full name must be at least 2 characters."}),phone:cn().min(10,{message:"Phone number must be at least 10 digits."}).regex(/^(\+91)?[6-9]\d{9}$/,{message:"Invalid Indian phone number."}),address:cn().min(10,{message:"Address must be at least 10 characters."}),city:cn().min(2,{message:"City must be at least 2 characters."}),postalCode:cn().min(6,{message:"Postal code must be 6 digits."}).max(6),preferredDate:Jg().optional(),preferredTime:cn().optional(),dateRange:$c({from:Jg().optional(),to:Jg().optional()}).optional(),foodPreference:$0(["veg","non-veg","both"]).optional()}).superRefine((C,_)=>{var S,T;t==="grooming"?(C.preferredDate||_.addIssue({code:le.custom,message:"Preferred date is required for grooming.",path:["preferredDate"]}),C.preferredTime||_.addIssue({code:le.custom,message:"Preferred time is required for grooming.",path:["preferredTime"]})):t==="petHostel"&&((!((S=C.dateRange)!=null&&S.from)||!((T=C.dateRange)!=null&&T.to))&&_.addIssue({code:le.custom,message:"Stay dates are required for pet hostel.",path:["dateRange"]}),C.foodPreference||_.addIssue({code:le.custom,message:"Food preference is required for pet hostel.",path:["foodPreference"]}))}),x=hh({resolver:fh(v),defaultValues:{petId:"",fullName:(c==null?void 0:c.displayName)||"",phone:(c==null?void 0:c.phoneNumber)||"",address:"",city:"",postalCode:"",preferredDate:void 0,preferredTime:"",dateRange:{from:void 0,to:void 0},foodPreference:void 0}}),w=x.watch("petId"),y=u.find(C=>C.id===w),N=(()=>{if(t==="grooming")return e.price;if(t==="petHostel"){const C=e,_=x.getValues("dateRange.from"),S=x.getValues("dateRange.to");return _&&S?(Xi(S,_)+1)*C.dailyRate:0}return 0})(),E=async()=>{let C=!1;a===1?C=await x.trigger("petId"):a===2?t==="grooming"?C=await x.trigger(["preferredDate","preferredTime"]):t==="petHostel"&&(C=await x.trigger(["dateRange","foodPreference"])):a===3?C=await x.trigger(["fullName","phone","address","city","postalCode"]):a===4&&(C=!0),C?o(_=>_+1):H.error("Please fill in all required fields.")},I=async C=>{if(!l){H.error("Payment gateway is not ready. Please try again in a moment.");return}if(!c){H.error("You must be logged in to make a payment.");return}if(!y){H.error("Please select a pet.");return}if(N<=0){H.error("Total amount must be greater than zero.");return}g(!0);const _={key:Ode,amount:(N*100).toString(),currency:"INR",name:`VaxDog - ${e.name}`,description:`Booking for ${e.name} for ${y.name}`,image:"/favicon.ico",handler:async function(T){var k,D;try{const P={userId:c.uid,petId:y.id,petName:y.name,serviceId:e.id,serviceName:e.name,amount:N,paymentMethod:"razorpay",paymentStatus:"paid",bookingStatus:"pending",customerDetails:{name:C.fullName,phone:C.phone,address:C.address,city:C.city,postalCode:C.postalCode},petDetails:{name:y.name,breed:y.breed,petType:y.petType,dateOfBirth:y.dateOfBirth,age:y.age,aggressionLevel:y.aggressionLevel,weight:y.weight,sex:y.sex,matingInterest:y.matingInterest,pregnancyCount:y.pregnancyCount,pupCount:y.pupCount,vaccinationScheduleImages:y.vaccinationScheduleImages},razorpayPaymentId:T.razorpay_payment_id,razorpayOrderId:T.razorpay_order_id||null};t==="grooming"?await d({...P,preferredDate:C.preferredDate?C.preferredDate.toISOString():void 0,preferredTime:C.preferredTime}):t==="petHostel"&&await h({...P,startDate:(k=C.dateRange)!=null&&k.from?C.dateRange.from.toISOString():void 0,endDate:(D=C.dateRange)!=null&&D.to?C.dateRange.to.toISOString():void 0,foodPreference:C.foodPreference}),H.success("Payment Successful!",{description:`Your booking for ${e.name} has been placed.`}),r(!1),x.reset(),o(1)}catch(P){console.error("Error saving booking:",P),H.error("Booking could not be saved.",{description:"Your payment was successful. Please contact support with your payment ID."})}finally{g(!1)}},prefill:{name:C.fullName,contact:C.phone},notes:{serviceType:t,serviceId:e.id,petId:y.id},theme:{color:"#8b5cf6"},modal:{ondismiss:function(){console.log("Payment modal dismissed"),g(!1)}}},S=new window.Razorpay(_);S.on("payment.failed",function(T){console.error("Payment failed:",T),H.error("Payment Failed",{description:T.error.description}),g(!1)});try{S.open()}catch(T){console.error("Error opening Razorpay:",T),H.error("Failed to open payment gateway. Please try again."),g(!1)}},A=()=>{o(C=>C-1)};return i.jsxs(Lt,{open:s,onOpenChange:C=>{r(C),C||(x.reset(),o(1),g(!1))},children:[i.jsx(mr,{asChild:!0,children:n}),i.jsxs(At,{className:"w-[95vw] max-w-2xl mx-auto max-h-[90vh] overflow-y-auto bg-slate-800 border-slate-700 text-white",children:[i.jsxs(Dt,{children:[i.jsxs(Mt,{className:"text-white",children:["Book ",e.name]}),i.jsxs(mo,{className:"text-slate-400",children:[a===1&&"Step 1 of 4: Select your pet for this service.",a===2&&`Step 2 of 4: Provide details for your ${t} service.`,a===3&&"Step 3 of 4: Please enter your contact and address details.",a===4&&"Step 4 of 4: Confirm your booking details and proceed to payment."]})]}),i.jsx(mh,{...x,children:i.jsxs("form",{onSubmit:x.handleSubmit(I),children:[i.jsxs("div",{className:"min-h-[300px] space-y-6 py-4",children:[a===1&&i.jsx(kde,{control:x.control}),a===2&&i.jsx(Ade,{control:x.control,serviceType:t}),a===3&&i.jsx(Dde,{control:x.control}),a===4&&y&&i.jsx(Mde,{formValues:x.getValues(),serviceType:t,service:e,selectedPet:y})]}),i.jsxs(Dr,{className:"flex-col sm:flex-row gap-2",children:[a===1&&i.jsx(aa,{asChild:!0,children:i.jsx(z,{type:"button",variant:"outline",className:"w-full sm:w-auto bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:"Cancel"})}),a>1&&i.jsxs(z,{type:"button",variant:"outline",onClick:A,className:"w-full sm:w-auto bg-slate-700 border-slate-600 text-white hover:bg-slate-600",children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Back"]}),a<4&&i.jsxs(z,{type:"button",onClick:E,className:"w-full sm:w-auto bg-purple-500 hover:bg-purple-600",children:["Next",i.jsx(Pj,{className:"ml-2 h-4 w-4"})]}),a===4&&i.jsx(z,{type:"submit",disabled:f||!l||N<=0,className:"w-full sm:w-auto bg-purple-500 hover:bg-purple-600",children:f?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Aj,{className:"h-4 w-4 animate-spin"})," Processing..."]}):`Pay ${N.toFixed(2)} & Book`})]})]})})]})]})},Fde=()=>{const{serviceId:t}=n1(),e=cs(),{services:n,isLoading:s}=xC(),[r,a]=p.useState(0),o=n.find(h=>h.id===t),l=()=>{e(-1)},c=o?[o.imageUrl,...o.galleryImages||[]].filter(Boolean):[],u=()=>{c.length>1&&a(h=>h===0?c.length-1:h-1)},d=()=>{c.length>1&&a(h=>h===c.length-1?0:h+1)};return s?i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-4",children:[i.jsx(Me,{className:"h-10 w-32 mb-6 bg-slate-800"}),i.jsx(Me,{className:"h-64 w-full mb-6 bg-slate-800"}),i.jsx(Me,{className:"h-10 w-full mb-4 bg-slate-800"}),i.jsx(Me,{className:"h-24 w-full bg-slate-800"})]}):o?i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white pb-20",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[i.jsx(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:l,children:i.jsx($a,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold truncate mx-4",children:o.name}),i.jsx("div",{className:"w-10"})," "]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative h-80 sm:h-96 overflow-hidden",children:[c.length>0?i.jsx("img",{src:c[r],alt:o.name,className:"w-full h-full object-cover transition-transform duration-300"}):i.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center text-slate-400",children:"No Image Available"}),c.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(z,{size:"icon",variant:"ghost",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:u,children:i.jsx(Qv,{className:"h-5 w-5"})}),i.jsx(z,{size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:d,children:i.jsx(Aa,{className:"h-5 w-5"})})]}),c.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:c.map((h,f)=>i.jsx("button",{className:`w-2 h-2 rounded-full transition-colors ${f===r?"bg-white":"bg-white/50"}`,onClick:()=>a(f)},f))})]}),c.length>1&&i.jsx("div",{className:"p-4 bg-slate-800/50",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:c.map((h,f)=>i.jsx("button",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${f===r?"border-purple-500":"border-slate-600 hover:border-slate-500"}`,onClick:()=>a(f),children:i.jsx("img",{src:h,alt:`${o.name} ${f+1}`,className:"w-full h-full object-cover"})},f))})})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-2 leading-tight",children:o.name}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-purple-400",children:[i.jsx(rt,{className:"inline-block h-6 w-6 mr-1"}),o.price.toFixed(2)]}),i.jsxs("div",{className:"flex items-center text-slate-400 text-sm",children:[i.jsx(Ln,{className:"h-4 w-4 mr-1"}),o.duration," min"]})]})]}),i.jsx(xV,{serviceType:"grooming",service:o,children:i.jsxs(z,{className:"w-full bg-purple-500 hover:bg-purple-600 text-white h-12 font-semibold",children:[i.jsx(mi,{className:"h-5 w-5 mr-2"}),"Book Home Grooming"]})}),o.description&&i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Service Details"}),i.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:o.description})]})}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"What to Expect"}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[i.jsx("p",{children:" Professional groomers at your doorstep"}),i.jsx("p",{children:" High-quality grooming products"}),i.jsx("p",{children:" Personalized care for your pet"}),i.jsx("p",{children:" Convenient and stress-free experience"})]})]})})]})]}):i.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Service Not Found"}),i.jsx(z,{onClick:l,className:"bg-purple-500 hover:bg-purple-600",children:"Go Back"})]})})},Lde=()=>{const{serviceId:t}=n1(),e=cs(),{services:n,isLoading:s}=vC(),[r,a]=p.useState(0),o=n.find(h=>h.id===t),l=()=>{e(-1)},c=()=>{const h=[o==null?void 0:o.imageUrl,...(o==null?void 0:o.galleryImages)||[]].filter(Boolean);h.length>1&&a(f=>f===0?h.length-1:f-1)},u=()=>{const h=[o==null?void 0:o.imageUrl,...(o==null?void 0:o.galleryImages)||[]].filter(Boolean);h.length>1&&a(f=>f===h.length-1?0:f+1)};if(s)return i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white p-4",children:[i.jsx(Me,{className:"h-10 w-32 mb-6 bg-slate-800"}),i.jsx(Me,{className:"h-64 w-full mb-6 bg-slate-800"}),i.jsx(Me,{className:"h-10 w-full mb-4 bg-slate-800"}),i.jsx(Me,{className:"h-24 w-full bg-slate-800"})]});if(!o)return i.jsx("div",{className:"min-h-screen bg-slate-900 text-white flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Service Not Found"}),i.jsx(z,{onClick:l,className:"bg-blue-500 hover:bg-blue-600",children:"Go Back"})]})});const d=[o.imageUrl,...o.galleryImages||[]].filter(Boolean);return i.jsxs("div",{className:"min-h-screen bg-slate-900 text-white pb-20",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-800/95 backdrop-blur-sm sticky top-0 z-10",children:[i.jsx(z,{size:"icon",variant:"ghost",className:"text-white hover:bg-slate-700",onClick:l,children:i.jsx($a,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold truncate mx-4",children:o.name}),i.jsx("div",{className:"w-10"})," "]}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"relative h-80 sm:h-96 overflow-hidden",children:[d.length>0?i.jsx("img",{src:d[r],alt:o.name,className:"w-full h-full object-cover transition-transform duration-300"}):i.jsx("div",{className:"w-full h-full bg-slate-700 flex items-center justify-center text-slate-400",children:"No Image Available"}),d.length>1&&i.jsxs(i.Fragment,{children:[i.jsx(z,{size:"icon",variant:"ghost",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:c,children:i.jsx(Qv,{className:"h-5 w-5"})}),i.jsx(z,{size:"icon",variant:"ghost",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:u,children:i.jsx(Aa,{className:"h-5 w-5"})})]}),d.length>1&&i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:d.map((h,f)=>i.jsx("button",{className:`w-2 h-2 rounded-full transition-colors ${f===r?"bg-white":"bg-white/50"}`,onClick:()=>a(f)},f))})]}),d.length>1&&i.jsx("div",{className:"p-4 bg-slate-800/50",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:d.map((h,f)=>i.jsx("button",{className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-colors ${f===r?"border-blue-500":"border-slate-600 hover:border-slate-500"}`,onClick:()=>a(f),children:i.jsx("img",{src:h,alt:`${o.name} ${f+1}`,className:"w-full h-full object-cover"})},f))})})]}),i.jsxs("div",{className:"p-4 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white mb-2 leading-tight",children:o.name}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-blue-400",children:[i.jsx(rt,{className:"inline-block h-6 w-6 mr-1"}),o.dailyRate.toFixed(2),"/day"]}),i.jsxs("div",{className:"flex items-center text-slate-400 text-sm",children:[i.jsx(Oj,{className:"h-4 w-4 mr-1"}),"Capacity: ",o.capacity]})]})]}),i.jsx(xV,{serviceType:"petHostel",service:o,children:i.jsxs(z,{className:"w-full bg-blue-500 hover:bg-blue-600 text-white h-12 font-semibold",children:[i.jsx(Os,{className:"h-5 w-5 mr-2"}),"Book Pet Hostel"]})}),o.description&&i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Service Details"}),i.jsx("p",{className:"text-slate-300 text-sm leading-relaxed",children:o.description})]})}),o.amenities&&o.amenities.length>0&&i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Amenities"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.amenities.map((h,f)=>i.jsx(Ce,{variant:"secondary",className:"bg-blue-500/20 text-blue-300 border-blue-500/30",children:h},f))})]})}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700",children:i.jsxs(ge,{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-3 text-white",children:"Important Information"}),i.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[i.jsx("p",{children:" Secure and comfortable boarding environment"}),i.jsx("p",{children:" Experienced and caring staff"}),i.jsx("p",{children:" Daily updates and photos of your pet"}),i.jsx("p",{children:" Emergency veterinary support available"})]})]})})]})]})},Vde=()=>i.jsx("div",{className:"space-y-3",children:[...Array(3)].map((t,e)=>i.jsxs(de,{className:"p-4 bg-slate-800/50 border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(Me,{className:"h-5 w-32 bg-slate-700"}),i.jsx(Me,{className:"h-4 w-24 bg-slate-700"})]}),i.jsx(Me,{className:"h-5 w-20 bg-slate-700"})]}),i.jsxs("div",{className:"flex justify-between items-center mt-4",children:[i.jsx(Me,{className:"h-8 w-28 bg-slate-700"}),i.jsx(Me,{className:"h-9 w-24 bg-slate-700"})]})]},e))}),$de=()=>i.jsx(i.Fragment,{children:[...Array(3)].map((t,e)=>i.jsxs(yt,{className:"border-slate-700",children:[i.jsx(pe,{children:i.jsx(Me,{className:"h-5 w-24 bg-slate-700"})}),i.jsx(pe,{children:i.jsx(Me,{className:"h-5 w-48 bg-slate-700"})}),i.jsx(pe,{children:i.jsx(Me,{className:"h-5 w-20 bg-slate-700"})}),i.jsx(pe,{children:i.jsx(Me,{className:"h-5 w-24 bg-slate-700"})}),i.jsx(pe,{className:"text-right",children:i.jsx(Me,{className:"h-8 w-16 ml-auto bg-slate-700"})})]},e))}),Ude=()=>{const{transactions:t,isLoading:e,error:n}=ch();if(n)return i.jsxs("div",{className:"text-center py-10",children:[i.jsx(Kb,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),i.jsx("p",{className:"text-red-400 font-medium mb-2",children:"Error loading transactions"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Please try again later"})]});const s=()=>e?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"sm:hidden",children:i.jsx(Vde,{})}),i.jsx("div",{className:"hidden sm:block",children:i.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-800/30",children:i.jsx(Us,{children:i.jsx(Bs,{children:i.jsx($de,{})})})})})]}):!t||t.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Kb,{className:"h-16 w-16 text-slate-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No transactions found"}),i.jsx("p",{className:"text-slate-400 text-sm",children:"Your payment history will appear here"})]}):i.jsxs(SC,{className:"h-[400px] w-full",children:[i.jsx("div",{className:"space-y-3 sm:hidden",children:t.map(r=>i.jsxs(de,{className:"p-4 bg-slate-800/50 border-slate-700",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"space-y-1.5 flex-1 min-w-0 pr-2",children:[i.jsx("p",{className:"font-semibold text-base break-words text-white",children:r.service}),i.jsx("p",{className:"text-sm text-slate-400",children:r.createdAt?Ee(r.createdAt.toDate(),"PP"):"N/A"})]}),i.jsx(Ce,{className:`flex-shrink-0 text-sm font-medium ${r.status==="successful"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-red-500/20 text-red-300 border-red-500/30"}`,children:r.status==="successful"?"Paid":"Failed"})]}),i.jsxs("div",{className:"flex justify-between items-center mt-4",children:[i.jsxs("div",{className:"flex items-center text-lg font-bold text-white",children:[i.jsx(rt,{className:"h-5 w-5 mr-1"}),new Intl.NumberFormat("en-IN").format(r.amount)]}),i.jsx(z,{variant:"outline",size:"sm",disabled:!0,className:"bg-slate-700/50 border-slate-600 text-slate-300 hover:bg-slate-600/50",children:"View Invoice"})]})]},r.id))}),i.jsx("div",{className:"rounded-md border border-slate-700 bg-slate-800/30 hidden sm:block",children:i.jsxs(Us,{children:[i.jsx(gr,{children:i.jsxs(yt,{className:"border-slate-700 hover:bg-slate-700/30",children:[i.jsx(_e,{className:"text-slate-300",children:"Date"}),i.jsx(_e,{className:"text-slate-300",children:"Service"}),i.jsx(_e,{className:"text-slate-300",children:"Amount"}),i.jsx(_e,{className:"text-slate-300",children:"Status"}),i.jsx(_e,{className:"text-right text-slate-300",children:"Invoice"})]})}),i.jsx(Bs,{children:t.map(r=>i.jsxs(yt,{className:"border-slate-700 hover:bg-slate-700/30",children:[i.jsx(pe,{className:"font-medium whitespace-nowrap text-white",children:r.createdAt?Ee(r.createdAt.toDate(),"PP"):"N/A"}),i.jsx(pe,{className:"text-white",children:r.service}),i.jsx(pe,{className:"whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center text-white font-medium",children:[i.jsx(rt,{className:"h-4 w-4 mr-1"}),new Intl.NumberFormat("en-IN").format(r.amount)]})}),i.jsx(pe,{children:i.jsx(Ce,{className:`font-medium ${r.status==="successful"?"bg-green-500/20 text-green-300 border-green-500/30":"bg-red-500/20 text-red-300 border-red-500/30"}`,children:r.status==="successful"?"Paid":"Failed"})}),i.jsx(pe,{className:"text-right",children:i.jsx(z,{variant:"outline",size:"sm",disabled:!0,className:"bg-slate-700/50 border-slate-600 text-slate-300 hover:bg-slate-600/50",children:"View"})})]},r.id))})]})})]});return i.jsx("div",{className:"w-full",children:s()})},Bde=({reminderDueSoonDays:t,setReminderDueSoonDays:e})=>{const[n,s]=p.useState(t),{user:r}=en(),a=cs(),o=()=>{n>0?(e(n),H.success("Reminder settings saved!")):H.error("Please enter a valid number of days.")},l=async()=>{try{await l0(li),H.info("You have been logged out.")}catch(u){console.error("Logout error:",u),H.error("Failed to log out. Please try again.")}},c=()=>r!=null&&r.displayName?r.displayName:r!=null&&r.phoneNumber?`User ${r.phoneNumber.slice(-4)}`:"Pet Parent";return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20",children:i.jsxs("div",{className:"px-4 pt-8 pb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-white mb-6",children:"Profile & Settings"}),i.jsx(de,{className:"bg-slate-800/50 border-slate-700 mb-6",children:i.jsx(ge,{className:"p-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-500/20 rounded-full flex items-center justify-center",children:i.jsx(cr,{className:"h-8 w-8 text-purple-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:c()}),i.jsx("p",{className:"text-slate-400",children:r==null?void 0:r.phoneNumber})]})]})})}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700 mb-6",children:[i.jsxs(He,{children:[i.jsxs(Ke,{className:"text-xl flex items-center text-white",children:[i.jsx(Ui,{className:"mr-2 h-5 w-5 text-purple-400"}),"My Orders"]}),i.jsx(Fu,{className:"text-slate-400",children:"View and track your orders."})]}),i.jsx(ge,{children:i.jsx(z,{className:"bg-purple-500 hover:bg-purple-600",onClick:()=>a("/my-orders"),children:"View Orders"})})]}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700 mb-6",children:[i.jsxs(He,{children:[i.jsxs(Ke,{className:"text-xl flex items-center text-white",children:[i.jsx(Kb,{className:"mr-2 h-5 w-5 text-purple-400"}),"Transaction History"]}),i.jsx(Fu,{className:"text-slate-400",children:"View your past payments and invoices."})]}),i.jsx(ge,{children:i.jsxs(Lt,{children:[i.jsx(mr,{asChild:!0,children:i.jsx(z,{className:"bg-purple-500 hover:bg-purple-600",children:"View Transactions"})}),i.jsxs(At,{className:"max-w-3xl w-[95vw] sm:max-w-3xl bg-slate-800 border-slate-700",children:[i.jsxs(Dt,{children:[i.jsx(Mt,{className:"text-white",children:"Transaction History"}),i.jsx(mo,{className:"text-slate-400",children:"A record of all your payments."})]}),i.jsx(Ude,{})]})]})})]}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700 mb-6",children:[i.jsxs(He,{children:[i.jsxs(Ke,{className:"text-xl text-white flex items-center",children:[i.jsx(W2,{className:"mr-2 h-5 w-5 text-purple-400"}),"Reminder Settings"]}),i.jsx(Fu,{className:"text-slate-400",children:'Set how many days in advance you want a "due soon" notification.'})]}),i.jsx(ge,{children:i.jsxs("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:[i.jsx(me,{htmlFor:"days",className:"text-white",children:"Due Soon Threshold (in days)"}),i.jsx(xe,{type:"number",id:"days",value:n,onChange:u=>s(Number(u.target.value)),placeholder:"e.g., 30",min:"1",className:"bg-slate-700/50 border-slate-600 text-white"})]})}),i.jsx(GN,{children:i.jsx(z,{onClick:o,className:"bg-purple-500 hover:bg-purple-600",children:"Save Changes"})})]}),i.jsxs(de,{className:"bg-slate-800/50 border-slate-700",children:[i.jsxs(He,{children:[i.jsx(Ke,{className:"text-xl text-white",children:"Account"}),i.jsx(Fu,{className:"text-slate-400",children:"Manage your account details."})]}),i.jsx(ge,{children:i.jsx("p",{className:"text-sm text-slate-400",children:"This is where you can manage your account."})}),i.jsx(GN,{children:i.jsxs(z,{variant:"destructive",onClick:l,className:"flex items-center gap-2",children:[i.jsx(Dj,{className:"h-4 w-4"}),"Log Out"]})})]})]})})},zde=new wz,Hde=()=>{const{user:t,loading:e,isAdmin:n,userRole:s,isPetOwner:r,isDoctor:a}=en(),[o,l]=p.useState(30);return e?i.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:i.jsx("h1",{className:"text-2xl font-semibold animate-pulse",children:"Loading VaxDog..."})}):i.jsxs(SH,{children:[i.jsx(tn,{path:"/",element:t?i.jsx(Lh,{to:n?"/admin":a?"/doctor":"/home",replace:!0}):i.jsx(gJ,{})}),t?n?i.jsxs(tn,{element:i.jsx(Tde,{}),children:[i.jsx(tn,{path:"/admin",element:i.jsx(fde,{})}),i.jsx(tn,{path:"*",element:i.jsx(Lh,{to:"/admin",replace:!0})})]}):a?i.jsxs(tn,{element:i.jsx(Rde,{}),children:[i.jsx(tn,{path:"/doctor",element:i.jsx(jde,{})}),i.jsx(tn,{path:"*",element:i.jsx(Lh,{to:"/doctor",replace:!0})})]}):i.jsxs(tn,{element:i.jsx(Ede,{}),children:[i.jsx(tn,{path:"/home",element:i.jsx(mne,{})}),i.jsx(tn,{path:"/dashboard",element:i.jsx(qle,{})}),i.jsx(tn,{path:"/my-dogs",element:i.jsx(rce,{reminderDueSoonDays:o})}),i.jsx(tn,{path:"/my-dogs/:dogName",element:i.jsx(Ide,{})}),i.jsx(tn,{path:"/shop",element:i.jsx(dce,{})}),i.jsx(tn,{path:"/product-detail",element:i.jsx(hce,{})}),i.jsx(tn,{path:"/checkout",element:i.jsx(Ace,{})}),i.jsx(tn,{path:"/my-orders",element:i.jsx(Dce,{})}),i.jsx(tn,{path:"/bookings",element:i.jsx(fce,{})}),i.jsx(tn,{path:"/grooming-services/:serviceId",element:i.jsx(Fde,{})}),i.jsx(tn,{path:"/pet-hostel-services/:serviceId",element:i.jsx(Lde,{})}),i.jsx(tn,{path:"/profile",element:i.jsx(Bde,{reminderDueSoonDays:o,setReminderDueSoonDays:l})}),i.jsx(tn,{path:"*",element:i.jsx(Lh,{to:"/home",replace:!0})})]}):i.jsx(tn,{path:"*",element:i.jsx(Lh,{to:"/",replace:!0})}),i.jsx(tn,{path:"*",element:i.jsx(xJ,{})})]})},Wde=()=>i.jsx(Cz,{client:zde,children:i.jsxs(rz,{children:[i.jsx(sB,{}),i.jsx(kB,{}),i.jsx(pJ,{children:i.jsx(AH,{children:i.jsx(Hde,{})})})]})});m2(document.getElementById("root")).render(i.jsx(Wde,{}));
